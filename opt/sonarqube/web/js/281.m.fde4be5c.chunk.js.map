{"version":3,"sources":["webpack:///./src/main/js/app/components/nav/component/branch-like/BranchLikeNavigation.css?8738","webpack:///./src/main/js/app/components/nav/component/branch-like/BranchLikeNavigation.css","webpack:///./src/main/js/app/components/nav/component/HeaderMeta.css?82fb","webpack:///./src/main/js/app/components/nav/component/HeaderMeta.css","webpack:///./src/main/js/app/components/nav/component/Menu.css?14a8","webpack:///./src/main/js/app/components/nav/component/Menu.css","webpack:///./src/main/js/app/components/nav/component/projectInformation/InfoDrawer.css?f7cf","webpack:///./src/main/js/app/components/nav/component/projectInformation/InfoDrawer.css","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/styles.css?4563","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/styles.css","webpack:///./src/main/js/app/components/nav/component/projectInformation/ProjectInformation.css?e00c","webpack:///./src/main/js/app/components/nav/component/projectInformation/ProjectInformation.css","webpack:///./src/main/js/app/components/ComponentContainerNotFound.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavLicenseNotif.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavBgTaskNotif.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavProjectBindingErrorNotif.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/CurrentBranchLike.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/MenuItem.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/MenuItemList.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/Menu.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/BranchLikeNavigation.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/CurrentBranchLikeMergeInformation.tsx","webpack:///./src/main/js/app/components/nav/component/Breadcrumb.tsx","webpack:///./src/main/js/app/components/nav/component/Header.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavWarnings.tsx","webpack:///./src/main/js/app/components/nav/component/HeaderMeta.tsx","webpack:///./src/main/js/app/components/nav/component/Menu.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/InfoDrawer.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/utils.ts","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/BadgeButton.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/BadgeParams.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/ProjectBadges.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/InfoDrawerPage.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/notifications/ProjectNotifications.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/ProjectInformationPages.ts","webpack:///./src/main/js/app/components/nav/component/projectInformation/DrawerLink.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaKey.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaLinks.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaQualityGate.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaQualityProfiles.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaSize.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaTagsSelector.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaTags.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/ProjectInformationRenderer.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/ProjectInformation.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNav.tsx","webpack:///./src/main/js/app/components/ComponentContainer.tsx","webpack:///./src/main/js/components/icons/CopyIcon.tsx","webpack:///./src/main/js/components/controls/clipboard.tsx","webpack:///./src/main/js/components/controls/Checkbox.tsx","webpack:///./node_modules/lodash/without.js","webpack:///./node_modules/lodash/isArrayLikeObject.js","webpack:///./node_modules/lodash/_baseDifference.js","webpack:///./src/main/js/components/controls/Checkbox.css?57e1","webpack:///./src/main/js/components/controls/Checkbox.css","webpack:///./src/main/js/components/icons/DetachIcon.tsx","webpack:///./src/main/js/components/common/CodeSnippet.tsx","webpack:///./src/main/js/components/icons/BranchIcon.tsx","webpack:///./node_modules/lodash/difference.js","webpack:///./node_modules/valid-url/index.js","webpack:///./src/main/js/components/icons/TagsIcon.tsx","webpack:///./src/main/js/components/common/DocumentationTooltip.tsx","webpack:///./src/main/js/apps/settings/components/AdditionalCategoryKeys.ts","webpack:///./src/main/js/components/icons/PullRequestIcon.tsx","webpack:///./node_modules/lodash/partition.js","webpack:///./src/main/js/api/alm-settings.ts","webpack:///./node_modules/lodash/inRange.js","webpack:///./src/main/js/components/tags/TagsList.tsx","webpack:///./src/main/js/api/nav.ts","webpack:///./node_modules/lodash/_baseInRange.js","webpack:///./src/main/js/apps/background-tasks/constants.ts","webpack:///./src/main/js/components/icons/BranchLikeIcon.tsx","webpack:///./src/main/js/helpers/projectLinks.ts","webpack:///./src/main/js/api/branches.ts","webpack:///./src/main/js/app/components/ComponentContext.tsx","webpack:///./src/main/js/components/icons/PlusCircleIcon.tsx","webpack:///./src/main/js/components/icons/BulletListIcon.tsx","webpack:///./src/main/js/components/shared/DrilldownLink.tsx","webpack:///./src/main/js/components/tags/TagsList.css?d861","webpack:///./src/main/js/components/tags/TagsSelector.tsx","webpack:///./src/main/js/components/common/MultiSelectOption.tsx","webpack:///./src/main/js/components/common/MultiSelect.tsx","webpack:///./node_modules/lodash/differenceBy.js","webpack:///./src/main/js/components/ui/NavBarTabs.tsx","webpack:///./src/main/js/components/ui/NavBarTabs.css?b99d","webpack:///./src/main/js/components/ui/NavBarTabs.css","webpack:///./src/main/js/components/common/CodeSnippet.css?463c","webpack:///./src/main/js/components/common/CodeSnippet.css","webpack:///./src/main/js/components/common/PrivacyBadgeContainer.tsx","webpack:///./src/main/js/app/utils/isValidUri.ts","webpack:///./src/main/js/components/tags/TagsList.css","webpack:///./src/main/js/components/icons/BugTrackerIcon.tsx","webpack:///./src/main/js/components/icons/ContinuousIntegrationIcon.tsx","webpack:///./src/main/js/components/icons/HouseIcon.tsx","webpack:///./src/main/js/components/icons/SCMIcon.tsx","webpack:///./src/main/js/components/icons/ProjectLinkIcon.tsx","webpack:///./src/main/js/components/common/BranchStatus.tsx","webpack:///./src/main/js/api/web-api.ts","webpack:///./src/main/js/apps/account/notifications/NotificationsList.tsx","webpack:///./src/main/js/components/ui/SizeRating.tsx","webpack:///./src/main/js/components/ui/ContextNavBar.tsx","webpack:///./src/main/js/components/ui/ContextNavBar.css?a776","webpack:///./src/main/js/components/ui/ContextNavBar.css","webpack:///./src/main/js/components/icons/BackIcon.tsx","webpack:///./node_modules/lodash/uniqWith.js","webpack:///./src/main/js/api/projectLinks.ts","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaLink.tsx","webpack:///./src/main/js/components/ui/SizeRating.css?6192","webpack:///./src/main/js/components/ui/SizeRating.css","webpack:///./src/main/js/components/hoc/withNotifications.tsx","webpack:///./src/main/js/api/notifications.ts"],"names":["api","content","__esModule","default","module","i","options","exported","locals","exports","___CSS_LOADER_API_IMPORT___","push","ComponentContainerNotFound","defaultTitle","defer","className","id","to","mounted","state","loading","fetchIsValidLicense","this","setState","then","isValidLicense","currentTask","props","errorType","Alert","display","variant","componentQualifier","Project","errorMessage","appState","canAdmin","withAppState","messageKey","status","branch","component","location","backgroundTaskUrl","key","canSeeBackgroundTasks","configuration","showBackgroundTasks","isOnBackgroundTaskPage","pathname","type","url","stacktrace","defaultMessage","values","currentTaskOnSameBranch","isInProgress","isPending","renderMessage","ALL","Failed","pullRequest","pullRequestTitle","message","undefined","withRouter","action","showSettings","branchesEnabled","currentBranchLike","hasManyBranches","projectBinding","displayName","isApplication","qualifier","Application","canAdminComponent","isGitLab","alm","GitLab","BranchLikeIcon","branchLike","title","plusIcon","PlusCircleIcon","fill","blue","size","DropdownIcon","HelpTooltip","overlay","DocumentationTooltip","links","href","label","inPlace","additionalIcon","indent","setSelectedNode","onSelect","selected","active","onClick","ref","BranchStatus","listNode","selectedNode","parent","smooth","branchLikeTree","hasResults","selectedBranchLike","renderItem","node","mainBranchTree","branchTree","filter","map","tree","pullRequests","length","pr","parentlessPullRequests","orphanPullRequests","super","processBranchLikes","branchLikes","branchLikesToDisplay","reduce","prev","t","branchLikesToDisplayTree","openHighlightedBranchLike","handleOnSelect","highlightSiblingBranchlike","indexDelta","selectBranchLikeIndex","findIndex","b","newIndex","handleKeyDown","event","keyCode","Enter","preventDefault","UpArrow","DownArrow","handleSearchChange","query","q","toLowerCase","filteredBranchLikes","bl","filterBranch","name","includes","onClose","router","some","showManageLink","Dropdown","noPadding","SearchBox","autoFocus","onChange","onKeyDown","placeholder","value","isMenuOpen","setIsMenuOpen","isMenuEnabled","currentBranchLikeElement","Boolean","dropdown","Toggler","onRequestClose","open","target","Breadcrumb","breadcrumbs","lastBreadcrumbElement","isNoMainBranch","breadcrumbElement","isFirst","isNotLast","QualifierIcon","currentUser","Favorite","favorite","isFavorite","AnalysisWarningsModal","lazyLoadComponent","modal","handleClick","currentTarget","blur","handleCloseModal","warnings","warningsCount","componentKey","onWarningDismiss","isABranch","currentPage","isMain","Portfolio","SubPortfolio","getCurrentPage","displayVersion","version","analysisDate","DateTimeFormatter","date","HomePageSelect","rel","DetachIcon","SETTINGS_URLS","MenuLink","hasAnalysis","Tooltip","isProject","isDeveloper","Developper","isPortfolio","getConfiguration","getQuery","renderDashboardLink","activeClassName","renderCodeLink","renderActivityLink","renderIssuesLink","resolved","renderComponentMeasuresLink","renderSecurityHotspotsLink","renderSecurityReports","extensions","extension","startsWith","renderAdministration","isSettingsActive","window","indexOf","adminLinks","renderAdministrationLinks","link","tagName","onToggleClick","role","renderSettingsLink","renderBranchesLink","renderBaselineLink","renderConsoleAppLink","renderReportSettingsLink","renderAdminExtensions","renderProfilesLink","renderQualityGateLink","renderLinksLink","renderPermissionsLink","renderBackgroundTasksLink","renderUpdateKeyLink","renderWebhooksLink","renderDeletionLink","renderProjectInformationButton","e","onToggleProjectInfo","tabIndex","BulletListIcon","hasGovernance","find","showQualityProfiles","showQualityGates","showLinks","showPermissions","showUpdateKey","renderExtension","isAdmin","baseQuery","renderExtensions","withoutSecurityExtension","NavBarTabs","children","displayed","top","style","EscKeydownHandler","onKeydown","OutsideClickHandler","onClickOutside","BadgeType","getBadgeSnippet","getBadgeUrl","format","metric","project","projectUrl","marketing","measure","qualityGate","mdImage","color","width","alt","src","badgeMetrics","getColorOptions","getFormatOptions","getMetricOptions","metrics","handleColorChange","updateOptions","handleFormatChange","handleMetricChange","renderBadgeType","htmlFor","Select","clearable","searchable","menuStyle","maxHeight","fetchBadgeMetrics","webservices","domain","d","path","ws","actions","w","param","params","p","possibleValues","selectedType","badgeOptions","alert_status","handleSelectBadge","handleUpdateOptions","fullBadgeOptions","CodeSnippet","isOneLine","snippet","InfoDrawerPage","onPageChange","BackIcon","ProjectInformationPages","withNotifications","channels","notifications","perProjectTypes","projectNotifications","n","DeferredSpinner","channel","NotificationsList","checkboxId","onAdd","addNotification","onRemove","removeNotification","types","ChevronRightIcon","MetaKey","readOnly","copyValue","loadLinks","prevProps","orderedLinks","MetaLink","MetaQualityGate","isDefault","deprecatedByKey","loadDeprecatedRules","existingProfiles","profiles","deleted","requests","profile","loadDeprecatedRulesForProfile","Promise","all","responses","forEach","count","profileKey","data","activation","ps","qprofile","statuses","r","total","languageFromStore","languages","language","languageName","inner","tooltip","getDeprecatedRulesCount","headerClassName","renderProfile","MetaSize","measures","isApp","ncloc","projects","DrilldownLink","SizeRating","Number","searchResult","onSearch","Math","min","selectedTags","tags","tag","setProjectTags","onUnselect","availableTags","TagsSelector","listSize","canUpdateTags","getPopupPos","eltPos","containerPos","height","right","setTags","application","join","handleSetProjectTags","onComponentChange","card","closeOnClick","closeOnClickOutside","overlayPlacement","BottomLeft","innerRef","tagsList","stopPropagation","TagsList","allowUpdate","canConfigureNotifications","canUseBadges","visibility","PrivacyBadgeContainer","description","qualityProfiles","badges","page","main","setPage","loadMeasures","metricKeys","fetchMetrics","mapDispatchToProps","ComponentNav","projectBindingErrors","contextNavHeightRaw","globalNavHeightRaw","displayProjectInfo","setDisplayProjectInfo","RecentHistory","add","bgTaskNotifComponent","prDecoNotifComponent","contextNavHeight","ContextNavBar","notif","fetchComponent","async","componentWithQualifier","nav","addQualifier","Forbidden","requireAuthorization","match","replace","fetchBranches","catch","fetchStatus","fetchWarnings","fetchProjectBindingErrors","breadcrumb","branches","resolve","getCurrentBranchLike","registerBranchStatuses","current","queue","shouldFetchComponent","tasksInProgress","newCurrentTask","getCurrentTask","pendingTasks","getPendingTasksForBranchLike","newTasksInProgress","getInProgressTasks","computeShouldFetchComponent","needsAnotherCheck","clearTimeout","watchStatusTimer","setTimeout","task","Pending","isReportRelatedTask","isSameBranch","InProgress","AppRefresh","Report","ViewRefresh","progressHasChanged","currentTaskHasChanged","registerBranchStatus","qualityGateStatus","handleComponentChange","changes","handleBranchesChange","handleWarningDismiss","needIssueSync","PageUnavailableDueToIndexation","File","TestFile","ComponentContext","Provider","onBranchesChange","CopyIcon","iconProps","Icon","fillRule","copySuccess","setCopyButton","copyButton","handleSuccessCopy","clipboard","on","destroy","ClipboardButton","visible","ClipboardIconButton","tooltipProps","Checkbox","disabled","onCheck","checked","thirdState","note","defaultProps","baseDifference","baseRest","isArrayLikeObject","without","array","isArrayLike","isObjectLike","SetCache","arrayIncludes","arrayIncludesWith","arrayMap","baseUnary","cacheHas","iteratee","comparator","index","isCommon","result","valuesLength","outer","computed","valuesIndex","noCopy","snippetRef","finalSnippet","Array","isArray","line","BranchIcon","baseFlatten","difference","is_uri","is_iri","is_http_uri","is_http_iri","is_https_uri","is_https_iri","is_web_uri","is_web_iri","isUri","isHttpUri","isHttpsUri","isWebUri","splitUri","uri","test","splitted","authority","fragment","scheme","out","allowHttps","port","TagsIcon","ALM_INTEGRATION","ANALYSIS_SCOPE_CATEGORY","LANGUAGES_CATEGORY","NEW_CODE_PERIOD_CATEGORY","PULL_REQUEST_DECORATION_BINDING_CATEGORY","PullRequestIcon","partition","createAggregator","getAlmDefinitions","getAlmSettings","getAlmSettingsNoCatch","almSettings","validateAlmSettings","response","BadRequest","createGithubConfiguration","updateGithubConfiguration","createAzureConfiguration","updateAzureConfiguration","createBitbucketServerConfiguration","updateBitbucketServerConfiguration","createBitbucketCloudConfiguration","updateBitbucketCloudConfiguration","createGitlabConfiguration","updateGitlabConfiguration","deleteConfiguration","countBindedProjects","almSetting","getProjectAlmBinding","deleteProjectAlmBinding","setProjectAzureBinding","setProjectBitbucketBinding","setProjectBitbucketCloudBinding","setProjectGithubBinding","setProjectGitlabBinding","validateProjectAlmBinding","projectKey","baseInRange","toFinite","toNumber","number","start","end","getComponentNavigation","getMarketplaceNavigation","getSettingsNavigation","nativeMax","max","nativeMin","STATUSES","ALL_EXCEPT_PENDING","ALL_TYPES","CURRENTS","ONLY_CURRENTS","DEFAULT_FILTERS","taskType","currents","minSubmittedAt","maxExecutedAt","DEBOUNCE_DELAY","PROVIDED_TYPES","isProvided","orderLinks","provided","unknown","getLinkName","getBranches","getPullRequests","deleteBranch","deletePullRequest","renameBranch","excludeBranchFromPurge","branchName","excluded","ISSUE_MEASURES","issueParamsPerMetric","blocker_violations","severities","new_blocker_violations","critical_violations","new_critical_violations","major_violations","new_major_violations","minor_violations","new_minor_violations","info_violations","new_info_violations","open_issues","reopened_issues","confirmed_issues","false_positive_issues","resolutions","code_smells","new_code_smells","bugs","new_bugs","vulnerabilities","new_vulnerabilities","isIssueMeasure","propsToIssueParams","sinceLeakPeriod","listView","elements","selectedElements","validateSearchInput","validateTag","MultiSelectOption","custom","element","onHover","renderLabel","onFocus","onMouseOver","onSelectChange","handleSelectChange","item","onSelectItem","onUnselectItem","onSearchQuery","handleElementHover","prevState","activeIdx","getAllElements","handleKeyboard","evt","selectNextElement","selectPreviousElement","toggleSelect","stopLoading","isNewElement","elem","updateSelectedElements","filterSelected","updateUnselectedElements","unselectedElements","slice","setElementActive","idx","allElements","container","addEventListener","nextProps","totalElements","searchInput","focus","removeEventListener","allowSelection","allowNewElements","footerNode","activeElement","showNewElement","infiniteList","listClasses","div","baseIteratee","last","differenceBy","other","BugTrackerIcon","ContinuousIntegrationIcon","HouseIcon","SCMIcon","ProjectLinkIcon","level","small","fetchWebApi","showInternal","include_internals","webServices","fetchResponseExample","controller","notification","dispatcher","globalMessageKey","projectMessageKey","getDispatcherLabel","isEnabled","handleCheck","muted","letter","baseUniq","getProjectLinks","deleteLink","linkId","createLink","expanded","handleCollapse","handleSelect","select","iconOnly","linkTitle","isValid","WrappedComponent","Wrapper","globalTypes","fetchNotifications","throwGlobalError","addNotificationToState","added","areNotificationsEqual","removeNotificationFromState","removed","a"],"mappings":"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","file":"js/281.m.fde4be5c.chunk.js","sourcesContent":["var api = require(\"!../../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./BranchLikeNavigation.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".branch-like-navigation-toggler-container .popup{min-width:430px;max-width:650px}.branch-like-navigation-menu .search-box-container{padding:8px}.branch-like-navigation-menu .search-box-container .search-box,.branch-like-navigation-menu .search-box-container .search-box-input{max-width:none!important}.branch-like-navigation-menu .item-list{padding-bottom:8px;max-height:300px;overflow-y:auto}.branch-like-navigation-menu .item{padding:4px 8px}.branch-like-navigation-menu .item.header{color:#666}.branch-like-navigation-menu .item:not(.header).active,.branch-like-navigation-menu .item:not(.header):hover{background-color:#f3f3f3;cursor:pointer}.branch-like-navigation-menu .hint-container{padding:8px;background-color:#f3f3f3;border-top:1px solid #e6e6e6}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./HeaderMeta.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".header-meta-warnings .alert{margin-bottom:0}.header-meta-warnings .alert-content{padding:6px 8px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Menu.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".navbar-tabs>li>a.menu-button{color:#236a97}.navbar-tabs>li>a.menu-button:hover{color:#4b9fd5;border-bottom-color:transparent}.navbar-tabs>li>a.disabled-link,.navbar-tabs>li>a.disabled-link:hover{color:#b4b4b4;cursor:default;border-bottom-color:transparent}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./InfoDrawer.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".navbar-inner-with-notif .info-drawer{border-top:1px solid #e6e6e6}.info-drawer-pane{background-color:#fff;right:-380px;width:380px;transition:right .3s ease-in-out;border-left:1px solid #e6e6e6;box-sizing:border-box}.info-drawer-pane.open{right:0}.info-drawer{position:fixed;bottom:0;z-index:51}.info-drawer .close-button{position:absolute;top:0;right:0;background:#fff;padding:16px;z-index:2}.info-drawer .back-button{cursor:pointer}.info-drawer .back-button:hover{color:#4b9fd5}.info-drawer-page{position:absolute;top:0;bottom:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".badges-list{display:flex;justify-content:space-around;justify-content:space-evenly;flex-wrap:nowrap}.button.badge-button{display:flex;justify-content:center;padding:8px;min-width:146px;height:116px;background-color:#f3f3f3;border:1px solid #e6e6e6;border-radius:3px;transition:all .3s ease}.button.badge-button:active,.button.badge-button:focus,.button.badge-button:hover{background-color:#f3f3f3;border-color:#4b9fd5;box-shadow:none}.button.badge-button.selected{background-color:#cae3f2;border-color:#236a97}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./ProjectInformation.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".project-info-list>li{padding-left:1px;padding-bottom:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.project-info-tags{position:relative}.project-info-deleted-profile,.project-info-deprecated-rules{margin:4px -6px;padding:3px 6px!important;border:1px solid #f4b1b0;border-radius:3px;background-color:#f2dede}.project-info-deleted-profile a,.project-info-deprecated-rules a{color:#0e516f;border-color:darken(#cae3f2)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { Link } from 'react-router';\nimport { translate } from '../../helpers/l10n';\n\nexport default function ComponentContainerNotFound() {\n  return (\n    <>\n      <Helmet defaultTitle={translate('404_not_found')} defer={false} />\n      <div className=\"page-wrapper-simple\" id=\"bd\">\n        <div className=\"page-simple\" id=\"nonav\">\n          <h2 className=\"big-spacer-bottom\">{translate('dashboard.project_not_found')}</h2>\n          <p className=\"spacer-bottom\">{translate('dashboard.project_not_found.2')}</p>\n          <p>\n            <Link to=\"/\">{translate('go_back_to_homepage')}</Link>\n          </p>\n        </div>\n      </div>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { isValidLicense } from '../../../../api/marketplace';\nimport { withAppState } from '../../../../components/hoc/withAppState';\nimport { Alert } from '../../../../components/ui/Alert';\nimport { translate, translateWithParameters } from '../../../../helpers/l10n';\nimport { ComponentQualifier } from '../../../../types/component';\nimport { Task } from '../../../../types/tasks';\n\ninterface Props {\n  appState: Pick<T.AppState, 'canAdmin'>;\n  currentTask?: Task;\n}\n\ninterface State {\n  isValidLicense?: boolean;\n  loading: boolean;\n}\n\nexport class ComponentNavLicenseNotif extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchIsValidLicense();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchIsValidLicense = () => {\n    this.setState({ loading: true });\n    isValidLicense().then(\n      ({ isValidLicense }) => {\n        if (this.mounted) {\n          this.setState({ isValidLicense, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  render() {\n    const { currentTask } = this.props;\n    const { isValidLicense, loading } = this.state;\n\n    if (loading || !currentTask || !currentTask.errorType) {\n      return null;\n    }\n\n    if (isValidLicense && currentTask.errorType !== 'LICENSING_LOC') {\n      return (\n        <Alert display=\"banner\" variant=\"error\">\n          {translateWithParameters(\n            'component_navigation.status.last_blocked_due_to_bad_license_X',\n            translate('qualifier', currentTask.componentQualifier || ComponentQualifier.Project)\n          )}\n        </Alert>\n      );\n    }\n\n    return (\n      <Alert display=\"banner\" variant=\"error\">\n        <span className=\"little-spacer-right\">{currentTask.errorMessage}</span>\n        {this.props.appState.canAdmin ? (\n          <Link to=\"/admin/extension/license/app\">\n            {translate('license.component_navigation.button', currentTask.errorType)}.\n          </Link>\n        ) : (\n          translate('please_contact_administrator')\n        )}\n      </Alert>\n    );\n  }\n}\n\nexport default withAppState(ComponentNavLicenseNotif);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link, WithRouterProps } from 'react-router';\nimport { STATUSES } from '../../../../apps/background-tasks/constants';\nimport { withRouter } from '../../../../components/hoc/withRouter';\nimport { Alert } from '../../../../components/ui/Alert';\nimport { hasMessage, translate } from '../../../../helpers/l10n';\nimport { getComponentBackgroundTaskUrl } from '../../../../helpers/urls';\nimport { Task, TaskStatuses } from '../../../../types/tasks';\nimport ComponentNavLicenseNotif from './ComponentNavLicenseNotif';\n\ninterface Props extends Pick<WithRouterProps, 'location'> {\n  component: T.Component;\n  currentTask?: Task;\n  currentTaskOnSameBranch?: boolean;\n  isInProgress?: boolean;\n  isPending?: boolean;\n}\n\nexport class ComponentNavBgTaskNotif extends React.PureComponent<Props> {\n  renderMessage(messageKey: string, status?: string, branch?: string) {\n    const { component, currentTask, location } = this.props;\n    const backgroundTaskUrl = getComponentBackgroundTaskUrl(component.key, status);\n    const canSeeBackgroundTasks =\n      component.configuration && component.configuration.showBackgroundTasks;\n    const isOnBackgroundTaskPage = location.pathname === backgroundTaskUrl.pathname;\n\n    let type;\n    if (currentTask && hasMessage('background_task.type', currentTask.type)) {\n      messageKey += '_X';\n      type = translate('background_task.type', currentTask.type);\n    }\n\n    let url;\n    let stacktrace;\n    if (canSeeBackgroundTasks) {\n      messageKey += '.admin';\n\n      if (isOnBackgroundTaskPage) {\n        messageKey += '.help';\n        stacktrace = translate('background_tasks.show_stacktrace');\n      } else {\n        messageKey += '.link';\n        url = <Link to={backgroundTaskUrl}>{translate('background_tasks.page')}</Link>;\n      }\n    }\n\n    return (\n      <FormattedMessage\n        defaultMessage={translate(messageKey)}\n        id={messageKey}\n        values={{ branch, url, stacktrace, type }}\n      />\n    );\n  }\n\n  render() {\n    const { currentTask, currentTaskOnSameBranch, isInProgress, isPending } = this.props;\n    if (isInProgress) {\n      return (\n        <Alert display=\"banner\" variant=\"info\">\n          {this.renderMessage('component_navigation.status.in_progress')}\n        </Alert>\n      );\n    } else if (isPending) {\n      return (\n        <Alert display=\"banner\" variant=\"info\">\n          {this.renderMessage('component_navigation.status.pending', STATUSES.ALL)}\n        </Alert>\n      );\n    } else if (currentTask && currentTask.status === TaskStatuses.Failed) {\n      if (\n        currentTask.errorType &&\n        hasMessage('license.component_navigation.button', currentTask.errorType)\n      ) {\n        return <ComponentNavLicenseNotif currentTask={currentTask} />;\n      }\n      const branch =\n        currentTask.branch ||\n        `${currentTask.pullRequest}${\n          currentTask.pullRequestTitle ? ' - ' + currentTask.pullRequestTitle : ''\n        }`;\n      let message;\n      if (currentTaskOnSameBranch === false && branch) {\n        message = this.renderMessage(\n          'component_navigation.status.failed_branch',\n          undefined,\n          branch\n        );\n      } else {\n        message = this.renderMessage('component_navigation.status.failed');\n      }\n\n      return (\n        <Alert className=\"null-spacer-bottom\" display=\"banner\" variant=\"error\">\n          {message}\n        </Alert>\n      );\n    }\n    return null;\n  }\n}\n\nexport default withRouter(ComponentNavBgTaskNotif);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { PULL_REQUEST_DECORATION_BINDING_CATEGORY } from '../../../../apps/settings/components/AdditionalCategoryKeys';\nimport { Alert } from '../../../../components/ui/Alert';\nimport { translate } from '../../../../helpers/l10n';\nimport { getProjectSettingsUrl } from '../../../../helpers/urls';\n\nexport interface ComponentNavProjectBindingErrorNotifProps {\n  component: T.Component;\n}\n\nexport function ComponentNavProjectBindingErrorNotif(\n  props: ComponentNavProjectBindingErrorNotifProps\n) {\n  const { component } = props;\n  let action;\n\n  if (component.configuration?.showSettings) {\n    action = (\n      <Link to={getProjectSettingsUrl(component.key, PULL_REQUEST_DECORATION_BINDING_CATEGORY)}>\n        {translate('component_navigation.pr_deco.action.check_project_settings')}\n      </Link>\n    );\n  } else {\n    action = translate('component_navigation.pr_deco.action.contact_project_admin');\n  }\n\n  return (\n    <Alert display=\"banner\" variant=\"warning\">\n      <FormattedMessage\n        defaultMessage={translate('component_navigation.pr_deco.error_detected_X')}\n        id=\"component_navigation.pr_deco.error_detected_X\"\n        values={{ action }}\n      />\n    </Alert>\n  );\n}\n\nexport default ComponentNavProjectBindingErrorNotif;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport DocumentationTooltip from '../../../../../components/common/DocumentationTooltip';\nimport HelpTooltip from '../../../../../components/controls/HelpTooltip';\nimport BranchLikeIcon from '../../../../../components/icons/BranchLikeIcon';\nimport DropdownIcon from '../../../../../components/icons/DropdownIcon';\nimport PlusCircleIcon from '../../../../../components/icons/PlusCircleIcon';\nimport { getBranchLikeDisplayName } from '../../../../../helpers/branch-like';\nimport { translate, translateWithParameters } from '../../../../../helpers/l10n';\nimport { getApplicationAdminUrl } from '../../../../../helpers/urls';\nimport { AlmKeys, ProjectAlmBindingResponse } from '../../../../../types/alm-settings';\nimport { BranchLike } from '../../../../../types/branch-like';\nimport { ComponentQualifier } from '../../../../../types/component';\nimport { colors } from '../../../../theme';\n\nexport interface CurrentBranchLikeProps {\n  branchesEnabled: boolean;\n  component: T.Component;\n  currentBranchLike: BranchLike;\n  hasManyBranches: boolean;\n  projectBinding?: ProjectAlmBindingResponse;\n}\n\nexport function CurrentBranchLike(props: CurrentBranchLikeProps) {\n  const {\n    branchesEnabled,\n    component,\n    component: { configuration },\n    currentBranchLike,\n    hasManyBranches,\n    projectBinding\n  } = props;\n\n  const displayName = getBranchLikeDisplayName(currentBranchLike);\n  const isApplication = component.qualifier === ComponentQualifier.Application;\n  const canAdminComponent = configuration && configuration.showSettings;\n  const isGitLab = projectBinding !== undefined && projectBinding.alm === AlmKeys.GitLab;\n\n  const additionalIcon = () => {\n    const plusIcon = <PlusCircleIcon fill={colors.blue} size={12} />;\n\n    if (branchesEnabled && hasManyBranches) {\n      return <DropdownIcon />;\n    }\n\n    if (isApplication) {\n      if (!hasManyBranches && canAdminComponent) {\n        return (\n          <HelpTooltip\n            overlay={\n              <>\n                <p>{translate('application.branches.help')}</p>\n                <hr className=\"spacer-top spacer-bottom\" />\n                <Link to={getApplicationAdminUrl(component.key)}>\n                  {translate('application.branches.link')}\n                </Link>\n              </>\n            }>\n            {plusIcon}\n          </HelpTooltip>\n        );\n      }\n    } else {\n      if (!branchesEnabled) {\n        return (\n          <DocumentationTooltip\n            content={\n              projectBinding !== undefined\n                ? translateWithParameters(\n                    `branch_like_navigation.no_branch_support.content_x.${isGitLab ? 'mr' : 'pr'}`,\n                    translate('alm', projectBinding.alm)\n                  )\n                : translate('branch_like_navigation.no_branch_support.content')\n            }\n            data-test=\"branches-support-disabled\"\n            links={[\n              {\n                href: 'https://redirect.sonarsource.com/editions/developer.html',\n                label: translate('learn_more')\n              }\n            ]}\n            title={\n              projectBinding !== undefined\n                ? translate(\n                    'branch_like_navigation.no_branch_support.title',\n                    isGitLab ? 'mr' : 'pr'\n                  )\n                : translate('branch_like_navigation.no_branch_support.title')\n            }>\n            {plusIcon}\n          </DocumentationTooltip>\n        );\n      }\n\n      if (!hasManyBranches) {\n        return (\n          <DocumentationTooltip\n            content={translate('branch_like_navigation.only_one_branch.content')}\n            data-test=\"only-one-branch-like\"\n            links={[\n              {\n                href: '/documentation/branches/overview/',\n                label: translate('branch_like_navigation.only_one_branch.documentation')\n              },\n              {\n                href: '/documentation/analysis/pull-request/',\n                label: translate('branch_like_navigation.only_one_branch.pr_analysis')\n              },\n              {\n                href: `/tutorials?id=${component.key}`,\n                label: translate('branch_like_navigation.tutorial_for_ci'),\n                inPlace: true\n              }\n            ]}\n            title={translate('branch_like_navigation.only_one_branch.title')}>\n            {plusIcon}\n          </DocumentationTooltip>\n        );\n      }\n    }\n\n    return null;\n  };\n\n  return (\n    <span className=\"display-flex-center flex-shrink text-ellipsis\">\n      <BranchLikeIcon branchLike={currentBranchLike} />\n      <span\n        className=\"spacer-left spacer-right flex-shrink text-ellipsis js-branch-like-name\"\n        title={displayName}>\n        {displayName}\n      </span>\n      {additionalIcon()}\n    </span>\n  );\n}\n\nexport default React.memo(CurrentBranchLike);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport BranchStatus from '../../../../../components/common/BranchStatus';\nimport BranchLikeIcon from '../../../../../components/icons/BranchLikeIcon';\nimport { getBranchLikeDisplayName, isMainBranch } from '../../../../../helpers/branch-like';\nimport { translate } from '../../../../../helpers/l10n';\nimport { BranchLike } from '../../../../../types/branch-like';\n\nexport interface MenuItemProps {\n  branchLike: BranchLike;\n  component: T.Component;\n  indent?: boolean;\n  onSelect: (branchLike: BranchLike) => void;\n  selected: boolean;\n  setSelectedNode?: (node: HTMLLIElement) => void;\n}\n\nexport function MenuItem(props: MenuItemProps) {\n  const { branchLike, component, indent, setSelectedNode, onSelect, selected } = props;\n  const displayName = getBranchLikeDisplayName(branchLike);\n\n  return (\n    <li\n      className={classNames('item', {\n        active: selected\n      })}\n      onClick={() => onSelect(branchLike)}\n      ref={selected ? setSelectedNode : undefined}>\n      <div\n        className={classNames('display-flex-center display-flex-space-between', {\n          'big-spacer-left': indent\n        })}>\n        <div className=\"item-name text-ellipsis\" title={displayName}>\n          <BranchLikeIcon branchLike={branchLike} />\n          <span className=\"spacer-left\">{displayName}</span>\n          {isMainBranch(branchLike) && (\n            <span className=\"badge spacer-left\">{translate('branches.main_branch')}</span>\n          )}\n        </div>\n        <div className=\"spacer-left\">\n          <BranchStatus branchLike={branchLike} component={component.key} />\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default React.memo(MenuItem);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from '../../../../../components/controls/HelpTooltip';\nimport { getBranchLikeKey, isSameBranchLike } from '../../../../../helpers/branch-like';\nimport { translate } from '../../../../../helpers/l10n';\nimport { scrollToElement } from '../../../../../helpers/scrolling';\nimport { isDefined } from '../../../../../helpers/types';\nimport { BranchLike, BranchLikeTree } from '../../../../../types/branch-like';\nimport MenuItem from './MenuItem';\n\nexport interface MenuItemListProps {\n  branchLikeTree: BranchLikeTree;\n  component: T.Component;\n  hasResults: boolean;\n  onSelect: (branchLike: BranchLike) => void;\n  selectedBranchLike: BranchLike | undefined;\n}\n\nexport function MenuItemList(props: MenuItemListProps) {\n  let listNode: HTMLUListElement | null = null;\n  let selectedNode: HTMLLIElement | null = null;\n\n  React.useEffect(() => {\n    if (listNode && selectedNode) {\n      scrollToElement(selectedNode, { parent: listNode, smooth: false });\n    }\n  });\n\n  const { branchLikeTree, component, hasResults, onSelect, selectedBranchLike } = props;\n\n  const renderItem = (branchLike: BranchLike, indent?: boolean) => (\n    <MenuItem\n      branchLike={branchLike}\n      component={component}\n      indent={indent}\n      key={getBranchLikeKey(branchLike)}\n      onSelect={onSelect}\n      selected={isSameBranchLike(branchLike, selectedBranchLike)}\n      setSelectedNode={node => (selectedNode = node)}\n    />\n  );\n\n  return (\n    <ul className=\"item-list\" ref={node => (listNode = node)}>\n      {!hasResults && (\n        <li className=\"item\">\n          <span className=\"note\">{translate('no_results')}</span>\n        </li>\n      )}\n\n      {/* BRANCHES & PR */}\n      {[branchLikeTree.mainBranchTree, ...branchLikeTree.branchTree].filter(isDefined).map(tree => (\n        <React.Fragment key={getBranchLikeKey(tree.branch)}>\n          {renderItem(tree.branch)}\n          {tree.pullRequests.length > 0 && (\n            <>\n              <li className=\"item header\">\n                <span className=\"big-spacer-left\">\n                  {translate('branch_like_navigation.pull_requests')}\n                </span>\n              </li>\n              {tree.pullRequests.map(pr => renderItem(pr, true))}\n            </>\n          )}\n          <hr />\n        </React.Fragment>\n      ))}\n\n      {/* PARENTLESS PR (for display during search) */}\n      {branchLikeTree.parentlessPullRequests.length > 0 && (\n        <>\n          <li className=\"item header\">{translate('branch_like_navigation.pull_requests')}</li>\n          {branchLikeTree.parentlessPullRequests.map(pr => renderItem(pr))}\n        </>\n      )}\n\n      {/* ORPHAN PR */}\n      {branchLikeTree.orphanPullRequests.length > 0 && (\n        <>\n          <li className=\"item header\">\n            {translate('branch_like_navigation.orphan_pull_requests')}\n            <HelpTooltip\n              className=\"little-spacer-left\"\n              overlay={translate('branch_like_navigation.orphan_pull_requests.tooltip')}\n            />\n          </li>\n          {branchLikeTree.orphanPullRequests.map(pr => renderItem(pr))}\n        </>\n      )}\n    </ul>\n  );\n}\n\nexport default React.memo(MenuItemList);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { DropdownOverlay } from '../../../../../components/controls/Dropdown';\nimport SearchBox from '../../../../../components/controls/SearchBox';\nimport { Router, withRouter } from '../../../../../components/hoc/withRouter';\nimport {\n  getBrancheLikesAsTree,\n  isBranch,\n  isPullRequest,\n  isSameBranchLike\n} from '../../../../../helpers/branch-like';\nimport { KeyCodes } from '../../../../../helpers/keycodes';\nimport { translate } from '../../../../../helpers/l10n';\nimport { getBranchLikeUrl } from '../../../../../helpers/urls';\nimport { BranchLike, BranchLikeTree } from '../../../../../types/branch-like';\nimport { ComponentQualifier } from '../../../../../types/component';\nimport MenuItemList from './MenuItemList';\n\ninterface Props {\n  branchLikes: BranchLike[];\n  canAdminComponent?: boolean;\n  component: T.Component;\n  currentBranchLike: BranchLike;\n  onClose: () => void;\n  router: Pick<Router, 'push'>;\n}\n\ninterface State {\n  branchLikesToDisplay: BranchLike[];\n  branchLikesToDisplayTree: BranchLikeTree;\n  query: string;\n  selectedBranchLike: BranchLike | undefined;\n}\n\nexport class Menu extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    let selectedBranchLike = undefined;\n\n    if (props.branchLikes.some(b => isSameBranchLike(b, props.currentBranchLike))) {\n      selectedBranchLike = props.currentBranchLike;\n    } else if (props.branchLikes.length > 0) {\n      selectedBranchLike = props.branchLikes[0];\n    }\n\n    this.state = {\n      query: '',\n      selectedBranchLike,\n      ...this.processBranchLikes(props.branchLikes)\n    };\n  }\n\n  processBranchLikes = (branchLikes: BranchLike[]) => {\n    const tree = getBrancheLikesAsTree(branchLikes);\n    return {\n      branchLikesToDisplay: [\n        ...(tree.mainBranchTree\n          ? [tree.mainBranchTree.branch, ...tree.mainBranchTree.pullRequests]\n          : []),\n        ...tree.branchTree.reduce((prev, t) => [...prev, t.branch, ...t.pullRequests], []),\n        ...tree.parentlessPullRequests,\n        ...tree.orphanPullRequests\n      ],\n      branchLikesToDisplayTree: tree\n    };\n  };\n\n  openHighlightedBranchLike = () => {\n    if (this.state.selectedBranchLike) {\n      this.handleOnSelect(this.state.selectedBranchLike);\n    }\n  };\n\n  highlightSiblingBranchlike = (indexDelta: number) => {\n    const selectBranchLikeIndex = this.state.branchLikesToDisplay.findIndex(b =>\n      isSameBranchLike(b, this.state.selectedBranchLike)\n    );\n    const newIndex = selectBranchLikeIndex + indexDelta;\n\n    if (\n      selectBranchLikeIndex !== -1 &&\n      newIndex >= 0 &&\n      newIndex < this.state.branchLikesToDisplay.length\n    ) {\n      this.setState(({ branchLikesToDisplay }) => ({\n        selectedBranchLike: branchLikesToDisplay[newIndex]\n      }));\n    }\n  };\n\n  handleKeyDown = (event: React.KeyboardEvent) => {\n    switch (event.keyCode) {\n      case KeyCodes.Enter:\n        event.preventDefault();\n        this.openHighlightedBranchLike();\n        break;\n      case KeyCodes.UpArrow:\n        event.preventDefault();\n        this.highlightSiblingBranchlike(-1);\n        break;\n      case KeyCodes.DownArrow:\n        event.preventDefault();\n        this.highlightSiblingBranchlike(+1);\n        break;\n    }\n  };\n\n  handleSearchChange = (query: string) => {\n    const q = query.toLowerCase();\n\n    const filterBranch = (branch: BranchLike) =>\n      isBranch(branch) && branch.name.toLowerCase().includes(q);\n    const filterPullRequest = (pr: BranchLike) =>\n      isPullRequest(pr) && (pr.title.toLowerCase().includes(q) || pr.key.toLowerCase().includes(q));\n\n    const filteredBranchLikes = this.props.branchLikes.filter(\n      bl => filterBranch(bl) || filterPullRequest(bl)\n    );\n\n    this.setState({\n      query: q,\n      selectedBranchLike: filteredBranchLikes.length > 0 ? filteredBranchLikes[0] : undefined,\n      ...this.processBranchLikes(filteredBranchLikes)\n    });\n  };\n\n  handleOnSelect = (branchLike: BranchLike) => {\n    this.setState({ selectedBranchLike: branchLike }, () => {\n      this.props.onClose();\n      this.props.router.push(getBranchLikeUrl(this.props.component.key, branchLike));\n    });\n  };\n\n  render() {\n    const { canAdminComponent, component, onClose } = this.props;\n    const {\n      branchLikesToDisplay,\n      branchLikesToDisplayTree,\n      query,\n      selectedBranchLike\n    } = this.state;\n\n    const showManageLink = component.qualifier === ComponentQualifier.Project && canAdminComponent;\n    const hasResults = branchLikesToDisplay.length > 0;\n\n    return (\n      <DropdownOverlay className=\"branch-like-navigation-menu\" noPadding={true}>\n        <div className=\"search-box-container\">\n          <SearchBox\n            autoFocus={true}\n            onChange={this.handleSearchChange}\n            onKeyDown={this.handleKeyDown}\n            placeholder={translate('branch_like_navigation.search_for_branch_like')}\n            value={query}\n          />\n        </div>\n\n        <div className=\"item-list-container\">\n          <MenuItemList\n            branchLikeTree={branchLikesToDisplayTree}\n            component={component}\n            hasResults={hasResults}\n            onSelect={this.handleOnSelect}\n            selectedBranchLike={selectedBranchLike}\n          />\n        </div>\n\n        {showManageLink && (\n          <div className=\"hint-container text-right\">\n            <Link\n              onClick={() => onClose()}\n              to={{ pathname: '/project/branches', query: { id: component.key } }}>\n              {translate('branch_like_navigation.manage')}\n            </Link>\n          </div>\n        )}\n      </DropdownOverlay>\n    );\n  }\n}\n\nexport default withRouter(Menu);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Toggler from '../../../../../components/controls/Toggler';\nimport { withAppState } from '../../../../../components/hoc/withAppState';\nimport { ProjectAlmBindingResponse } from '../../../../../types/alm-settings';\nimport { BranchLike } from '../../../../../types/branch-like';\nimport './BranchLikeNavigation.css';\nimport CurrentBranchLike from './CurrentBranchLike';\nimport Menu from './Menu';\n\nexport interface BranchLikeNavigationProps {\n  appState: Pick<T.AppState, 'branchesEnabled'>;\n  branchLikes: BranchLike[];\n  component: T.Component;\n  currentBranchLike: BranchLike;\n  projectBinding?: ProjectAlmBindingResponse;\n}\n\nexport function BranchLikeNavigation(props: BranchLikeNavigationProps) {\n  const {\n    appState: { branchesEnabled },\n    branchLikes,\n    component,\n    component: { configuration },\n    currentBranchLike,\n    projectBinding\n  } = props;\n\n  const [isMenuOpen, setIsMenuOpen] = React.useState(false);\n\n  const canAdminComponent = configuration && configuration.showSettings;\n  const hasManyBranches = branchLikes.length >= 2;\n  const isMenuEnabled = branchesEnabled && hasManyBranches;\n\n  const currentBranchLikeElement = (\n    <CurrentBranchLike\n      branchesEnabled={Boolean(branchesEnabled)}\n      component={component}\n      currentBranchLike={currentBranchLike}\n      hasManyBranches={hasManyBranches}\n      projectBinding={projectBinding}\n    />\n  );\n\n  return (\n    <span\n      className={classNames('big-spacer-left flex-0 branch-like-navigation-toggler-container', {\n        dropdown: isMenuEnabled\n      })}>\n      {isMenuEnabled ? (\n        <Toggler\n          onRequestClose={() => setIsMenuOpen(false)}\n          open={isMenuOpen}\n          overlay={\n            <Menu\n              branchLikes={branchLikes}\n              canAdminComponent={canAdminComponent}\n              component={component}\n              currentBranchLike={currentBranchLike}\n              onClose={() => setIsMenuOpen(false)}\n            />\n          }>\n          <a\n            className=\"link-base-color link-no-underline\"\n            href=\"#\"\n            onClick={() => setIsMenuOpen(!isMenuOpen)}>\n            {currentBranchLikeElement}\n          </a>\n        </Toggler>\n      ) : (\n        currentBranchLikeElement\n      )}\n    </span>\n  );\n}\n\nexport default withAppState(React.memo(BranchLikeNavigation));\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { isPullRequest } from '../../../../../helpers/branch-like';\nimport { translate } from '../../../../../helpers/l10n';\nimport { BranchLike } from '../../../../../types/branch-like';\n\nexport interface CurrentBranchLikeMergeInformationProps {\n  currentBranchLike: BranchLike;\n}\n\nexport function CurrentBranchLikeMergeInformation(props: CurrentBranchLikeMergeInformationProps) {\n  const { currentBranchLike } = props;\n\n  if (!isPullRequest(currentBranchLike)) {\n    return null;\n  }\n\n  return (\n    <span className=\"big-spacer-left flex-shrink note text-ellipsis\">\n      <FormattedMessage\n        defaultMessage={translate('branch_like_navigation.for_merge_into_x_from_y')}\n        id=\"branch_like_navigation.for_merge_into_x_from_y\"\n        values={{\n          target: <strong>{currentBranchLike.target}</strong>,\n          branch: <strong>{currentBranchLike.branch}</strong>\n        }}\n      />\n    </span>\n  );\n}\n\nexport default React.memo(CurrentBranchLikeMergeInformation);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { last } from 'lodash';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport QualifierIcon from '../../../../components/icons/QualifierIcon';\nimport { isMainBranch } from '../../../../helpers/branch-like';\nimport { getComponentOverviewUrl } from '../../../../helpers/urls';\nimport { BranchLike } from '../../../../types/branch-like';\n\ninterface Props {\n  component: T.Component;\n  currentBranchLike: BranchLike | undefined;\n}\n\nexport function Breadcrumb(props: Props) {\n  const {\n    component: { breadcrumbs },\n    currentBranchLike\n  } = props;\n  const lastBreadcrumbElement = last(breadcrumbs);\n  const isNoMainBranch = currentBranchLike && !isMainBranch(currentBranchLike);\n\n  return (\n    <div className=\"big flex-shrink display-flex-center\">\n      {breadcrumbs.map((breadcrumbElement, i) => {\n        const isFirst = i === 0;\n        const isNotLast = i < breadcrumbs.length - 1;\n\n        return (\n          <span className=\"flex-shrink display-flex-center\" key={breadcrumbElement.key}>\n            {isFirst && lastBreadcrumbElement && (\n              <QualifierIcon className=\"spacer-right\" qualifier={lastBreadcrumbElement.qualifier} />\n            )}\n            {isNoMainBranch || isNotLast ? (\n              <Link\n                className=\"link-no-underline text-ellipsis\"\n                title={breadcrumbElement.name}\n                to={getComponentOverviewUrl(breadcrumbElement.key, breadcrumbElement.qualifier)}>\n                {breadcrumbElement.name}\n              </Link>\n            ) : (\n              <span className=\"text-ellipsis\" title={breadcrumbElement.name}>\n                {breadcrumbElement.name}\n              </span>\n            )}\n            {isNotLast && <span className=\"slash-separator\" />}\n          </span>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default React.memo(Breadcrumb);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { connect } from 'react-redux';\nimport Favorite from '../../../../components/controls/Favorite';\nimport { isLoggedIn } from '../../../../helpers/users';\nimport { getCurrentUser, Store } from '../../../../store/rootReducer';\nimport { ProjectAlmBindingResponse } from '../../../../types/alm-settings';\nimport { BranchLike } from '../../../../types/branch-like';\nimport BranchLikeNavigation from './branch-like/BranchLikeNavigation';\nimport CurrentBranchLikeMergeInformation from './branch-like/CurrentBranchLikeMergeInformation';\nimport { Breadcrumb } from './Breadcrumb';\n\nexport interface HeaderProps {\n  branchLikes: BranchLike[];\n  component: T.Component;\n  currentBranchLike: BranchLike | undefined;\n  currentUser: T.CurrentUser;\n  projectBinding?: ProjectAlmBindingResponse;\n}\n\nexport function Header(props: HeaderProps) {\n  const { branchLikes, component, currentBranchLike, currentUser, projectBinding } = props;\n\n  return (\n    <>\n      <Helmet title={component.name} />\n      <header className=\"display-flex-center flex-shrink\">\n        <Breadcrumb component={component} currentBranchLike={currentBranchLike} />\n        {isLoggedIn(currentUser) && (\n          <Favorite\n            className=\"spacer-left\"\n            component={component.key}\n            favorite={Boolean(component.isFavorite)}\n            qualifier={component.qualifier}\n          />\n        )}\n        {currentBranchLike && (\n          <>\n            <BranchLikeNavigation\n              branchLikes={branchLikes}\n              component={component}\n              currentBranchLike={currentBranchLike}\n              projectBinding={projectBinding}\n            />\n            <CurrentBranchLikeMergeInformation currentBranchLike={currentBranchLike} />\n          </>\n        )}\n      </header>\n    </>\n  );\n}\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(React.memo(Header));\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { lazyLoadComponent } from '../../../../components/lazyLoadComponent';\nimport { Alert } from '../../../../components/ui/Alert';\nimport { translate } from '../../../../helpers/l10n';\nimport { TaskWarning } from '../../../../types/tasks';\n\nconst AnalysisWarningsModal = lazyLoadComponent(\n  () => import('../../../../components/common/AnalysisWarningsModal'),\n  'AnalysisWarningsModal'\n);\n\ninterface Props {\n  componentKey: string;\n  onWarningDismiss: () => void;\n  warnings: TaskWarning[];\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ComponentNavWarnings extends React.PureComponent<Props, State> {\n  state: State = { modal: false };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ modal: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ modal: false });\n  };\n\n  render() {\n    return (\n      <>\n        <Alert className=\"js-component-analysis-warnings flex-1\" display=\"inline\" variant=\"warning\">\n          <FormattedMessage\n            defaultMessage={translate('component_navigation.last_analysis_had_warnings')}\n            id=\"component_navigation.last_analysis_had_warnings\"\n            values={{\n              warnings: (\n                <a href=\"#\" onClick={this.handleClick}>\n                  <FormattedMessage\n                    defaultMessage={translate('component_navigation.x_warnings')}\n                    id=\"component_navigation.x_warnings\"\n                    values={{\n                      warningsCount: this.props.warnings.length\n                    }}\n                  />\n                </a>\n              )\n            }}\n          />\n        </Alert>\n        {this.state.modal && (\n          <AnalysisWarningsModal\n            componentKey={this.props.componentKey}\n            onClose={this.handleCloseModal}\n            onWarningDismiss={this.props.onWarningDismiss}\n            warnings={this.props.warnings}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport BranchStatus from '../../../../components/common/BranchStatus';\nimport HomePageSelect from '../../../../components/controls/HomePageSelect';\nimport DetachIcon from '../../../../components/icons/DetachIcon';\nimport DateTimeFormatter from '../../../../components/intl/DateTimeFormatter';\nimport { isBranch, isPullRequest } from '../../../../helpers/branch-like';\nimport { translate } from '../../../../helpers/l10n';\nimport { isLoggedIn } from '../../../../helpers/users';\nimport { getCurrentUser, Store } from '../../../../store/rootReducer';\nimport { BranchLike } from '../../../../types/branch-like';\nimport { ComponentQualifier } from '../../../../types/component';\nimport { TaskWarning } from '../../../../types/tasks';\nimport ComponentNavWarnings from './ComponentNavWarnings';\nimport './HeaderMeta.css';\n\nexport interface HeaderMetaProps {\n  branchLike?: BranchLike;\n  currentUser: T.CurrentUser;\n  component: T.Component;\n  onWarningDismiss: () => void;\n  warnings: TaskWarning[];\n}\n\nexport function HeaderMeta(props: HeaderMetaProps) {\n  const { branchLike, component, currentUser, warnings } = props;\n\n  const isABranch = isBranch(branchLike);\n  const currentPage = getCurrentPage(component, branchLike);\n  const displayVersion = component.version !== undefined && isABranch;\n\n  return (\n    <>\n      <div className=\"display-flex-center flex-0 small\">\n        {warnings.length > 0 && (\n          <span className=\"header-meta-warnings\">\n            <ComponentNavWarnings\n              componentKey={component.key}\n              onWarningDismiss={props.onWarningDismiss}\n              warnings={warnings}\n            />\n          </span>\n        )}\n        {component.analysisDate && (\n          <span className=\"spacer-left nowrap note\">\n            <DateTimeFormatter date={component.analysisDate} />\n          </span>\n        )}\n        {displayVersion && (\n          <span className=\"spacer-left nowrap note\">{`${translate('version')} ${\n            component.version\n          }`}</span>\n        )}\n        {isLoggedIn(currentUser) && currentPage !== undefined && !isPullRequest(branchLike) && (\n          <HomePageSelect className=\"spacer-left\" currentPage={currentPage} />\n        )}\n      </div>\n      {isPullRequest(branchLike) && (\n        <div className=\"navbar-context-meta-secondary display-inline-flex-center\">\n          {branchLike.url !== undefined && (\n            <a\n              className=\"display-inline-flex-center big-spacer-right\"\n              href={branchLike.url}\n              rel=\"noopener noreferrer\"\n              target=\"_blank\">\n              {translate('branches.see_the_pr')}\n              <DetachIcon className=\"little-spacer-left\" size={12} />\n            </a>\n          )}\n          <BranchStatus branchLike={branchLike} component={component.key} />\n        </div>\n      )}\n    </>\n  );\n}\n\nexport function getCurrentPage(component: T.Component, branchLike: BranchLike | undefined) {\n  let currentPage: T.HomePage | undefined;\n\n  const branch = isBranch(branchLike) && !branchLike.isMain ? branchLike.name : undefined;\n\n  switch (component.qualifier) {\n    case ComponentQualifier.Portfolio:\n    case ComponentQualifier.SubPortfolio:\n      currentPage = { type: 'PORTFOLIO', component: component.key };\n      break;\n    case ComponentQualifier.Application:\n      currentPage = {\n        type: 'APPLICATION',\n        component: component.key,\n        branch\n      };\n      break;\n    case ComponentQualifier.Project:\n      // when home page is set to the default branch of a project, its name is returned as `undefined`\n      currentPage = {\n        type: 'PROJECT',\n        component: component.key,\n        branch\n      };\n      break;\n  }\n\n  return currentPage;\n}\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(HeaderMeta);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Link, LinkProps } from 'react-router';\nimport Dropdown from '../../../../components/controls/Dropdown';\nimport Tooltip from '../../../../components/controls/Tooltip';\nimport { withAppState } from '../../../../components/hoc/withAppState';\nimport BulletListIcon from '../../../../components/icons/BulletListIcon';\nimport DropdownIcon from '../../../../components/icons/DropdownIcon';\nimport NavBarTabs from '../../../../components/ui/NavBarTabs';\nimport { getBranchLikeQuery, isPullRequest } from '../../../../helpers/branch-like';\nimport { hasMessage, translate } from '../../../../helpers/l10n';\nimport { getPortfolioUrl, getProjectQueryUrl } from '../../../../helpers/urls';\nimport { BranchLike, BranchParameters } from '../../../../types/branch-like';\nimport { ComponentQualifier, isPortfolioLike } from '../../../../types/component';\nimport './Menu.css';\n\nconst SETTINGS_URLS = [\n  '/application/console',\n  '/project/admin',\n  '/project/baseline',\n  '/project/branches',\n  '/project/settings',\n  '/project/quality_profiles',\n  '/project/quality_gate',\n  '/project/links',\n  '/project_roles',\n  '/project/history',\n  'background_tasks',\n  '/project/key',\n  '/project/deletion',\n  '/project/webhooks'\n];\n\ninterface Props {\n  appState: Pick<T.AppState, 'branchesEnabled'>;\n  branchLike: BranchLike | undefined;\n  branchLikes: BranchLike[] | undefined;\n  component: T.Component;\n  isInProgress?: boolean;\n  isPending?: boolean;\n  onToggleProjectInfo: () => void;\n}\n\ntype Query = BranchParameters & { id: string };\n\nfunction MenuLink({\n  hasAnalysis,\n  label,\n  ...props\n}: LinkProps & { hasAnalysis: boolean; label: React.ReactNode }) {\n  return hasAnalysis ? (\n    <Link {...props}>{label}</Link>\n  ) : (\n    <Tooltip overlay={translate('layout.must_be_configured')}>\n      <a aria-disabled=\"true\" className=\"disabled-link\">\n        {label}\n      </a>\n    </Tooltip>\n  );\n}\n\nexport class Menu extends React.PureComponent<Props> {\n  hasAnalysis = () => {\n    const { branchLikes = [], component, isInProgress, isPending } = this.props;\n    const hasBranches = branchLikes.length > 1;\n    return hasBranches || isInProgress || isPending || component.analysisDate !== undefined;\n  };\n\n  isProject = () => {\n    return this.props.component.qualifier === ComponentQualifier.Project;\n  };\n\n  isDeveloper = () => {\n    return this.props.component.qualifier === ComponentQualifier.Developper;\n  };\n\n  isPortfolio = () => {\n    const { qualifier } = this.props.component;\n    return isPortfolioLike(qualifier);\n  };\n\n  isApplication = () => {\n    return this.props.component.qualifier === ComponentQualifier.Application;\n  };\n\n  getConfiguration = () => {\n    return this.props.component.configuration || {};\n  };\n\n  getQuery = (): Query => {\n    return { id: this.props.component.key, ...getBranchLikeQuery(this.props.branchLike) };\n  };\n\n  renderDashboardLink = ({ id, ...branchLike }: Query, isPortfolio: boolean) => {\n    return (\n      <li>\n        <Link\n          activeClassName=\"active\"\n          to={isPortfolio ? getPortfolioUrl(id) : getProjectQueryUrl(id, branchLike)}>\n          {translate('overview.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderCodeLink = (\n    hasAnalysis: boolean,\n    query: Query,\n    isApplication: boolean,\n    isPortfolio: boolean\n  ) => {\n    if (this.isDeveloper()) {\n      return null;\n    }\n\n    return (\n      <li>\n        <MenuLink\n          activeClassName=\"active\"\n          hasAnalysis={hasAnalysis}\n          label={\n            isPortfolio || isApplication ? translate('view_projects.page') : translate('code.page')\n          }\n          to={{ pathname: '/code', query }}\n        />\n      </li>\n    );\n  };\n\n  renderActivityLink = (hasAnalysis: boolean, query: Query) => {\n    const { branchLike } = this.props;\n\n    if (isPullRequest(branchLike)) {\n      return null;\n    }\n\n    return (\n      <li>\n        <MenuLink\n          activeClassName=\"active\"\n          hasAnalysis={hasAnalysis}\n          label={translate('project_activity.page')}\n          to={{ pathname: '/project/activity', query }}\n        />\n      </li>\n    );\n  };\n\n  renderIssuesLink = (hasAnalysis: boolean, query: Query) => {\n    return (\n      <li>\n        <MenuLink\n          activeClassName=\"active\"\n          hasAnalysis={hasAnalysis}\n          label={translate('issues.page')}\n          to={{ pathname: '/project/issues', query: { ...query, resolved: 'false' } }}\n        />\n      </li>\n    );\n  };\n\n  renderComponentMeasuresLink = (hasAnalysis: boolean, query: Query) => {\n    return (\n      <li>\n        <MenuLink\n          activeClassName=\"active\"\n          hasAnalysis={hasAnalysis}\n          label={translate('layout.measures')}\n          to={{ pathname: '/component_measures', query }}\n        />\n      </li>\n    );\n  };\n\n  renderSecurityHotspotsLink = (hasAnalysis: boolean, query: Query, isPortfolio: boolean) => {\n    return (\n      !isPortfolio && (\n        <li>\n          <MenuLink\n            activeClassName=\"active\"\n            hasAnalysis={hasAnalysis}\n            label={translate('layout.security_hotspots')}\n            to={{ pathname: '/security_hotspots', query }}\n          />\n        </li>\n      )\n    );\n  };\n\n  renderSecurityReports = (hasAnalysis: boolean, query: Query) => {\n    const { branchLike, component } = this.props;\n    const { extensions = [] } = component;\n\n    if (isPullRequest(branchLike)) {\n      return null;\n    }\n\n    const hasSecurityReportsEnabled = extensions.some(extension =>\n      extension.key.startsWith('securityreport/')\n    );\n\n    if (!hasSecurityReportsEnabled) {\n      return null;\n    }\n\n    return (\n      <li>\n        <MenuLink\n          activeClassName=\"active\"\n          hasAnalysis={hasAnalysis}\n          label={translate('layout.security_reports')}\n          to={{\n            pathname: '/project/extension/securityreport/securityreport',\n            query\n          }}\n        />\n      </li>\n    );\n  };\n\n  renderAdministration = (\n    query: Query,\n    isProject: boolean,\n    isApplication: boolean,\n    isPortfolio: boolean\n  ) => {\n    const { branchLike, component } = this.props;\n\n    if (!this.getConfiguration().showSettings || isPullRequest(branchLike)) {\n      return null;\n    }\n\n    const isSettingsActive = SETTINGS_URLS.some(url => window.location.href.indexOf(url) !== -1);\n\n    const adminLinks = this.renderAdministrationLinks(query, isProject, isApplication, isPortfolio);\n    if (!adminLinks.some(link => link != null)) {\n      return null;\n    }\n\n    return (\n      <Dropdown\n        data-test=\"administration\"\n        overlay={<ul className=\"menu\">{adminLinks}</ul>}\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"menu\"\n            role=\"button\"\n            className={classNames('dropdown-toggle', { active: isSettingsActive || open })}\n            href=\"#\"\n            id=\"component-navigation-admin\"\n            onClick={onToggleClick}>\n            {hasMessage('layout.settings', component.qualifier)\n              ? translate('layout.settings', component.qualifier)\n              : translate('layout.settings')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  };\n\n  renderAdministrationLinks = (\n    query: Query,\n    isProject: boolean,\n    isApplication: boolean,\n    isPortfolio: boolean\n  ) => {\n    return [\n      this.renderSettingsLink(query, isApplication, isPortfolio),\n      this.renderBranchesLink(query, isProject),\n      this.renderBaselineLink(query, isApplication, isPortfolio),\n      this.renderConsoleAppLink(query, isApplication),\n      this.renderReportSettingsLink(query, isApplication),\n      ...this.renderAdminExtensions(query, isApplication),\n      this.renderProfilesLink(query),\n      this.renderQualityGateLink(query),\n      this.renderLinksLink(query),\n      this.renderPermissionsLink(query),\n      this.renderBackgroundTasksLink(query),\n      this.renderUpdateKeyLink(query),\n      this.renderWebhooksLink(query, isProject),\n      this.renderDeletionLink(query)\n    ];\n  };\n\n  renderProjectInformationButton = (isProject: boolean, isApplication: boolean) => {\n    if (isPullRequest(this.props.branchLike)) {\n      return null;\n    }\n\n    return (\n      (isProject || isApplication) && (\n        <li>\n          <a\n            className=\"menu-button\"\n            onClick={(e: React.SyntheticEvent<HTMLAnchorElement>) => {\n              e.preventDefault();\n              e.currentTarget.blur();\n              this.props.onToggleProjectInfo();\n            }}\n            role=\"button\"\n            tabIndex={0}>\n            <BulletListIcon className=\"little-spacer-right\" />\n            {translate(isProject ? 'project' : 'application', 'info.title')}\n          </a>\n        </li>\n      )\n    );\n  };\n\n  renderSettingsLink = (query: Query, isApplication: boolean, isPortfolio: boolean) => {\n    if (!this.getConfiguration().showSettings || isApplication || isPortfolio) {\n      return null;\n    }\n    return (\n      <li key=\"settings\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/settings', query }}>\n          {translate('project_settings.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderBranchesLink = (query: Query, isProject: boolean) => {\n    if (\n      !this.props.appState.branchesEnabled ||\n      !isProject ||\n      !this.getConfiguration().showSettings\n    ) {\n      return null;\n    }\n\n    return (\n      <li key=\"branches\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/branches', query }}>\n          {translate('project_branch_pull_request.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderBaselineLink = (query: Query, isApplication: boolean, isPortfolio: boolean) => {\n    if (!this.getConfiguration().showSettings || isApplication || isPortfolio) {\n      return null;\n    }\n    return (\n      <li key=\"baseline\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/baseline', query }}>\n          {translate('project_baseline.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderConsoleAppLink = (query: Query, isApplication: boolean) => {\n    if (!isApplication) {\n      return null;\n    }\n    return (\n      <li key=\"app-console\">\n        <Link activeClassName=\"active\" to={{ pathname: '/application/console', query }}>\n          {translate('application_console.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderReportSettingsLink = (query: Query, isApplication: boolean) => {\n    const extensions = this.getConfiguration().extensions || [];\n    const hasGovernance = extensions.find(e => e.key === 'governance/console');\n\n    if (!isApplication || !hasGovernance) {\n      return null;\n    }\n\n    return (\n      <li key=\"report-settings\">\n        <Link activeClassName=\"active\" to={{ pathname: '/application/settings', query }}>\n          {translate('application_settings.report')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderProfilesLink = (query: Query) => {\n    if (!this.getConfiguration().showQualityProfiles) {\n      return null;\n    }\n    return (\n      <li key=\"profiles\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/quality_profiles', query }}>\n          {translate('project_quality_profiles.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderQualityGateLink = (query: Query) => {\n    if (!this.getConfiguration().showQualityGates) {\n      return null;\n    }\n    return (\n      <li key=\"quality_gate\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/quality_gate', query }}>\n          {translate('project_quality_gate.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderLinksLink = (query: Query) => {\n    if (!this.getConfiguration().showLinks) {\n      return null;\n    }\n    return (\n      <li key=\"links\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/links', query }}>\n          {translate('project_links.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderPermissionsLink = (query: Query) => {\n    if (!this.getConfiguration().showPermissions) {\n      return null;\n    }\n    return (\n      <li key=\"permissions\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project_roles', query }}>\n          {translate('permissions.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderBackgroundTasksLink = (query: Query) => {\n    if (!this.getConfiguration().showBackgroundTasks) {\n      return null;\n    }\n    return (\n      <li key=\"background_tasks\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/background_tasks', query }}>\n          {translate('background_tasks.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderUpdateKeyLink = (query: Query) => {\n    if (!this.getConfiguration().showUpdateKey) {\n      return null;\n    }\n    return (\n      <li key=\"update_key\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/key', query }}>\n          {translate('update_key.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderWebhooksLink = (query: Query, isProject: boolean) => {\n    if (!this.getConfiguration().showSettings || !isProject) {\n      return null;\n    }\n    return (\n      <li key=\"webhooks\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/webhooks', query }}>\n          {translate('webhooks.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderDeletionLink = (query: Query) => {\n    const { qualifier } = this.props.component;\n\n    if (!this.getConfiguration().showSettings) {\n      return null;\n    }\n\n    if (\n      ![\n        ComponentQualifier.Project,\n        ComponentQualifier.Portfolio,\n        ComponentQualifier.Application\n      ].includes(qualifier as ComponentQualifier)\n    ) {\n      return null;\n    }\n\n    return (\n      <li key=\"project_delete\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/deletion', query }}>\n          {translate('deletion.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderExtension = ({ key, name }: T.Extension, isAdmin: boolean, baseQuery: Query) => {\n    const pathname = isAdmin ? `/project/admin/extension/${key}` : `/project/extension/${key}`;\n    const query = { ...baseQuery, qualifier: this.props.component.qualifier };\n    return (\n      <li key={key}>\n        <Link activeClassName=\"active\" to={{ pathname, query }}>\n          {name}\n        </Link>\n      </li>\n    );\n  };\n\n  renderAdminExtensions = (query: Query, isApplication: boolean) => {\n    const extensions = this.getConfiguration().extensions || [];\n    return extensions\n      .filter(e => !isApplication || e.key !== 'governance/console')\n      .map(e => this.renderExtension(e, true, query));\n  };\n\n  renderExtensions = (query: Query) => {\n    const extensions = this.props.component.extensions || [];\n    const withoutSecurityExtension = extensions.filter(\n      extension => !extension.key.startsWith('securityreport/')\n    );\n\n    if (withoutSecurityExtension.length === 0) {\n      return null;\n    }\n\n    return (\n      <Dropdown\n        data-test=\"extensions\"\n        overlay={\n          <ul className=\"menu\">\n            {withoutSecurityExtension.map(e => this.renderExtension(e, false, query))}\n          </ul>\n        }\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"menu\"\n            role=\"button\"\n            className={classNames('dropdown-toggle', { active: open })}\n            href=\"#\"\n            id=\"component-navigation-more\"\n            onClick={onToggleClick}>\n            {translate('more')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  };\n\n  render() {\n    const isProject = this.isProject();\n    const isApplication = this.isApplication();\n    const isPortfolio = this.isPortfolio();\n    const hasAnalysis = this.hasAnalysis();\n    const query = this.getQuery();\n    return (\n      <div className=\"display-flex-center display-flex-space-between\">\n        <NavBarTabs>\n          {this.renderDashboardLink(query, isPortfolio)}\n          {this.renderIssuesLink(hasAnalysis, query)}\n          {this.renderSecurityHotspotsLink(hasAnalysis, query, isPortfolio)}\n          {this.renderSecurityReports(hasAnalysis, query)}\n          {this.renderComponentMeasuresLink(hasAnalysis, query)}\n          {this.renderCodeLink(hasAnalysis, query, isApplication, isPortfolio)}\n          {this.renderActivityLink(hasAnalysis, query)}\n          {this.renderExtensions(query)}\n        </NavBarTabs>\n        <NavBarTabs>\n          {this.renderAdministration(query, isProject, isApplication, isPortfolio)}\n          {this.renderProjectInformationButton(isProject, isApplication)}\n        </NavBarTabs>\n      </div>\n    );\n  }\n}\n\nexport default withAppState(Menu);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { ClearButton } from '../../../../../components/controls/buttons';\nimport EscKeydownHandler from '../../../../../components/controls/EscKeydownHandler';\nimport OutsideClickHandler from '../../../../../components/controls/OutsideClickHandler';\nimport './InfoDrawer.css';\n\nexport interface InfoDrawerProps {\n  children: React.ReactNode;\n  displayed: boolean;\n  onClose: () => void;\n  top: number;\n}\n\nexport default function InfoDrawer(props: InfoDrawerProps) {\n  const { children, displayed, onClose, top } = props;\n\n  return (\n    <div\n      className={classNames('info-drawer info-drawer-pane', { open: displayed })}\n      style={{ top }}>\n      <div className=\"close-button\">\n        <ClearButton onClick={onClose} />\n      </div>\n      {displayed && (\n        <EscKeydownHandler onKeydown={onClose}>\n          <OutsideClickHandler onClickOutside={onClose}>\n            <div className=\"display-flex-column max-height-100\">{children}</div>\n          </OutsideClickHandler>\n        </EscKeydownHandler>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { stringify } from 'querystring';\nimport { getLocalizedMetricName } from '../../../../../../helpers/l10n';\nimport { omitNil } from '../../../../../../helpers/request';\nimport { getHostUrl, getPathUrlAsString, getProjectUrl } from '../../../../../../helpers/urls';\n\nexport type BadgeColors = 'white' | 'black' | 'orange';\nexport type BadgeFormats = 'md' | 'url';\n\nexport interface BadgeOptions {\n  branch?: string;\n  color?: BadgeColors;\n  format?: BadgeFormats;\n  project?: string;\n  metric?: string;\n  pullRequest?: string;\n}\n\nexport enum BadgeType {\n  measure = 'measure',\n  qualityGate = 'quality_gate',\n  marketing = 'marketing'\n}\n\nexport function getBadgeSnippet(type: BadgeType, options: BadgeOptions) {\n  const url = getBadgeUrl(type, options);\n  const { branch, format = 'md', metric = 'alert_status', project } = options;\n\n  if (format === 'url') {\n    return url;\n  } else {\n    let label;\n    let projectUrl;\n\n    switch (type) {\n      case BadgeType.marketing:\n        label = 'SonarCloud';\n        break;\n      case BadgeType.measure:\n        label = getLocalizedMetricName({ key: metric });\n        break;\n      case BadgeType.qualityGate:\n      default:\n        label = 'Quality gate';\n        break;\n    }\n\n    if (project) {\n      projectUrl = getPathUrlAsString(getProjectUrl(project, branch), false);\n    }\n\n    const mdImage = `![${label}](${url})`;\n    return projectUrl ? `[${mdImage}](${projectUrl})` : mdImage;\n  }\n}\n\nexport function getBadgeUrl(\n  type: BadgeType,\n  { branch, project, color = 'white', metric = 'alert_status', pullRequest }: BadgeOptions\n) {\n  switch (type) {\n    case BadgeType.marketing:\n      return `${getHostUrl()}/images/project_badges/sonarcloud-${color}.svg`;\n    case BadgeType.qualityGate:\n      return `${getHostUrl()}/api/project_badges/quality_gate?${stringify(\n        omitNil({ branch, project, pullRequest })\n      )}`;\n    case BadgeType.measure:\n    default:\n      return `${getHostUrl()}/api/project_badges/measure?${stringify(\n        omitNil({ branch, project, metric, pullRequest })\n      )}`;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Button } from '../../../../../../components/controls/buttons';\nimport { translate } from '../../../../../../helpers/l10n';\nimport { BadgeType } from './utils';\n\ninterface Props {\n  onClick: (type: BadgeType) => void;\n  selected: boolean;\n  type: BadgeType;\n  url: string;\n}\n\nexport default class BadgeButton extends React.PureComponent<Props> {\n  handleClick = () => {\n    this.props.onClick(this.props.type);\n  };\n\n  render() {\n    const { selected, type, url } = this.props;\n    const width = type !== BadgeType.measure ? '128px' : undefined;\n    return (\n      <Button className={classNames('badge-button', { selected })} onClick={this.handleClick}>\n        <img alt={translate('overview.badges', type, 'alt')} src={url} width={width} />\n      </Button>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { fetchWebApi } from '../../../../../../api/web-api';\nimport Select from '../../../../../../components/controls/Select';\nimport { getLocalizedMetricName, translate } from '../../../../../../helpers/l10n';\nimport { BadgeColors, BadgeFormats, BadgeOptions, BadgeType } from './utils';\n\ninterface Props {\n  className?: string;\n  metrics: T.Dict<T.Metric>;\n  options: BadgeOptions;\n  type: BadgeType;\n  updateOptions: (options: Partial<BadgeOptions>) => void;\n}\n\ninterface State {\n  badgeMetrics: string[];\n}\n\nexport default class BadgeParams extends React.PureComponent<Props> {\n  mounted = false;\n\n  state: State = { badgeMetrics: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchBadgeMetrics();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchBadgeMetrics() {\n    fetchWebApi(false).then(\n      webservices => {\n        if (this.mounted) {\n          const domain = webservices.find(d => d.path === 'api/project_badges');\n          const ws = domain && domain.actions.find(w => w.key === 'measure');\n          const param = ws && ws.params && ws.params.find(p => p.key === 'metric');\n          if (param && param.possibleValues) {\n            this.setState({ badgeMetrics: param.possibleValues });\n          }\n        }\n      },\n      () => {}\n    );\n  }\n\n  getColorOptions = () => {\n    return ['white', 'black', 'orange'].map(color => ({\n      label: translate('overview.badges.options.colors', color),\n      value: color\n    }));\n  };\n\n  getFormatOptions = () => {\n    return ['md', 'url'].map(format => ({\n      label: translate('overview.badges.options.formats', format),\n      value: format\n    }));\n  };\n\n  getMetricOptions = () => {\n    return this.state.badgeMetrics.map(key => {\n      const metric = this.props.metrics[key];\n      return {\n        value: key,\n        label: metric ? getLocalizedMetricName(metric) : key\n      };\n    });\n  };\n\n  handleColorChange = ({ value }: { value: BadgeColors }) => {\n    this.props.updateOptions({ color: value });\n  };\n\n  handleFormatChange = ({ value }: { value: BadgeFormats }) => {\n    this.props.updateOptions({ format: value });\n  };\n\n  handleMetricChange = ({ value }: { value: string }) => {\n    this.props.updateOptions({ metric: value });\n  };\n\n  renderBadgeType = (type: BadgeType, options: BadgeOptions) => {\n    if (type === BadgeType.marketing) {\n      return (\n        <>\n          <label className=\"spacer-right\" htmlFor=\"badge-color\">\n            {translate('color')}:\n          </label>\n          <Select\n            className=\"input-medium\"\n            clearable={false}\n            name=\"badge-color\"\n            onChange={this.handleColorChange}\n            options={this.getColorOptions()}\n            searchable={false}\n            value={options.color}\n          />\n        </>\n      );\n    } else if (type === BadgeType.measure) {\n      return (\n        <>\n          <label className=\"spacer-right\" htmlFor=\"badge-metric\">\n            {translate('overview.badges.metric')}:\n          </label>\n          <Select\n            className=\"input-medium\"\n            clearable={false}\n            menuStyle={{ maxHeight: 100 }}\n            name=\"badge-metric\"\n            onChange={this.handleMetricChange}\n            options={this.getMetricOptions()}\n            searchable={false}\n            value={options.metric}\n          />\n        </>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  render() {\n    const { className, options, type } = this.props;\n    return (\n      <div className={className}>\n        {this.renderBadgeType(type, options)}\n\n        <label\n          className={classNames('spacer-right', {\n            'spacer-top': type !== BadgeType.qualityGate\n          })}\n          htmlFor=\"badge-format\">\n          {translate('format')}:\n        </label>\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          name=\"badge-format\"\n          onChange={this.handleFormatChange}\n          options={this.getFormatOptions()}\n          searchable={false}\n          value={this.props.options.format || 'md'}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CodeSnippet from '../../../../../../components/common/CodeSnippet';\nimport { getBranchLikeQuery } from '../../../../../../helpers/branch-like';\nimport { translate } from '../../../../../../helpers/l10n';\nimport { BranchLike } from '../../../../../../types/branch-like';\nimport { MetricKey } from '../../../../../../types/metrics';\nimport BadgeButton from './BadgeButton';\nimport BadgeParams from './BadgeParams';\nimport './styles.css';\nimport { BadgeOptions, BadgeType, getBadgeSnippet, getBadgeUrl } from './utils';\n\ninterface Props {\n  branchLike?: BranchLike;\n  metrics: T.Dict<T.Metric>;\n  project: string;\n  qualifier: string;\n}\n\ninterface State {\n  selectedType: BadgeType;\n  badgeOptions: BadgeOptions;\n}\n\nexport default class ProjectBadges extends React.PureComponent<Props, State> {\n  state: State = {\n    selectedType: BadgeType.measure,\n    badgeOptions: { color: 'white', metric: MetricKey.alert_status }\n  };\n\n  handleSelectBadge = (selectedType: BadgeType) => {\n    this.setState({ selectedType });\n  };\n\n  handleUpdateOptions = (options: Partial<BadgeOptions>) => {\n    this.setState(state => ({ badgeOptions: { ...state.badgeOptions, ...options } }));\n  };\n\n  render() {\n    const { branchLike, project, qualifier } = this.props;\n    const { selectedType, badgeOptions } = this.state;\n    const fullBadgeOptions = { project, ...badgeOptions, ...getBranchLikeQuery(branchLike) };\n\n    return (\n      <div className=\"display-flex-column\">\n        <h3>{translate('overview.badges.get_badge', qualifier)}</h3>\n        <p className=\"big-spacer-bottom\">{translate('overview.badges.description', qualifier)}</p>\n        <BadgeButton\n          onClick={this.handleSelectBadge}\n          selected={BadgeType.measure === selectedType}\n          type={BadgeType.measure}\n          url={getBadgeUrl(BadgeType.measure, fullBadgeOptions)}\n        />\n        <p className=\"huge-spacer-bottom spacer-top\">\n          {translate('overview.badges', BadgeType.measure, 'description', qualifier)}\n        </p>\n        <BadgeButton\n          onClick={this.handleSelectBadge}\n          selected={BadgeType.qualityGate === selectedType}\n          type={BadgeType.qualityGate}\n          url={getBadgeUrl(BadgeType.qualityGate, fullBadgeOptions)}\n        />\n        <p className=\"huge-spacer-bottom spacer-top\">\n          {translate('overview.badges', BadgeType.qualityGate, 'description', qualifier)}\n        </p>\n        <BadgeParams\n          className=\"big-spacer-bottom display-flex-column\"\n          metrics={this.props.metrics}\n          options={badgeOptions}\n          type={selectedType}\n          updateOptions={this.handleUpdateOptions}\n        />\n        <CodeSnippet isOneLine={true} snippet={getBadgeSnippet(selectedType, fullBadgeOptions)} />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport BackIcon from '../../../../../components/icons/BackIcon';\nimport { translate } from '../../../../../helpers/l10n';\n\nexport interface InfoDrawerPageProps {\n  children: React.ReactNode;\n  displayed: boolean;\n  onPageChange: () => void;\n}\n\nexport default function InfoDrawerPage(props: InfoDrawerPageProps) {\n  const { children, displayed, onPageChange } = props;\n  return (\n    <div\n      className={classNames(\n        'info-drawer-page info-drawer-pane display-flex-column overflow-hidden',\n        {\n          open: displayed\n        }\n      )}>\n      <h2 className=\"back-button big-padded bordered-bottom\" onClick={() => onPageChange()}>\n        <BackIcon className=\"little-spacer-right\" />\n        {translate('back')}\n      </h2>\n\n      {displayed && <div className=\"overflow-y-auto big-padded\">{children}</div>}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport NotificationsList from '../../../../../../apps/account/notifications/NotificationsList';\nimport {\n  withNotifications,\n  WithNotificationsProps\n} from '../../../../../../components/hoc/withNotifications';\nimport { Alert } from '../../../../../../components/ui/Alert';\nimport DeferredSpinner from '../../../../../../components/ui/DeferredSpinner';\nimport { translate } from '../../../../../../helpers/l10n';\n\ninterface Props {\n  component: T.Component;\n}\n\nexport function ProjectNotifications(props: WithNotificationsProps & Props) {\n  const { channels, component, loading, notifications, perProjectTypes } = props;\n\n  const handleAddNotification = ({ channel, type }: { channel: string; type: string }) => {\n    props.addNotification({ project: component.key, channel, type });\n  };\n\n  const handleRemoveNotification = ({ channel, type }: { channel: string; type: string }) => {\n    props.removeNotification({\n      project: component.key,\n      channel,\n      type\n    });\n  };\n\n  const getCheckboxId = (type: string, channel: string) => {\n    return `project-notification-${component.key}-${type}-${channel}`;\n  };\n\n  const projectNotifications = notifications.filter(n => n.project && n.project === component.key);\n\n  return (\n    <>\n      <h3>{translate('project.info.notifications')}</h3>\n\n      <Alert className=\"spacer-top\" variant=\"info\">\n        {translate('notification.dispatcher.information')}\n      </Alert>\n\n      <DeferredSpinner loading={loading}>\n        <table className=\"data zebra notifications-table\">\n          <thead>\n            <tr>\n              <th aria-label={translate('project')} />\n              {channels.map(channel => (\n                <th className=\"text-center\" key={channel}>\n                  <h4>{translate('notification.channel', channel)}</h4>\n                </th>\n              ))}\n            </tr>\n          </thead>\n\n          <NotificationsList\n            channels={channels}\n            checkboxId={getCheckboxId}\n            notifications={projectNotifications}\n            onAdd={handleAddNotification}\n            onRemove={handleRemoveNotification}\n            project={true}\n            types={perProjectTypes}\n          />\n        </table>\n      </DeferredSpinner>\n    </>\n  );\n}\n\nexport default withNotifications(ProjectNotifications);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum ProjectInformationPages {\n  main,\n  badges,\n  notifications\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ChevronRightIcon from '../../../../../components/icons/ChevronRightIcon';\n\nexport interface DrawerLinkProps<P> {\n  label: string;\n  onPageChange: (page: P) => void;\n  to: P;\n}\n\nexport function DrawerLink<P>(props: DrawerLinkProps<P>) {\n  const { label, to } = props;\n\n  return (\n    <a\n      className=\"display-flex-space-between bordered-bottom big-padded\"\n      onClick={() => props.onPageChange(to)}\n      role=\"link\"\n      tabIndex={0}>\n      {label}\n      <ChevronRightIcon />\n    </a>\n  );\n}\n\nexport default React.memo(DrawerLink);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ClipboardButton } from '../../../../../../components/controls/clipboard';\nimport { translate } from '../../../../../../helpers/l10n';\n\ninterface Props {\n  componentKey: string;\n  qualifier: string;\n}\n\nexport default function MetaKey({ componentKey, qualifier }: Props) {\n  return (\n    <>\n      <h3>{translate('overview.project_key', qualifier)}</h3>\n      <div className=\"display-flex-center\">\n        <input className=\"overview-key\" readOnly={true} type=\"text\" value={componentKey} />\n        <ClipboardButton className=\"little-spacer-left\" copyValue={componentKey} />\n      </div>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getProjectLinks } from '../../../../../../api/projectLinks';\nimport { translate } from '../../../../../../helpers/l10n';\nimport { orderLinks } from '../../../../../../helpers/projectLinks';\nimport MetaLink from './MetaLink';\n\ninterface Props {\n  component: T.LightComponent;\n}\n\ninterface State {\n  links?: T.ProjectLink[];\n}\n\nexport default class MetaLinks extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {};\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadLinks();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.component.key !== this.props.component.key) {\n      this.loadLinks();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadLinks = () =>\n    getProjectLinks(this.props.component.key).then(\n      links => {\n        if (this.mounted) {\n          this.setState({ links });\n        }\n      },\n      () => {}\n    );\n\n  render() {\n    const { links } = this.state;\n\n    if (!links || links.length === 0) {\n      return null;\n    }\n\n    const orderedLinks = orderLinks(links);\n\n    return (\n      <>\n        <div className=\"big-padded bordered-bottom\">\n          <h3>{translate('overview.external_links')}</h3>\n          <ul className=\"project-info-list\">\n            {orderedLinks.map(link => (\n              <MetaLink key={link.id} link={link} />\n            ))}\n          </ul>\n        </div>\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { translate } from '../../../../../../helpers/l10n';\nimport { getQualityGateUrl } from '../../../../../../helpers/urls';\n\ninterface Props {\n  qualityGate: { isDefault?: boolean; key: string; name: string };\n}\n\nexport default function MetaQualityGate({ qualityGate }: Props) {\n  return (\n    <>\n      <h3>{translate('project.info.quality_gate')}</h3>\n\n      <ul className=\"project-info-list\">\n        <li>\n          {qualityGate.isDefault && (\n            <span className=\"note spacer-right\">({translate('default')})</span>\n          )}\n          <Link to={getQualityGateUrl(qualityGate.key)}>{qualityGate.name}</Link>\n        </li>\n      </ul>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router';\nimport { searchRules } from '../../../../../../api/rules';\nimport Tooltip from '../../../../../../components/controls/Tooltip';\nimport { translate, translateWithParameters } from '../../../../../../helpers/l10n';\nimport { getQualityProfileUrl } from '../../../../../../helpers/urls';\nimport { getLanguages, Store } from '../../../../../../store/rootReducer';\n\ninterface StateProps {\n  languages: T.Languages;\n}\n\ninterface OwnProps {\n  headerClassName?: string;\n  profiles: T.ComponentQualityProfile[];\n}\n\ninterface State {\n  deprecatedByKey: T.Dict<number>;\n}\n\nexport class MetaQualityProfiles extends React.PureComponent<StateProps & OwnProps, State> {\n  mounted = false;\n  state: State = { deprecatedByKey: {} };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadDeprecatedRules();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadDeprecatedRules() {\n    const existingProfiles = this.props.profiles.filter(p => !p.deleted);\n    const requests = existingProfiles.map(profile =>\n      this.loadDeprecatedRulesForProfile(profile.key)\n    );\n    Promise.all(requests).then(\n      responses => {\n        if (this.mounted) {\n          const deprecatedByKey: T.Dict<number> = {};\n          responses.forEach((count, i) => {\n            const profileKey = existingProfiles[i].key;\n            deprecatedByKey[profileKey] = count;\n          });\n          this.setState({ deprecatedByKey });\n        }\n      },\n      () => {}\n    );\n  }\n\n  loadDeprecatedRulesForProfile(profileKey: string) {\n    const data = {\n      activation: 'true',\n      ps: 1,\n      qprofile: profileKey,\n      statuses: 'DEPRECATED'\n    };\n    return searchRules(data).then(r => r.total);\n  }\n\n  getDeprecatedRulesCount(profile: { key: string }) {\n    const count = this.state.deprecatedByKey[profile.key];\n    return count || 0;\n  }\n\n  renderProfile(profile: T.ComponentQualityProfile) {\n    const languageFromStore = this.props.languages[profile.language];\n    const languageName = languageFromStore ? languageFromStore.name : profile.language;\n\n    const inner = (\n      <div className=\"text-ellipsis\">\n        <span className=\"note spacer-right\">({languageName})</span>\n        {profile.deleted ? (\n          profile.name\n        ) : (\n          <Link to={getQualityProfileUrl(profile.name, profile.language)}>{profile.name}</Link>\n        )}\n      </div>\n    );\n\n    if (profile.deleted) {\n      const tooltip = translateWithParameters('overview.deleted_profile', profile.name);\n      return (\n        <Tooltip key={profile.key} overlay={tooltip}>\n          <li className=\"project-info-deleted-profile\">{inner}</li>\n        </Tooltip>\n      );\n    }\n\n    const count = this.getDeprecatedRulesCount(profile);\n\n    if (count > 0) {\n      const tooltip = translateWithParameters('overview.deprecated_profile', count);\n      return (\n        <Tooltip key={profile.key} overlay={tooltip}>\n          <li className=\"project-info-deprecated-rules\">{inner}</li>\n        </Tooltip>\n      );\n    }\n\n    return <li key={profile.key}>{inner}</li>;\n  }\n\n  render() {\n    const { headerClassName, profiles } = this.props;\n\n    return (\n      <>\n        <h3 className={headerClassName}>{translate('overview.quality_profiles')}</h3>\n\n        <ul className=\"project-info-list\">\n          {profiles.map(profile => this.renderProfile(profile))}\n        </ul>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  languages: getLanguages(state)\n});\n\nexport default connect(mapStateToProps)(MetaQualityProfiles);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DrilldownLink from '../../../../../../components/shared/DrilldownLink';\nimport SizeRating from '../../../../../../components/ui/SizeRating';\nimport { translate } from '../../../../../../helpers/l10n';\nimport { formatMeasure, localizeMetric } from '../../../../../../helpers/measures';\nimport { ComponentQualifier } from '../../../../../../types/component';\nimport { MetricKey } from '../../../../../../types/metrics';\n\nexport interface MetaSizeProps {\n  component: T.Component;\n  measures: T.Measure[];\n}\n\nexport default function MetaSize({ component, measures }: MetaSizeProps) {\n  const isApp = component.qualifier === ComponentQualifier.Application;\n  const ncloc = measures.find(measure => measure.metric === MetricKey.ncloc);\n  const projects = isApp\n    ? measures.find(measure => measure.metric === MetricKey.projects)\n    : undefined;\n\n  return (\n    <>\n      <div className=\"display-flex-row display-inline-flex-baseline\">\n        <h3>{localizeMetric(MetricKey.ncloc)}</h3>\n        <span className=\"spacer-left small\">({translate('project.info.main_branch')})</span>\n      </div>\n      <div className=\"display-flex-center\">\n        {ncloc ? (\n          <>\n            <DrilldownLink className=\"huge\" component={component.key} metric={MetricKey.ncloc}>\n              {formatMeasure(ncloc.value, 'SHORT_INT')}\n            </DrilldownLink>\n\n            <span className=\"spacer-left\">\n              <SizeRating value={Number(ncloc.value)} />\n            </span>\n          </>\n        ) : (\n          <span>0</span>\n        )}\n\n        {isApp && (\n          <span className=\"huge-spacer-left display-inline-flex-center\">\n            {projects ? (\n              <DrilldownLink component={component.key} metric={MetricKey.projects}>\n                <span className=\"big\">{formatMeasure(projects.value, 'SHORT_INT')}</span>\n              </DrilldownLink>\n            ) : (\n              <span className=\"big\">0</span>\n            )}\n            <span className=\"little-spacer-left text-muted\">\n              {translate('metric.projects.name')}\n            </span>\n          </span>\n        )}\n      </div>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { difference, without } from 'lodash';\nimport * as React from 'react';\nimport { searchProjectTags } from '../../../../../../api/components';\nimport TagsSelector from '../../../../../../components/tags/TagsSelector';\n\ninterface Props {\n  project: string;\n  selectedTags: string[];\n  setProjectTags: (tags: string[]) => void;\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class MetaTagsSelector extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return searchProjectTags({\n      q: query,\n      ps: Math.min(this.props.selectedTags.length - 1 + LIST_SIZE, 100)\n    }).then(\n      ({ tags }) => {\n        if (this.mounted) {\n          this.setState({ searchResult: tags });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setProjectTags([...this.props.selectedTags, tag]);\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setProjectTags(without(this.props.selectedTags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.selectedTags);\n    return (\n      <TagsSelector\n        listSize={LIST_SIZE}\n        onSearch={this.onSearch}\n        onSelect={this.onSelect}\n        onUnselect={this.onUnselect}\n        selectedTags={this.props.selectedTags}\n        tags={availableTags}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { setApplicationTags, setProjectTags } from '../../../../../../api/components';\nimport { ButtonLink } from '../../../../../../components/controls/buttons';\nimport Dropdown from '../../../../../../components/controls/Dropdown';\nimport TagsList from '../../../../../../components/tags/TagsList';\nimport { PopupPlacement } from '../../../../../../components/ui/popups';\nimport { translate } from '../../../../../../helpers/l10n';\nimport { ComponentQualifier } from '../../../../../../types/component';\nimport MetaTagsSelector from './MetaTagsSelector';\n\ninterface Props {\n  component: T.Component;\n  onComponentChange: (changes: {}) => void;\n}\n\nexport default class MetaTags extends React.PureComponent<Props> {\n  card?: HTMLDivElement | null;\n  tagsList?: HTMLElement | null;\n  tagsSelector?: HTMLDivElement | null;\n\n  canUpdateTags = () => {\n    const { configuration } = this.props.component;\n    return configuration && configuration.showSettings;\n  };\n\n  getPopupPos = (eltPos: ClientRect, containerPos: ClientRect) => ({\n    top: eltPos.height,\n    right: containerPos.width - eltPos.width\n  });\n\n  setTags = (values: string[]) => {\n    const { component } = this.props;\n\n    if (component.qualifier === ComponentQualifier.Application) {\n      return setApplicationTags({\n        application: component.key,\n        tags: values.join(',')\n      });\n    } else {\n      return setProjectTags({\n        project: component.key,\n        tags: values.join(',')\n      });\n    }\n  };\n\n  handleSetProjectTags = (values: string[]) => {\n    this.setTags(values).then(\n      () => this.props.onComponentChange({ tags: values }),\n      () => {}\n    );\n  };\n\n  render() {\n    const { key } = this.props.component;\n    const tags = this.props.component.tags || [];\n\n    if (this.canUpdateTags()) {\n      return (\n        <div className=\"big-spacer-top project-info-tags\" ref={card => (this.card = card)}>\n          <Dropdown\n            closeOnClick={false}\n            closeOnClickOutside={true}\n            overlay={\n              <MetaTagsSelector\n                project={key}\n                selectedTags={tags}\n                setProjectTags={this.handleSetProjectTags}\n              />\n            }\n            overlayPlacement={PopupPlacement.BottomLeft}>\n            <ButtonLink innerRef={tagsList => (this.tagsList = tagsList)} stopPropagation={true}>\n              <TagsList allowUpdate={true} tags={tags.length ? tags : [translate('no_tags')]} />\n            </ButtonLink>\n          </Dropdown>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"big-spacer-top project-info-tags\">\n          <TagsList\n            allowUpdate={false}\n            className=\"note\"\n            tags={tags.length ? tags : [translate('no_tags')]}\n          />\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport PrivacyBadgeContainer from '../../../../../components/common/PrivacyBadgeContainer';\nimport { translate } from '../../../../../helpers/l10n';\nimport { ComponentQualifier } from '../../../../../types/component';\nimport DrawerLink from './DrawerLink';\nimport MetaKey from './meta/MetaKey';\nimport MetaLinks from './meta/MetaLinks';\nimport MetaQualityGate from './meta/MetaQualityGate';\nimport MetaQualityProfiles from './meta/MetaQualityProfiles';\nimport MetaSize from './meta/MetaSize';\nimport MetaTags from './meta/MetaTags';\nimport { ProjectInformationPages } from './ProjectInformationPages';\n\nexport interface ProjectInformationRendererProps {\n  canConfigureNotifications: boolean;\n  canUseBadges: boolean;\n  component: T.Component;\n  measures?: T.Measure[];\n  onComponentChange: (changes: {}) => void;\n  onPageChange: (page: ProjectInformationPages) => void;\n}\n\nexport function ProjectInformationRenderer(props: ProjectInformationRendererProps) {\n  const { canConfigureNotifications, canUseBadges, component, measures = [] } = props;\n\n  const isApp = component.qualifier === ComponentQualifier.Application;\n\n  return (\n    <>\n      <div>\n        <h2 className=\"big-padded bordered-bottom\">\n          {translate(isApp ? 'application' : 'project', 'info.title')}\n        </h2>\n      </div>\n\n      <div className=\"overflow-y-auto\">\n        <div className=\"big-padded bordered-bottom\">\n          <div className=\"display-flex-center\">\n            <h3 className=\"spacer-right\">{translate('project.info.description')}</h3>\n            {component.visibility && (\n              <PrivacyBadgeContainer\n                qualifier={component.qualifier}\n                visibility={component.visibility}\n              />\n            )}\n          </div>\n\n          {component.description && (\n            <p className=\"it__project-description\">{component.description}</p>\n          )}\n\n          <MetaTags component={component} onComponentChange={props.onComponentChange} />\n        </div>\n\n        <div className=\"big-padded bordered-bottom it__project-loc-value\">\n          <MetaSize component={component} measures={measures} />\n        </div>\n\n        {!isApp &&\n          (component.qualityGate ||\n            (component.qualityProfiles && component.qualityProfiles.length > 0)) && (\n            <>\n              <div className=\"big-padded bordered-bottom\">\n                {component.qualityGate && <MetaQualityGate qualityGate={component.qualityGate} />}\n\n                {component.qualityProfiles && component.qualityProfiles.length > 0 && (\n                  <MetaQualityProfiles\n                    headerClassName={component.qualityGate ? 'big-spacer-top' : undefined}\n                    profiles={component.qualityProfiles}\n                  />\n                )}\n              </div>\n            </>\n          )}\n\n        {!isApp && <MetaLinks component={component} />}\n\n        <div className=\"big-padded bordered-bottom\">\n          <MetaKey componentKey={component.key} qualifier={component.qualifier} />\n        </div>\n\n        {canUseBadges && (\n          <DrawerLink\n            label={translate('overview.badges.get_badge', component.qualifier)}\n            onPageChange={props.onPageChange}\n            to={ProjectInformationPages.badges}\n          />\n        )}\n        {canConfigureNotifications && (\n          <DrawerLink\n            label={translate('project.info.to_notifications')}\n            onPageChange={props.onPageChange}\n            to={ProjectInformationPages.notifications}\n          />\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default React.memo(ProjectInformationRenderer);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getMeasures } from '../../../../../api/measures';\nimport { isLoggedIn } from '../../../../../helpers/users';\nimport { fetchMetrics } from '../../../../../store/rootActions';\nimport { getCurrentUser, getMetrics, Store } from '../../../../../store/rootReducer';\nimport { BranchLike } from '../../../../../types/branch-like';\nimport { ComponentQualifier } from '../../../../../types/component';\nimport { MetricKey } from '../../../../../types/metrics';\nimport ProjectBadges from './badges/ProjectBadges';\nimport InfoDrawerPage from './InfoDrawerPage';\nimport ProjectNotifications from './notifications/ProjectNotifications';\nimport './ProjectInformation.css';\nimport { ProjectInformationPages } from './ProjectInformationPages';\nimport ProjectInformationRenderer from './ProjectInformationRenderer';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: T.Component;\n  currentUser: T.CurrentUser;\n  fetchMetrics: () => void;\n  onComponentChange: (changes: {}) => void;\n  metrics: T.Dict<T.Metric>;\n}\n\ninterface State {\n  measures?: T.Measure[];\n  page: ProjectInformationPages;\n}\n\nexport class ProjectInformation extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    page: ProjectInformationPages.main\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.fetchMetrics();\n    this.loadMeasures();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  setPage = (page: ProjectInformationPages = ProjectInformationPages.main) => {\n    this.setState({ page });\n  };\n\n  loadMeasures = () => {\n    const {\n      component: { key }\n    } = this.props;\n\n    return getMeasures({\n      component: key,\n      metricKeys: [MetricKey.ncloc, MetricKey.projects].join()\n    }).then(measures => {\n      if (this.mounted) {\n        this.setState({ measures });\n      }\n    });\n  };\n\n  render() {\n    const { branchLike, component, currentUser, metrics } = this.props;\n    const { measures, page } = this.state;\n\n    const canConfigureNotifications =\n      isLoggedIn(currentUser) && component.qualifier === ComponentQualifier.Project;\n    const canUseBadges =\n      metrics !== undefined &&\n      component.visibility !== 'private' &&\n      (component.qualifier === ComponentQualifier.Application ||\n        component.qualifier === ComponentQualifier.Project);\n\n    return (\n      <>\n        <ProjectInformationRenderer\n          canConfigureNotifications={canConfigureNotifications}\n          canUseBadges={canUseBadges}\n          component={component}\n          measures={measures}\n          onComponentChange={this.props.onComponentChange}\n          onPageChange={this.setPage}\n        />\n        {canUseBadges && (\n          <InfoDrawerPage\n            displayed={page === ProjectInformationPages.badges}\n            onPageChange={this.setPage}>\n            <ProjectBadges\n              branchLike={branchLike}\n              metrics={metrics}\n              project={component.key}\n              qualifier={component.qualifier}\n            />\n          </InfoDrawerPage>\n        )}\n        {canConfigureNotifications && (\n          <InfoDrawerPage\n            displayed={page === ProjectInformationPages.notifications}\n            onPageChange={this.setPage}>\n            <ProjectNotifications component={component} />\n          </InfoDrawerPage>\n        )}\n      </>\n    );\n  }\n}\n\nconst mapDispatchToProps = { fetchMetrics };\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state),\n  metrics: getMetrics(state)\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProjectInformation);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport ContextNavBar from '../../../../components/ui/ContextNavBar';\nimport {\n  ProjectAlmBindingConfigurationErrors,\n  ProjectAlmBindingResponse\n} from '../../../../types/alm-settings';\nimport { BranchLike } from '../../../../types/branch-like';\nimport { ComponentQualifier } from '../../../../types/component';\nimport { Task, TaskStatuses, TaskWarning } from '../../../../types/tasks';\nimport { rawSizes } from '../../../theme';\nimport RecentHistory from '../../RecentHistory';\nimport ComponentNavBgTaskNotif from './ComponentNavBgTaskNotif';\nimport ComponentNavProjectBindingErrorNotif from './ComponentNavProjectBindingErrorNotif';\nimport Header from './Header';\nimport HeaderMeta from './HeaderMeta';\nimport Menu from './Menu';\nimport InfoDrawer from './projectInformation/InfoDrawer';\nimport ProjectInformation from './projectInformation/ProjectInformation';\n\nexport interface ComponentNavProps {\n  branchLikes: BranchLike[];\n  currentBranchLike: BranchLike | undefined;\n  component: T.Component;\n  currentTask?: Task;\n  currentTaskOnSameBranch?: boolean;\n  isInProgress?: boolean;\n  isPending?: boolean;\n  onComponentChange: (changes: Partial<T.Component>) => void;\n  onWarningDismiss: () => void;\n  projectBinding?: ProjectAlmBindingResponse;\n  projectBindingErrors?: ProjectAlmBindingConfigurationErrors;\n  warnings: TaskWarning[];\n}\n\nconst ALERT_HEIGHT = 30;\n\nexport default function ComponentNav(props: ComponentNavProps) {\n  const {\n    branchLikes,\n    component,\n    currentBranchLike,\n    currentTask,\n    currentTaskOnSameBranch,\n    isInProgress,\n    isPending,\n    projectBinding,\n    projectBindingErrors,\n    warnings\n  } = props;\n  const { contextNavHeightRaw, globalNavHeightRaw } = rawSizes;\n\n  const [displayProjectInfo, setDisplayProjectInfo] = React.useState(false);\n\n  React.useEffect(() => {\n    const { breadcrumbs, key, name } = component;\n    const { qualifier } = breadcrumbs[breadcrumbs.length - 1];\n    if (\n      [\n        ComponentQualifier.Project,\n        ComponentQualifier.Portfolio,\n        ComponentQualifier.Application,\n        ComponentQualifier.Developper\n      ].includes(qualifier as ComponentQualifier)\n    ) {\n      RecentHistory.add(key, name, qualifier.toLowerCase());\n    }\n  }, [component, component.key]);\n\n  let contextNavHeight = contextNavHeightRaw;\n\n  let bgTaskNotifComponent;\n  if (isInProgress || isPending || (currentTask && currentTask.status === TaskStatuses.Failed)) {\n    bgTaskNotifComponent = (\n      <ComponentNavBgTaskNotif\n        component={component}\n        currentTask={currentTask}\n        currentTaskOnSameBranch={currentTaskOnSameBranch}\n        isInProgress={isInProgress}\n        isPending={isPending}\n      />\n    );\n    contextNavHeight += ALERT_HEIGHT;\n  }\n\n  let prDecoNotifComponent;\n  if (projectBindingErrors !== undefined) {\n    prDecoNotifComponent = <ComponentNavProjectBindingErrorNotif component={component} />;\n    contextNavHeight += ALERT_HEIGHT;\n  }\n\n  return (\n    <ContextNavBar\n      height={contextNavHeight}\n      id=\"context-navigation\"\n      notif={\n        <>\n          {bgTaskNotifComponent}\n          {prDecoNotifComponent}\n        </>\n      }>\n      <div\n        className={classNames('display-flex-center display-flex-space-between little-padded-top', {\n          'padded-bottom': warnings.length === 0\n        })}>\n        <Header\n          branchLikes={branchLikes}\n          component={component}\n          currentBranchLike={currentBranchLike}\n          projectBinding={projectBinding}\n        />\n        <HeaderMeta\n          branchLike={currentBranchLike}\n          component={component}\n          onWarningDismiss={props.onWarningDismiss}\n          warnings={warnings}\n        />\n      </div>\n      <Menu\n        branchLike={currentBranchLike}\n        branchLikes={branchLikes}\n        component={component}\n        isInProgress={isInProgress}\n        isPending={isPending}\n        onToggleProjectInfo={() => setDisplayProjectInfo(!displayProjectInfo)}\n      />\n      <InfoDrawer\n        displayed={displayProjectInfo}\n        onClose={() => setDisplayProjectInfo(false)}\n        top={globalNavHeightRaw + contextNavHeightRaw}>\n        <ProjectInformation\n          branchLike={currentBranchLike}\n          component={component}\n          onComponentChange={props.onComponentChange}\n        />\n      </InfoDrawer>\n    </ContextNavBar>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { differenceBy } from 'lodash';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getProjectAlmBinding, validateProjectAlmBinding } from '../../api/alm-settings';\nimport { getBranches, getPullRequests } from '../../api/branches';\nimport { getAnalysisStatus, getTasksForComponent } from '../../api/ce';\nimport { getComponentData } from '../../api/components';\nimport { getComponentNavigation } from '../../api/nav';\nimport { withAppState } from '../../components/hoc/withAppState';\nimport { Location, Router, withRouter } from '../../components/hoc/withRouter';\nimport {\n  getBranchLikeQuery,\n  isBranch,\n  isMainBranch,\n  isPullRequest\n} from '../../helpers/branch-like';\nimport { HttpStatus } from '../../helpers/request';\nimport { getPortfolioUrl } from '../../helpers/urls';\nimport { registerBranchStatus, requireAuthorization } from '../../store/rootActions';\nimport {\n  ProjectAlmBindingConfigurationErrors,\n  ProjectAlmBindingResponse\n} from '../../types/alm-settings';\nimport { BranchLike } from '../../types/branch-like';\nimport { ComponentQualifier, isPortfolioLike } from '../../types/component';\nimport { Task, TaskStatuses, TaskTypes, TaskWarning } from '../../types/tasks';\nimport ComponentContainerNotFound from './ComponentContainerNotFound';\nimport { ComponentContext } from './ComponentContext';\nimport PageUnavailableDueToIndexation from './indexation/PageUnavailableDueToIndexation';\nimport ComponentNav from './nav/component/ComponentNav';\n\ninterface Props {\n  appState: Pick<T.AppState, 'branchesEnabled'>;\n  children: React.ReactElement;\n  location: Pick<Location, 'query' | 'pathname'>;\n  registerBranchStatus: (branchLike: BranchLike, component: string, status: T.Status) => void;\n  requireAuthorization: (router: Pick<Router, 'replace'>) => void;\n  router: Pick<Router, 'replace'>;\n}\n\ninterface State {\n  branchLike?: BranchLike;\n  branchLikes: BranchLike[];\n  component?: T.Component;\n  currentTask?: Task;\n  isPending: boolean;\n  loading: boolean;\n  projectBinding?: ProjectAlmBindingResponse;\n  projectBindingErrors?: ProjectAlmBindingConfigurationErrors;\n  tasksInProgress?: Task[];\n  warnings: TaskWarning[];\n}\n\nconst FETCH_STATUS_WAIT_TIME = 3000;\n\nexport class ComponentContainer extends React.PureComponent<Props, State> {\n  watchStatusTimer?: number;\n  mounted = false;\n  state: State = { branchLikes: [], isPending: false, loading: true, warnings: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponent();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.location.query.id !== this.props.location.query.id ||\n      prevProps.location.query.branch !== this.props.location.query.branch ||\n      prevProps.location.query.pullRequest !== this.props.location.query.pullRequest\n    ) {\n      this.fetchComponent();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    window.clearTimeout(this.watchStatusTimer);\n  }\n\n  fetchComponent = async () => {\n    const { branch, id: key, pullRequest } = this.props.location.query;\n    this.setState({ loading: true });\n\n    let componentWithQualifier;\n    try {\n      const [nav, { component }] = await Promise.all([\n        getComponentNavigation({ component: key, branch, pullRequest }),\n        getComponentData({ component: key, branch, pullRequest })\n      ]);\n      componentWithQualifier = this.addQualifier({ ...nav, ...component });\n    } catch (e) {\n      if (this.mounted) {\n        if (e && e.status === HttpStatus.Forbidden) {\n          this.props.requireAuthorization(this.props.router);\n        } else {\n          this.setState({ component: undefined, loading: false });\n        }\n      }\n      return;\n    }\n\n    /*\n     * There used to be a redirect from /dashboard to /portfolio which caused issues.\n     * Links should be fixed to not rely on this redirect, but:\n     * This is a fail-safe in case there are still some faulty links remaining.\n     */\n    if (\n      this.props.location.pathname.match('dashboard') &&\n      isPortfolioLike(componentWithQualifier.qualifier)\n    ) {\n      this.props.router.replace(getPortfolioUrl(componentWithQualifier.key));\n    }\n\n    const { branchLike, branchLikes } = await this.fetchBranches(componentWithQualifier);\n\n    let projectBinding;\n    if (componentWithQualifier.qualifier === ComponentQualifier.Project) {\n      projectBinding = await getProjectAlmBinding(key).catch(() => undefined);\n    }\n\n    if (this.mounted) {\n      this.setState({\n        branchLike,\n        branchLikes,\n        component: componentWithQualifier,\n        projectBinding,\n        loading: false\n      });\n\n      this.fetchStatus(componentWithQualifier.key);\n      this.fetchWarnings(componentWithQualifier, branchLike);\n      this.fetchProjectBindingErrors(componentWithQualifier);\n    }\n  };\n\n  fetchBranches = async (componentWithQualifier: T.Component) => {\n    const breadcrumb = componentWithQualifier.breadcrumbs.find(({ qualifier }) => {\n      return ([ComponentQualifier.Application, ComponentQualifier.Project] as string[]).includes(\n        qualifier\n      );\n    });\n\n    let branchLike = undefined;\n    let branchLikes: BranchLike[] = [];\n\n    if (breadcrumb) {\n      const { key } = breadcrumb;\n      const [branches, pullRequests] = await Promise.all([\n        getBranches(key),\n        breadcrumb.qualifier === ComponentQualifier.Application\n          ? Promise.resolve([])\n          : getPullRequests(key)\n      ]);\n\n      branchLikes = [...branches, ...pullRequests];\n      branchLike = this.getCurrentBranchLike(branchLikes);\n\n      this.registerBranchStatuses(branchLikes, componentWithQualifier);\n    }\n\n    return { branchLike, branchLikes };\n  };\n\n  fetchStatus = (componentKey: string) => {\n    getTasksForComponent(componentKey).then(\n      ({ current, queue }) => {\n        if (this.mounted) {\n          let shouldFetchComponent = false;\n          this.setState(\n            ({ branchLike, component, currentTask, tasksInProgress }) => {\n              const newCurrentTask = this.getCurrentTask(current, branchLike);\n              const pendingTasks = this.getPendingTasksForBranchLike(queue, branchLike);\n              const newTasksInProgress = this.getInProgressTasks(pendingTasks);\n\n              shouldFetchComponent = this.computeShouldFetchComponent(\n                tasksInProgress,\n                newTasksInProgress,\n                currentTask,\n                newCurrentTask,\n                component\n              );\n\n              if (this.needsAnotherCheck(shouldFetchComponent, component, newTasksInProgress)) {\n                // Refresh the status as long as there is tasks in progress or no analysis\n                window.clearTimeout(this.watchStatusTimer);\n                this.watchStatusTimer = window.setTimeout(\n                  () => this.fetchStatus(componentKey),\n                  FETCH_STATUS_WAIT_TIME\n                );\n              }\n\n              const isPending = pendingTasks.some(task => task.status === TaskStatuses.Pending);\n              return {\n                currentTask: newCurrentTask,\n                isPending,\n                tasksInProgress: newTasksInProgress\n              };\n            },\n            () => {\n              if (shouldFetchComponent) {\n                this.fetchComponent();\n              }\n            }\n          );\n        }\n      },\n      () => {}\n    );\n  };\n\n  fetchWarnings = (component: T.Component, branchLike?: BranchLike) => {\n    if (component.qualifier === ComponentQualifier.Project) {\n      getAnalysisStatus({\n        component: component.key,\n        ...getBranchLikeQuery(branchLike)\n      }).then(\n        ({ component }) => {\n          this.setState({ warnings: component.warnings });\n        },\n        () => {}\n      );\n    }\n  };\n\n  fetchProjectBindingErrors = async (component: T.Component) => {\n    if (\n      component.qualifier === ComponentQualifier.Project &&\n      component.analysisDate === undefined &&\n      this.props.appState.branchesEnabled\n    ) {\n      const projectBindingErrors = await validateProjectAlmBinding(component.key).catch(\n        () => undefined\n      );\n      if (this.mounted) {\n        this.setState({ projectBindingErrors });\n      }\n    }\n  };\n\n  addQualifier = (component: T.Component) => ({\n    ...component,\n    qualifier: component.breadcrumbs[component.breadcrumbs.length - 1].qualifier\n  });\n\n  getCurrentBranchLike = (branchLikes: BranchLike[]) => {\n    const { query } = this.props.location;\n    return query.pullRequest\n      ? branchLikes.find(b => isPullRequest(b) && b.key === query.pullRequest)\n      : branchLikes.find(b => isBranch(b) && (query.branch ? b.name === query.branch : b.isMain));\n  };\n\n  getCurrentTask = (current: Task, branchLike?: BranchLike) => {\n    if (!current || !this.isReportRelatedTask(current)) {\n      return undefined;\n    }\n\n    return current.status === TaskStatuses.Failed || this.isSameBranch(current, branchLike)\n      ? current\n      : undefined;\n  };\n\n  getPendingTasksForBranchLike = (pendingTasks: Task[], branchLike?: BranchLike) => {\n    return pendingTasks.filter(\n      task => this.isReportRelatedTask(task) && this.isSameBranch(task, branchLike)\n    );\n  };\n\n  getInProgressTasks = (pendingTasks: Task[]) => {\n    return pendingTasks.filter(task => task.status === TaskStatuses.InProgress);\n  };\n\n  isReportRelatedTask = (task: Task) => {\n    return [TaskTypes.AppRefresh, TaskTypes.Report, TaskTypes.ViewRefresh].includes(task.type);\n  };\n\n  computeShouldFetchComponent = (\n    tasksInProgress: Task[] | undefined,\n    newTasksInProgress: Task[],\n    currentTask: Task | undefined,\n    newCurrentTask: Task | undefined,\n    component: T.Component | undefined\n  ) => {\n    const progressHasChanged = Boolean(\n      tasksInProgress &&\n        (newTasksInProgress.length !== tasksInProgress.length ||\n          differenceBy(newTasksInProgress, tasksInProgress, 'id').length > 0)\n    );\n\n    const currentTaskHasChanged = Boolean(\n      (!currentTask && newCurrentTask) ||\n        (currentTask && newCurrentTask && currentTask.id !== newCurrentTask.id)\n    );\n\n    if (progressHasChanged) {\n      return true;\n    } else if (currentTaskHasChanged && component) {\n      // We return true if:\n      // - there was no prior analysis date (means this is an empty project, and\n      //   a new analysis came in)\n      // - OR, there was a prior analysis date (non-empty project) AND there were\n      //   some tasks in progress before\n      return (\n        Boolean(!component.analysisDate) ||\n        Boolean(component.analysisDate && tasksInProgress?.length)\n      );\n    }\n    return false;\n  };\n\n  needsAnotherCheck = (\n    shouldFetchComponent: boolean,\n    component: T.Component | undefined,\n    newTasksInProgress: Task[]\n  ) => {\n    return (\n      !shouldFetchComponent &&\n      component &&\n      (newTasksInProgress.length > 0 || !component.analysisDate)\n    );\n  };\n\n  isSameBranch = (task: Pick<Task, 'branch' | 'pullRequest'>, branchLike?: BranchLike) => {\n    if (branchLike) {\n      if (isMainBranch(branchLike)) {\n        return (!task.pullRequest && !task.branch) || branchLike.name === task.branch;\n      }\n      if (isPullRequest(branchLike)) {\n        return branchLike.key === task.pullRequest;\n      }\n      if (isBranch(branchLike)) {\n        return branchLike.name === task.branch;\n      }\n    }\n    return !task.branch && !task.pullRequest;\n  };\n\n  registerBranchStatuses = (branchLikes: BranchLike[], component: T.Component) => {\n    branchLikes.forEach(branchLike => {\n      if (branchLike.status) {\n        this.props.registerBranchStatus(\n          branchLike,\n          component.key,\n          branchLike.status.qualityGateStatus\n        );\n      }\n    });\n  };\n\n  handleComponentChange = (changes: Partial<T.Component>) => {\n    if (this.mounted) {\n      this.setState(state => {\n        if (state.component) {\n          const newComponent: T.Component = { ...state.component, ...changes };\n          return { component: newComponent };\n        }\n        return null;\n      });\n    }\n  };\n\n  handleBranchesChange = () => {\n    if (this.mounted && this.state.component) {\n      this.fetchBranches(this.state.component).then(\n        ({ branchLike, branchLikes }) => {\n          if (this.mounted) {\n            this.setState({ branchLike, branchLikes });\n          }\n        },\n        () => {}\n      );\n    }\n  };\n\n  handleWarningDismiss = () => {\n    const { component } = this.state;\n    if (component !== undefined) {\n      this.fetchWarnings(component);\n    }\n  };\n\n  render() {\n    const { component, loading } = this.state;\n\n    if (!loading && !component) {\n      return <ComponentContainerNotFound />;\n    }\n\n    if (component?.needIssueSync) {\n      return <PageUnavailableDueToIndexation component={component} />;\n    }\n\n    const {\n      branchLike,\n      branchLikes,\n      currentTask,\n      isPending,\n      projectBinding,\n      projectBindingErrors,\n      tasksInProgress\n    } = this.state;\n    const isInProgress = tasksInProgress && tasksInProgress.length > 0;\n\n    return (\n      <div>\n        {component &&\n          !([ComponentQualifier.File, ComponentQualifier.TestFile] as string[]).includes(\n            component.qualifier\n          ) && (\n            <ComponentNav\n              branchLikes={branchLikes}\n              component={component}\n              currentBranchLike={branchLike}\n              currentTask={currentTask}\n              currentTaskOnSameBranch={currentTask && this.isSameBranch(currentTask, branchLike)}\n              isInProgress={isInProgress}\n              isPending={isPending}\n              onComponentChange={this.handleComponentChange}\n              onWarningDismiss={this.handleWarningDismiss}\n              projectBinding={projectBinding}\n              projectBindingErrors={projectBindingErrors}\n              warnings={this.state.warnings}\n            />\n          )}\n        {loading ? (\n          <div className=\"page page-limited\">\n            <i className=\"spinner\" />\n          </div>\n        ) : (\n          <ComponentContext.Provider value={{ branchLike, component }}>\n            {React.cloneElement(this.props.children, {\n              branchLike,\n              branchLikes,\n              component,\n              isInProgress,\n              isPending,\n              onBranchesChange: this.handleBranchesChange,\n              onComponentChange: this.handleComponentChange,\n              projectBinding\n            })}\n          </ComponentContext.Provider>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = { registerBranchStatus, requireAuthorization };\n\nexport default withAppState(withRouter(connect(null, mapDispatchToProps)(ComponentContainer)));\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function CopyIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <g fill={fill} fillRule=\"nonzero\">\n        <path d=\"M2.931 15.005V3H2v13h9v-.995z\" />\n        <path d=\"M10 4.015h3V14H4V1h6v3.015zM9 8V6H8v2H6v1h2v2h1V9h2V8H9z\" />\n        <path d=\"M11 1v2h2a2.151 2.151 0 0 0-2-2z\" />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as Clipboard from 'clipboard';\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\nimport CopyIcon from '../icons/CopyIcon';\nimport { Button, ButtonIcon } from './buttons';\nimport Tooltip from './Tooltip';\n\nexport interface State {\n  copySuccess: boolean;\n}\n\ninterface RenderProps {\n  setCopyButton: (node: HTMLElement | null) => void;\n  copySuccess: boolean;\n}\n\ninterface BaseProps {\n  children: (props: RenderProps) => React.ReactNode;\n}\n\nexport class ClipboardBase extends React.PureComponent<BaseProps, State> {\n  private clipboard?: Clipboard;\n  private copyButton?: HTMLElement | null;\n  mounted = false;\n  state: State = { copySuccess: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    if (this.copyButton) {\n      this.clipboard = new Clipboard(this.copyButton);\n      this.clipboard.on('success', this.handleSuccessCopy);\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.clipboard) {\n      this.clipboard.destroy();\n    }\n    if (this.copyButton) {\n      this.clipboard = new Clipboard(this.copyButton);\n      this.clipboard.on('success', this.handleSuccessCopy);\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.clipboard) {\n      this.clipboard.destroy();\n    }\n  }\n\n  setCopyButton = (node: HTMLElement | null) => {\n    this.copyButton = node;\n  };\n\n  handleSuccessCopy = () => {\n    if (this.mounted) {\n      this.setState({ copySuccess: true });\n      setTimeout(() => {\n        if (this.mounted) {\n          this.setState({ copySuccess: false });\n        }\n      }, 1000);\n    }\n  };\n\n  render() {\n    return this.props.children({\n      setCopyButton: this.setCopyButton,\n      copySuccess: this.state.copySuccess\n    });\n  }\n}\n\ninterface ButtonProps {\n  className?: string;\n  copyValue: string;\n  children?: React.ReactNode;\n}\n\nexport function ClipboardButton({ className, children, copyValue }: ButtonProps) {\n  return (\n    <ClipboardBase>\n      {({ setCopyButton, copySuccess }) => (\n        <Tooltip overlay={translate('copied_action')} visible={copySuccess}>\n          <Button\n            className={classNames('no-select', className)}\n            data-clipboard-text={copyValue}\n            innerRef={setCopyButton}>\n            {children || (\n              <>\n                <CopyIcon className=\"little-spacer-right\" />\n                {translate('copy')}\n              </>\n            )}\n          </Button>\n        </Tooltip>\n      )}\n    </ClipboardBase>\n  );\n}\n\ninterface IconButtonProps {\n  'aria-label'?: string;\n  className?: string;\n  copyValue: string;\n}\n\nexport function ClipboardIconButton(props: IconButtonProps) {\n  const { className, copyValue } = props;\n  return (\n    <ClipboardBase>\n      {({ setCopyButton, copySuccess }) => {\n        return (\n          <ButtonIcon\n            aria-label={props['aria-label'] ?? translate('copy_to_clipboard')}\n            className={classNames('no-select', className)}\n            data-clipboard-text={copyValue}\n            innerRef={setCopyButton}\n            tooltip={translate(copySuccess ? 'copied_action' : 'copy_to_clipboard')}\n            tooltipProps={copySuccess ? { visible: copySuccess } : undefined}>\n            <CopyIcon />\n          </ButtonIcon>\n        );\n      }}\n    </ClipboardBase>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n/* eslint-disable jsx-a11y/anchor-has-content */\n/* eslint-disable jsx-a11y/control-has-associated-label */\n\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport DeferredSpinner from '../ui/DeferredSpinner';\nimport './Checkbox.css';\n\ninterface Props {\n  checked: boolean;\n  disabled?: boolean;\n  children?: React.ReactNode;\n  className?: string;\n  id?: string;\n  loading?: boolean;\n  onCheck: (checked: boolean, id?: string) => void;\n  right?: boolean;\n  thirdState?: boolean;\n  title?: string;\n}\n\nexport default class Checkbox extends React.PureComponent<Props> {\n  static defaultProps = {\n    thirdState: false\n  };\n\n  handleClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (!this.props.disabled) {\n      this.props.onCheck(!this.props.checked, this.props.id);\n    }\n  };\n\n  render() {\n    const { checked, children, disabled, id, loading, right, thirdState, title } = this.props;\n    const className = classNames('icon-checkbox', {\n      'icon-checkbox-checked': checked,\n      'icon-checkbox-single': thirdState,\n      'icon-checkbox-disabled': disabled\n    });\n\n    if (children) {\n      return (\n        <a\n          aria-checked={checked}\n          className={classNames('link-checkbox', this.props.className, {\n            note: disabled,\n            disabled\n          })}\n          href=\"#\"\n          id={id}\n          onClick={this.handleClick}\n          role=\"checkbox\"\n          title={title}>\n          {right && children}\n          <DeferredSpinner loading={Boolean(loading)}>\n            <i className={className} />\n          </DeferredSpinner>\n          {!right && children}\n        </a>\n      );\n    }\n\n    if (loading) {\n      return <DeferredSpinner />;\n    }\n\n    return (\n      <a\n        aria-checked={checked}\n        className={classNames(className, this.props.className)}\n        href=\"#\"\n        id={id}\n        onClick={this.handleClick}\n        role=\"checkbox\"\n        title={title}\n      />\n    );\n  }\n}\n","var baseDifference = require('./_baseDifference'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array excluding all given values using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.pull`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...*} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.xor\n * @example\n *\n * _.without([2, 1, 2, 3], 1, 2);\n * // => [3]\n */\nvar without = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, values)\n    : [];\n});\n\nmodule.exports = without;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Checkbox.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".icon-checkbox{display:inline-block;line-height:1;vertical-align:top;padding:1px 2px;box-sizing:border-box}a.icon-checkbox{border-bottom:none}.icon-checkbox:focus{outline:none}.icon-checkbox:before{content:\\\" \\\";display:inline-block;width:10px;height:10px;border:1px solid #236a97;border-radius:2px;transition:border-color .2s ease,background-color .2s ease,background-image .2s ease,box-shadow .4s ease}.icon-checkbox:not(.icon-checkbox-disabled):focus:before,.link-checkbox:not(.disabled):focus:focus .icon-checkbox:before{box-shadow:0 0 0 3px rgba(35,106,151,.25)}.icon-checkbox-checked:before{background-color:#4b9fd5;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M12 4.665c0 .172-.06.318-.18.438l-5.55 5.55c-.12.12-.266.18-.438.18s-.318-.06-.438-.18L2.18 7.438C2.06 7.317 2 7.17 2 7s.06-.318.18-.44l.878-.876c.12-.12.267-.18.44-.18.17 0 .317.06.437.18l1.897 1.903 4.233-4.24c.12-.12.266-.18.438-.18s.32.06.44.18l.876.88c.12.12.18.265.18.438z' fill='%23fff' fill-rule='nonzero'/%3E%3C/svg%3E\\\");border-color:#4b9fd5}.icon-checkbox-checked.icon-checkbox-single:before{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M10 4.698A.697.697 0 0 0 9.302 4H4.698A.697.697 0 0 0 4 4.698v4.604c0 .386.312.698.698.698h4.604A.697.697 0 0 0 10 9.302V4.698z' fill='%23fff'/%3E%3C/svg%3E\\\")}.icon-checkbox-disabled:before{border:1px solid #bbb;cursor:not-allowed}.icon-checkbox-disabled.icon-checkbox-checked:before{background-color:#bbb}.icon-checkbox-invisible{visibility:hidden}.link-checkbox{color:inherit;border-bottom:none}.link-checkbox.disabled,.link-checkbox.disabled:hover,.link-checkbox.disabled label{color:#666;cursor:not-allowed}.link-checkbox:active,.link-checkbox:focus,.link-checkbox:hover{color:inherit}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function DetachIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M12 9.25v2.5A2.25 2.25 0 0 1 9.75 14h-6.5A2.25 2.25 0 0 1 1 11.75v-6.5A2.25 2.25 0 0 1 3.25 3h5.5c.14 0 .25.11.25.25v.5c0 .14-.11.25-.25.25h-5.5C2.562 4 2 4.563 2 5.25v6.5c0 .688.563 1.25 1.25 1.25h6.5c.688 0 1.25-.563 1.25-1.25v-2.5c0-.14.11-.25.25-.25h.5c.14 0 .25.11.25.25zm3-6.75v4c0 .273-.227.5-.5.5a.497.497 0 0 1-.352-.148l-1.375-1.375L7.68 10.57a.27.27 0 0 1-.18.078.27.27 0 0 1-.18-.078l-.89-.89a.27.27 0 0 1-.078-.18.27.27 0 0 1 .078-.18l5.093-5.093-1.375-1.375A.497.497 0 0 1 10 2.5c0-.273.227-.5.5-.5h4c.273 0 .5.227.5.5z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { ClipboardButton } from '../../components/controls/clipboard';\nimport { isDefined } from '../../helpers/types';\nimport './CodeSnippet.css';\n\nexport interface CodeSnippetProps {\n  isOneLine?: boolean;\n  noCopy?: boolean;\n  snippet: string | (string | undefined)[];\n}\n\nexport default function CodeSnippet(props: CodeSnippetProps) {\n  const { isOneLine, noCopy, snippet } = props;\n  const snippetRef = React.useRef<HTMLPreElement>(null);\n\n  let finalSnippet: string;\n  if (Array.isArray(snippet)) {\n    finalSnippet = snippet.filter(line => isDefined(line)).join(isOneLine ? ' ' : ' \\\\\\n  ');\n  } else {\n    finalSnippet = snippet;\n  }\n\n  return (\n    <div className={classNames('code-snippet spacer-top spacer-bottom display-flex-row', {})}>\n      <pre className=\"flex-1\" ref={snippetRef}>\n        {finalSnippet}\n      </pre>\n      {!noCopy && <ClipboardButton copyValue={finalSnippet} />}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { colors } from '../../app/theme';\nimport Icon, { IconProps } from './Icon';\n\nexport default function BranchIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M12.5 6.5c0-1.1-.9-2-2-2s-2 .9-2 2c0 .8.5 1.5 1.2 1.8-.3.6-.7 1.1-1.2 1.4-.9.5-1.9.5-2.5.4V4c.9-.2 1.5-1 1.5-1.9 0-1.1-.9-2-2-2s-2 .9-2 2C3.5 3 4.1 3.8 5 4v8c-.9.2-1.5 1-1.5 1.9 0 1.1.9 2 2 2s2-.9 2-2c0-.9-.6-1.7-1.5-1.9v-1c.2 0 .5.1.7.1.7 0 1.5-.1 2.2-.6.8-.5 1.4-1.2 1.7-2.1 1.1 0 1.9-.9 1.9-1.9zm-8-4.4c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.5-1-1zm2 11.9c0 .6-.4 1-1 1s-1-.4-1-1 .4-1 1-1 1 .4 1 1zm4-6.5c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","(function(module) {\n    'use strict';\n\n    module.exports.is_uri = is_iri;\n    module.exports.is_http_uri = is_http_iri;\n    module.exports.is_https_uri = is_https_iri;\n    module.exports.is_web_uri = is_web_iri;\n    // Create aliases\n    module.exports.isUri = is_iri;\n    module.exports.isHttpUri = is_http_iri;\n    module.exports.isHttpsUri = is_https_iri;\n    module.exports.isWebUri = is_web_iri;\n\n\n    // private function\n    // internal URI spitter method - direct from RFC 3986\n    var splitUri = function(uri) {\n        var splitted = uri.match(/(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?/);\n        return splitted;\n    };\n\n    function is_iri(value) {\n        if (!value) {\n            return;\n        }\n\n        // check for illegal characters\n        if (/[^a-z0-9\\:\\/\\?\\#\\[\\]\\@\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=\\.\\-\\_\\~\\%]/i.test(value)) return;\n\n        // check for hex escapes that aren't complete\n        if (/%[^0-9a-f]/i.test(value)) return;\n        if (/%[0-9a-f](:?[^0-9a-f]|$)/i.test(value)) return;\n\n        var splitted = [];\n        var scheme = '';\n        var authority = '';\n        var path = '';\n        var query = '';\n        var fragment = '';\n        var out = '';\n\n        // from RFC 3986\n        splitted = splitUri(value);\n        scheme = splitted[1]; \n        authority = splitted[2];\n        path = splitted[3];\n        query = splitted[4];\n        fragment = splitted[5];\n\n        // scheme and path are required, though the path can be empty\n        if (!(scheme && scheme.length && path.length >= 0)) return;\n\n        // if authority is present, the path must be empty or begin with a /\n        if (authority && authority.length) {\n            if (!(path.length === 0 || /^\\//.test(path))) return;\n        } else {\n            // if authority is not present, the path must not start with //\n            if (/^\\/\\//.test(path)) return;\n        }\n\n        // scheme must begin with a letter, then consist of letters, digits, +, ., or -\n        if (!/^[a-z][a-z0-9\\+\\-\\.]*$/.test(scheme.toLowerCase()))  return;\n\n        // re-assemble the URL per section 5.3 in RFC 3986\n        out += scheme + ':';\n        if (authority && authority.length) {\n            out += '//' + authority;\n        }\n\n        out += path;\n\n        if (query && query.length) {\n            out += '?' + query;\n        }\n\n        if (fragment && fragment.length) {\n            out += '#' + fragment;\n        }\n\n        return out;\n    }\n\n    function is_http_iri(value, allowHttps) {\n        if (!is_iri(value)) {\n            return;\n        }\n\n        var splitted = [];\n        var scheme = '';\n        var authority = '';\n        var path = '';\n        var port = '';\n        var query = '';\n        var fragment = '';\n        var out = '';\n\n        // from RFC 3986\n        splitted = splitUri(value);\n        scheme = splitted[1]; \n        authority = splitted[2];\n        path = splitted[3];\n        query = splitted[4];\n        fragment = splitted[5];\n\n        if (!scheme)  return;\n\n        if(allowHttps) {\n            if (scheme.toLowerCase() != 'https') return;\n        } else {\n            if (scheme.toLowerCase() != 'http') return;\n        }\n\n        // fully-qualified URIs must have an authority section that is\n        // a valid host\n        if (!authority) {\n            return;\n        }\n\n        // enable port component\n        if (/:(\\d+)$/.test(authority)) {\n            port = authority.match(/:(\\d+)$/)[0];\n            authority = authority.replace(/:\\d+$/, '');\n        }\n\n        out += scheme + ':';\n        out += '//' + authority;\n        \n        if (port) {\n            out += port;\n        }\n        \n        out += path;\n        \n        if(query && query.length){\n            out += '?' + query;\n        }\n\n        if(fragment && fragment.length){\n            out += '#' + fragment;\n        }\n        \n        return out;\n    }\n\n    function is_https_iri(value) {\n        return is_http_iri(value, true);\n    }\n\n    function is_web_iri(value) {\n        return (is_http_iri(value) || is_https_iri(value));\n    }\n\n})(module);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function TagsIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M4.303 5.36a.94.94 0 0 0-.944-.945.94.94 0 0 0-.944.944c0 .524.42.944.944.944a.94.94 0 0 0 .944-.944zm7.866 4.246a.95.95 0 0 1-.273.663l-3.62 3.627a.95.95 0 0 1-1.334 0L1.671 8.618C1.295 8.249 1 7.534 1 7.01V3.944A.95.95 0 0 1 1.944 3H5.01c.523 0 1.238.295 1.614.67l5.271 5.265a.98.98 0 0 1 .273.67zm2.831 0a.95.95 0 0 1-.273.663l-3.62 3.627a.98.98 0 0 1-.67.273c-.384 0-.575-.177-.826-.435l3.465-3.465a.95.95 0 0 0 0-1.334L7.805 3.67C7.429 3.295 6.714 3 6.19 3h1.651c.524 0 1.239.295 1.615.67l5.271 5.265a.98.98 0 0 1 .273.67z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { isWebUri } from 'valid-url';\nimport HelpTooltip from '../../components/controls/HelpTooltip';\nimport DetachIcon from '../../components/icons/DetachIcon';\n\nexport interface DocumentationTooltipProps {\n  children?: React.ReactNode;\n  className?: string;\n  content?: React.ReactNode;\n  links?: Array<{ href: string; label: string; inPlace?: boolean }>;\n  title?: string;\n}\n\nexport default function DocumentationTooltip(props: DocumentationTooltipProps) {\n  const { className, content, links, title } = props;\n\n  return (\n    <HelpTooltip\n      className={className}\n      overlay={\n        <div className=\"big-padded-top big-padded-bottom\">\n          {title && (\n            <div className=\"spacer-bottom\">\n              <strong>{title}</strong>\n            </div>\n          )}\n\n          {content && <p>{content}</p>}\n\n          {links && (\n            <>\n              <hr className=\"big-spacer-top big-spacer-bottom\" />\n\n              {links.map(({ href, label, inPlace }) => (\n                <div className=\"little-spacer-bottom\" key={label}>\n                  {inPlace ? (\n                    <Link to={href}>\n                      <span>{label}</span>\n                    </Link>\n                  ) : (\n                    <a\n                      className=\"display-inline-flex-center link-with-icon\"\n                      href={href}\n                      rel=\"noopener noreferrer\"\n                      target=\"_blank\">\n                      {isWebUri(href) && <DetachIcon size={14} className=\"spacer-right\" />}\n                      <span>{label}</span>\n                    </a>\n                  )}\n                </div>\n              ))}\n            </>\n          )}\n        </div>\n      }>\n      {props.children}\n    </HelpTooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport const ALM_INTEGRATION = 'almintegration';\nexport const ANALYSIS_SCOPE_CATEGORY = 'exclusions';\nexport const LANGUAGES_CATEGORY = 'languages';\nexport const NEW_CODE_PERIOD_CATEGORY = 'new_code_period';\nexport const PULL_REQUEST_DECORATION_BINDING_CATEGORY = 'pull_request_decoration_binding';\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { colors } from '../../app/theme';\nimport Icon, { IconProps } from './Icon';\n\nexport default function PullRequestIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M13,11.9L13,5.5C13,5.4 13.232,1.996 7.9,2L9.1,0.8L8.5,0.1L5.9,2.6L8.5,5.1L9.2,4.4L7.905,3.008C12.256,2.99 12,5.4 12,5.5L12,11.9C11.1,12.1 10.5,12.9 10.5,13.8C10.5,14.9 11.4,15.8 12.5,15.8C13.6,15.8 14.5,14.9 14.5,13.8C14.5,12.9 13.9,12.2 13,11.9ZM4,11.9C4.9,12.2 5.5,12.9 5.5,13.8C5.5,14.9 4.6,15.8 3.5,15.8C2.4,15.8 1.5,14.9 1.5,13.8C1.5,12.9 2.1,12.1 3,11.9L3,4.1C2.1,3.9 1.5,3.1 1.5,2.2C1.5,1.1 2.4,0.2 3.5,0.2C4.6,0.2 5.5,1.1 5.5,2.2C5.5,3.1 4.9,3.9 4,4.1L4,11.9ZM12.5,14.9C11.9,14.9 11.5,14.5 11.5,13.9C11.5,13.3 11.9,12.9 12.5,12.9C13.1,12.9 13.5,13.3 13.5,13.9C13.5,14.5 13.1,14.9 12.5,14.9ZM3.5,14.9C2.9,14.9 2.5,14.5 2.5,13.9C2.5,13.3 2.9,12.9 3.5,12.9C4.1,12.9 4.5,13.3 4.5,13.9C4.5,14.5 4.1,14.9 3.5,14.9ZM2.5,2.2C2.5,1.6 2.9,1.2 3.5,1.2C4.1,1.2 4.5,1.6 4.5,2.2C4.5,2.8 4.1,3.2 3.5,3.2C2.9,3.2 2.5,2.8 2.5,2.2Z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n","var createAggregator = require('./_createAggregator');\n\n/**\n * Creates an array of elements split into two groups, the first of which\n * contains elements `predicate` returns truthy for, the second of which\n * contains elements `predicate` returns falsey for. The predicate is\n * invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the array of grouped elements.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': false },\n *   { 'user': 'fred',    'age': 40, 'active': true },\n *   { 'user': 'pebbles', 'age': 1,  'active': false }\n * ];\n *\n * _.partition(users, function(o) { return o.active; });\n * // => objects for [['fred'], ['barney', 'pebbles']]\n *\n * // The `_.matches` iteratee shorthand.\n * _.partition(users, { 'age': 1, 'active': false });\n * // => objects for [['pebbles'], ['barney', 'fred']]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.partition(users, ['active', false]);\n * // => objects for [['barney', 'pebbles'], ['fred']]\n *\n * // The `_.property` iteratee shorthand.\n * _.partition(users, 'active');\n * // => objects for [['fred'], ['barney', 'pebbles']]\n */\nvar partition = createAggregator(function(result, value, key) {\n  result[key ? 0 : 1].push(value);\n}, function() { return [[], []]; });\n\nmodule.exports = partition;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { get, getJSON, HttpStatus, parseError, parseJSON, post } from '../helpers/request';\nimport {\n  AlmSettingsBindingDefinitions,\n  AlmSettingsInstance,\n  AzureBindingDefinition,\n  AzureProjectAlmBindingParams,\n  BitbucketCloudBindingDefinition,\n  BitbucketCloudProjectAlmBindingParams,\n  BitbucketProjectAlmBindingParams,\n  BitbucketServerBindingDefinition,\n  GithubBindingDefinition,\n  GithubProjectAlmBindingParams,\n  GitlabBindingDefinition,\n  GitlabProjectAlmBindingParams,\n  ProjectAlmBindingConfigurationErrors,\n  ProjectAlmBindingResponse\n} from '../types/alm-settings';\n\nexport function getAlmDefinitions(): Promise<AlmSettingsBindingDefinitions> {\n  return getJSON('/api/alm_settings/list_definitions');\n}\n\nexport function getAlmSettings(project?: string): Promise<AlmSettingsInstance[]> {\n  return getAlmSettingsNoCatch(project).catch(throwGlobalError);\n}\n\nexport function getAlmSettingsNoCatch(project?: string): Promise<AlmSettingsInstance[]> {\n  return getJSON('/api/alm_settings/list', { project }).then(({ almSettings }) => almSettings);\n}\n\nexport function validateAlmSettings(key: string): Promise<string> {\n  return get('/api/alm_settings/validate', { key })\n    .then(() => {\n      return '';\n    })\n    .catch((response: Response) => {\n      if (response.status === HttpStatus.BadRequest) {\n        return parseError(response);\n      } else {\n        return throwGlobalError(response);\n      }\n    });\n}\n\nexport function createGithubConfiguration(data: GithubBindingDefinition) {\n  return post('/api/alm_settings/create_github', data).catch(throwGlobalError);\n}\n\nexport function updateGithubConfiguration(data: GithubBindingDefinition & { newKey: string }) {\n  return post('/api/alm_settings/update_github', data).catch(throwGlobalError);\n}\n\nexport function createAzureConfiguration(data: AzureBindingDefinition) {\n  return post('/api/alm_settings/create_azure', data).catch(throwGlobalError);\n}\n\nexport function updateAzureConfiguration(data: AzureBindingDefinition & { newKey: string }) {\n  return post('/api/alm_settings/update_azure', data).catch(throwGlobalError);\n}\n\nexport function createBitbucketServerConfiguration(data: BitbucketServerBindingDefinition) {\n  return post('/api/alm_settings/create_bitbucket', data).catch(throwGlobalError);\n}\n\nexport function updateBitbucketServerConfiguration(\n  data: BitbucketServerBindingDefinition & { newKey: string }\n) {\n  return post('/api/alm_settings/update_bitbucket', data).catch(throwGlobalError);\n}\n\nexport function createBitbucketCloudConfiguration(data: BitbucketCloudBindingDefinition) {\n  return post('/api/alm_settings/create_bitbucketcloud', data).catch(throwGlobalError);\n}\n\nexport function updateBitbucketCloudConfiguration(\n  data: BitbucketCloudBindingDefinition & { newKey: string }\n) {\n  return post('/api/alm_settings/update_bitbucketcloud', data).catch(throwGlobalError);\n}\n\nexport function createGitlabConfiguration(data: GitlabBindingDefinition) {\n  return post('/api/alm_settings/create_gitlab', data).catch(throwGlobalError);\n}\n\nexport function updateGitlabConfiguration(data: GitlabBindingDefinition & { newKey: string }) {\n  return post('/api/alm_settings/update_gitlab', data).catch(throwGlobalError);\n}\n\nexport function deleteConfiguration(key: string) {\n  return post('/api/alm_settings/delete', { key }).catch(throwGlobalError);\n}\n\nexport function countBindedProjects(almSetting: string) {\n  return getJSON('/api/alm_settings/count_binding', { almSetting })\n    .then(({ projects }) => projects)\n    .catch(throwGlobalError);\n}\n\nexport function getProjectAlmBinding(project: string): Promise<ProjectAlmBindingResponse> {\n  return getJSON('/api/alm_settings/get_binding', { project });\n}\n\nexport function deleteProjectAlmBinding(project: string): Promise<void> {\n  return post('/api/alm_settings/delete_binding', { project }).catch(throwGlobalError);\n}\n\nexport function setProjectAzureBinding(data: AzureProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_azure_binding', data).catch(throwGlobalError);\n}\n\nexport function setProjectBitbucketBinding(data: BitbucketProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_bitbucket_binding', data).catch(throwGlobalError);\n}\n\nexport function setProjectBitbucketCloudBinding(data: BitbucketCloudProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_bitbucketcloud_binding', data).catch(throwGlobalError);\n}\n\nexport function setProjectGithubBinding(data: GithubProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_github_binding', data).catch(throwGlobalError);\n}\n\nexport function setProjectGitlabBinding(data: GitlabProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_gitlab_binding', data).catch(throwGlobalError);\n}\n\nexport function validateProjectAlmBinding(\n  projectKey: string\n): Promise<ProjectAlmBindingConfigurationErrors | undefined> {\n  return get('/api/alm_settings/validate_binding', { project: projectKey })\n    .then(() => undefined)\n    .catch((response: Response) => {\n      if (response.status === HttpStatus.BadRequest) {\n        return parseJSON(response);\n      }\n      return throwGlobalError(response);\n    });\n}\n","var baseInRange = require('./_baseInRange'),\n    toFinite = require('./toFinite'),\n    toNumber = require('./toNumber');\n\n/**\n * Checks if `n` is between `start` and up to, but not including, `end`. If\n * `end` is not specified, it's set to `start` with `start` then set to `0`.\n * If `start` is greater than `end` the params are swapped to support\n * negative ranges.\n *\n * @static\n * @memberOf _\n * @since 3.3.0\n * @category Number\n * @param {number} number The number to check.\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n * @see _.range, _.rangeRight\n * @example\n *\n * _.inRange(3, 2, 4);\n * // => true\n *\n * _.inRange(4, 8);\n * // => true\n *\n * _.inRange(4, 2);\n * // => false\n *\n * _.inRange(2, 2);\n * // => false\n *\n * _.inRange(1.2, 2);\n * // => true\n *\n * _.inRange(5.2, 4);\n * // => false\n *\n * _.inRange(-3, -2, -6);\n * // => true\n */\nfunction inRange(number, start, end) {\n  start = toFinite(start);\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  } else {\n    end = toFinite(end);\n  }\n  number = toNumber(number);\n  return baseInRange(number, start, end);\n}\n\nmodule.exports = inRange;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport DropdownIcon from '../../components/icons/DropdownIcon';\nimport TagsIcon from '../../components/icons/TagsIcon';\nimport { translateWithParameters } from '../../helpers/l10n';\nimport './TagsList.css';\n\ninterface Props {\n  allowUpdate?: boolean;\n  className?: string;\n  tags: string[];\n}\n\nexport default function TagsList({ allowUpdate = false, className, tags }: Props) {\n  return (\n    <span\n      aria-label={translateWithParameters('tags_list_x', tags.join(', '))}\n      className={classNames('tags-list', className)}>\n      <TagsIcon className=\"text-middle\" />\n      <span aria-hidden={true} className=\"text-ellipsis text-middle\" title={tags.join(', ')}>\n        {tags.join(', ')}\n      </span>\n      {allowUpdate && <DropdownIcon className=\"text-middle\" />}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON } from '../helpers/request';\nimport { BranchParameters } from '../types/branch-like';\n\ntype NavComponent = T.Omit<T.Component, 'alm' | 'qualifier' | 'leakPeriodDate' | 'path' | 'tags'>;\n\nexport function getComponentNavigation(\n  data: { component: string } & BranchParameters\n): Promise<NavComponent> {\n  return getJSON('/api/navigation/component', data).catch(throwGlobalError);\n}\n\nexport function getMarketplaceNavigation(): Promise<{ serverId: string; ncloc: number }> {\n  return getJSON('/api/navigation/marketplace').catch(throwGlobalError);\n}\n\nexport function getSettingsNavigation(): Promise<any> {\n  return getJSON('/api/navigation/settings').catch(throwGlobalError);\n}\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * The base implementation of `_.inRange` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to check.\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n */\nfunction baseInRange(number, start, end) {\n  return number >= nativeMin(start, end) && number < nativeMax(start, end);\n}\n\nmodule.exports = baseInRange;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Query } from './utils';\n\nexport const STATUSES = {\n  ALL: '__ALL__',\n  ALL_EXCEPT_PENDING: '__ALL_EXCEPT_PENDING__'\n};\n\nexport const ALL_TYPES = 'ALL_TYPES';\n\nexport const CURRENTS = {\n  ALL: '__ALL__',\n  ONLY_CURRENTS: 'CURRENTS'\n};\n\nexport const DATE = {\n  ANY: 'ANY',\n  TODAY: 'TODAY',\n  CUSTOM: 'CUSTOM'\n};\n\nexport const DEFAULT_FILTERS: Query = {\n  status: STATUSES.ALL_EXCEPT_PENDING,\n  taskType: ALL_TYPES,\n  currents: CURRENTS.ALL,\n  minSubmittedAt: undefined,\n  maxExecutedAt: undefined,\n  query: ''\n};\n\nexport const DATE_FORMAT = 'YYYY-MM-DD';\n\nexport const DEBOUNCE_DELAY = 250;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BranchIcon from '../../components/icons/BranchIcon';\nimport { IconProps } from '../../components/icons/Icon';\nimport PullRequestIcon from '../../components/icons/PullRequestIcon';\nimport { isPullRequest } from '../../helpers/branch-like';\nimport { BranchLike } from '../../types/branch-like';\n\nexport interface BranchLikeIconProps extends IconProps {\n  branchLike: BranchLike;\n}\n\nexport default function BranchLikeIcon({ branchLike, ...props }: BranchLikeIconProps) {\n  if (isPullRequest(branchLike)) {\n    return <PullRequestIcon {...props} />;\n  }\n  return <BranchIcon {...props} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { partition, sortBy } from 'lodash';\nimport { translate } from '../helpers/l10n';\n\nconst PROVIDED_TYPES = ['homepage', 'ci', 'issue', 'scm', 'scm_dev'];\ntype NameAndType = Pick<T.ProjectLink, 'name' | 'type'>;\n\nexport function isProvided(link: Pick<T.ProjectLink, 'type'>) {\n  return PROVIDED_TYPES.includes(link.type);\n}\n\nexport function orderLinks<T extends NameAndType>(links: T[]) {\n  const [provided, unknown] = partition<T>(links, isProvided);\n  return [\n    ...sortBy(provided, link => PROVIDED_TYPES.indexOf(link.type)),\n    ...sortBy(unknown, link => link.name && link.name.toLowerCase())\n  ];\n}\n\nexport function getLinkName(link: NameAndType) {\n  return isProvided(link) ? translate('project_links', link.type) : link.name;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON, post } from '../helpers/request';\nimport { Branch, PullRequest } from '../types/branch-like';\n\nexport function getBranches(project: string): Promise<Branch[]> {\n  return getJSON('/api/project_branches/list', { project }).then(r => r.branches, throwGlobalError);\n}\n\nexport function getPullRequests(project: string): Promise<PullRequest[]> {\n  return getJSON('/api/project_pull_requests/list', { project }).then(\n    r => r.pullRequests,\n    throwGlobalError\n  );\n}\n\nexport function deleteBranch(data: { branch: string; project: string }) {\n  return post('/api/project_branches/delete', data).catch(throwGlobalError);\n}\n\nexport function deletePullRequest(data: { project: string; pullRequest: string }) {\n  return post('/api/project_pull_requests/delete', data).catch(throwGlobalError);\n}\n\nexport function renameBranch(project: string, name: string) {\n  return post('/api/project_branches/rename', { project, name }).catch(throwGlobalError);\n}\n\nexport function excludeBranchFromPurge(projectKey: string, branchName: string, excluded: boolean) {\n  return post('/api/project_branches/set_automatic_deletion_protection', {\n    project: projectKey,\n    branch: branchName,\n    value: excluded\n  }).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { BranchLike } from '../../types/branch-like';\n\ninterface ComponentContextType {\n  branchLike: BranchLike | undefined;\n  component: T.Component | undefined;\n}\n\nexport const ComponentContext = React.createContext<ComponentContextType>({\n  branchLike: undefined,\n  component: undefined\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function PlusCircleIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M8 1c3.863 0 7 3.137 7 7s-3.137 7-7 7-7-3.137-7-7 3.137-7 7-7zm3.726 7.985A.274.274 0 0 0 12 8.711V7.289a.274.274 0 0 0-.274-.274H8.985V4.274A.274.274 0 0 0 8.711 4H7.289a.274.274 0 0 0-.274.274v2.741H4.274A.274.274 0 0 0 4 7.289v1.422c0 .152.123.274.274.274h2.741v2.741c0 .151.122.274.274.274h1.422a.274.274 0 0 0 .274-.274V8.985h2.741z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function BulletListIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M2.968 11.274v1.51q0 0.102-0.075 0.177t-0.177 0.075h-1.51q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h1.51q0.102 0 0.177 0.075t0.075 0.177zM2.968 8.255v1.51q0 0.102-0.075 0.177t-0.177 0.075h-1.51q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h1.51q0.102 0 0.177 0.075t0.075 0.177zM2.968 5.235v1.51q0 0.102-0.075 0.177t-0.177 0.075h-1.51q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h1.51q0.102 0 0.177 0.075t0.075 0.177zM15.045 11.274v1.51q0 0.102-0.075 0.177t-0.177 0.075h-10.568q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h10.568q0.102 0 0.177 0.075t0.075 0.177zM2.968 2.216v1.51q0 0.102-0.075 0.177t-0.177 0.075h-1.51q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h1.51q0.102 0 0.177 0.075t0.075 0.177zM15.045 8.255v1.51q0 0.102-0.075 0.177t-0.177 0.075h-10.568q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h10.568q0.102 0 0.177 0.075t0.075 0.177zM15.045 5.235v1.51q0 0.102-0.075 0.177t-0.177 0.075h-10.568q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h10.568q0.102 0 0.177 0.075t0.075 0.177zM15.045 2.216v1.51q0 0.102-0.075 0.177t-0.177 0.075h-10.568q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h10.568q0.102 0 0.177 0.075t0.075 0.177z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { getBranchLikeQuery } from '../../helpers/branch-like';\nimport { getComponentDrilldownUrl, getComponentIssuesUrl } from '../../helpers/urls';\nimport { BranchLike } from '../../types/branch-like';\n\nconst ISSUE_MEASURES = [\n  'violations',\n  'new_violations',\n  'blocker_violations',\n  'critical_violations',\n  'major_violations',\n  'minor_violations',\n  'info_violations',\n  'new_blocker_violations',\n  'new_critical_violations',\n  'new_major_violations',\n  'new_minor_violations',\n  'new_info_violations',\n  'open_issues',\n  'reopened_issues',\n  'confirmed_issues',\n  'false_positive_issues',\n  'code_smells',\n  'new_code_smells',\n  'bugs',\n  'new_bugs',\n  'vulnerabilities',\n  'new_vulnerabilities'\n];\n\nconst issueParamsPerMetric: T.Dict<T.Dict<string>> = {\n  blocker_violations: { resolved: 'false', severities: 'BLOCKER' },\n  new_blocker_violations: { resolved: 'false', severities: 'BLOCKER' },\n  critical_violations: { resolved: 'false', severities: 'CRITICAL' },\n  new_critical_violations: { resolved: 'false', severities: 'CRITICAL' },\n  major_violations: { resolved: 'false', severities: 'MAJOR' },\n  new_major_violations: { resolved: 'false', severities: 'MAJOR' },\n  minor_violations: { resolved: 'false', severities: 'MINOR' },\n  new_minor_violations: { resolved: 'false', severities: 'MINOR' },\n  info_violations: { resolved: 'false', severities: 'INFO' },\n  new_info_violations: { resolved: 'false', severities: 'INFO' },\n  open_issues: { resolved: 'false', statuses: 'OPEN' },\n  reopened_issues: { resolved: 'false', statuses: 'REOPENED' },\n  confirmed_issues: { resolved: 'false', statuses: 'CONFIRMED' },\n  false_positive_issues: { resolutions: 'FALSE-POSITIVE' },\n  code_smells: { resolved: 'false', types: 'CODE_SMELL' },\n  new_code_smells: { resolved: 'false', types: 'CODE_SMELL' },\n  bugs: { resolved: 'false', types: 'BUG' },\n  new_bugs: { resolved: 'false', types: 'BUG' },\n  vulnerabilities: { resolved: 'false', types: 'VULNERABILITY' },\n  new_vulnerabilities: { resolved: 'false', types: 'VULNERABILITY' }\n};\n\ninterface Props {\n  branchLike?: BranchLike;\n  children?: React.ReactNode;\n  className?: string;\n  component: string;\n  metric: string;\n  sinceLeakPeriod?: boolean;\n}\n\nexport default class DrilldownLink extends React.PureComponent<Props> {\n  isIssueMeasure = () => {\n    return ISSUE_MEASURES.indexOf(this.props.metric) !== -1;\n  };\n\n  propsToIssueParams = () => {\n    const params: T.Dict<string | boolean> = {\n      ...(issueParamsPerMetric[this.props.metric] || { resolved: 'false' })\n    };\n\n    if (this.props.sinceLeakPeriod) {\n      params.sinceLeakPeriod = true;\n    }\n\n    return params;\n  };\n\n  renderIssuesLink = () => {\n    const url = getComponentIssuesUrl(this.props.component, {\n      ...this.propsToIssueParams(),\n      ...getBranchLikeQuery(this.props.branchLike)\n    });\n\n    return (\n      <Link className={this.props.className} to={url}>\n        {this.props.children}\n      </Link>\n    );\n  };\n\n  render() {\n    if (this.isIssueMeasure()) {\n      return this.renderIssuesLink();\n    }\n\n    const url = getComponentDrilldownUrl({\n      componentKey: this.props.component,\n      metric: this.props.metric,\n      branchLike: this.props.branchLike,\n      listView: true\n    });\n    return (\n      <Link className={this.props.className} to={url}>\n        {this.props.children}\n      </Link>\n    );\n  }\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\nimport MultiSelect from '../common/MultiSelect';\nimport './TagsList.css';\n\ninterface Props {\n  listSize: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  selectedTags: string[];\n  tags: string[];\n}\n\nexport default function TagsSelector(props: Props) {\n  return (\n    <MultiSelect\n      elements={props.tags}\n      listSize={props.listSize}\n      onSearch={props.onSearch}\n      onSelect={props.onSelect}\n      onUnselect={props.onUnselect}\n      placeholder={translate('search.search_for_tags')}\n      selectedElements={props.selectedTags}\n      validateSearchInput={validateTag}\n    />\n  );\n}\n\nexport function validateTag(value: string) {\n  // Allow only a-z, 0-9, '+', '-', '#', '.'\n  return value.toLowerCase().replace(/[^-a-z0-9+#.]/gi, '');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from '../../components/controls/Checkbox';\nimport { translate } from '../../helpers/l10n';\n\nexport interface MultiSelectOptionProps {\n  active?: boolean;\n  custom?: boolean;\n  disabled?: boolean;\n  element: string;\n  onHover: (element: string) => void;\n  onSelectChange: (selected: boolean, element: string) => void;\n  renderLabel: (element: string) => React.ReactNode;\n  selected?: boolean;\n}\n\nexport default function MultiSelectOption(props: MultiSelectOptionProps) {\n  const { active, custom, disabled, element, selected } = props;\n  const onHover = () => props.onHover(element);\n  const className = classNames({ active, disabled });\n  const label = props.renderLabel(element);\n\n  return (\n    <li onFocus={onHover} onMouseOver={onHover}>\n      <Checkbox\n        checked={Boolean(selected)}\n        className={className}\n        disabled={disabled}\n        id={element}\n        onCheck={props.onSelectChange}>\n        {custom ? (\n          <span\n            aria-label={`${translate('create_new_element')}: ${label}`}\n            className=\"little-spacer-left\">\n            <span aria-hidden={true} className=\"little-spacer-right\">\n              +\n            </span>\n            {label}\n          </span>\n        ) : (\n          <span className=\"little-spacer-left\">{label}</span>\n        )}\n      </Checkbox>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { difference } from 'lodash';\nimport * as React from 'react';\nimport SearchBox from '../../components/controls/SearchBox';\nimport { translateWithParameters } from '../../helpers/l10n';\nimport MultiSelectOption from './MultiSelectOption';\n\ninterface Props {\n  allowNewElements?: boolean;\n  allowSelection?: boolean;\n  elements: string[];\n  filterSelected?: (query: string, selectedElements: string[]) => string[];\n  footerNode?: React.ReactNode;\n  listSize?: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  placeholder: string;\n  renderLabel?: (element: string) => React.ReactNode;\n  selectedElements: string[];\n  validateSearchInput?: (value: string) => string;\n}\n\ninterface State {\n  activeIdx: number;\n  loading: boolean;\n  query: string;\n  selectedElements: string[];\n  unselectedElements: string[];\n}\n\ninterface DefaultProps {\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  listSize: number;\n  renderLabel: (element: string) => React.ReactNode;\n  validateSearchInput: (value: string) => string;\n}\n\ntype PropsWithDefault = Props & DefaultProps;\n\nexport default class MultiSelect extends React.PureComponent<Props, State> {\n  container?: HTMLDivElement | null;\n  searchInput?: HTMLInputElement | null;\n  mounted = false;\n\n  static defaultProps: DefaultProps = {\n    filterSelected: (query: string, selectedElements: string[]) =>\n      selectedElements.filter(elem => elem.includes(query)),\n    listSize: 0,\n    renderLabel: (element: string) => element,\n    validateSearchInput: (value: string) => value\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      activeIdx: 0,\n      loading: true,\n      query: '',\n      selectedElements: [],\n      unselectedElements: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.onSearchQuery('');\n    this.updateSelectedElements(this.props as PropsWithDefault);\n    this.updateUnselectedElements(this.props as PropsWithDefault);\n    if (this.container) {\n      this.container.addEventListener('keydown', this.handleKeyboard, true);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: PropsWithDefault) {\n    if (\n      this.props.elements !== nextProps.elements ||\n      this.props.selectedElements !== nextProps.selectedElements\n    ) {\n      this.updateSelectedElements(nextProps);\n      this.updateUnselectedElements(nextProps);\n\n      const totalElements = this.getAllElements(nextProps, this.state).length;\n      if (this.state.activeIdx >= totalElements) {\n        this.setState({ activeIdx: totalElements - 1 });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.searchInput) {\n      this.searchInput.focus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.container) {\n      this.container.removeEventListener('keydown', this.handleKeyboard);\n    }\n  }\n\n  handleSelectChange = (selected: boolean, item: string) => {\n    if (selected) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  handleSearchChange = (value: string) => {\n    this.onSearchQuery((this.props as PropsWithDefault).validateSearchInput(value));\n  };\n\n  handleElementHover = (element: string) => {\n    this.setState((prevState, props) => {\n      return { activeIdx: this.getAllElements(props, prevState).indexOf(element) };\n    });\n  };\n\n  handleKeyboard = (evt: KeyboardEvent) => {\n    switch (evt.keyCode) {\n      case 40: // down\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectNextElement);\n        break;\n      case 38: // up\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectPreviousElement);\n        break;\n      case 37: // left\n      case 39: // right\n        evt.stopPropagation();\n        break;\n      case 13: // enter\n        if (this.state.activeIdx >= 0) {\n          this.toggleSelect(this.getAllElements(this.props, this.state)[this.state.activeIdx]);\n        }\n        break;\n    }\n  };\n\n  onSearchQuery = (query: string) => {\n    this.setState({ activeIdx: 0, loading: true, query });\n    this.props.onSearch(query).then(this.stopLoading, this.stopLoading);\n  };\n\n  onSelectItem = (item: string) => {\n    if (this.isNewElement(item, this.props)) {\n      this.onSearchQuery('');\n    }\n    this.props.onSelect(item);\n  };\n\n  onUnselectItem = (item: string) => this.props.onUnselect(item);\n\n  isNewElement = (elem: string, { selectedElements, elements }: Props) =>\n    elem.length > 0 && selectedElements.indexOf(elem) === -1 && elements.indexOf(elem) === -1;\n\n  updateSelectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (state.query) {\n        return {\n          selectedElements: props.filterSelected(state.query, props.selectedElements)\n        };\n      } else {\n        return { selectedElements: [...props.selectedElements] };\n      }\n    });\n  };\n\n  updateUnselectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (props.listSize === 0) {\n        return { unselectedElements: difference(props.elements, props.selectedElements) };\n      } else if (props.listSize < state.selectedElements.length) {\n        return { unselectedElements: [] };\n      } else {\n        return {\n          unselectedElements: difference(props.elements, props.selectedElements).slice(\n            0,\n            props.listSize - state.selectedElements.length\n          )\n        };\n      }\n    });\n  };\n\n  getAllElements = (props: Props, state: State) => {\n    if (this.isNewElement(state.query, props)) {\n      return [...state.selectedElements, ...state.unselectedElements, state.query];\n    } else {\n      return [...state.selectedElements, ...state.unselectedElements];\n    }\n  };\n\n  setElementActive = (idx: number) => this.setState({ activeIdx: idx });\n\n  selectNextElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx < 0 || activeIdx >= allElements.length - 1) {\n      return { activeIdx: 0 };\n    } else {\n      return { activeIdx: activeIdx + 1 };\n    }\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx <= 0) {\n      const lastIdx = allElements.length - 1;\n      return { activeIdx: lastIdx };\n    } else {\n      return { activeIdx: activeIdx - 1 };\n    }\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  toggleSelect = (item: string) => {\n    if (this.props.selectedElements.indexOf(item) === -1) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  render() {\n    const { allowSelection = true, allowNewElements = true, footerNode = '' } = this.props;\n    const { renderLabel } = this.props as PropsWithDefault;\n    const { query, activeIdx, selectedElements, unselectedElements } = this.state;\n    const activeElement = this.getAllElements(this.props, this.state)[activeIdx];\n    const showNewElement = allowNewElements && this.isNewElement(query, this.props);\n    const infiniteList = this.props.listSize === 0;\n    const listClasses = classNames('menu', {\n      'menu-vertically-limited': infiniteList,\n      'spacer-top': infiniteList,\n      'with-top-separator': infiniteList,\n      'with-bottom-separator': Boolean(footerNode)\n    });\n\n    return (\n      <div className=\"multi-select\" ref={div => (this.container = div)}>\n        <div className=\"menu-search\">\n          <SearchBox\n            autoFocus={true}\n            className=\"little-spacer-top\"\n            loading={this.state.loading}\n            onChange={this.handleSearchChange}\n            placeholder={this.props.placeholder}\n            value={query}\n          />\n        </div>\n        <ul className={listClasses}>\n          {selectedElements.length > 0 &&\n            selectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n                selected={true}\n              />\n            ))}\n          {unselectedElements.length > 0 &&\n            unselectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                disabled={!allowSelection}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n              />\n            ))}\n          {showNewElement && (\n            <MultiSelectOption\n              active={activeElement === query}\n              custom={true}\n              element={query}\n              key={query}\n              onHover={this.handleElementHover}\n              onSelectChange={this.handleSelectChange}\n              renderLabel={renderLabel}\n            />\n          )}\n          {!showNewElement && selectedElements.length < 1 && unselectedElements.length < 1 && (\n            <li className=\"spacer-left\">{translateWithParameters('no_results_for_x', query)}</li>\n          )}\n        </ul>\n        {footerNode}\n      </div>\n    );\n  }\n}\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseIteratee = require('./_baseIteratee'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    last = require('./last');\n\n/**\n * This method is like `_.difference` except that it accepts `iteratee` which\n * is invoked for each element of `array` and `values` to generate the criterion\n * by which they're compared. The order and references of result values are\n * determined by the first array. The iteratee is invoked with one argument:\n * (value).\n *\n * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n * // => [1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n * // => [{ 'x': 2 }]\n */\nvar differenceBy = baseRest(function(array, values) {\n  var iteratee = last(values);\n  if (isArrayLikeObject(iteratee)) {\n    iteratee = undefined;\n  }\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), baseIteratee(iteratee, 2))\n    : [];\n});\n\nmodule.exports = differenceBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './NavBarTabs.css';\n\ninterface Props extends React.HTMLAttributes<HTMLUListElement> {\n  children?: React.ReactNode;\n  className?: string;\n}\n\nexport default function NavBarTabs({ children, className, ...other }: Props) {\n  return (\n    <ul {...other} className={classNames('navbar-tabs', className)}>\n      {children}\n    </ul>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./NavBarTabs.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".navbar-tabs{display:flex;align-items:center;clear:left;height:24px;margin-top:8px}.navbar-tabs>li+li{margin-left:20px}.navbar-tabs>li>a{display:block;height:24px;line-height:16px;padding-top:2px;border-bottom:3px solid transparent;box-sizing:border-box;color:#333;transition:none}.navbar-tabs>li>a.active,.navbar-tabs>li>a:focus,.navbar-tabs>li>a:hover{border-bottom-color:#4b9fd5}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./CodeSnippet.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".code-snippet{background:#e6e6e6;border-radius:3px}.code-snippet pre{padding:8px 16px;border-right:1px solid hsla(0,0%,78.4%,.5);overflow-y:hidden;overflow-x:auto}.code-snippet>button{height:auto;border:0;border-radius:0;background:transparent;padding:8px}.code-snippet>button:active,.code-snippet>button:focus,.code-snippet>button:hover{background-color:hsla(0,0%,78.4%,.5);color:#236a97}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from '../../components/controls/Tooltip';\nimport { translate } from '../../helpers/l10n';\n\ninterface PrivacyBadgeContainerProps {\n  className?: string;\n  qualifier: string;\n  visibility: T.Visibility;\n}\n\nexport default function PrivacyBadgeContainer({\n  className,\n  qualifier,\n  visibility\n}: PrivacyBadgeContainerProps) {\n  if (visibility !== 'private') {\n    return null;\n  }\n\n  return (\n    <Tooltip overlay={translate('visibility', visibility, 'description', qualifier)}>\n      <div className={classNames('badge', className)}>{translate('visibility', visibility)}</div>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isWebUri } from 'valid-url';\n\nexport default function(url: string): boolean {\n  return /^(\\/|scm:)/.test(url) || !!isWebUri(url);\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".tags-list{white-space:nowrap;line-height:16px}.tags-list i:before{font-size:12px}.tags-list span{display:inline-block;vertical-align:middle;text-align:left;max-width:220px;padding-left:4px;padding-right:4px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function BugTrackerIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M13.5 9.5c1.003.033 1.466 1.952 0 2h-2.618L9.685 9.107 8 14.162 6.096 8.45l-.832 3.05-2.829-.002c-.984-.097-1.369-1.951.065-1.998h1.236l2.168-7.95L8 7.838l1.315-3.945L12.118 9.5H13.5z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ContinuousIntegrationIcon({\n  fill = 'currentColor',\n  ...iconProps\n}: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M13.805 9.25c0 .016 0 .04-.008.055C13.133 12.07 10.852 14 7.969 14c-1.524 0-3-.602-4.11-1.656l-1.007 1.008a.497.497 0 0 1-.352.148.504.504 0 0 1-.5-.5V9.5c0-.273.227-.5.5-.5H6c.273 0 .5.227.5.5a.497.497 0 0 1-.148.352l-1.07 1.07a3.988 3.988 0 0 0 6.125-.828c.187-.305.28-.602.413-.914.04-.11.117-.18.235-.18h1.5c.14 0 .25.117.25.25zM14 3v3.5c0 .273-.227.5-.5.5H10a.504.504 0 0 1-.5-.5c0-.133.055-.258.148-.352l1.079-1.078A4.019 4.019 0 0 0 8 4c-1.39 0-2.68.719-3.406 1.906-.188.305-.282.602-.414.914-.04.11-.117.18-.235.18H2.391a.252.252 0 0 1-.25-.25v-.055C2.812 3.922 5.117 2 8 2c1.531 0 3.023.61 4.133 1.656l1.015-1.008A.497.497 0 0 1 13.5 2.5c.273 0 .5.227.5.5z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function HouseIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M13.002 8.848v4.168a.56.56 0 0 1-.556.555H9.11v-3.334H6.89v3.334H3.554a.56.56 0 0 1-.556-.555V8.848c0-.018.01-.035.01-.052L8 4.68l4.993 4.116c.009.017.009.034.009.052zm1.936-.6l-.538.643a.289.289 0 0 1-.183.096h-.026a.273.273 0 0 1-.182-.061L8 3.916l-6.009 5.01a.297.297 0 0 1-.208.06.289.289 0 0 1-.183-.095l-.538-.642a.285.285 0 0 1 .035-.391L7.34 2.656a1.07 1.07 0 0 1 1.32 0l2.119 1.772V2.735c0-.157.121-.278.278-.278h1.667c.156 0 .278.121.278.278v3.542l1.901 1.58c.113.096.13.279.035.392z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function SCMIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M12.557 4.545c.241.247.443.743.443 1.098v7.714c0 .355-.28.643-.625.643h-8.75A.634.634 0 0 1 3 13.357V2.643C3 2.288 3.28 2 3.625 2h5.833c.345 0 .827.208 1.068.455l2.031 2.09zM9.667 2.91v2.518h2.448a.86.86 0 0 0-.144-.275L9.934 3.058a.823.823 0 0 0-.267-.147zm2.5 10.232V6.286H9.458a.634.634 0 0 1-.625-.643V2.857h-5v10.286h8.334z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BugTrackerIcon from './BugTrackerIcon';\nimport ContinuousIntegrationIcon from './ContinuousIntegrationIcon';\nimport DetachIcon from './DetachIcon';\nimport HouseIcon from './HouseIcon';\nimport { IconProps } from './Icon';\nimport SCMIcon from './SCMIcon';\n\ninterface ProjectLinkIconProps {\n  type: string;\n}\n\nexport default function ProjectLinkIcon({ type, ...iconProps }: IconProps & ProjectLinkIconProps) {\n  switch (type) {\n    case 'issue':\n      return <BugTrackerIcon {...iconProps} />;\n    case 'homepage':\n      return <HouseIcon {...iconProps} />;\n    case 'ci':\n      return <ContinuousIntegrationIcon {...iconProps} />;\n    case 'scm':\n      return <SCMIcon {...iconProps} />;\n    default:\n      return <DetachIcon {...iconProps} />;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport Level from '../../components/ui/Level';\nimport { getBranchStatusByBranchLike, Store } from '../../store/rootReducer';\nimport { BranchLike } from '../../types/branch-like';\n\ninterface ExposedProps {\n  branchLike: BranchLike;\n  component: string;\n}\n\ninterface BranchStatusProps {\n  status?: string;\n}\n\nexport function BranchStatus({ status }: BranchStatusProps) {\n  if (!status) {\n    return null;\n  }\n\n  return <Level level={status} small={true} />;\n}\n\nconst mapStateToProps = (state: Store, props: ExposedProps) => {\n  const { branchLike, component } = props;\n  const { status } = getBranchStatusByBranchLike(state, component, branchLike);\n  return { status };\n};\n\nexport default connect(mapStateToProps)(BranchStatus);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON } from '../helpers/request';\n\ninterface RawDomain {\n  actions: T.WebApi.Action[];\n  deprecatedSince?: string;\n  description: string;\n  internal: boolean;\n  path: string;\n  since?: string;\n}\n\nexport function fetchWebApi(showInternal = true): Promise<RawDomain[]> {\n  return getJSON('/api/webservices/list', { include_internals: showInternal })\n    .then(r => r.webServices)\n    .catch(throwGlobalError);\n}\n\nexport function fetchResponseExample(domain: string, action: string): Promise<T.WebApi.Example> {\n  return getJSON('/api/webservices/response_example', { controller: domain, action }).catch(\n    throwGlobalError\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Checkbox from '../../../components/controls/Checkbox';\nimport { hasMessage, translate } from '../../../helpers/l10n';\n\ninterface Props {\n  onAdd: (n: T.Notification) => void;\n  onRemove: (n: T.Notification) => void;\n  channels: string[];\n  checkboxId: (type: string, channel: string) => string;\n  project?: boolean;\n  types: string[];\n  notifications: T.Notification[];\n}\n\nexport default class NotificationsList extends React.PureComponent<Props> {\n  isEnabled(type: string, channel: string) {\n    return !!this.props.notifications.find(\n      notification => notification.type === type && notification.channel === channel\n    );\n  }\n\n  handleCheck(type: string, channel: string, checked: boolean) {\n    if (checked) {\n      this.props.onAdd({ type, channel });\n    } else {\n      this.props.onRemove({ type, channel });\n    }\n  }\n\n  getDispatcherLabel(dispatcher: string) {\n    const globalMessageKey = ['notification.dispatcher', dispatcher];\n    const projectMessageKey = [...globalMessageKey, 'project'];\n    const shouldUseProjectMessage = this.props.project && hasMessage(...projectMessageKey);\n    return shouldUseProjectMessage\n      ? translate(...projectMessageKey)\n      : translate(...globalMessageKey);\n  }\n\n  render() {\n    const { channels, checkboxId, types } = this.props;\n\n    return (\n      <tbody>\n        {types.map(type => (\n          <tr key={type}>\n            <td>{this.getDispatcherLabel(type)}</td>\n            {channels.map(channel => (\n              <td className=\"text-center\" key={channel}>\n                <Checkbox\n                  checked={this.isEnabled(type, channel)}\n                  id={checkboxId(type, channel)}\n                  onCheck={checked => this.handleCheck(type, channel, checked)}\n                />\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { inRange } from 'lodash';\nimport * as React from 'react';\nimport './SizeRating.css';\n\nexport interface Props {\n  muted?: boolean;\n  small?: boolean;\n  value: number | null | undefined;\n}\n\nexport default function SizeRating({ small = false, muted = false, value }: Props) {\n  if (value == null) {\n    return <div className=\"size-rating size-rating-muted\">&nbsp;</div>;\n  }\n\n  let letter;\n  if (inRange(value, 0, 1000)) {\n    letter = 'XS';\n  } else if (inRange(value, 1000, 10000)) {\n    letter = 'S';\n  } else if (inRange(value, 10000, 100000)) {\n    letter = 'M';\n  } else if (inRange(value, 100000, 500000)) {\n    letter = 'L';\n  } else if (value >= 500000) {\n    letter = 'XL';\n  }\n\n  const className = classNames('size-rating', {\n    'size-rating-small': small,\n    'size-rating-muted': muted\n  });\n\n  return (\n    <div aria-hidden=\"true\" className={className}>\n      {letter}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './ContextNavBar.css';\nimport NavBar, { NavBarProps } from './NavBar';\n\ninterface Props extends NavBarProps {\n  className?: string;\n  id?: string;\n  height: number;\n}\n\nexport default function ContextNavBar({ className, ...other }: Props) {\n  return <NavBar className={classNames('navbar-context', className)} {...other} />;\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ContextNavBar.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".navbar-context,.navbar-context .navbar-inner{background-color:#fff;z-index:420}.navbar-context .navbar-inner{padding-top:8px;border-bottom:1px solid #e6e6e6}.navbar-context .navbar-inner-with-notif{border-bottom:none}.navbar-context-justified{display:flex;justify-content:space-between}.navbar-context-header{display:flex;align-items:center;min-width:0;height:32px;font-size:16px}.navbar-context-header>:not(.navbar-context-header-breadcrumb-link){flex-shrink:0}.navbar-context-header-breadcrumb-link{min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.navbar-context-header .slash-separator{margin-left:8px;margin-right:8px;font-size:24px}.navbar-context-header .slash-separator:after{color:rgba(68,68,68,.2)}.navbar-context-meta{display:flex;align-items:center;height:32px;padding-left:20px;color:#666;font-size:12px;text-align:right}.navbar-context-meta-secondary{position:absolute;top:34px;right:0;padding:0 20px;white-space:nowrap}.navbar-context-description{display:inline-block;line-height:24px;margin-left:8px;padding-top:4px;color:#666;font-size:12px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function BackIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M3.6 8.69l4.07 4.13.04.04a.7.7 0 01.12.7.69.69 0 01-.86.4.73.73 0 01-.26-.16L1 8l5.71-5.8.04-.03A.73.73 0 017.13 2l.1-.01c.1.01.2.04.3.09a.7.7 0 01.3.82c-.03.1-.09.19-.16.27L3.61 7.3c3.59-.03 7.18-.14 10.77.01.05 0 .06 0 .1.02a.68.68 0 01.52.61.7.7 0 01-.57.74h-.1z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","var baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `comparator` which\n * is invoked to compare elements of `array`. The order of result values is\n * determined by the order they occur in the array.The comparator is invoked\n * with two arguments: (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.uniqWith(objects, _.isEqual);\n * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n */\nfunction uniqWith(array, comparator) {\n  comparator = typeof comparator == 'function' ? comparator : undefined;\n  return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n}\n\nmodule.exports = uniqWith;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON, post, postJSON } from '../helpers/request';\n\nexport function getProjectLinks(projectKey: string): Promise<T.ProjectLink[]> {\n  return getJSON('/api/project_links/search', { projectKey }).then(r => r.links, throwGlobalError);\n}\n\nexport function deleteLink(linkId: string) {\n  return post('/api/project_links/delete', { id: linkId }).catch(throwGlobalError);\n}\n\nexport function createLink(data: {\n  name: string;\n  projectKey: string;\n  url: string;\n}): Promise<T.ProjectLink> {\n  return postJSON('/api/project_links/create', data).then(r => r.link, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ClearButton } from '../../../../../../components/controls/buttons';\nimport ProjectLinkIcon from '../../../../../../components/icons/ProjectLinkIcon';\nimport { getLinkName } from '../../../../../../helpers/projectLinks';\nimport isValidUri from '../../../../../utils/isValidUri';\n\ninterface Props {\n  iconOnly?: boolean;\n  link: T.ProjectLink;\n}\n\ninterface State {\n  expanded: boolean;\n}\n\nexport default class MetaLink extends React.PureComponent<Props, State> {\n  state = { expanded: false };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.setState(({ expanded }) => ({ expanded: !expanded }));\n  };\n\n  handleCollapse = () => {\n    this.setState({ expanded: false });\n  };\n\n  handleSelect = (event: React.MouseEvent<HTMLInputElement>) => {\n    event.currentTarget.select();\n  };\n\n  render() {\n    const { iconOnly, link } = this.props;\n    const linkTitle = getLinkName(link);\n    const isValid = isValidUri(link.url);\n    return (\n      <li>\n        <a\n          className=\"link-with-icon\"\n          href={isValid ? link.url : undefined}\n          onClick={isValid ? undefined : this.handleClick}\n          rel=\"nofollow noreferrer noopener\"\n          target=\"_blank\"\n          title={linkTitle}>\n          <ProjectLinkIcon className=\"little-spacer-right\" type={link.type} />\n          {!iconOnly && linkTitle}\n        </a>\n        {this.state.expanded && (\n          <div className=\"little-spacer-top display-flex-center\">\n            <input\n              className=\"overview-key width-80\"\n              onClick={this.handleSelect}\n              readOnly={true}\n              type=\"text\"\n              value={link.url}\n            />\n            <ClearButton className=\"little-spacer-left\" onClick={this.handleCollapse} />\n          </div>\n        )}\n      </li>\n    );\n  }\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./SizeRating.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".size-rating{display:inline-block;vertical-align:top;width:24px;height:24px;line-height:24px;border-radius:24px;background-color:#4b9fd5;color:#fff;font-size:12px;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.size-rating-small{width:18px;height:18px;line-height:18px;margin-top:-1px;margin-bottom:-1px;font-size:10px}.size-rating-muted{background-color:#bdbdbd}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniqWith } from 'lodash';\nimport * as React from 'react';\nimport { addNotification, getNotifications, removeNotification } from '../../api/notifications';\nimport { getWrappedDisplayName } from './utils';\n\ninterface State {\n  channels: string[];\n  globalTypes: string[];\n  loading: boolean;\n  notifications: T.Notification[];\n  perProjectTypes: string[];\n}\n\nexport interface WithNotificationsProps {\n  addNotification: (added: T.Notification) => void;\n  channels: string[];\n  globalTypes: string[];\n  loading: boolean;\n  notifications: T.Notification[];\n  perProjectTypes: string[];\n  removeNotification: (removed: T.Notification) => void;\n}\n\nexport function withNotifications<P>(\n  WrappedComponent: React.ComponentType<P & WithNotificationsProps>\n) {\n  class Wrapper extends React.Component<P, State> {\n    mounted = false;\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withNotifications');\n\n    state: State = {\n      channels: [],\n      globalTypes: [],\n      loading: true,\n      notifications: [],\n      perProjectTypes: []\n    };\n\n    componentDidMount() {\n      this.mounted = true;\n      this.fetchNotifications();\n    }\n\n    componentWillUnmount() {\n      this.mounted = false;\n    }\n\n    fetchNotifications = () => {\n      getNotifications().then(\n        response => {\n          if (this.mounted) {\n            this.setState({\n              channels: response.channels,\n              globalTypes: response.globalTypes,\n              loading: false,\n              notifications: response.notifications,\n              perProjectTypes: response.perProjectTypes\n            });\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ loading: false });\n          }\n        }\n      );\n    };\n\n    addNotificationToState = (added: T.Notification) => {\n      this.setState(state => {\n        const notifications = uniqWith([...state.notifications, added], this.areNotificationsEqual);\n        return { notifications };\n      });\n    };\n\n    removeNotificationFromState = (removed: T.Notification) => {\n      this.setState(state => {\n        const notifications = state.notifications.filter(\n          notification => !this.areNotificationsEqual(notification, removed)\n        );\n        return { notifications };\n      });\n    };\n\n    addNotification = (added: T.Notification) => {\n      // optimistic update\n      this.addNotificationToState(added);\n\n      // recreate `data` to omit `projectName` and `organization` from `Notification`\n      const data = { channel: added.channel, project: added.project, type: added.type };\n      addNotification(data).catch(() => {\n        this.removeNotificationFromState(added);\n      });\n    };\n\n    removeNotification = (removed: T.Notification) => {\n      // optimistic update\n      this.removeNotificationFromState(removed);\n\n      // recreate `data` to omit `projectName` and `organization` from `Notification`\n      const data = { channel: removed.channel, project: removed.project, type: removed.type };\n      removeNotification(data).catch(() => {\n        this.addNotificationToState(removed);\n      });\n    };\n\n    areNotificationsEqual = (a: T.Notification, b: T.Notification) => {\n      return a.channel === b.channel && a.type === b.type && a.project === b.project;\n    };\n\n    render() {\n      const { channels, globalTypes, loading, notifications, perProjectTypes } = this.state;\n      return (\n        <WrappedComponent\n          {...this.props}\n          addNotification={this.addNotification}\n          channels={channels}\n          globalTypes={globalTypes}\n          loading={loading}\n          notifications={notifications}\n          perProjectTypes={perProjectTypes}\n          removeNotification={this.removeNotification}\n        />\n      );\n    }\n  }\n\n  return Wrapper;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON, post } from '../helpers/request';\n\nexport function getNotifications(): Promise<{\n  channels: string[];\n  globalTypes: string[];\n  notifications: T.Notification[];\n  perProjectTypes: string[];\n}> {\n  return getJSON('/api/notifications/list').catch(throwGlobalError);\n}\n\nexport function addNotification(data: { channel: string; type: string; project?: string }) {\n  return post('/api/notifications/add', data).catch(throwGlobalError);\n}\n\nexport function removeNotification(data: { channel: string; type: string; project?: string }) {\n  return post('/api/notifications/remove', data).catch(throwGlobalError);\n}\n"],"sourceRoot":""}