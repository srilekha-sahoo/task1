{"version":3,"sources":["webpack:///./src/main/js/apps/quality-profiles/changelog/ParameterChange.tsx","webpack:///./src/main/js/apps/quality-profiles/changelog/SeverityChange.tsx","webpack:///./src/main/js/apps/quality-profiles/changelog/ChangesList.tsx","webpack:///./src/main/js/apps/quality-profiles/changelog/Changelog.tsx","webpack:///./src/main/js/apps/quality-profiles/changelog/ChangelogEmpty.tsx","webpack:///./src/main/js/apps/quality-profiles/changelog/ChangelogSearch.tsx","webpack:///./src/main/js/apps/quality-profiles/changelog/ChangelogContainer.tsx","webpack:///./src/main/js/components/intl/DateTimeFormatter.tsx","webpack:///./node_modules/lodash/toFinite.js","webpack:///./node_modules/lodash/map.js","webpack:///./src/main/js/api/quality-profiles.ts","webpack:///./src/main/js/components/shared/SeverityHelper.tsx","webpack:///./src/main/js/helpers/csv.ts","webpack:///./src/main/js/components/icons/SeverityIcon.tsx"],"names":["ParameterChange","name","value","className","SeverityChange","severity","SeverityHelper","ChangesList","changes","Object","keys","map","key","renderSeverity","Changelog","props","isEvenRow","sortedRows","events","e","Number","date","action","rows","event","index","prev","isSameDate","isBulkChange","authorName","DateTimeFormatter","to","rule_key","ruleKey","ruleName","params","ChangelogEmpty","id","DateRangeInput","onChange","this","onDateRangeChange","dateRange","onClick","onReset","mounted","state","loading","handleDateRangeChange","from","path","profile","language","since","router","push","handleReset","loadChangelog","prevProps","location","setState","query","then","r","total","page","p","catch","stopLoading","preventDefault","currentTarget","blur","shouldDisplayFooter","length","undefined","href","loadMore","bind","withRouter","formatterOption","year","month","day","hour","minute","children","toNumber","module","exports","arrayMap","baseIteratee","baseMap","isArray","collection","iteratee","searchQualityProfiles","parameters","getQualityProfile","compareToSonarWay","createQualityProfile","data","restoreQualityProfile","getProfileProjects","getProfileInheritance","qualityProfile","setDefaultProfile","renameProfile","copyProfile","fromKey","toName","deleteProfile","changeProfileParent","parentProfile","parentQualityProfile","getQualityProfileBackupUrl","queryParams","entries","encodeURIComponent","join","getQualityProfileExporterUrl","exporterKey","getImporters","importers","getExporters","exporters","getProfileChangelog","compareProfiles","leftKey","rightKey","associateProject","project","dissociateProject","searchUsers","searchGroups","addUser","removeUser","addGroup","removeGroup","bulkActivateRules","bulkDeactivateRules","activateRule","deactivateRule","csvEscape","escaped","replace","severityIcons","blocker","iconProps","d","style","fill","red","fillRule","critical","major","minor","lightGreen","info","blue","SeverityIcon","DesiredIcon","toLowerCase"],"mappings":"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","file":"js/322.m.f272efb1.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  name: string;\n  value: string | null;\n}\n\nexport default function ParameterChange({ name, value }: Props) {\n  return (\n    <div className=\"quality-profile-changelog-parameter\">\n      {value == null\n        ? translateWithParameters(\n            'quality_profiles.changelog.parameter_reset_to_default_value',\n            name\n          )\n        : translateWithParameters('quality_profiles.parameter_set_to', name, value)}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  severity: string;\n}\n\nexport default function SeverityChange({ severity }: Props) {\n  return (\n    <div className=\"nowrap\">\n      {translate('quality_profiles.severity_set_to')} <SeverityHelper severity={severity} />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ParameterChange from './ParameterChange';\nimport SeverityChange from './SeverityChange';\n\ninterface Props {\n  changes: T.Dict<string | null>;\n}\n\nexport default function ChangesList({ changes }: Props) {\n  const renderSeverity = (key: string) => {\n    const severity = changes[key];\n    return severity ? <SeverityChange severity={severity} /> : null;\n  };\n\n  return (\n    <ul>\n      {Object.keys(changes).map(key => (\n        <li key={key}>\n          {key === 'severity' ? (\n            renderSeverity(key)\n          ) : (\n            <ParameterChange name={key} value={changes[key]} />\n          )}\n        </li>\n      ))}\n    </ul>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as isSameMinute from 'date-fns/is_same_minute';\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport DateTimeFormatter from '../../../components/intl/DateTimeFormatter';\nimport { parseDate } from '../../../helpers/dates';\nimport { translate } from '../../../helpers/l10n';\nimport { getRulesUrl } from '../../../helpers/urls';\nimport { ProfileChangelogEvent } from '../types';\nimport ChangesList from './ChangesList';\n\ninterface Props {\n  events: ProfileChangelogEvent[];\n}\n\nexport default function Changelog(props: Props) {\n  let isEvenRow = false;\n  const sortedRows = sortBy(\n    props.events,\n    // sort events by date, rounded to a minute, recent events first\n    e => -Number(parseDate(e.date)),\n    e => e.action\n  );\n\n  const rows = sortedRows.map((event, index) => {\n    const prev = index > 0 ? sortedRows[index - 1] : null;\n    const isSameDate = prev != null && isSameMinute(parseDate(prev.date), parseDate(event.date));\n    const isBulkChange =\n      prev != null &&\n      isSameDate &&\n      prev.authorName === event.authorName &&\n      prev.action === event.action;\n\n    if (!isBulkChange) {\n      isEvenRow = !isEvenRow;\n    }\n\n    const className = 'js-profile-changelog-event ' + (isEvenRow ? 'even' : 'odd');\n\n    return (\n      <tr className={className} key={index}>\n        <td className=\"thin nowrap\">{!isBulkChange && <DateTimeFormatter date={event.date} />}</td>\n\n        <td className=\"thin nowrap\">\n          {!isBulkChange &&\n            (event.authorName ? (\n              <span>{event.authorName}</span>\n            ) : (\n              <span className=\"note\">System</span>\n            ))}\n        </td>\n\n        <td className=\"thin nowrap\">\n          {!isBulkChange && translate('quality_profiles.changelog', event.action)}\n        </td>\n\n        <td className=\"quality-profile-changelog-rule-cell\">\n          <Link to={getRulesUrl({ rule_key: event.ruleKey })}>{event.ruleName}</Link>\n        </td>\n\n        <td>{event.params && <ChangesList changes={event.params} />}</td>\n      </tr>\n    );\n  });\n\n  return (\n    <table className=\"data zebra-hover\">\n      <thead>\n        <tr>\n          <th className=\"thin nowrap\">{translate('date')}</th>\n          <th className=\"thin nowrap\">{translate('user')}</th>\n          <th className=\"thin nowrap\">{translate('action')}</th>\n          <th>{translate('rule')}</th>\n          <th>{translate('parameters')}</th>\n        </tr>\n      </thead>\n      <tbody>{rows}</tbody>\n    </table>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\n\nexport default function ChangelogEmpty() {\n  return <div className=\"big-spacer-top\">{translate('no_results')}</div>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../../../components/controls/buttons';\nimport DateRangeInput from '../../../components/controls/DateRangeInput';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  dateRange: { from?: Date; to?: Date } | undefined;\n  onDateRangeChange: (range: { from?: Date; to?: Date }) => void;\n  onReset: () => void;\n}\n\nexport default class ChangelogSearch extends React.PureComponent<Props> {\n  render() {\n    return (\n      <div className=\"display-inline-block\" id=\"quality-profile-changelog-form\">\n        <DateRangeInput onChange={this.props.onDateRangeChange} value={this.props.dateRange} />\n        <Button className=\"spacer-left text-top\" onClick={this.props.onReset}>\n          {translate('reset_verb')}\n        </Button>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { WithRouterProps } from 'react-router';\nimport { getProfileChangelog } from '../../../api/quality-profiles';\nimport { withRouter } from '../../../components/hoc/withRouter';\nimport { parseDate, toShortNotSoISOString } from '../../../helpers/dates';\nimport { translate } from '../../../helpers/l10n';\nimport { Profile, ProfileChangelogEvent } from '../types';\nimport { getProfileChangelogPath } from '../utils';\nimport Changelog from './Changelog';\nimport ChangelogEmpty from './ChangelogEmpty';\nimport ChangelogSearch from './ChangelogSearch';\n\ninterface Props extends Pick<WithRouterProps, 'router' | 'location'> {\n  profile: Profile;\n}\n\ninterface State {\n  events?: ProfileChangelogEvent[];\n  loading: boolean;\n  page?: number;\n  total?: number;\n}\n\nexport class ChangelogContainer extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadChangelog();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.location !== this.props.location) {\n      this.loadChangelog();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading() {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  }\n\n  loadChangelog() {\n    this.setState({ loading: true });\n    const {\n      location: { query },\n      profile\n    } = this.props;\n\n    getProfileChangelog(query.since, query.to, profile)\n      .then((r: any) => {\n        if (this.mounted) {\n          this.setState({\n            events: r.events,\n            total: r.total,\n            page: r.p,\n            loading: false\n          });\n        }\n      })\n      .catch(this.stopLoading);\n  }\n\n  loadMore(event: React.SyntheticEvent<HTMLElement>) {\n    event.preventDefault();\n    event.currentTarget.blur();\n\n    if (this.state.page != null) {\n      this.setState({ loading: true });\n      const {\n        location: { query },\n        profile\n      } = this.props;\n\n      getProfileChangelog(query.since, query.to, profile, this.state.page + 1)\n        .then((r: any) => {\n          if (this.mounted && this.state.events) {\n            this.setState(({ events = [] }) => ({\n              events: [...events, ...r.events],\n              total: r.total,\n              page: r.p,\n              loading: false\n            }));\n          }\n        })\n        .catch(this.stopLoading);\n    }\n  }\n\n  handleDateRangeChange = ({ from, to }: { from?: Date; to?: Date }) => {\n    const path = getProfileChangelogPath(this.props.profile.name, this.props.profile.language, {\n      since: from && toShortNotSoISOString(from),\n      to: to && toShortNotSoISOString(to)\n    });\n    this.props.router.push(path);\n  };\n\n  handleReset = () => {\n    const path = getProfileChangelogPath(this.props.profile.name, this.props.profile.language);\n    this.props.router.push(path);\n  };\n\n  render() {\n    const { query } = this.props.location;\n\n    const shouldDisplayFooter =\n      this.state.events != null &&\n      this.state.total != null &&\n      this.state.events.length < this.state.total;\n\n    return (\n      <div className=\"boxed-group boxed-group-inner js-profile-changelog\">\n        <header className=\"spacer-bottom\">\n          <ChangelogSearch\n            dateRange={{\n              from: query.since ? parseDate(query.since) : undefined,\n              to: query.to ? parseDate(query.to) : undefined\n            }}\n            onDateRangeChange={this.handleDateRangeChange}\n            onReset={this.handleReset}\n          />\n\n          {this.state.loading && <i className=\"spinner spacer-left\" />}\n        </header>\n\n        {this.state.events != null && this.state.events.length === 0 && <ChangelogEmpty />}\n\n        {this.state.events != null && this.state.events.length > 0 && (\n          <Changelog events={this.state.events} />\n        )}\n\n        {shouldDisplayFooter && (\n          <footer className=\"text-center spacer-top small\">\n            <a href=\"#\" onClick={this.loadMore.bind(this)}>\n              {translate('show_more')}\n            </a>\n          </footer>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(ChangelogContainer);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport const formatterOption = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric'\n};\n\nexport default function DateTimeFormatter({ children, date }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...formatterOption}>\n      {children}\n    </FormattedDate>\n  );\n}\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { Exporter, ProfileChangelogEvent } from '../apps/quality-profiles/types';\nimport { csvEscape } from '../helpers/csv';\nimport { getJSON, post, postJSON, RequestData } from '../helpers/request';\n\nexport interface ProfileActions {\n  associateProjects?: boolean;\n  copy?: boolean;\n  delete?: boolean;\n  edit?: boolean;\n  setAsDefault?: boolean;\n}\n\nexport interface Actions {\n  create?: boolean;\n}\n\nexport interface Profile {\n  actions?: ProfileActions;\n  key: string;\n  name: string;\n  language: string;\n  languageName: string;\n  isInherited?: boolean;\n  parentKey?: string;\n  parentName?: string;\n  isDefault?: boolean;\n  activeRuleCount: number;\n  activeDeprecatedRuleCount: number;\n  rulesUpdatedAt?: string;\n  lastUsed?: string;\n  userUpdatedAt?: string;\n  isBuiltIn?: boolean;\n  projectCount?: number;\n}\n\nexport interface SearchQualityProfilesParameters {\n  defaults?: boolean;\n  language?: string;\n  project?: string;\n  qualityProfile?: string;\n}\n\nexport interface SearchQualityProfilesResponse {\n  actions?: Actions;\n  profiles: Profile[];\n}\n\nexport function searchQualityProfiles(\n  parameters?: SearchQualityProfilesParameters\n): Promise<SearchQualityProfilesResponse> {\n  return getJSON('/api/qualityprofiles/search', parameters).catch(throwGlobalError);\n}\n\nexport function getQualityProfile({\n  compareToSonarWay,\n  profile: { key }\n}: {\n  compareToSonarWay?: boolean;\n  profile: Profile;\n}): Promise<any> {\n  return getJSON('/api/qualityprofiles/show', { compareToSonarWay, key });\n}\n\nexport function createQualityProfile(data: RequestData): Promise<any> {\n  return postJSON('/api/qualityprofiles/create', data).catch(throwGlobalError);\n}\n\nexport function restoreQualityProfile(data: RequestData): Promise<any> {\n  return postJSON('/api/qualityprofiles/restore', data).catch(throwGlobalError);\n}\n\nexport interface ProfileProject {\n  key: string;\n  name: string;\n  selected: boolean;\n}\n\nexport function getProfileProjects(\n  data: RequestData\n): Promise<{ more: boolean; paging: T.Paging; results: ProfileProject[] }> {\n  return getJSON('/api/qualityprofiles/projects', data).catch(throwGlobalError);\n}\n\nexport function getProfileInheritance({\n  language,\n  name: qualityProfile\n}: Profile): Promise<{\n  ancestors: T.ProfileInheritanceDetails[];\n  children: T.ProfileInheritanceDetails[];\n  profile: T.ProfileInheritanceDetails;\n}> {\n  return getJSON('/api/qualityprofiles/inheritance', {\n    language,\n    qualityProfile\n  }).catch(throwGlobalError);\n}\n\nexport function setDefaultProfile({ language, name: qualityProfile }: Profile) {\n  return post('/api/qualityprofiles/set_default', {\n    language,\n    qualityProfile\n  });\n}\n\nexport function renameProfile(key: string, name: string) {\n  return post('/api/qualityprofiles/rename', { key, name }).catch(throwGlobalError);\n}\n\nexport function copyProfile(fromKey: string, toName: string): Promise<any> {\n  return postJSON('/api/qualityprofiles/copy', { fromKey, toName }).catch(throwGlobalError);\n}\n\nexport function deleteProfile({ language, name: qualityProfile }: Profile) {\n  return post('/api/qualityprofiles/delete', { language, qualityProfile }).catch(throwGlobalError);\n}\n\nexport function changeProfileParent(\n  { language, name: qualityProfile }: Profile,\n  parentProfile?: Profile\n) {\n  return post('/api/qualityprofiles/change_parent', {\n    language,\n    qualityProfile,\n    parentQualityProfile: parentProfile ? parentProfile.name : undefined\n  }).catch(throwGlobalError);\n}\n\nexport function getQualityProfileBackupUrl({ language, name: qualityProfile }: Profile) {\n  const queryParams = Object.entries({ language, qualityProfile })\n    .map(([key, value]) => `${key}=${encodeURIComponent(value)}`)\n    .join('&');\n  return `/api/qualityprofiles/backup?${queryParams}`;\n}\n\nexport function getQualityProfileExporterUrl(\n  { key: exporterKey }: Exporter,\n  { language, name: qualityProfile }: Profile\n) {\n  const queryParams = Object.entries({ exporterKey, language, qualityProfile })\n    .map(([key, value]) => `${key}=${encodeURIComponent(value)}`)\n    .join('&');\n  return `/api/qualityprofiles/export?${queryParams}`;\n}\n\nexport function getImporters(): Promise<\n  Array<{ key: string; languages: Array<string>; name: string }>\n> {\n  return getJSON('/api/qualityprofiles/importers').then(r => r.importers, throwGlobalError);\n}\n\nexport function getExporters(): Promise<any> {\n  return getJSON('/api/qualityprofiles/exporters').then(r => r.exporters);\n}\n\nexport function getProfileChangelog(\n  since: any,\n  to: any,\n  { language, name: qualityProfile }: Profile,\n  page?: number\n): Promise<{\n  events: ProfileChangelogEvent[];\n  p: number;\n  ps: number;\n  total: number;\n}> {\n  return getJSON('/api/qualityprofiles/changelog', {\n    since,\n    to,\n    language,\n    qualityProfile,\n    p: page\n  });\n}\n\nexport interface CompareResponse {\n  left: { name: string };\n  right: { name: string };\n  inLeft: Array<{ key: string; name: string; severity: string }>;\n  inRight: Array<{ key: string; name: string; severity: string }>;\n  modified: Array<{\n    key: string;\n    name: string;\n    left: { params: T.Dict<string>; severity: string };\n    right: { params: T.Dict<string>; severity: string };\n  }>;\n}\n\nexport function compareProfiles(leftKey: string, rightKey: string): Promise<CompareResponse> {\n  return getJSON('/api/qualityprofiles/compare', { leftKey, rightKey });\n}\n\nexport function associateProject({ language, name: qualityProfile }: Profile, project: string) {\n  return post('/api/qualityprofiles/add_project', {\n    language,\n    qualityProfile,\n    project\n  }).catch(throwGlobalError);\n}\n\nexport function dissociateProject({ language, name: qualityProfile }: Profile, project: string) {\n  return post('/api/qualityprofiles/remove_project', {\n    language,\n    qualityProfile,\n    project\n  }).catch(throwGlobalError);\n}\n\nexport interface SearchUsersGroupsParameters {\n  language: string;\n  qualityProfile: string;\n  q?: string;\n  selected?: 'all' | 'selected' | 'deselected';\n}\n\ninterface SearchUsersResponse {\n  users: T.UserSelected[];\n  paging: T.Paging;\n}\n\nexport function searchUsers(parameters: SearchUsersGroupsParameters): Promise<SearchUsersResponse> {\n  return getJSON('/api/qualityprofiles/search_users', parameters).catch(throwGlobalError);\n}\n\nexport interface SearchGroupsResponse {\n  groups: Array<{ name: string }>;\n  paging: T.Paging;\n}\n\nexport function searchGroups(\n  parameters: SearchUsersGroupsParameters\n): Promise<SearchGroupsResponse> {\n  return getJSON('/api/qualityprofiles/search_groups', parameters).catch(throwGlobalError);\n}\n\nexport interface AddRemoveUserParameters {\n  language: string;\n  login: string;\n  qualityProfile: string;\n}\n\nexport function addUser(parameters: AddRemoveUserParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/add_user', parameters).catch(throwGlobalError);\n}\n\nexport function removeUser(parameters: AddRemoveUserParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/remove_user', parameters).catch(throwGlobalError);\n}\n\nexport interface AddRemoveGroupParameters {\n  group: string;\n  language: string;\n  qualityProfile: string;\n}\n\nexport function addGroup(parameters: AddRemoveGroupParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/add_group', parameters).catch(throwGlobalError);\n}\n\nexport function removeGroup(parameters: AddRemoveGroupParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/remove_group', parameters).catch(throwGlobalError);\n}\n\nexport interface BulkActivateParameters {\n  activation?: boolean;\n  active_severities?: string;\n  asc?: boolean;\n  available_since?: string;\n  compareToProfile?: string;\n  inheritance?: string;\n  is_template?: string;\n  languages?: string;\n  q?: string;\n  qprofile?: string;\n  repositories?: string;\n  rule_key?: string;\n  s?: string;\n  severities?: string;\n  statuses?: string;\n  tags?: string;\n  targetKey: string;\n  targetSeverity?: string;\n  template_key?: string;\n  types?: string;\n}\n\nexport function bulkActivateRules(data: BulkActivateParameters) {\n  return postJSON('/api/qualityprofiles/activate_rules', data);\n}\n\nexport function bulkDeactivateRules(data: BulkActivateParameters) {\n  return postJSON('/api/qualityprofiles/deactivate_rules', data);\n}\n\nexport function activateRule(data: {\n  key: string;\n  params?: T.Dict<string>;\n  reset?: boolean;\n  rule: string;\n  severity?: string;\n}) {\n  const params =\n    data.params && map(data.params, (value, key) => `${key}=${csvEscape(value)}`).join(';');\n  return post('/api/qualityprofiles/activate_rule', { ...data, params }).catch(throwGlobalError);\n}\n\nexport function deactivateRule(data: { key: string; rule: string }) {\n  return post('/api/qualityprofiles/deactivate_rule', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SeverityIcon from '../../components/icons/SeverityIcon';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  severity: string;\n}\n\nexport default function SeverityHelper({ className, severity }: Props) {\n  if (!severity) {\n    return null;\n  }\n  return (\n    <span className={className}>\n      <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n      {translate('severity', severity)}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function csvEscape(value: string): string {\n  const escaped = value.replace(/\"/g, '\\\\\"');\n  return `\"${escaped}\"`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { colors } from '../../app/theme';\nimport Icon, { IconProps } from './Icon';\n\ninterface Props extends IconProps {\n  severity: string | null | undefined;\n}\n\nconst severityIcons: T.Dict<(props: IconProps) => React.ReactElement> = {\n  blocker: BlockerSeverityIcon,\n  critical: CriticalSeverityIcon,\n  major: MajorSeverityIcon,\n  minor: MinorSeverityIcon,\n  info: InfoSeverityIcon\n};\n\nexport default function SeverityIcon({ severity, ...iconProps }: Props) {\n  if (!severity) {\n    return null;\n  }\n\n  const DesiredIcon = severityIcons[severity.toLowerCase()];\n  return DesiredIcon ? <DesiredIcon {...iconProps} /> : null;\n}\n\nfunction BlockerSeverityIcon(iconProps: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M8 14c-3.311 0-6-2.689-6-6s2.689-6 6-6 6 2.689 6 6-2.689 6-6 6zM7 9h2V4H7v5zm0 3h2v-2H7v2z\"\n        style={{ fill: colors.red, fillRule: 'nonzero' }}\n      />\n    </Icon>\n  );\n}\n\nfunction CriticalSeverityIcon(iconProps: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M8 2c3.311 0 6 2.689 6 6s-2.689 6-6 6-6-2.689-6-6 2.689-6 6-6zm1 10V7.414l1.893 1.893c.13.124.282.216.457.261a1.006 1.006 0 0 0 1.176-.591 1.01 1.01 0 0 0 .01-.729 1.052 1.052 0 0 0-.229-.355c-1.212-1.212-2.394-2.456-3.638-3.636a1.073 1.073 0 0 0-.169-.123 1.05 1.05 0 0 0-.448-.133h-.104a1.053 1.053 0 0 0-.493.16 1.212 1.212 0 0 0-.162.132C6.08 5.505 4.836 6.687 3.656 7.932a.994.994 0 0 0-.051 1.275c.208.271.548.42.888.389.198-.019.378-.098.535-.218.041-.035.04-.034.079-.071L7 7.414V12h2z\"\n        style={{ fill: colors.red, fillRule: 'nonzero' }}\n      />\n    </Icon>\n  );\n}\n\nfunction MajorSeverityIcon(iconProps: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M8 2c3.311 0 6 2.689 6 6s-2.689 6-6 6-6-2.689-6-6 2.689-6 6-6zm.08 2.903c.071.008.14.019.208.039.138.042.26.114.37.205 1.244 1.146 2.426 2.357 3.639 3.536.1.103.181.218.234.352a1.01 1.01 0 0 1 .001.728 1.002 1.002 0 0 1-1.169.609 1.042 1.042 0 0 1-.46-.255L8 7.295l-2.903 2.822c-.039.036-.039.036-.08.07a1.002 1.002 0 0 1-1.604-.947c.032-.196.122-.37.253-.519C4.847 7.51 6.09 6.362 7.303 5.183c.052-.048.106-.093.167-.131a1.041 1.041 0 0 1 .61-.149z\"\n        style={{ fill: colors.red }}\n      />\n    </Icon>\n  );\n}\n\nfunction MinorSeverityIcon(iconProps: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M8 2c3.311 0 6 2.689 6 6s-2.689 6-6 6-6-2.689-6-6 2.689-6 6-6zm1 6.586V4H7v4.586L5.107 6.693a1.178 1.178 0 0 0-.165-.134 1.041 1.041 0 0 0-.662-.152 1 1 0 0 0-.587 1.7c1.212 1.212 2.394 2.456 3.638 3.636.094.08.195.146.311.191a1.008 1.008 0 0 0 1.065-.227c1.213-1.212 2.457-2.394 3.637-3.639a.994.994 0 0 0 .051-1.275 1.012 1.012 0 0 0-.888-.389 1.041 1.041 0 0 0-.535.218c-.04.034-.04.034-.079.071L9 8.586z\"\n        style={{ fill: colors.lightGreen }}\n      />\n    </Icon>\n  );\n}\n\nfunction InfoSeverityIcon(iconProps: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M8 2c3.311 0 6 2.689 6 6s-2.689 6-6 6-6-2.689-6-6 2.689-6 6-6zm1 5H7v5h2V7zm0-3H7v2h2V4z\"\n        style={{ fill: colors.blue }}\n      />\n    </Icon>\n  );\n}\n"],"sourceRoot":""}