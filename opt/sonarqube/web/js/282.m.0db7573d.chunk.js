(window.webpackJsonp=window.webpackJsonp||[]).push([[282,6],{1613:function(e,t,n){var r=n(369),a=n(1614);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},1614:function(e,t,n){(t=n(370)(!1)).push([e.i,".project-activity-page{min-height:600px;height:calc(100vh - 250px)}.project-activity-page-side-outer{position:relative;width:400px;margin-bottom:0;display:flex;flex-direction:row;align-items:stretch}.project-activity-layout-page-main{flex-grow:1;min-width:640px;padding-left:20px;display:flex}.project-activity-layout-page-main-inner{min-width:640px;max-width:880px;margin-bottom:0;flex:1;display:flex;flex-direction:column;align-items:stretch}.project-activity-versions-list{max-width:400px;box-sizing:border-box;overflow:auto;flex-grow:1;flex-shrink:0;padding:16px 16px 16px 12px}.project-activity-day{margin-top:8px;margin-bottom:24px}.project-activity-day:last-child{margin-bottom:10px}.project-activity-date{margin-bottom:16px;font-size:16px;font-weight:700}.project-activity-analysis{position:relative;min-height:20px;padding:16px;cursor:pointer}.project-activity-analysis.selected{cursor:default;background-color:#ecf6fe}.project-activity-analysis:focus{outline:none}.project-activity-analysis:hover{background-color:#ecf6fe}.project-activity-analysis+.project-activity-analysis{border-top:none}.project-activity-analysis-actions{height:20px}.project-activity-time{height:20px;line-height:20px}.project-activity-event{line-height:20px;text-indent:-20px;padding-left:20px}.project-activity-event *{text-indent:0}.project-activity-event+.project-activity-event{margin-top:8px}.project-activity-event-inner-more-link{line-height:16px}.project-activity-event-icon.VERSION{color:#4b9fd5}.project-activity-event-icon.QUALITY_GATE{color:#9139d4}.project-activity-event-icon.QUALITY_PROFILE{color:#ccc}.project-activity-event-icon.DEFINITION_CHANGE{color:#33a759}.project-activity-event-icon.OTHER{color:#442d1b}.project-activity-version-badge{margin-left:-12px;padding-top:8px;padding-bottom:8px;background-color:#fff}.project-activity-version-badge.first,.project-activity-version-badge.sticky{position:absolute;top:0;left:12px;right:16px;padding-top:24px;z-index:1}.project-activity-version-badge.sticky+.project-activity-days-list{padding-top:36px}.project-activity-version-badge .analysis-version{max-width:385px;border-radius:0 2px 2px 0;overflow:hidden;text-overflow:ellipsis}.activity-graph-tooltip-line .project-activity-event-icon,.Select .project-activity-event-icon{margin-top:1px}.baseline-marker{position:absolute;top:-10px;left:0;right:0;display:flex;flex-direction:row;align-items:center}.baseline-marker>.wedge{border:10px solid transparent;border-left-color:#f1e8cb}.baseline-marker>hr{border:none;margin:0 0 0 -11px;background-color:#f1e8cb;height:2px;flex:1 0 auto}.baseline-marker>.label{background-color:#fbf3d5;border:1px solid #f1e8cb;padding:2px 8px;font-size:10px}",""]),e.exports=t},1615:function(e,t,n){var r=n(627),a=n(22),o=n(1616);e.exports=function(e,t){return e&&e.length?r(e,a(t,2),o):void 0}},1616:function(e,t){e.exports=function(e,t){return e<t}},1617:function(e,t,n){var r=n(532)(n(588));e.exports=r},1618:function(e,t,n){var r=n(369),a=n(1619);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},1619:function(e,t,n){(t=n(370)(!1)).push([e.i,".chart-zoom-tick{fill:#666;font-size:10px;text-anchor:middle;-webkit-user-select:none;-ms-user-select:none;user-select:none}.chart-zoom .zoom-overlay{fill:none;stroke:none;cursor:crosshair;pointer-events:all}.chart-zoom .zoom-selection{fill:#666;fill-opacity:.2;stroke:#666;shape-rendering:crispEdges;cursor:move}.chart-zoom .zoom-selection-handle{cursor:ew-resize;fill-opacity:0;stroke:none}",""]),e.exports=t},1779:function(e,t,n){"use strict";n.r(t),n.d(t,"PROJECT_ACTIVITY_GRAPH",(function(){return Ce})),n.d(t,"default",(function(){return Ne}));var r=n(366),a=n(757),o=n(742),i=n(910),s=n(474),l=n(386),c=n(21),p=n(430);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n(685),f=n(393),g=n(419),y=n(396),b=n(6),v=(n(1613),n(559)),x=n.n(v),E=n(367),S=n(463),k=n(374),O=n(424),j=n(390),w=n(437),D=n(482),C=n(384),N=n(595),P=n(423),M=n(465),T=n(942),_=n(410);class L extends r.PureComponent{constructor(){super(...arguments),this.state={name:""},this.handleNameChange=e=>{this.setState({name:e.target.value})},this.handleSubmit=()=>this.props.addEvent(this.props.analysis.key,this.state.name)}render(){return r.createElement(_.a,{confirmButtonText:Object(b.k)("save"),confirmDisable:!this.state.name,header:Object(b.k)(this.props.addEventButtonText),onClose:this.props.onClose,onConfirm:this.handleSubmit,size:"small"},r.createElement("div",{className:"modal-field"},r.createElement("label",null,Object(b.k)("name")),r.createElement("input",{autoFocus:!0,onChange:this.handleNameChange,type:"text",value:this.state.name})))}}function A({analysis:e,deleteAnalysis:t,onClose:n}){return r.createElement(_.a,{confirmButtonText:Object(b.k)("delete"),confirmData:e.key,header:Object(b.k)("project_activity.delete_analysis"),isDestructive:!0,onClose:n,onConfirm:t},Object(b.k)("project_activity.delete_analysis.question"))}var I=r.memo((function(e){let t=null;const{analysis:n,isBaseline:a,isFirst:o,canAdmin:i,canCreateVersion:s,parentScrollContainer:l,selected:p}=e;r.useEffect(()=>{if(t&&l&&p){const{height:e}=t.getBoundingClientRect();Object(M.b)(t,{bottomOffset:e+20,topOffset:60,parent:l,smooth:!1})}});const[u,d]=r.useState(!1),[h,m]=r.useState(!1),[f,g]=r.useState(!1),y=Object(c.b)(n.date),v=null!=n.events.find(e=>"VERSION"===e.category),x=i&&!v&&s,S=i,k=e.canDeleteAnalyses&&!o&&!n.manualNewCodePeriodBaseline;return r.createElement("li",{className:E("project-activity-analysis bordered-top bordered-bottom",{selected:p}),onClick:()=>e.updateSelectedDate(n.date),ref:e=>t=e},r.createElement("div",{className:"display-flex-center display-flex-space-between"},r.createElement("div",{className:"project-activity-time"},r.createElement(N.a,{date:y,long:!1},e=>r.createElement("time",{className:"text-middle",dateTime:y.toISOString()},e))),n.buildString&&r.createElement("div",{className:"flex-shrink small text-muted text-ellipsis"},Object(b.l)("project_activity.analysis_build_string_X",n.buildString)),(x||S||k)&&r.createElement(D.a,null,r.createElement("div",{className:"project-activity-analysis-actions big-spacer-left"},r.createElement(w.c,{overlayPlacement:P.b.BottomRight,small:!0,toggleClassName:"js-analysis-actions"},x&&r.createElement(w.b,{className:"js-add-version",onClick:()=>m(!0)},Object(b.k)("project_activity.add_version")),S&&r.createElement(w.b,{className:"js-add-event",onClick:()=>d(!0)},Object(b.k)("project_activity.add_custom_event")),(x||S)&&k&&r.createElement(w.a,null),k&&r.createElement(w.b,{className:"js-delete-analysis",destructive:!0,onClick:()=>g(!0)},Object(b.k)("project_activity.delete_analysis"))),h&&r.createElement(L,{addEvent:e.addVersion,addEventButtonText:"project_activity.add_version",analysis:n,onClose:()=>m(!1)}),u&&r.createElement(L,{addEvent:e.addCustomEvent,addEventButtonText:"project_activity.add_custom_event",analysis:n,onClose:()=>d(!1)}),f&&r.createElement(A,{analysis:n,deleteAnalysis:e.deleteAnalysis,onClose:()=>g(!1)})))),n.events.length>0&&r.createElement(T.a,{analysisKey:n.key,canAdmin:i,events:n.events,isFirst:o,onChange:e.changeEvent,onDelete:e.deleteEvent}),a&&r.createElement("div",{className:"baseline-marker"},r.createElement("div",{className:"wedge"}),r.createElement("hr",null),r.createElement("div",{className:"label display-flex-center"},Object(b.k)("project_activity.new_code_period_start"),r.createElement(C.a,{className:"little-spacer-left",overlay:Object(b.k)("project_activity.new_code_period_start.help"),placement:"top"}))))}));class z extends r.PureComponent{constructor(e){super(e),this.handleScroll=()=>this.updateStickyBadges(!0),this.resetScrollTop=(e,t)=>{if(this.scrollContainer&&(this.scrollContainer.scrollTop=e),this.badges)for(let e=1;e<this.badges.length;e++)this.badges[e].removeAttribute("originOffsetTop"),this.badges[e].classList.remove("sticky");this.updateStickyBadges(t)},this.updateStickyBadges=e=>{if(!this.scrollContainer||!this.badges)return;const{scrollTop:t}=this.scrollContainer;if(null==t)return;let n;for(let r=1;r<this.badges.length;r++){const a=this.badges[r];let o=a.getAttribute("originOffsetTop");null==o&&(o=String(a.offsetTop),a.setAttribute("originOffsetTop",o)),Number(o)<t+18+2*r?(e&&!a.classList.contains("sticky")&&(n=o),a.classList.add("sticky")):a.classList.remove("sticky")}e&&null!=n&&(this.scrollContainer.scrollTop=Number(n)-6)},this.updateSelectedDate=e=>{this.props.updateQuery({selectedDate:e})},this.handleScroll=x()(this.handleScroll,20)}componentDidMount(){this.badges=document.getElementsByClassName("project-activity-version-badge"),this.analyses=document.getElementsByClassName("project-activity-analysis")}componentDidUpdate(e){this.scrollContainer&&Object(m.c)(e.query,this.props.query)&&this.resetScrollTop(0,!0)}shouldRenderBaselineMarker(e){return Boolean(this.props.leakPeriodDate&&Object(S.isEqual)(this.props.leakPeriodDate,e.date))}renderAnalysis(e){const t=this.props.analyses[0].key,n=this.props.query.selectedDate?this.props.query.selectedDate.valueOf():null;return r.createElement(I,{addCustomEvent:this.props.addCustomEvent,addVersion:this.props.addVersion,analysis:e,canAdmin:this.props.canAdmin,canCreateVersion:this.props.project.qualifier===j.a.Project,canDeleteAnalyses:this.props.canDeleteAnalyses,changeEvent:this.props.changeEvent,deleteAnalysis:this.props.deleteAnalysis,deleteEvent:this.props.deleteEvent,isBaseline:this.shouldRenderBaselineMarker(e),isFirst:e.key===t,key:e.key,parentScrollContainer:this.scrollContainer,selected:e.date.valueOf()===n,updateSelectedDate:this.updateSelectedDate})}render(){const e=Object(m.f)(this.props.analyses,this.props.query),t=e.length>1||1===e.length&&Object.keys(e[0].byDay).length>0;return 0!==this.props.analyses.length&&t?r.createElement("ul",{className:"project-activity-versions-list",onScroll:this.handleScroll,ref:e=>this.scrollContainer=e,style:{paddingTop:this.props.project.qualifier===j.a.Project?52:void 0}},e.map((e,t)=>{const n=Object.keys(e.byDay);return n.length<=0?null:r.createElement("li",{key:e.key||"noversion"},e.version&&r.createElement("div",{className:E("project-activity-version-badge",{first:0===t})},r.createElement(k.a,{mouseEnterDelay:.5,overlay:"".concat(Object(b.k)("version")," ").concat(e.version)},r.createElement("span",{className:"analysis-version"},e.version))),r.createElement("ul",{className:"project-activity-days-list"},n.map(t=>r.createElement("li",{className:"project-activity-day","data-day":Object(c.d)(Number(t)),key:t},r.createElement("div",{className:"project-activity-date"},r.createElement(O.a,{date:Number(t),long:!0})),r.createElement("ul",{className:"project-activity-analyses-list"},null!=e.byDay[t]&&e.byDay[t].map(e=>this.renderAnalysis(e)))))))}),this.props.analysesLoading&&r.createElement("li",{className:"text-center"},r.createElement("i",{className:"spinner"}))):r.createElement("div",{className:"boxed-group-inner"},this.props.initializing?r.createElement("div",{className:"text-center"},r.createElement("i",{className:"spinner"})):r.createElement("span",{className:"note"},Object(b.k)("no_results")))}}var R=n(387),H=n.n(R),q=n(1615),B=n.n(q),V=n(922),U=n.n(V),Z=n(1617),F=n.n(Z),G=n(422),Y=n.n(G),W=n(945),Q=n(938),X=n(650),K=n(572),J=n.n(K),$=n(1741),ee=n(1746),te=n(1128),ne=n(1773),re=n(1769),ae=n(1604),oe=n(1747),ie=n(1748),se=n(923),le=n.n(se),ce=n(375);n(791),n(1618);class pe extends r.PureComponent{constructor(e){super(e),this.getRatingScale=e=>Object(te.b)().domain([5,4,3,2,1]).range([e,0]),this.getLevelScale=e=>Object(te.b)().domain(["ERROR","WARN","OK"]).range([e,0]),this.getYScale=(e,t)=>"RATING"===this.props.metricType?this.getRatingScale(e):"LEVEL"===this.props.metricType?this.getLevelScale(e):Object(ne.a)().range([e,0]).domain([0,Object($.a)(t,e=>Number(e.y||0))]).nice(),this.getXScale=(e,t)=>Object(re.a)().domain(Object(ee.a)(t,e=>e.x)).range([0,e]).clamp(!0),this.getScales=()=>{const e=this.props.width-this.props.padding[1]-this.props.padding[3],t=this.props.height-this.props.padding[0]-this.props.padding[2],n=J()(this.props.series.map(e=>e.data));return{xScale:this.getXScale(e,n),yScale:this.getYScale(t,n)}},this.getEventMarker=e=>{const t=e/2;return"M".concat(t," 0 L").concat(e," ").concat(t," L ").concat(t," ").concat(e," L0 ").concat(t," L").concat(t," 0 L").concat(e," ").concat(t)},this.handleDoubleClick=(e,t)=>()=>{this.handleZoomUpdate(e,t)},this.handleSelectionDrag=(e,t,n,r=!1)=>(a,o)=>{if(!r||o.deltaX){const r=Math.max(n[0],Math.min(o.x,n[1]-t));this.handleZoomUpdate(e,[r,t+r])}},this.handleSelectionHandleDrag=(e,t,n,r,a=!1)=>(o,i)=>{if(!a||i.deltaX){const a=Math.max(n[0],Math.min(i.x,n[1]));this.handleZoomUpdate(e,"right"===r?[t,a]:[a,t])}},this.handleNewZoomDragStart=e=>(t,n)=>{const r=n.node.getBoundingClientRect().left;this.setState({overlayLeftPos:r,newZoomStart:Math.round(Math.max(e[0],Math.min(n.x-r,e[1])))})},this.handleNewZoomDrag=(e,t)=>(n,r)=>{const{newZoomStart:a,overlayLeftPos:o}=this.state;null!=a&&null!=o&&r.deltaX&&this.handleZoomUpdate(e,H()([a,Math.max(t[0],Math.min(r.x-o,t[1]))]))},this.handleNewZoomDragEnd=(e,t)=>(n,r)=>{const{newZoomStart:a,overlayLeftPos:o}=this.state;if(void 0!==a&&void 0!==o){const n=Math.round(Math.max(t[0],Math.min(r.x-o,t[1])));this.handleZoomUpdate(e,a===n?t:H()([a,n])),this.setState({newZoomStart:void 0,overlayLeftPos:void 0})}},this.handleZoomUpdate=(e,t)=>{const n=e.range(),r=t[0]>n[0]&&t[0]<n[n.length-1]?e.invert(t[0]):void 0,a=t[1]>n[0]&&t[1]<n[n.length-1]?e.invert(t[1]):void 0;this.props.updateZoom(r,a)},this.renderBaseLine=(e,t)=>r.createElement("line",{className:"line-chart-grid",x1:e.range()[0],x2:e.range()[1],y1:t.range()[0],y2:t.range()[0]}),this.renderTicks=(e,t)=>{const n=e.tickFormat(7),a=e.ticks(7),o=t.range()[0];return r.createElement("g",null,a.slice(0,-1).map((t,i)=>{const s=i+1<a.length?a[i+1]:e.domain()[1],l=(e(t)+e(s))/2;return r.createElement("text",{className:"chart-zoom-tick",dy:"1.3em",key:i,x:l,y:o},n(t))}))},this.renderLeak=(e,t)=>{const{leakPeriodDate:n}=this.props;if(!n)return null;const a=t.range();return r.createElement("rect",{fill:ce.colors.leakPrimaryColor,height:a[0]-a[a.length-1],width:e.range()[1]-e(n),x:e(n),y:a[a.length-1]})},this.renderLines=(e,t)=>{const n=Object(ae.a)().defined(e=>Boolean(e.y||0===e.y)).x(t=>e(t.x)).y(e=>t(e.y));return this.props.basisCurve&&n.curve(oe.a),r.createElement("g",null,this.props.series.map((e,t)=>r.createElement("path",{className:E("line-chart-path","line-chart-path-"+t),d:n(e.data)||void 0,key:e.name})))},this.renderAreas=(e,t)=>{const n=Object(ie.a)().defined(e=>Boolean(e.y||0===e.y)).x(t=>e(t.x)).y1(e=>t(e.y)).y0(t(0));return this.props.basisCurve&&n.curve(oe.a),r.createElement("g",null,this.props.series.map((e,t)=>r.createElement("path",{className:E("line-chart-area","line-chart-area-"+t),d:n(e.data)||void 0,key:e.name})))},this.renderZoomHandle=e=>r.createElement(le.a,{axis:"x",bounds:{left:e.xDim[0],right:e.xDim[1]},onDrag:this.handleSelectionHandleDrag(e.xScale,e.fixedPos,e.xDim,e.direction,!0),onStop:this.handleSelectionHandleDrag(e.xScale,e.fixedPos,e.xDim,e.direction),position:{x:e.xPos,y:0}},r.createElement("rect",{className:"zoom-selection-handle",height:e.yDim[0]-e.yDim[1]+1,width:6,x:-3,y:e.yDim[1]})),this.renderZoom=(e,t)=>{const n=e.range(),a=t.range(),o=[n[0],n[n.length-1]],i=[a[0],a[a.length-1]],s=Math.round(this.props.startDate?e(this.props.startDate):o[0]),l=Math.round(this.props.endDate?e(this.props.endDate):o[1]),c=H()([s,l]),p=c[1]-c[0],u=null==this.state.newZoomStart||this.state.newZoomStart===s||this.state.newZoomStart===l;return r.createElement("g",{className:"chart-zoom"},r.createElement(se.DraggableCore,{onDrag:this.handleNewZoomDrag(e,o),onStart:this.handleNewZoomDragStart(o),onStop:this.handleNewZoomDragEnd(e,o)},r.createElement("rect",{className:"zoom-overlay",height:i[0]-i[1],width:o[1]-o[0],x:o[0],y:i[1]})),u&&r.createElement(le.a,{axis:"x",bounds:{left:o[0],right:Math.floor(o[1]-p)},onDrag:this.handleSelectionDrag(e,p,o,!0),onStop:this.handleSelectionDrag(e,p,o),position:{x:c[0],y:0}},r.createElement("rect",{className:"zoom-selection",height:i[0]-i[1]+1,onDoubleClick:this.handleDoubleClick(e,o),width:p,x:0,y:i[1]})),u&&this.renderZoomHandle({xScale:e,xPos:s,fixedPos:l,xDim:o,yDim:i,direction:"left"}),u&&this.renderZoomHandle({xScale:e,xPos:l,fixedPos:s,xDim:o,yDim:i,direction:"right"}))},this.state={},this.handleZoomUpdate=x()(this.handleZoomUpdate,40)}render(){if(!this.props.width||!this.props.height)return r.createElement("div",null);const{xScale:e,yScale:t}=this.getScales();return r.createElement("svg",{className:"line-chart ",height:this.props.height,width:this.props.width},r.createElement("g",{transform:"translate(".concat(this.props.padding[3],", ").concat(this.props.padding[0]+2,")")},this.renderLeak(e,t),this.renderBaseLine(e,t),this.props.showXTicks&&this.renderTicks(e,t),this.props.showAreas&&this.renderAreas(e,t),this.renderLines(e,t),this.renderZoom(e,t)))}}function ue(e){return e.loading||!Object(s.i)(e.series)?null:r.createElement("div",{className:"activity-graph-zoom"},r.createElement(X.AutoSizer,{disableHeight:!0},({width:t})=>r.createElement(pe,{endDate:e.graphEndDate,height:64,leakPeriodDate:e.leakPeriodDate,metricType:e.metricsType,padding:[0,10,18,60],series:e.series,showAreas:e.showAreas,startDate:e.graphStartDate,updateZoom:e.updateGraphZoom,width:t})))}pe.defaultProps={padding:[0,0,18,0],showXTicks:!0};var de=n(523);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ge extends r.PureComponent{constructor(e){super(e),this.getStateZoomDates=(e,t,n)=>{const r={from:t.query.from||void 0,to:t.query.to||void 0};if(!e||Object(m.e)(e.query,t.query))return{graphEndDate:r.to,graphStartDate:r.from};if(void 0===r.to&&void 0===r.from&&void 0!==n){const e=B()(n.map(e=>e.data.find(e=>Boolean(e.y||0===e.y))),"x"),t=U()(n.map(e=>F()(e.data,e=>Boolean(e.y||0===e.y))),"x");return{graphEndDate:t&&t.x,graphStartDate:e&&e.x}}return null},this.getMetricsTypeFilter=()=>{if(!(this.state.graphs.length<2))return this.state.graphs.filter(e=>e.length<3).map(e=>e[0].type)},this.addCustomMetric=e=>{const t=[...this.props.query.customMetrics,e];Object(s.k)(Ce,this.props.project,de.a.custom,t),this.props.updateQuery({customMetrics:t})},this.removeCustomMetric=e=>{const t=this.props.query.customMetrics.filter(t=>t!==e);Object(s.k)(Ce,this.props.project,de.a.custom,t),this.props.updateQuery({customMetrics:t})},this.updateGraph=e=>{if(Object(s.k)(Ce,this.props.project,e),Object(s.j)(e)&&this.props.query.customMetrics.length<=0){const{customGraphs:t}=Object(s.c)(Ce,this.props.project);this.props.updateQuery({graph:e,customMetrics:t})}else this.props.updateQuery({graph:e,customMetrics:[]})},this.updateGraphZoom=(e,t)=>{if(void 0!==t&&void 0!==e){if(Math.abs(t.valueOf()-e.valueOf())<432e5)return}this.setState({graphStartDate:e,graphEndDate:t}),this.updateQueryDateRange([e,t])},this.updateSelectedDate=e=>this.props.updateQuery({selectedDate:e}),this.updateQueryDateRange=e=>{if(void 0===e[0]||void 0===e[1])this.props.updateQuery({from:e[0],to:e[1]});else{const t=H()(e);this.props.updateQuery({from:t[0],to:t[1]})}};const t=Object(s.b)(e.measuresHistory,e.query.graph,e.metrics,Object(s.d)(e.query.graph,e.query.customMetrics));this.state=me({series:t,graphs:Object(s.l)(t,2,3)},this.getStateZoomDates(void 0,e,t)),this.updateQueryDateRange=Y()(this.updateQueryDateRange,500)}componentDidUpdate(e){let t,n;(e.measuresHistory!==this.props.measuresHistory||Object(m.g)(e.query,this.props.query))&&(t=Object(s.b)(this.props.measuresHistory,this.props.query.graph,this.props.metrics,Object(s.d)(this.props.query.graph,this.props.query.customMetrics)),n=Object(s.l)(t,2,3));const r=this.getStateZoomDates(e,this.props,t);if(t||r){let e={};t&&(e.series=t),n&&(e.graphs=n),r&&(e=me({},e,{},r)),this.setState(e)}}render(){const{leakPeriodDate:e,loading:t,metrics:n,query:a}=this.props,{graphEndDate:o,graphStartDate:i,series:l}=this.state;return r.createElement("div",{className:"project-activity-layout-page-main-inner boxed-group boxed-group-inner"},r.createElement(W.a,{addCustomMetric:this.addCustomMetric,className:"big-spacer-bottom",graph:a.graph,metrics:n,metricsTypeFilter:this.getMetricsTypeFilter(),removeCustomMetric:this.removeCustomMetric,selectedMetrics:this.props.query.customMetrics,updateGraph:this.updateGraph}),r.createElement(Q.a,{analyses:this.props.analyses,graph:a.graph,graphEndDate:o,graphStartDate:i,graphs:this.state.graphs,leakPeriodDate:e,loading:t,measuresHistory:this.props.measuresHistory,removeCustomMetric:this.removeCustomMetric,selectedDate:this.props.query.selectedDate,series:l,updateGraphZoom:this.updateGraphZoom,updateSelectedDate:this.updateSelectedDate}),r.createElement(ue,{graphEndDate:o,graphStartDate:i,leakPeriodDate:e,loading:t,metricsType:Object(s.g)(l),series:l,showAreas:[de.a.coverage,de.a.duplications].includes(a.graph),updateGraphZoom:this.updateGraphZoom}))}}var ye=n(388),be=n(368),ve=n(649);class xe extends r.PureComponent{constructor(){super(...arguments),this.handleChange=({from:e,to:t})=>{this.props.onChange({from:e,to:t})},this.handleResetClick=()=>{this.props.onChange({from:void 0,to:void 0})}}render(){return r.createElement("div",null,r.createElement(ve.a,{onChange:this.handleChange,value:{from:this.props.from,to:this.props.to}}),r.createElement(be.a,{className:"spacer-left",disabled:void 0===this.props.from&&void 0===this.props.to,onClick:this.handleResetClick},Object(b.k)("project_activity.reset_dates")))}}class Ee extends r.PureComponent{constructor(){super(...arguments),this.handleMouseDown=e=>{e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.option,e)},this.handleMouseEnter=e=>{this.props.onFocus(this.props.option,e)},this.handleMouseMove=e=>{this.props.isFocused||this.props.onFocus(this.props.option,e)}}render(){const{option:e}=this.props;return r.createElement("div",{className:this.props.className,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,role:"link",tabIndex:0,title:e.label},this.props.children)}}class Se extends r.PureComponent{constructor(){super(...arguments),this.handleCategoryChange=e=>this.props.updateQuery({category:e?e.value:""})}render(){const e="APP"===this.props.project.qualifier,t=(e?m.a:m.b).map(e=>({label:Object(b.k)("event.category",e),value:e}));return r.createElement("header",{className:"page-header"},!["VW","SVW"].includes(this.props.project.qualifier)&&r.createElement(ye.b,{className:E("pull-left big-spacer-right",{"input-medium":!e,"input-large":e}),clearable:!0,onChange:this.handleCategoryChange,optionComponent:Ee,options:t,placeholder:Object(b.k)("project_activity.filter_events")+"...",searchable:!1,value:this.props.category}),r.createElement(xe,{from:this.props.from,onChange:this.props.updateQuery,to:this.props.to}))}}function ke(e){const{analyses:t,measuresHistory:n,query:a}=e,{configuration:o}=e.project,i=("TRK"===e.project.qualifier||"APP"===e.project.qualifier)&&!!o&&o.showHistory,s=!!o&&o.showHistory;return r.createElement("div",{className:"page page-limited",id:"project-activity"},r.createElement(y.a,{suggestions:"project_activity"}),r.createElement(f.a,{defer:!1,title:Object(b.k)("project_activity.page")}),r.createElement(g.a,{anchor:"activity_main"}),r.createElement(Se,{category:a.category,from:a.from,project:e.project,to:a.to,updateQuery:e.updateQuery}),r.createElement("div",{className:"layout-page project-activity-page"},r.createElement("div",{className:"layout-page-side-outer project-activity-page-side-outer boxed-group"},r.createElement(z,{addCustomEvent:e.addCustomEvent,addVersion:e.addVersion,analyses:t,analysesLoading:e.analysesLoading,canAdmin:i,canDeleteAnalyses:s,changeEvent:e.changeEvent,deleteAnalysis:e.deleteAnalysis,deleteEvent:e.deleteEvent,initializing:e.initializing,leakPeriodDate:e.project.leakPeriodDate?Object(c.b)(e.project.leakPeriodDate):void 0,project:e.project,query:e.query,updateQuery:e.updateQuery})),r.createElement("div",{className:"project-activity-layout-page-main"},r.createElement(ge,{analyses:t,leakPeriodDate:e.project.leakPeriodDate?Object(c.b)(e.project.leakPeriodDate):void 0,loading:e.graphLoading,measuresHistory:n,metrics:e.metrics,project:e.project.key,query:a,updateQuery:e.updateQuery}))))}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Ce="sonar_project_activity.graph";class Ne extends r.PureComponent{constructor(e){super(e),this.mounted=!1,this.addCustomEvent=(e,t,n)=>o.b(e,t,n).then(e=>{let{analysis:t}=e,n=De(e,["analysis"]);this.mounted&&this.setState(function(e,t){return n=>({analyses:n.analyses.map(n=>n.key!==e?n:d({},n,{events:[...n.events,t]}))})}(t,n))}),this.addVersion=(e,t)=>this.addCustomEvent(e,t,"VERSION"),this.changeEvent=(e,t)=>o.a(e,t).then(e=>{let{analysis:t}=e,n=De(e,["analysis"]);this.mounted&&this.setState(function(e,t){return n=>({analyses:n.analyses.map(n=>n.key!==e?n:d({},n,{events:n.events.map(e=>e.key===t.key?d({},e,{},t):e)}))})}(t,n))}),this.deleteAnalysis=e=>o.c(e).then(()=>{this.mounted&&(this.updateGraphData(this.state.query.graph||s.a,this.state.query.customMetrics),this.setState(function(e){return t=>({analyses:t.analyses.filter(t=>t.key!==e)})}(e)))}),this.deleteEvent=(e,t)=>o.d(t).then(()=>{this.mounted&&this.setState(function(e,t){return n=>({analyses:n.analyses.map(n=>n.key!==e?n:d({},n,{events:n.events.filter(e=>e.key!==t)}))})}(e,t))}),this.fetchActivity=(e,t,n,r)=>{const a=je({project:e,p:t,ps:n},Object(l.d)(this.props.branchLike));return o.e(je({},r,{},a)).then(({analyses:e,paging:t})=>({analyses:e.map(e=>je({},e,{date:Object(c.b)(e.date)})),paging:t}))},this.fetchMeasuresHistory=e=>e.length<=0?Promise.resolve([]):Object(i.a)(je({component:this.props.component.key,metrics:e.join()},Object(l.d)(this.props.branchLike))).then(({measures:e})=>e.map(e=>({metric:e.metric,history:e.history.map(e=>({date:Object(c.b)(e.date),value:e.value}))}))),this.fetchAllActivities=e=>{this.setState({analysesLoading:!0}),this.loadAllActivities(e).then(({analyses:e})=>{this.mounted&&this.setState({analyses:e,analysesLoading:!1})},()=>{this.mounted&&this.setState({analysesLoading:!1})})},this.loadAllActivities=(e,t)=>{if(t&&t.paging.pageIndex*t.paging.pageSize>=t.paging.total)return Promise.resolve(t);const n=t?t.paging.pageIndex+1:1;return this.fetchActivity(e,n,500).then(n=>t?this.loadAllActivities(e,{analyses:t.analyses.concat(n.analyses),paging:n.paging}):this.loadAllActivities(e,n))},this.getTopLevelComponent=e=>{let t=e.breadcrumbs.length-1;for(;t>0&&!["TRK","VW","APP"].includes(e.breadcrumbs[t].qualifier);)t--;return e.breadcrumbs[t].key},this.updateGraphData=(e,t)=>{const n=Object(s.f)(e,t);this.setState({graphLoading:!0}),this.fetchMeasuresHistory(n).then(e=>{this.mounted&&this.setState({graphLoading:!1,measuresHistory:e})},()=>{this.mounted&&this.setState({graphLoading:!1,measuresHistory:[]})})},this.updateQuery=e=>{const t=Object(m.j)(je({},this.state.query,{},e));this.props.router.push({pathname:this.props.location.pathname,query:je({},t,{},Object(l.d)(this.props.branchLike),{id:this.props.component.key})})},this.shouldRedirect=()=>{const e=this.props.location.query;if(!e)return!1;const t=Object.keys(e).some(t=>"id"!==t&&""!==e[t]),{graph:n,customGraphs:r}=Object(s.c)(Ce,this.props.component.key),a=Object(s.j)(n)&&r.length<=0;return!t&&null!=n&&n!==s.a&&!a},this.state={analyses:[],analysesLoading:!1,graphLoading:!0,initialized:!1,measuresHistory:[],metrics:[],query:Object(m.h)(e.location.query)}}componentDidMount(){if(this.mounted=!0,this.shouldRedirect()){const{graph:e,customGraphs:t}=Object(s.c)(Ce,this.props.component.key),n=je({},this.state.query,{graph:e});Object(s.j)(n.graph)&&(n.customMetrics=t),this.props.router.replace({pathname:this.props.location.pathname,query:je({},Object(m.j)(n),{},Object(l.d)(this.props.branchLike))})}else this.firstLoadData(this.state.query,this.props.component)}componentDidUpdate(e){if(e.location.query!==this.props.location.query){const e=Object(m.h)(this.props.location.query);(e.graph!==this.state.query.graph||Object(m.d)(this.state.query,e))&&(this.state.initialized?this.updateGraphData(e.graph||s.a,e.customMetrics):this.firstLoadData(e,this.props.component)),this.setState({query:e})}}componentWillUnmount(){this.mounted=!1}filterMetrics({qualifier:e},t){return["VW","SVW"].includes(e)?t.filter(e=>e.key!==p.a.security_hotspots_reviewed):t.filter(e=>e.key!==p.a.security_review_rating)}firstLoadData(e,t){const n=Object(s.f)(e.graph||s.a,e.customMetrics),r=this.getTopLevelComponent(t);Promise.all([this.fetchActivity(r,1,100,Object(m.i)(e)),Object(a.a)(),this.fetchMeasuresHistory(n)]).then(([{analyses:e},n,a])=>{this.mounted&&(this.setState({analyses:e,graphLoading:!1,initialized:!0,measuresHistory:a,metrics:this.filterMetrics(t,n)}),this.fetchAllActivities(r))},()=>{this.mounted&&this.setState({initialized:!0,graphLoading:!1})})}render(){return this.shouldRedirect()?null:r.createElement(ke,{addCustomEvent:this.addCustomEvent,addVersion:this.addVersion,analyses:this.state.analyses,analysesLoading:this.state.analysesLoading,changeEvent:this.changeEvent,deleteAnalysis:this.deleteAnalysis,deleteEvent:this.deleteEvent,graphLoading:!this.state.initialized||this.state.graphLoading,initializing:!this.state.initialized,measuresHistory:this.state.measuresHistory,metrics:this.state.metrics,project:this.props.component,query:this.state.query,updateQuery:this.updateQuery})}}},384:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(367),a=n(366),o=n(375),i=n(438),s=(n(400),n(374));function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function c(e){let{size:t=12}=e,n=l(e,["size"]);return a.createElement("div",{className:r("help-tooltip",n.className)},a.createElement(s.a,{mouseLeaveDelay:.25,onShow:n.onShow,overlay:n.overlay,placement:n.placement},a.createElement("span",{className:"display-inline-flex-center"},n.children||a.createElement(i.a,{fill:o.colors.gray71,size:t}))))}},388:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n(366),a=n(380),o=n(368);n(407);function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const s=n.e(354).then(n.bind(null,469)),l=Object(a.a)(()=>s),c=Object(a.a)(()=>s.then(e=>({default:e.Creatable})));Object(a.a)(()=>s.then(e=>({default:e.Async})));function p(){return r.createElement(o.d,{className:"button-tiny spacer-left text-middle",iconProps:{size:12}})}function u(e){let{innerRef:t}=e,n=i(e,["innerRef"]);const a=!!n.clearable&&Boolean(n.value);return r.createElement(l,Object.assign({},n,{clearable:a,clearRenderer:p,ref:t}))}function d(e){return r.createElement(c,Object.assign({},e,{clearRenderer:p}))}},391:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(366),a=n(389);function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}class i extends r.Component{constructor(){super(...arguments),this.mounted=!1,this.state={submitting:!1},this.stopSubmitting=()=>{this.mounted&&this.setState({submitting:!1})},this.handleCloseClick=e=>{e&&(e.preventDefault(),e.currentTarget.blur()),this.props.onClose()},this.handleFormSubmit=e=>{e.preventDefault(),this.submit()},this.handleSubmitClick=e=>{e&&(e.preventDefault(),e.currentTarget.blur()),this.submit()},this.submit=()=>{const e=this.props.onSubmit();e&&(this.setState({submitting:!0}),e.then(this.stopSubmitting,this.stopSubmitting))}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=this.props,{children:t,header:n,onClose:i,onSubmit:s}=e,l=o(e,["children","header","onClose","onSubmit"]);return r.createElement(a.a,Object.assign({contentLabel:n,onRequestClose:i},l),t({onCloseClick:this.handleCloseClick,onFormSubmit:this.handleFormSubmit,onSubmitClick:this.handleSubmitClick,submitting:this.state.submitting}))}}},392:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return m}));var r=n(367),a=n(421),o=n(366),i=n(6),s=n(372);function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function c(e){let{fill:t="currentColor"}=e,n=l(e,["fill"]);return o.createElement(s.a,Object.assign({},n),o.createElement("g",{fill:t,fillRule:"nonzero"},o.createElement("path",{d:"M2.931 15.005V3H2v13h9v-.995z"}),o.createElement("path",{d:"M10 4.015h3V14H4V1h6v3.015zM9 8V6H8v2H6v1h2v2h1V9h2V8H9z"}),o.createElement("path",{d:"M11 1v2h2a2.151 2.151 0 0 0-2-2z"})))}var p=n(368),u=n(374);class d extends o.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={copySuccess:!1},this.setCopyButton=e=>{this.copyButton=e},this.handleSuccessCopy=()=>{this.mounted&&(this.setState({copySuccess:!0}),setTimeout(()=>{this.mounted&&this.setState({copySuccess:!1})},1e3))}}componentDidMount(){this.mounted=!0,this.copyButton&&(this.clipboard=new a(this.copyButton),this.clipboard.on("success",this.handleSuccessCopy))}componentDidUpdate(){this.clipboard&&this.clipboard.destroy(),this.copyButton&&(this.clipboard=new a(this.copyButton),this.clipboard.on("success",this.handleSuccessCopy))}componentWillUnmount(){this.mounted=!1,this.clipboard&&this.clipboard.destroy()}render(){return this.props.children({setCopyButton:this.setCopyButton,copySuccess:this.state.copySuccess})}}function h({className:e,children:t,copyValue:n}){return o.createElement(d,null,({setCopyButton:a,copySuccess:s})=>o.createElement(u.a,{overlay:Object(i.k)("copied_action"),visible:s},o.createElement(p.a,{className:r("no-select",e),"data-clipboard-text":n,innerRef:a},t||o.createElement(o.Fragment,null,o.createElement(c,{className:"little-spacer-right"}),Object(i.k)("copy")))))}function m(e){const{className:t,copyValue:n}=e;return o.createElement(d,null,({setCopyButton:a,copySuccess:s})=>{var l;return o.createElement(p.b,{"aria-label":null!==(l=e["aria-label"])&&void 0!==l?l:Object(i.k)("copy_to_clipboard"),className:r("no-select",t),"data-clipboard-text":n,innerRef:a,tooltip:Object(i.k)(s?"copied_action":"copy_to_clipboard"),tooltipProps:s?{visible:s}:void 0},o.createElement(c,null))})}},396:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(366),a=n(435);function o({suggestions:e}){return r.createElement(a.a.Consumer,null,({addSuggestions:t,removeSuggestions:n})=>r.createElement(i,{addSuggestions:t,removeSuggestions:n,suggestions:e}))}class i extends r.PureComponent{componentDidMount(){this.props.addSuggestions(this.props.suggestions)}componentDidUpdate(e){e.suggestions!==this.props.suggestions&&(this.props.removeSuggestions(this.props.suggestions),this.props.addSuggestions(e.suggestions))}componentWillUnmount(){this.props.removeSuggestions(this.props.suggestions)}render(){return null}}},398:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var r=n(366),a=n(371),o=n(21);const i={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};function s({children:e,date:t}){return r.createElement(a.FormattedDate,Object.assign({value:Object(o.b)(t)},i),e)}},400:function(e,t,n){var r=n(369),a=n(401);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},401:function(e,t,n){(t=n(370)(!1)).push([e.i,".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}",""]),e.exports=t},403:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(367),a=n(366),o=n(376);n(426);class i extends a.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.disabled||this.props.onCheck(!this.props.checked,this.props.id)}}render(){const{checked:e,children:t,disabled:n,id:i,loading:s,right:l,thirdState:c,title:p}=this.props,u=r("icon-checkbox",{"icon-checkbox-checked":e,"icon-checkbox-single":c,"icon-checkbox-disabled":n});return t?a.createElement("a",{"aria-checked":e,className:r("link-checkbox",this.props.className,{note:n,disabled:n}),href:"#",id:i,onClick:this.handleClick,role:"checkbox",title:p},l&&t,a.createElement(o.a,{loading:Boolean(s)},a.createElement("i",{className:u})),!l&&t):s?a.createElement(o.a,null):a.createElement("a",{"aria-checked":e,className:r(u,this.props.className),href:"#",id:i,onClick:this.handleClick,role:"checkbox",title:p})}}i.defaultProps={thirdState:!1}},407:function(e,t,n){var r=n(369),a=n(408);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},408:function(e,t,n){(t=n(370)(!1)).push([e.i,".Select{position:relative;display:inline-block;vertical-align:middle;font-size:12px;text-align:left}.Select,.Select div,.Select input,.Select span{box-sizing:border-box}.Select.is-disabled>.Select-control{background-color:#ebebeb!important;border-color:#ddd!important}.Select.is-disabled>.Select-control:hover{box-shadow:none!important}.Select.is-disabled .Select-arrow-zone{cursor:not-allowed!important;pointer-events:none!important}.Select.is-disabled .Select-placeholder,.Select.is-disabled .Select-value{color:#bbb!important}.Select-control{position:relative;display:table;width:100%;height:24px;line-height:22px;border:1px solid #cdcdcd;border-collapse:separate;border-radius:2px;background-color:#fff;color:#333;cursor:default;outline:none;overflow:hidden}.is-searchable.is-open>.Select-control{cursor:text}.is-open>.Select-control{border-bottom-right-radius:0;border-bottom-left-radius:0;background:#fff}.is-open>.Select-control>.Select-arrow{border-color:transparent transparent #999;border-width:0 5px 5px}.is-searchable.is-focused:not(.is-open)>.Select-control{cursor:text}.is-focused:not(.is-open)>.Select-control{border-color:#4b9fd5}.Select-placeholder{color:#666}.Select-placeholder,:not(.Select--multi)>.Select-control .Select-value{bottom:0;left:0;line-height:23px;padding-left:8px;padding-right:24px;position:absolute;right:0;top:0;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Select-value [class^=icon-]{padding-top:5px}.Select-value img,.Select-value svg{padding-top:3px}.Select-option [class^=icon-],.Select-option img,.Select-option svg{padding-top:2px}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value .Select-value-label,.has-value:not(.Select--multi)>.Select-control>.Select-value .Select-value-label{color:#333}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label{cursor:pointer;text-decoration:none}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:focus,.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:hover,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:focus,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:hover{color:#007eff;outline:none;text-decoration:underline}.Select-input{vertical-align:top;height:22px;padding-left:8px;padding-right:8px;outline:none}.Select-input>input{background:none transparent;border:0;cursor:default;display:inline-block;font-family:inherit;font-size:12px;height:22px;margin:0;outline:none;padding:0;box-shadow:none;-webkit-appearance:none}.is-focused .Select-input>input{cursor:text}.has-value.is-pseudo-focused .Select-input{opacity:0}.Select-control:not(.is-searchable)>.Select-input{outline:none}.Select-loading-zone{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:16px}.Select-loading{animation:Select-animation-spin .4s linear infinite;box-sizing:border-box;border-radius:50%;border:2px solid #ccc;border-right-color:#333;display:inline-block}.Select-clear-zone,.Select-loading{width:16px;height:16px;position:relative;vertical-align:middle}.Select-clear-zone{animation:Select-animation-fadeIn .2s;color:#999;cursor:pointer;display:table-cell;text-align:center;padding-right:4px}.Select-clear-zone:hover .Select-clear{background-image:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxLjQxNCI+PHBhdGggZD0iTTEzLjk2OSAxLjQwNkw4LjM5IDYuOTg0bDUuNTc4IDUuNTc5LTEuNDA2IDEuNDA2TDYuOTg0IDguMzlsLTUuNTc4IDUuNTc4TDAgMTIuNTYzbDUuNTc4LTUuNTc5TDAgMS40MDYgMS40MDYgMGw1LjU3OCA1LjU3OEwxMi41NjMgMGwxLjQwNiAxLjQwNnoiIGZpbGw9IiNlNzE0MzgiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==)}.Select-clear{display:block;width:9px;height:9px;background-image:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxLjQxNCI+PHBhdGggZD0iTTEzLjk2OSAxLjQwNkw4LjM5IDYuOTg0bDUuNTc4IDUuNTc5LTEuNDA2IDEuNDA2TDYuOTg0IDguMzlsLTUuNTc4IDUuNTc4TDAgMTIuNTYzbDUuNTc4LTUuNTc5TDAgMS40MDYgMS40MDYgMGw1LjU3OCA1LjU3OEwxMi41NjMgMGwxLjQwNiAxLjQwNnoiIGZpbGw9IiM5OTkiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==);background-size:9px 9px;text-indent:-9999px}.Select--multi .Select-clear-zone{width:17px}.Select-arrow-zone{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:20px;padding-right:5px}.Select-arrow{border-color:#999 transparent transparent;border-style:solid;border-width:4px 4px 2px;display:inline-block;height:0;width:0}.is-open .Select-arrow,.Select-arrow-zone:hover>.Select-arrow{border-top-color:#666}@keyframes Select-animation-fadeIn{0%{opacity:0}to{opacity:1}}.Select-menu-outer{border-bottom-right-radius:4px;border-bottom-left-radius:4px;background-color:#fff;border:1px solid #ccc;border-top-color:#e6e6e6;box-sizing:border-box;margin-top:-1px;max-height:200px;position:absolute;top:100%;width:100%;z-index:7500;-webkit-overflow-scrolling:touch;box-shadow:0 6px 12px rgba(0,0,0,.175)}.Select-menu{max-height:198px;padding:5px 0;overflow-y:auto}.Select-option{display:block;line-height:20px;padding:0 8px;box-sizing:border-box;color:#333;font-size:12px;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.Select-option:last-child{border-bottom-right-radius:2px;border-bottom-left-radius:2px}.Select-option.is-focused{background-color:#f3f3f3}.Select-option.is-disabled{cursor:default;opacity:.4;font-style:italic}.Select-noresults{box-sizing:border-box;color:#999;cursor:default;display:block;padding:8px 10px}.Select--multi .Select-value{background-color:rgba(0,126,255,.08);border-radius:2px;border:1px solid rgba(0,126,255,.24);color:#333;display:inline-block;font-size:12px;line-height:14px;margin:1px 4px 1px 1px;vertical-align:top}.Select-value-label{font-size:12px}.is-searchable.is-open .Select-value-label{opacity:.5}.Select-big .Select-control{padding-top:4px;padding-bottom:4px}.Select-big .Select-placeholder{margin-top:4px;margin-bottom:4px}.Select-big .Select-value-label{display:inline-block;margin-top:7px;line-height:16px}.Select-big .Select-option{padding:7px 8px;line-height:16px}.Select-big img,.Select-big svg{padding-top:0}.Select--multi .Select-value-icon,.Select--multi .Select-value-label{display:inline-block;vertical-align:middle}.Select--multi .Select-value-label{display:inline-block;max-width:200px;border-bottom-right-radius:2px;border-top-right-radius:2px;cursor:default;padding:2px 5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Select--multi a.Select-value-label{color:#007eff;cursor:pointer;text-decoration:none}.Select--multi a.Select-value-label:hover{text-decoration:underline}.Select--multi .Select-value-icon{cursor:pointer;border-bottom-left-radius:2px;border-top-left-radius:2px;border-right:1px solid rgba(0,126,255,.24);padding:1px 5px}.Select--multi .Select-value-icon:focus,.Select--multi .Select-value-icon:hover{background-color:rgba(0,113,230,.08);color:#0071e6}.Select--multi .Select-value-icon:active{background-color:rgba(0,126,255,.24)}.Select--multi.is-disabled .Select-value{background-color:#fcfcfc;border:1px solid #e3e3e3;color:#333}.Select--multi.is-disabled .Select-value-icon{cursor:not-allowed;border-right:1px solid #e3e3e3}.Select--multi.is-disabled .Select-value-icon:active,.Select--multi.is-disabled .Select-value-icon:focus,.Select--multi.is-disabled .Select-value-icon:hover{background-color:#fcfcfc}.Select-aria-only{display:none}@keyframes Select-animation-spin{to{transform:rotate(1turn)}}",""]),e.exports=t},410:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(366),a=n(6),o=n(376),i=n(368),s=n(482),l=n(391);class c extends r.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.handleSubmit=()=>{const e=this.props.onConfirm(this.props.confirmData);if(e)return e.then(this.props.onClose,()=>{});this.props.onClose()},this.renderModalContent=({onCloseClick:e,onFormSubmit:t,submitting:n})=>{const{children:l,confirmButtonText:c,confirmDisable:p,header:u,headerDescription:d,isDestructive:h,cancelButtonText:m=Object(a.k)("cancel")}=this.props;return r.createElement(s.a,null,r.createElement("form",{onSubmit:t},r.createElement("header",{className:"modal-head"},r.createElement("h2",null,u),d),r.createElement("div",{className:"modal-body"},l),r.createElement("footer",{className:"modal-foot"},r.createElement(o.a,{className:"spacer-right",loading:n}),r.createElement(i.h,{autoFocus:!0,className:h?"button-red":void 0,disabled:n||p},c),r.createElement(i.g,{disabled:n,onClick:e},m))))}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const{header:e,onClose:t,noBackdrop:n,size:a}=this.props,o={header:e,onClose:t,noBackdrop:n,size:a};return r.createElement(l.a,Object.assign({onSubmit:this.handleSubmit},o),this.renderModalContent)}}},419:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(366),a=n(6),o=n(476);function i(e){return r.createElement(o.a.Consumer,null,({addA11ySkipLink:t,removeA11ySkipLink:n})=>r.createElement(s,Object.assign({addA11ySkipLink:t,removeA11ySkipLink:n},e)))}class s extends r.PureComponent{constructor(){super(...arguments),this.getLink=()=>{const{anchor:e,label:t=Object(a.k)("skip_to_content"),weight:n}=this.props;return{key:e,label:t,weight:n}}}componentDidMount(){this.props.addA11ySkipLink(this.getLink())}componentWillUnmount(){this.props.removeA11ySkipLink(this.getLink())}render(){const{anchor:e}=this.props;return r.createElement("span",{id:"a11y_target__".concat(e)})}}},421:function(e,t,n){
/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT © Zeno Rocha
 */
var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),a=document.createRange();a.selectNodeContents(e),r.removeAllRanges(),r.addRange(a),t=r.toString()}return t}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function a(){r.off(e,a),t.apply(n,arguments)}return a._=t,this.on(e,a,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,a=n.length;r<a;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],a=[];if(r&&t)for(var o=0,i=r.length;o<i;o++)r[o].fn!==t&&r[o].fn._!==t&&a.push(r[o]);return a.length?n[e]=a:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},function(e,t,n){var r=n(3),a=n(4);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(r.string(e))return function(e,t,n){return a(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=n(5);function a(e,t,n,r,a){var i=o.apply(this,arguments);return e.addEventListener(n,i,a),{destroy:function(){e.removeEventListener(n,i,a)}}}function o(e,t,n,a){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&a.call(e,n)}}e.exports=function(e,t,n,r,o){return"function"==typeof e.addEventListener?a.apply(null,arguments):"function"==typeof n?a.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return a(e,t,n,r,o)})))}},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return i(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=a()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=a()(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}(),l=n(1),c=n.n(l),p=n(2),u=n.n(p),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===d(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=u()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return f("action",e)}},{key:"defaultTarget",value:function(e){var t=f("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return f("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),t}(c.a);function f(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}t.default=m}]).default},e.exports=r()},424:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(366),a=n(371),o=n(21);const i={year:"numeric",month:"short",day:"2-digit"},s={year:"numeric",month:"long",day:"numeric"};function l({children:e,date:t,long:n}){return r.createElement(a.FormattedDate,Object.assign({value:Object(o.b)(t)},n?s:i),e)}},426:function(e,t,n){var r=n(369),a=n(427);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},427:function(e,t,n){(t=n(370)(!1)).push([e.i,".icon-checkbox{display:inline-block;line-height:1;vertical-align:top;padding:1px 2px;box-sizing:border-box}a.icon-checkbox{border-bottom:none}.icon-checkbox:focus{outline:none}.icon-checkbox:before{content:\" \";display:inline-block;width:10px;height:10px;border:1px solid #236a97;border-radius:2px;transition:border-color .2s ease,background-color .2s ease,background-image .2s ease,box-shadow .4s ease}.icon-checkbox:not(.icon-checkbox-disabled):focus:before,.link-checkbox:not(.disabled):focus:focus .icon-checkbox:before{box-shadow:0 0 0 3px rgba(35,106,151,.25)}.icon-checkbox-checked:before{background-color:#4b9fd5;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M12 4.665c0 .172-.06.318-.18.438l-5.55 5.55c-.12.12-.266.18-.438.18s-.318-.06-.438-.18L2.18 7.438C2.06 7.317 2 7.17 2 7s.06-.318.18-.44l.878-.876c.12-.12.267-.18.44-.18.17 0 .317.06.437.18l1.897 1.903 4.233-4.24c.12-.12.266-.18.438-.18s.32.06.44.18l.876.88c.12.12.18.265.18.438z' fill='%23fff' fill-rule='nonzero'/%3E%3C/svg%3E\");border-color:#4b9fd5}.icon-checkbox-checked.icon-checkbox-single:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M10 4.698A.697.697 0 0 0 9.302 4H4.698A.697.697 0 0 0 4 4.698v4.604c0 .386.312.698.698.698h4.604A.697.697 0 0 0 10 9.302V4.698z' fill='%23fff'/%3E%3C/svg%3E\")}.icon-checkbox-disabled:before{border:1px solid #bbb;cursor:not-allowed}.icon-checkbox-disabled.icon-checkbox-checked:before{background-color:#bbb}.icon-checkbox-invisible{visibility:hidden}.link-checkbox{color:inherit;border-bottom:none}.link-checkbox.disabled,.link-checkbox.disabled:hover,.link-checkbox.disabled label{color:#666;cursor:not-allowed}.link-checkbox:active,.link-checkbox:focus,.link-checkbox:hover{color:inherit}",""]),e.exports=t},431:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(367),a=n(366),o=n(377);n(457);function i(e){const t=Object(o.formatMeasure)(e.level,"LEVEL"),n=r(e.className,"level","level-"+e.level,{"level-small":e.small,"level-muted":e.muted});return a.createElement("span",{"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],className:n},t)}},437:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n(367),a=n(366),o=n(373),i=n(6),s=n(394),l=n(372);function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p(e){let{fill:t="currentColor",size:n=14}=e,r=c(e,["fill","size"]);return a.createElement(l.a,Object.assign({size:n,viewBox:"0 0 14 14"},r),a.createElement("g",{transform:"matrix(0.0364583,0,0,0.0364583,0,-1.16667)"},a.createElement("path",{d:"M256,224C256,206.333 249.75,191.25 237.25,178.75C224.75,166.25 209.667,160 192,160C174.333,160 159.25,166.25 146.75,178.75C134.25,191.25 128,206.333 128,224C128,241.667 134.25,256.75 146.75,269.25C159.25,281.75 174.333,288 192,288C209.667,288 224.75,281.75 237.25,269.25C249.75,256.75 256,241.667 256,224ZM384,196.75L384,252.25C384,254.25 383.333,256.167 382,258C380.667,259.833 379,260.917 377,261.25L330.75,268.25C327.583,277.25 324.333,284.833 321,291C326.833,299.333 335.75,310.833 347.75,325.5C349.417,327.5 350.25,329.583 350.25,331.75C350.25,333.917 349.5,335.833 348,337.5C343.5,343.667 335.25,352.667 323.25,364.5C311.25,376.333 303.417,382.25 299.75,382.25C297.75,382.25 295.583,381.5 293.25,380L258.75,353C251.417,356.833 243.833,360 236,362.5C233.333,385.167 230.917,400.667 228.75,409C227.583,413.667 224.583,416 219.75,416L164.25,416C161.917,416 159.875,415.292 158.125,413.875C156.375,412.458 155.417,410.667 155.25,408.5L148.25,362.5C140.083,359.833 132.583,356.75 125.75,353.25L90.5,380C88.833,381.5 86.75,382.25 84.25,382.25C81.917,382.25 79.833,381.333 78,379.5C57,360.5 43.25,346.5 36.75,337.5C35.583,335.833 35,333.917 35,331.75C35,329.75 35.667,327.833 37,326C39.5,322.5 43.75,316.958 49.75,309.375C55.75,301.792 60.25,295.917 63.25,291.75C58.75,283.417 55.333,275.167 53,267L7.25,260.25C5.083,259.917 3.333,258.875 2,257.125C0.667,255.375 0,253.417 0,251.25L0,195.75C0,193.75 0.667,191.833 2,190C3.333,188.167 4.917,187.083 6.75,186.75L53.25,179.75C55.583,172.083 58.833,164.417 63,156.75C56.333,147.25 47.417,135.75 36.25,122.25C34.583,120.25 33.75,118.25 33.75,116.25C33.75,114.583 34.5,112.667 36,110.5C40.333,104.5 48.542,95.542 60.625,83.625C72.708,71.708 80.583,65.75 84.25,65.75C86.417,65.75 88.583,66.583 90.75,68.25L125.25,95C132.583,91.167 140.167,88 148,85.5C150.667,62.833 153.083,47.333 155.25,39C156.417,34.333 159.417,32 164.25,32L219.75,32C222.083,32 224.125,32.708 225.875,34.125C227.625,35.542 228.583,37.333 228.75,39.5L235.75,85.5C243.917,88.167 251.417,91.25 258.25,94.75L293.75,68C295.25,66.5 297.25,65.75 299.75,65.75C301.917,65.75 304,66.583 306,68.25C327.5,88.083 341.25,102.25 347.25,110.75C348.417,112.083 349,113.917 349,116.25C349,118.25 348.333,120.167 347,122C344.5,125.5 340.25,131.042 334.25,138.625C328.25,146.208 323.75,152.083 320.75,156.25C325.083,164.583 328.5,172.75 331,180.75L376.75,187.75C378.917,188.083 380.667,189.125 382,190.875C383.333,192.625 384,194.583 384,196.75Z",style:{fill:t}})))}var u=n(368),d=n(392),h=n(383),m=n(374);function f(e){const{children:t,className:n,overlayPlacement:o,small:i,toggleClassName:l}=e;return a.createElement(h.b,{className:n,onOpen:e.onOpen,overlay:a.createElement("ul",{className:"menu"},t),overlayPlacement:o},a.createElement(u.a,{className:r("dropdown-toggle",l,{"button-small":i})},a.createElement(p,{size:i?12:14}),a.createElement(s.a,{className:"little-spacer-left"})))}class g extends a.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.onClick&&this.props.onClick()}}render(){const e=r(this.props.className,{"text-danger":this.props.destructive});return this.props.download&&"string"==typeof this.props.to?a.createElement("li",null,a.createElement("a",{className:e,download:this.props.download,href:this.props.to,id:this.props.id},this.props.children)):this.props.to?a.createElement("li",null,a.createElement(o.c,{className:e,id:this.props.id,to:this.props.to},this.props.children)):this.props.copyValue?a.createElement(d.a,null,({setCopyButton:t,copySuccess:n})=>a.createElement(m.a,{overlay:Object(i.k)("copied_action"),visible:n},a.createElement("li",{"data-clipboard-text":this.props.copyValue,ref:t},a.createElement("a",{className:e,href:"#",id:this.props.id,onClick:this.handleClick},this.props.children)))):a.createElement("li",null,a.createElement("a",{className:e,href:"#",id:this.props.id,onClick:this.handleClick},this.props.children))}}function y(){return a.createElement("li",{className:"divider"})}},444:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(367),a=n(366),o=n(6),i=n(377);n(490);function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l(e){let{className:t,muted:n=!1,small:l=!1,value:c}=e,p=s(e,["className","muted","small","value"]);if(void 0===c)return a.createElement("span",Object.assign({"aria-label":Object(o.k)("metric.no_rating")},p),"–");const u=Object(i.formatMeasure)(c,"RATING");return a.createElement("span",Object.assign({"aria-label":Object(o.l)("metric.has_rating_X",u),className:r("rating","rating-".concat(u),{"rating-small":l,"rating-muted":n},t)},p),u)}},456:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(366),a=n(375),o=n(372);function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e){let{fill:t}=e,n=i(e,["fill"]);return r.createElement(o.a,Object.assign({},n),r.createElement("path",{d:"M12.5 6.5c0-1.1-.9-2-2-2s-2 .9-2 2c0 .8.5 1.5 1.2 1.8-.3.6-.7 1.1-1.2 1.4-.9.5-1.9.5-2.5.4V4c.9-.2 1.5-1 1.5-1.9 0-1.1-.9-2-2-2s-2 .9-2 2C3.5 3 4.1 3.8 5 4v8c-.9.2-1.5 1-1.5 1.9 0 1.1.9 2 2 2s2-.9 2-2c0-.9-.6-1.7-1.5-1.9v-1c.2 0 .5.1.7.1.7 0 1.5-.1 2.2-.6.8-.5 1.4-1.2 1.7-2.1 1.1 0 1.9-.9 1.9-1.9zm-8-4.4c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.5-1-1zm2 11.9c0 .6-.4 1-1 1s-1-.4-1-1 .4-1 1-1 1 .4 1 1zm4-6.5c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z",style:{fill:t||a.colors.blue}}))}},457:function(e,t,n){var r=n(369),a=n(458);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},458:function(e,t,n){(t=n(370)(!1)).push([e.i,".level{display:inline-block;min-width:80px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;letter-spacing:.02em;font-size:13px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.level,.level-small{width:auto;padding-left:9px;padding-right:9px}.level-small{min-width:64px;margin-top:-1px;margin-bottom:-1px;height:20px;line-height:20px;font-size:12px}.level-muted{background-color:#bdbdbd!important}a>.level{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.level:hover{opacity:.8}.level-OK{background-color:#0a0}.level-WARN{background-color:#ed7d20}.level-ERROR{background-color:#d4333f}.level-NONE{background-color:#b4b4b4}.level-NOT_COMPUTED{background-color:#404040}",""]),e.exports=t},474:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"e",(function(){return x})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return S})),n.d(t,"g",(function(){return k})),n.d(t,"d",(function(){return O})),n.d(t,"f",(function(){return j})),n.d(t,"l",(function(){return w})),n.d(t,"b",(function(){return D})),n.d(t,"k",(function(){return C})),n.d(t,"c",(function(){return N}));var r=n(387),a=n.n(r),o=n(445),i=n.n(o),s=n(564),l=n.n(s),c=n(680),p=n.n(c),u=n(6),d=n(377),h=n(12),m=n(430),f=n(523);const g=f.a.issues,y={[f.a.issues]:[m.a.bugs,m.a.code_smells,m.a.vulnerabilities],[f.a.coverage]:[m.a.lines_to_cover,m.a.uncovered_lines],[f.a.duplications]:[m.a.ncloc,m.a.duplicated_lines]},b={[f.a.issues]:y[f.a.issues].concat([m.a.reliability_rating,m.a.security_rating,m.a.sqale_rating]),[f.a.coverage]:[...y[f.a.coverage],m.a.coverage],[f.a.duplications]:[...y[f.a.duplications],m.a.duplicated_lines_density]};function v(e){return e===f.a.custom}function x(e=!1){const t=[f.a.issues,f.a.coverage,f.a.duplications];return e?t:[...t,f.a.custom]}function E(e){return e.data.some(e=>Boolean(e.y||0===e.y))}function S(e){return e.some(e=>e.data&&e.data.length>1)}function k(e){return e.length>0?e[0].type:"INT"}function O(e,t){return v(e)?t:y[e]}function j(e,t){return v(e)?t:b[e]}function w(e,t,n){return l()(i()(e,e=>e.type),e=>p()(e,n)).slice(0,t)}function D(e,t,n,r){return r.length<=0||void 0===e?[]:a()(e.filter(e=>r.indexOf(e.metric)>=0).map(r=>{if(r.metric===m.a.uncovered_lines&&!v(t))return function(e,t){const n=t.find(e=>e.metric===m.a.lines_to_cover);return{data:n?e.history.map((e,t)=>({x:e.date,y:Number(n.history[t].value)-Number(e.value)})):[],name:"covered_lines",translatedName:Object(u.k)("project_activity.custom_metric.covered_lines"),type:"INT"}}(r,e);const a=function(e,t){if(Array.isArray(t))return t.find(t=>t.key===e);return t[e]}(r.metric,n);return{data:r.history.map(e=>({x:e.date,y:a&&"LEVEL"===a.type?e.value:Number(e.value)})),name:r.metric,translatedName:a?Object(u.e)(a):Object(d.localizeMetric)(r.metric),type:a?a.type:"INT"}}),e=>r.indexOf("covered_lines"===e.name?"uncovered_lines":e.name))}function C(e,t,n,r=[]){Object(h.c)(e,n,t),v(n)&&Object(h.c)("".concat(e,".custom"),r.join(","),t)}function N(e,t){const n=Object(h.a)("".concat(e,".custom"),t);return{graph:Object(h.a)(e,t)||g,customGraphs:n?n.split(","):[]}}},490:function(e,t,n){var r=n(369),a=n(491);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},491:function(e,t,n){(t=n(370)(!1)).push([e.i,".rating{display:inline-block;width:24px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;font-size:16px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.rating-muted{background-color:#bdbdbd!important;color:#fff!important;text-shadow:0 0 1px rgba(0,0,0,.35)!important}a>.rating{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.rating:hover{opacity:.8}.rating-A{line-height:23px;background-color:#0a0}a>.rating-A{border-bottom-color:#0a0}.rating-B{background-color:#b0d513}a .rating-B{border-bottom-color:#b0d513}.rating-C{background-color:#eabe06}a .rating-C{border-bottom-color:#eabe06}.rating-D{background-color:#ed7d20}a .rating-D{border-bottom-color:#ed7d20}.rating-E{background-color:#d4333f}a .rating-E{border-bottom-color:#d4333f}.rating-small{width:18px;height:18px;line-height:18px;margin-top:-1px;margin-bottom:-1px;font-size:12px}",""]),e.exports=t},523:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.issues="issues",e.coverage="coverage",e.duplications="duplications",e.custom="custom"}(r||(r={}))},546:function(e,t,n){var r=n(547)();e.exports=r},547:function(e,t,n){var r=n(548),a=n(539),o=n(409);e.exports=function(e){return function(t,n,i){return i&&"number"!=typeof i&&a(t,n,i)&&(n=i=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),i=void 0===i?t<n?1:-1:o(i),r(t,n,i,e)}}},548:function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,a,o){for(var i=-1,s=r(n((t-e)/(a||1)),0),l=Array(s);s--;)l[o?s:++i]=e,e+=a;return l}},553:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(366),a=n(372);function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function i(e){let{fill:t="currentColor"}=e,n=o(e,["fill"]);return r.createElement(a.a,Object.assign({},n),r.createElement("path",{d:"M4.404 8.28l4.604 4.602a.382.382 0 0 0 .279.118c.108 0 .2-.04.279-.118l1.03-1.03a.382.382 0 0 0 .117-.278.382.382 0 0 0-.117-.28L7.3 8l3.295-3.294a.382.382 0 0 0 .117-.28.382.382 0 0 0-.117-.279l-1.03-1.03A.382.382 0 0 0 9.286 3a.382.382 0 0 0-.278.118L4.404 7.72A.382.382 0 0 0 4.287 8c0 .108.04.201.117.28z",style:{fill:t}}))}},588:function(e,t,n){var r=n(480),a=n(22),o=n(454),i=Math.max,s=Math.min;e.exports=function(e,t,n){var l=null==e?0:e.length;if(!l)return-1;var c=l-1;return void 0!==n&&(c=o(n),c=n<0?i(l+c,0):s(c,l-1)),r(e,a(t,3),c,!0)}},591:function(e,t,n){var r=n(369),a=n(592);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},592:function(e,t,n){(t=n(370)(!1)).push([e.i,".DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none;padding-bottom:8px;flex-direction:row}.DayPicker-Months{display:flex;flex-wrap:wrap;justify-content:center}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;margin:8px 8px 0}.DayPicker-Weekdays{display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:8px;font-size:12px;text-align:center;color:#999}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day{display:table-cell;line-height:15px;padding:8px;text-align:center;cursor:pointer;vertical-align:top;outline:none}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:8px}.DayPicker-Day--today{font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#cdcdcd;cursor:not-allowed}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#4b9fd5;color:#fff}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--highlighted):not(.DayPicker-Day--outside):hover{background-color:#f3f3f3}.DayPicker-Day--highlighted:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside){background-color:#cae3f2}",""]),e.exports=t},593:function(e,t,n){var r=n(369),a=n(594);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},594:function(e,t,n){(t=n(370)(!1)).push([e.i,".date-input-control{position:relative;display:inline-block;cursor:pointer}.date-input-control-input{width:130px;padding-left:24px!important;cursor:pointer}.date-input-control-input.is-filled{padding-right:16px!important}.date-input-control-icon{position:absolute;top:4px;left:4px}.date-input-control-icon path{fill:#cdcdcd;transition:fill .3s ease}.date-input-control-input:focus+.date-input-control-icon path{fill:#4b9fd5}.date-input-control-reset{position:absolute;top:4px;right:4px;border:none}.date-input-calendar{position:absolute;z-index:7500;top:100%;left:0;border:1px solid #e6e6e6;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.date-input-calendar-nav{display:flex;justify-content:space-between;align-items:center;padding-top:8px;padding-left:8px;padding-right:8px}.date-input-calender-month-select{width:70px}",""]),e.exports=t},595:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(366),a=n(371),o=n(21);const i={hour:"numeric",minute:"numeric"},s={hour:"numeric",minute:"numeric",second:"numeric"};function l({children:e,date:t,long:n}){return r.createElement(a.FormattedTime,Object.assign({value:Object(o.b)(t)},n?s:i),e)}},602:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(546),a=n.n(r),o=n(367),i=n(519),s=n(585),l=n(619),c=n(620),p=n(366),u=n(371),d=n(368),h=n(560),m=n(388),f=n(372);function g(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function y(e){let{fill:t="currentColor"}=e,n=g(e,["fill"]);return p.createElement(f.a,Object.assign({},n),p.createElement("path",{d:"M2 14h2.25v-2.25H2V14zm2.75 0h2.5v-2.25h-2.5V14zM2 11.25h2.25v-2.5H2v2.5zm2.75 0h2.5v-2.5h-2.5v2.5zM2 8.25h2.25V6H2v2.25zM7.75 14h2.5v-2.25h-2.5V14zm-3-5.75h2.5V6h-2.5v2.25zm6 5.75H13v-2.25h-2.25V14zm-3-2.75h2.5v-2.5h-2.5v2.5zM5 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 4.75 2h-.5a.24.24 0 0 0-.176.074A.24.24 0 0 0 4 2.25V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 5 4.5zm5.75 6.75H13v-2.5h-2.25v2.5zm-3-3h2.5V6h-2.5v2.25zm3 0H13V6h-2.25v2.25zM11 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 10.75 2h-.5a.24.24 0 0 0-.176.074.24.24 0 0 0-.074.176V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 11 4.5zm3-.5v10c0 .27-.099.505-.297.703A.961.961 0 0 1 13 15H2a.961.961 0 0 1-.703-.297A.961.961 0 0 1 1 14V4c0-.27.099-.505.297-.703A.961.961 0 0 1 2 3h1v-.75c0-.344.122-.638.367-.883S3.907 1 4.25 1h.5c.344 0 .638.122.883.367S6 1.907 6 2.25V3h3v-.75c0-.344.122-.638.367-.883S9.907 1 10.25 1h.5c.344 0 .638.122.883.367s.367.54.367.883V3h1c.27 0 .505.099.703.297A.961.961 0 0 1 14 4z",style:{fill:t}}))}var b=n(553),v=n(460),x=n(6),E=n(380);n(591),n(593);function S(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const k=Object(E.a)(()=>n.e(309).then(n.t.bind(null,1758,7)),"DayPicker");class O extends p.PureComponent{constructor(e){super(e),this.focus=()=>{this.input&&this.input.focus(),this.openCalendar()},this.handleResetClick=()=>{this.closeCalendar(),this.props.onChange(void 0)},this.openCalendar=()=>{this.setState({currentMonth:this.props.value||this.props.currentMonth||new Date,lastHovered:void 0,open:!0})},this.closeCalendar=()=>{this.setState({open:!1})},this.handleDayClick=(e,t)=>{t.disabled||(this.closeCalendar(),this.props.onChange(e))},this.handleDayMouseEnter=(e,t)=>{this.setState({lastHovered:t.disabled?void 0:e})},this.handleCurrentMonthChange=({value:e})=>{this.setState(t=>({currentMonth:s(t.currentMonth,e)}))},this.handleCurrentYearChange=({value:e})=>{this.setState(t=>({currentMonth:l(t.currentMonth,e)}))},this.handlePreviousMonthClick=()=>{this.setState(e=>({currentMonth:c(e.currentMonth,1)}))},this.handleNextMonthClick=()=>{this.setState(e=>({currentMonth:i(e.currentMonth,1)}))},this.state={currentMonth:e.value||e.currentMonth||new Date,open:!1}}render(){const{highlightFrom:e,highlightTo:t,minDate:n,value:r}=this.props,{lastHovered:i}=this.state,s=this.props.maxDate||new Date,l=a()(12),c=a()((new Date).getFullYear()-10,(new Date).getFullYear()+1),u=r?[r]:[];let f;const g=i||r;e&&g&&(f={highlighted:{from:e,to:g}},u.push(e)),t&&g&&(f={highlighted:{from:g,to:t}},u.push(t));const E=a()(7).map(x.h),S=a()(7).map(x.g);return p.createElement(h.a,{onClickOutside:this.closeCalendar},p.createElement("span",{className:o("date-input-control",this.props.className)},p.createElement(w,{className:o("date-input-control-input",this.props.inputClassName,{"is-filled":void 0!==this.props.value}),innerRef:e=>this.input=e,name:this.props.name,onFocus:this.openCalendar,placeholder:this.props.placeholder,readOnly:!0,type:"text",value:r}),p.createElement(y,{className:"date-input-control-icon",fill:""}),void 0!==this.props.value&&p.createElement(d.d,{className:"button-tiny date-input-control-reset",iconProps:{size:12},onClick:this.handleResetClick}),this.state.open&&p.createElement("div",{className:"date-input-calendar"},p.createElement("nav",{className:"date-input-calendar-nav"},p.createElement(d.b,{className:"button-small",onClick:this.handlePreviousMonthClick},p.createElement(b.a,null)),p.createElement("div",{className:"date-input-calender-month"},p.createElement(m.b,{className:"date-input-calender-month-select",onChange:this.handleCurrentMonthChange,options:l.map(e=>({label:Object(x.f)(e),value:e})),value:this.state.currentMonth.getMonth()}),p.createElement(m.b,{className:"date-input-calender-month-select spacer-left",onChange:this.handleCurrentYearChange,options:c.map(e=>({label:String(e),value:e})),value:this.state.currentMonth.getFullYear()})),p.createElement(d.b,{className:"button-small",onClick:this.handleNextMonthClick},p.createElement(v.a,null))),p.createElement(k,{captionElement:p.createElement(j,null),disabledDays:{after:s,before:n},firstDayOfWeek:1,modifiers:f,month:this.state.currentMonth,navbarElement:p.createElement(j,null),onDayClick:this.handleDayClick,onDayMouseEnter:this.handleDayMouseEnter,selectedDays:u,weekdaysLong:E,weekdaysShort:S}))))}}function j(){return null}const w=Object(u.injectIntl)(e=>{let{innerRef:t,intl:n,value:r}=e,a=S(e,["innerRef","intl","value"]);const o=r&&n.formatDate(r,{year:"numeric",month:"short",day:"numeric"});return p.createElement("input",Object.assign({},a,{ref:t,value:o||""}))})},627:function(e,t,n){var r=n(13);e.exports=function(e,t,n){for(var a=-1,o=e.length;++a<o;){var i=e[a],s=t(i);if(null!=s&&(void 0===l?s==s&&!r(s):n(s,l)))var l=s,c=i}return c}},637:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(366);const a=r.createContext({branchLike:void 0,component:void 0})},649:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(367),a=n(463),o=n(366),i=n(6),s=n(602);class l extends o.PureComponent{constructor(){super(...arguments),this.handleFromChange=e=>{this.props.onChange({from:e,to:this.to}),setTimeout(()=>{e&&!this.to&&this.toDateInput&&this.toDateInput.focus()},0)},this.handleToChange=e=>{this.props.onChange({from:this.from,to:e})}}get from(){return this.props.value&&this.props.value.from}get to(){return this.props.value&&this.props.value.to}render(){const{minDate:e,maxDate:t}=this.props;return o.createElement("div",{className:r("display-inline-flex-center",this.props.className)},o.createElement(s.a,{currentMonth:this.to,"data-test":"from",highlightTo:this.to,minDate:e,maxDate:t&&this.to?Object(a.min)(t,this.to):t||this.to,onChange:this.handleFromChange,placeholder:Object(i.k)("start_date"),value:this.from}),o.createElement("span",{className:"note little-spacer-left little-spacer-right"},Object(i.k)("to_")),o.createElement(s.a,{currentMonth:this.from,"data-test":"to",highlightFrom:this.from,minDate:e&&this.from?Object(a.max)(e,this.from):e||this.from,maxDate:t,onChange:this.handleToChange,placeholder:Object(i.k)("end_date"),ref:e=>this.toDateInput=e,value:this.to}))}}},654:function(e,t){e.exports=function(e,t){return e>t}},662:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(477),a=n.n(r),o=n(367),i=n(366),s=n(414),l=n(6),c=n(403);function p(e){const{active:t,custom:n,disabled:r,element:a,selected:s}=e,p=()=>e.onHover(a),u=o({active:t,disabled:r}),d=e.renderLabel(a);return i.createElement("li",{onFocus:p,onMouseOver:p},i.createElement(c.a,{checked:Boolean(s),className:u,disabled:r,id:a,onCheck:e.onSelectChange},n?i.createElement("span",{"aria-label":"".concat(Object(l.k)("create_new_element"),": ").concat(d),className:"little-spacer-left"},i.createElement("span",{"aria-hidden":!0,className:"little-spacer-right"},"+"),d):i.createElement("span",{className:"little-spacer-left"},d)))}class u extends i.PureComponent{constructor(e){super(e),this.mounted=!1,this.handleSelectChange=(e,t)=>{e?this.onSelectItem(t):this.onUnselectItem(t)},this.handleSearchChange=e=>{this.onSearchQuery(this.props.validateSearchInput(e))},this.handleElementHover=e=>{this.setState((t,n)=>({activeIdx:this.getAllElements(n,t).indexOf(e)}))},this.handleKeyboard=e=>{switch(e.keyCode){case 40:e.stopPropagation(),e.preventDefault(),this.setState(this.selectNextElement);break;case 38:e.stopPropagation(),e.preventDefault(),this.setState(this.selectPreviousElement);break;case 37:case 39:e.stopPropagation();break;case 13:this.state.activeIdx>=0&&this.toggleSelect(this.getAllElements(this.props,this.state)[this.state.activeIdx])}},this.onSearchQuery=e=>{this.setState({activeIdx:0,loading:!0,query:e}),this.props.onSearch(e).then(this.stopLoading,this.stopLoading)},this.onSelectItem=e=>{this.isNewElement(e,this.props)&&this.onSearchQuery(""),this.props.onSelect(e)},this.onUnselectItem=e=>this.props.onUnselect(e),this.isNewElement=(e,{selectedElements:t,elements:n})=>e.length>0&&-1===t.indexOf(e)&&-1===n.indexOf(e),this.updateSelectedElements=e=>{this.setState(t=>t.query?{selectedElements:e.filterSelected(t.query,e.selectedElements)}:{selectedElements:[...e.selectedElements]})},this.updateUnselectedElements=e=>{this.setState(t=>0===e.listSize?{unselectedElements:a()(e.elements,e.selectedElements)}:e.listSize<t.selectedElements.length?{unselectedElements:[]}:{unselectedElements:a()(e.elements,e.selectedElements).slice(0,e.listSize-t.selectedElements.length)})},this.getAllElements=(e,t)=>this.isNewElement(t.query,e)?[...t.selectedElements,...t.unselectedElements,t.query]:[...t.selectedElements,...t.unselectedElements],this.setElementActive=e=>this.setState({activeIdx:e}),this.selectNextElement=(e,t)=>{const{activeIdx:n}=e,r=this.getAllElements(t,e);return n<0||n>=r.length-1?{activeIdx:0}:{activeIdx:n+1}},this.selectPreviousElement=(e,t)=>{const{activeIdx:n}=e,r=this.getAllElements(t,e);if(n<=0){return{activeIdx:r.length-1}}return{activeIdx:n-1}},this.stopLoading=()=>{this.mounted&&this.setState({loading:!1})},this.toggleSelect=e=>{-1===this.props.selectedElements.indexOf(e)?this.onSelectItem(e):this.onUnselectItem(e)},this.state={activeIdx:0,loading:!0,query:"",selectedElements:[],unselectedElements:[]}}componentDidMount(){this.mounted=!0,this.onSearchQuery(""),this.updateSelectedElements(this.props),this.updateUnselectedElements(this.props),this.container&&this.container.addEventListener("keydown",this.handleKeyboard,!0)}componentWillReceiveProps(e){if(this.props.elements!==e.elements||this.props.selectedElements!==e.selectedElements){this.updateSelectedElements(e),this.updateUnselectedElements(e);const t=this.getAllElements(e,this.state).length;this.state.activeIdx>=t&&this.setState({activeIdx:t-1})}}componentDidUpdate(){this.searchInput&&this.searchInput.focus()}componentWillUnmount(){this.mounted=!1,this.container&&this.container.removeEventListener("keydown",this.handleKeyboard)}render(){const{allowSelection:e=!0,allowNewElements:t=!0,footerNode:n=""}=this.props,{renderLabel:r}=this.props,{query:a,activeIdx:c,selectedElements:u,unselectedElements:d}=this.state,h=this.getAllElements(this.props,this.state)[c],m=t&&this.isNewElement(a,this.props),f=0===this.props.listSize,g=o("menu",{"menu-vertically-limited":f,"spacer-top":f,"with-top-separator":f,"with-bottom-separator":Boolean(n)});return i.createElement("div",{className:"multi-select",ref:e=>this.container=e},i.createElement("div",{className:"menu-search"},i.createElement(s.a,{autoFocus:!0,className:"little-spacer-top",loading:this.state.loading,onChange:this.handleSearchChange,placeholder:this.props.placeholder,value:a})),i.createElement("ul",{className:g},u.length>0&&u.map(e=>i.createElement(p,{active:h===e,element:e,key:e,onHover:this.handleElementHover,onSelectChange:this.handleSelectChange,renderLabel:r,selected:!0})),d.length>0&&d.map(t=>i.createElement(p,{active:h===t,disabled:!e,element:t,key:t,onHover:this.handleElementHover,onSelectChange:this.handleSelectChange,renderLabel:r})),m&&i.createElement(p,{active:h===a,custom:!0,element:a,key:a,onHover:this.handleElementHover,onSelectChange:this.handleSelectChange,renderLabel:r}),!m&&u.length<1&&d.length<1&&i.createElement("li",{className:"spacer-left"},Object(l.l)("no_results_for_x",a))),n)}}u.defaultProps={filterSelected:(e,t)=>t.filter(t=>t.includes(e)),listSize:0,renderLabel:e=>e,validateSearchInput:e=>e}},681:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(366),a=n(637),o=n(374),i=n(6),s=n(682),l=n(683);function c({event:e,readonly:t}){return Object(l.b)(e)?r.createElement(l.a,{event:e,readonly:t}):Object(s.b)(e)?r.createElement(a.a.Consumer,null,({branchLike:n})=>r.createElement(s.a,{branchLike:n,event:e,readonly:t})):r.createElement(o.a,{overlay:e.description||null},r.createElement("span",{className:"text-middle"},r.createElement("span",{className:"note little-spacer-right"},Object(i.k)("event.category",e.category),":"),r.createElement("strong",{className:"spacer-right"},e.name)))}},682:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m}));var r=n(366),a=n(371),o=n(373),i=n(368),s=n(456),l=n(394),c=n(386),p=n(6),u=n(453),d=n(378);function h(e){return"DEFINITION_CHANGE"===e.category&&void 0!==e.definitionChange}class m extends r.PureComponent{constructor(){super(...arguments),this.state={expanded:!1},this.stopPropagation=e=>{e.stopPropagation()},this.toggleProjectsList=()=>{this.setState(e=>({expanded:!e.expanded}))},this.renderProjectLink=(e,t)=>r.createElement(o.c,{onClick:this.stopPropagation,title:e.name,to:Object(d.A)(e.key,t)},Object(u.e)(e.name,28)),this.renderBranch=(e=Object(p.k)("branches.main_branch"))=>r.createElement("span",{className:"nowrap",title:e},r.createElement(s.a,{className:"little-spacer-left text-text-top"}),e)}renderProjectChange(e){const t=!this.props.branchLike||Object(c.g)(this.props.branchLike);if("ADDED"===e.changeType){const n=t?"event.definition_change.added":"event.definition_change.branch_added";return r.createElement("div",{className:"text-ellipsis"},r.createElement(a.FormattedMessage,{defaultMessage:Object(p.k)(n),id:n,values:{project:this.renderProjectLink(e,e.branch),branch:this.renderBranch(e.branch)}}))}if("REMOVED"===e.changeType){const n=t?"event.definition_change.removed":"event.definition_change.branch_removed";return r.createElement("div",{className:"text-ellipsis"},r.createElement(a.FormattedMessage,{defaultMessage:Object(p.k)(n),id:n,values:{project:this.renderProjectLink(e,e.branch),branch:this.renderBranch(e.branch)}}))}return"BRANCH_CHANGED"===e.changeType?r.createElement(a.FormattedMessage,{defaultMessage:Object(p.k)("event.definition_change.branch_replaced"),id:"event.definition_change.branch_replaced",values:{project:this.renderProjectLink(e,e.newBranch),oldBranch:this.renderBranch(e.oldBranch),newBranch:this.renderBranch(e.newBranch)}}):null}render(){const{event:e,readonly:t}=this.props,{expanded:n}=this.state;return r.createElement(r.Fragment,null,r.createElement("span",{className:"note"},Object(p.k)("event.category",e.category),!t&&":"),!t&&r.createElement("div",null,r.createElement(i.c,{className:"project-activity-event-inner-more-link",onClick:this.toggleProjectsList,stopPropagation:!0},n?Object(p.k)("hide"):Object(p.k)("more"),r.createElement(l.a,{className:"little-spacer-left",turned:n}))),n&&r.createElement("ul",{className:"spacer-left spacer-top"},e.definitionChange.projects.map(e=>r.createElement("li",{className:"display-flex-center spacer-top",key:e.key},this.renderProjectChange(e)))))}}},683:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n(366),a=n(371),o=n(373),i=n(368),s=n(394),l=n(431),c=n(6),p=n(378);function u(e){return"QUALITY_GATE"===e.category&&void 0!==e.qualityGate}class d extends r.PureComponent{constructor(){super(...arguments),this.state={expanded:!1},this.stopPropagation=e=>{e.stopPropagation()},this.toggleProjectsList=()=>{this.setState(e=>({expanded:!e.expanded}))}}render(){const{event:e,readonly:t}=this.props,{expanded:n}=this.state;return r.createElement(r.Fragment,null,r.createElement("span",{className:"note spacer-right"},Object(c.k)("event.category",e.category),":"),e.qualityGate.stillFailing?r.createElement(a.FormattedMessage,{defaultMessage:Object(c.k)("event.quality_gate.still_x"),id:"event.quality_gate.still_x",values:{status:r.createElement(l.a,{level:e.qualityGate.status,small:!0})}}):r.createElement(l.a,{level:e.qualityGate.status,small:!0}),r.createElement("div",null,!t&&e.qualityGate.failing.length>0&&r.createElement(i.g,{className:"project-activity-event-inner-more-link",onClick:this.toggleProjectsList,stopPropagation:!0},n?Object(c.k)("hide"):Object(c.k)("more"),r.createElement(s.a,{className:"little-spacer-left",turned:n}))),n&&r.createElement("ul",{className:"spacer-left spacer-top"},e.qualityGate.failing.map(t=>r.createElement("li",{className:"display-flex-center spacer-top",key:t.key},r.createElement(l.a,{"aria-label":Object(c.k)("quality_gates.status"),className:"spacer-right",level:e.qualityGate.status,small:!0}),r.createElement("div",{className:"flex-1 text-ellipsis"},r.createElement(o.c,{onClick:this.stopPropagation,title:t.name,to:Object(p.A)(t.key,t.branch)},r.createElement("span",{"aria-label":Object(c.l)("project_x",t.name)},t.name)))))))}}},685:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return v}));var r=n(607),a=n.n(r),o=n(580),i=n(474),s=n(21),l=n(507),c=n(523);const p=["VERSION","QUALITY_GATE","QUALITY_PROFILE","OTHER"],u=["QUALITY_GATE","DEFINITION_CHANGE","OTHER"];function d(e,t){return e.category!==t.category||m(e,t)}function h(e,t){return!a()(e.customMetrics,t.customMetrics)}function m(e,t){return!a()(e.from,t.from)||!a()(e.to,t.to)}function f(e,t){return e.graph!==t.graph}function g(e,t){return e.reduce((e,n)=>{let r=e[e.length-1];const a=n.events.find(e=>"VERSION"===e.category);if(a){const t={version:a.name,key:a.key,byDay:{}};!r||Object.keys(r.byDay).length>0?e.push(t):e[e.length-1]=t,r=t}else r||(r={version:null,key:null,byDay:{}},e.push(r));const i=o(Object(s.b)(n.date)).getTime().toString();let l=!0;if(t.category||t.from||t.to){const e=!t.from||n.date>=t.from,r=!t.to||n.date<=t.to,a=!t.category||null!=n.events.find(e=>e.category===t.category);l=e&&r&&a}return l&&(r.byDay[i]||(r.byDay[i]=[]),r.byDay[i].push(n)),e},[])}function y(e){return{category:Object(l.g)(e.category),customMetrics:Object(l.b)(e.custom_metrics,l.g),from:Object(l.d)(e.from),graph:x(e.graph),project:Object(l.g)(e.id),to:Object(l.d)(e.to),selectedDate:Object(l.d)(e.selected_date)}}function b(e){return Object(l.a)({category:Object(l.l)(e.category),from:Object(l.i)(e.from),project:Object(l.l)(e.project),to:Object(l.i)(e.to)})}function v(e){return Object(l.a)({category:Object(l.l)(e.category),custom_metrics:Object(l.m)(e.customMetrics),from:Object(l.i)(e.from),graph:(t=e.graph,t===i.a?void 0:t),id:Object(l.l)(e.project),to:Object(l.i)(e.to),selected_date:Object(l.i)(e.selectedDate)});var t}function x(e){const t=Object(l.g)(e);return Object.keys(c.a).includes(t)?t:i.a}},742:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c}));var r=n(381),a=n(4);function o(e){return Object(a.d)("/api/project_analyses/search",e).catch(r.a)}function i(e,t,n,o){const i={analysis:e,name:t};return n&&(i.category=n),o&&(i.description=o),Object(a.j)("/api/project_analyses/create_event",i).then(e=>e.event,r.a)}function s(e){return Object(a.i)("/api/project_analyses/delete_event",{event:e}).catch(r.a)}function l(e,t,n){const o={event:e};return t&&(o.name=t),n&&(o.description=n),Object(a.j)("/api/project_analyses/update_event",o).then(e=>e.event,r.a)}function c(e){return Object(a.i)("/api/project_analyses/delete",{analysis:e}).catch(r.a)}},743:function(e,t,n){var r=n(369),a=n(911);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},791:function(e,t,n){var r=n(369),a=n(914);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},910:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(381),a=n(4);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){return Object(a.d)("/api/measures/search_history",e).catch(r.a)}(i({},e,{ps:1e3})).then(n=>{const r=t?{measures:t.measures.map((e,t)=>i({},e,{history:e.history.concat(n.measures[t].history)})),paging:n.paging}:n;return r.paging.pageIndex*r.paging.pageSize>=r.paging.total?r:l(i({},e,{p:r.paging.pageIndex+1}),r)})}},911:function(e,t,n){(t=n(370)(!1)).push([e.i,'.activity-graph-container{padding:10px 0}.activity-graph-tooltip{padding:8px}.activity-graph-tooltip-line{height:20px}.activity-graph-tooltip-line+.activity-graph-tooltip-line{padding-top:4px}.activity-graph-tooltip-issues-line{height:26px;padding-bottom:4px}.activity-graph-tooltip-separator{padding-left:16px;padding-right:16px}.activity-graph-tooltip-separator hr{margin-top:8px;margin-bottom:8px}.activity-graph-tooltip-title,.activity-graph-tooltip-value{font-weight:700}.activity-graph-legends{flex-grow:0;padding-bottom:16px;text-align:center}.activity-graph-legend-actionable{display:inline-block;padding:4px 8px 4px 12px;border-width:1px;border-style:solid;border-radius:12px}.activity-graph-new-code-legend{margin-right:10px}.activity-graph-new-code-legend:after{content:"";display:inline-block;margin-left:4px;width:8px;height:8px;background-color:#fbf3d5;border:2px solid #f1e8cb}',""]),e.exports=t},912:function(e,t,n){var r=n(369),a=n(913);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},913:function(e,t,n){(t=n(370)(!1)).push([e.i,".line-tooltip{fill:none;stroke:#666;stroke-width:1px;shape-rendering:crispEdges}.chart-mouse-events-overlay{fill:none;stroke:none;pointer-events:all}.chart-zoomed .leak-chart-rect,.chart-zoomed .line-chart-area,.chart-zoomed .line-chart-path{-webkit-clip-path:url(#chart-clip);clip-path:url(#chart-clip)}.line-chart-dot{fill:#4b9fd5}.line-chart-dot.line-chart-dot-1{fill:#236a97}.line-chart-dot.line-chart-dot-2{fill:#24c6e0}.line-chart-event{fill:#fff;stroke:#4b9fd5;stroke-width:2px}.line-chart-event.VERSION{stroke:#4b9fd5}.line-chart-event.QUALITY_GATE{stroke:#0a0}.line-chart-event.QUALITY_PROFILE{stroke:#ed7d20}.line-chart-event.OTHER{stroke:#9139d4}.new-code-legend{fill:#666;font-size:12px}",""]),e.exports=t},914:function(e,t,n){(t=n(370)(!1)).push([e.i,".line-chart-path{fill:none;stroke:#4b9fd5;stroke-width:2px}.line-chart-path.line-chart-path-1{stroke:#236a97}.line-chart-path.line-chart-path-2{stroke:#24c6e0}.line-chart-area{fill:rgba(75,159,213,.3);stroke-width:0}.line-chart-area.line-chart-area-1{fill:rgba(35,106,151,.3)}.line-chart-area.line-chart-area-2{fill:rgba(36,198,224,.3)}.line-chart-point{fill:#fff;stroke:#4b9fd5;stroke-width:2px}.line-chart-tick{fill:#666;font-size:12px}.line-chart-tick-x{text-anchor:end}.line-chart-tick-x-right{text-anchor:start}.line-chart-grid{shape-rendering:crispedges;stroke:#eee}",""]),e.exports=t},922:function(e,t,n){var r=n(627),a=n(654),o=n(22);e.exports=function(e,t){return e&&e.length?r(e,o(t,2),a):void 0}},923:function(e,t,n){var r,a;window,e.exports=(r=n(366),a=n(506),function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports=n(5)()},function(e,t){e.exports=r},function(e,t){e.exports=a},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(7),a=r.default,o=r.DraggableCore;e.exports=a,e.exports.default=a,e.exports.DraggableCore=o},function(e,t,n){"use strict";var r=n(6);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(2),l=n.n(s),c=n(3),p=n.n(c);function u(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function d(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function h(e){return"number"==typeof e&&!isNaN(e)}function m(e){return parseInt(e,10)}function f(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var g=["Moz","Webkit","O","ms"];function y(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<g.length;n++)if(y(e,g[n])in t)return g[n];return""}();function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E="";function S(e,t){return E||(E=u(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return d(e[t])}))),!!d(e[E])&&e[E](t)}function k(e,t,n){var r=e;do{if(S(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function O(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function j(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function w(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=m(n.borderTopWidth))+m(n.borderBottomWidth)}function D(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=m(n.borderLeftWidth))+m(n.borderRightWidth)}function C(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=m(n.paddingTop))-m(n.paddingBottom)}function N(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=m(n.paddingLeft))-m(n.paddingRight)}function P(e,t,n){var r=e.x,a=e.y,o="translate(".concat(r).concat(n,",").concat(a).concat(n,")");if(t){var i="".concat("string"==typeof t.x?t.x:t.x+n),s="".concat("string"==typeof t.y?t.y:t.y+n);o="translate(".concat(i,", ").concat(s,")")+o}return o}function M(e){if(e){var t,n,r=e.getElementById("react-draggable-style-el");r||((r=e.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(r)),e.body&&(n="react-draggable-transparent-selection",(t=e.body).classList?t.classList.add(n):t.className.match(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)")))||(t.className+=" ".concat(n)))}}function T(e){try{e&&e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)"),"g"),"")),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(e){}var t,n}function _(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({touchAction:"none"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function L(e){return"both"===e.props.axis||"x"===e.props.axis}function A(e){return"both"===e.props.axis||"y"===e.props.axis}function I(e,t,n){var r="number"==typeof t?function(e,t){return e.targetTouches&&u(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&u(e.changedTouches,(function(e){return t===e.identifier}))}(e,t):null;if("number"==typeof t&&!r)return null;var a=H(n);return function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}}(r||e,n.props.offsetParent||a.offsetParent||a.ownerDocument.body,n.props.scale)}function z(e,t,n){var r=e.state,a=!h(r.lastX),o=H(e);return a?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function R(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function H(e){var t=l.a.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y={start:"touchstart",move:"touchmove",stop:"touchend"},W={start:"mousedown",move:"mousemove",stop:"mouseup"},Q=W,X=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=this,a=(e=U(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==q(a)&&"function"!=typeof a?Z(r):a,G(Z(n),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),G(Z(n),"handleDragStart",(function(e){if(n.props.onMouseDown(e),!n.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=l.a.findDOMNode(Z(n));if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=t.ownerDocument;if(!(n.props.disabled||!(e.target instanceof r.defaultView.Node)||n.props.handle&&!k(e.target,n.props.handle,t)||n.props.cancel&&k(e.target,n.props.cancel,t))){var a=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}(e);n.setState({touchIdentifier:a});var o=I(e,a,Z(n));if(null!=o){var i=o.x,s=o.y,c=z(Z(n),i,s);n.props.onStart,!1!==n.props.onStart(e,c)&&(n.props.enableUserSelectHack&&M(r),n.setState({dragging:!0,lastX:i,lastY:s}),O(r,Q.move,n.handleDrag),O(r,Q.stop,n.handleDragStop))}}})),G(Z(n),"handleDrag",(function(e){"touchmove"===e.type&&e.preventDefault();var t=I(e,n.state.touchIdentifier,Z(n));if(null!=t){var r,a,o,i=t.x,s=t.y;if(Array.isArray(n.props.grid)){var l=i-n.state.lastX,c=s-n.state.lastY,p=B((r=n.props.grid,a=l,o=c,[Math.round(a/r[0])*r[0],Math.round(o/r[1])*r[1]]),2);if(l=p[0],c=p[1],!l&&!c)return;i=n.state.lastX+l,s=n.state.lastY+c}var u=z(Z(n),i,s);if(!1!==n.props.onDrag(e,u))n.setState({lastX:i,lastY:s});else try{n.handleDragStop(new MouseEvent("mouseup"))}catch(e){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.handleDragStop(d)}}})),G(Z(n),"handleDragStop",(function(e){if(n.state.dragging){var t=I(e,n.state.touchIdentifier,Z(n));if(null!=t){var r=t.x,a=t.y,o=z(Z(n),r,a),i=l.a.findDOMNode(Z(n));i&&n.props.enableUserSelectHack&&T(i.ownerDocument),n.setState({dragging:!1,lastX:NaN,lastY:NaN}),n.props.onStop(e,o),i&&(j(i.ownerDocument,Q.move,n.handleDrag),j(i.ownerDocument,Q.stop,n.handleDragStop))}}})),G(Z(n),"onMouseDown",(function(e){return Q=W,n.handleDragStart(e)})),G(Z(n),"onMouseUp",(function(e){return Q=W,n.handleDragStop(e)})),G(Z(n),"onTouchStart",(function(e){return Q=Y,n.handleDragStart(e)})),G(Z(n),"onTouchEnd",(function(e){return Q=Y,n.handleDragStop(e)})),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentWillUnmount",value:function(){var e=l.a.findDOMNode(this);if(e){var t=e.ownerDocument;j(t,W.move,this.handleDrag),j(t,Y.move,this.handleDrag),j(t,W.stop,this.handleDragStop),j(t,Y.stop,this.handleDragStop),this.props.enableUserSelectHack&&T(t)}}},{key:"render",value:function(){return a.a.cloneElement(a.a.Children.only(this.props.children),{style:_(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&V(n.prototype,r),t}();function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t&&re(e.prototype,t),n&&re(e,n),e}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}G(X,"displayName","DraggableCore"),G(X,"propTypes",{allowAnyClick:i.a.bool,disabled:i.a.bool,enableUserSelectHack:i.a.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.a.arrayOf(i.a.number),handle:i.a.string,cancel:i.a.string,onStart:i.a.func,onDrag:i.a.func,onStop:i.a.func,onMouseDown:i.a.func,scale:i.a.number,className:f,style:f,transform:f}),G(X,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),n.d(t,"default",(function(){return se})),n.d(t,"DraggableCore",(function(){return X}));var se=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=te(t).call(this,e),n=!r||"object"!==K(r)&&"function"!=typeof r?ne(this):r,ie(ne(n),"onDragStart",(function(e,t){if(!1===n.props.onStart(e,R(ne(n),t)))return!1;n.setState({dragging:!0,dragged:!0})})),ie(ne(n),"onDrag",(function(e,t){if(!n.state.dragging)return!1;var r=R(ne(n),t),a={x:r.x,y:r.y};if(n.props.bounds){var o=a.x,i=a.y;a.x+=n.state.slackX,a.y+=n.state.slackY;var s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(function(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);var a=H(e);if("string"==typeof r){var o,i=a.ownerDocument,s=i.defaultView;if(!((o="parent"===r?a.parentNode:i.querySelector(r))instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var l=s.getComputedStyle(a),c=s.getComputedStyle(o);r={left:-a.offsetLeft+m(c.paddingLeft)+m(l.marginLeft),top:-a.offsetTop+m(c.paddingTop)+m(l.marginTop),right:N(o)-D(a)-a.offsetLeft+m(c.paddingRight)-m(l.marginRight),bottom:C(o)-w(a)-a.offsetTop+m(c.paddingBottom)-m(l.marginBottom)}}return h(r.right)&&(t=Math.min(t,r.right)),h(r.bottom)&&(n=Math.min(n,r.bottom)),h(r.left)&&(t=Math.max(t,r.left)),h(r.top)&&(n=Math.max(n,r.top)),[t,n]}(ne(n),a.x,a.y),2),l=s[0],c=s[1];a.x=l,a.y=c,a.slackX=n.state.slackX+(o-a.x),a.slackY=n.state.slackY+(i-a.y),r.x=a.x,r.y=a.y,r.deltaX=a.x-n.state.x,r.deltaY=a.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(a)})),ie(ne(n),"onDragStop",(function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,R(ne(n),t)))return!1;var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var a=n.props.position,o=a.x,i=a.y;r.x=o,r.y=i}n.setState(r)})),n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:ee({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,a.a.Component),ae(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:{x:n.x,y:n.y,prevPropsPosition:ee({},n)}}}]),ae(t,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&l.a.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,o=t.defaultClassName,i=t.defaultClassNameDragging,s=t.defaultClassNameDragged,l=t.position,c=t.positionOffset,u=(t.scale,function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),d={},h=null,m=!Boolean(l)||this.state.dragging,f=l||r,g={x:L(this)&&m?this.state.x:f.x,y:A(this)&&m?this.state.y:f.y};this.state.isElementSVG?h=function(e,t){return P(e,t,"")}(g,c):d=function(e,t){var n=P(e,t,"px");return x({},y("transform",b),n)}(g,c);var v=p()(n.props.className||"",o,(ie(e={},i,this.state.dragging),ie(e,s,this.state.dragged),e));return a.a.createElement(X,J({},u,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),a.a.cloneElement(a.a.Children.only(n),{className:v,style:ee({},n.props.style,{},d),transform:h}))}}]),t}();ie(se,"displayName","Draggable"),ie(se,"propTypes",ee({},X.propTypes,{axis:i.a.oneOf(["both","x","y","none"]),bounds:i.a.oneOfType([i.a.shape({left:i.a.number,right:i.a.number,top:i.a.number,bottom:i.a.number}),i.a.string,i.a.oneOf([!1])]),defaultClassName:i.a.string,defaultClassNameDragging:i.a.string,defaultClassNameDragged:i.a.string,defaultPosition:i.a.shape({x:i.a.number,y:i.a.number}),positionOffset:i.a.shape({x:i.a.oneOfType([i.a.number,i.a.string]),y:i.a.oneOfType([i.a.number,i.a.string])}),position:i.a.shape({x:i.a.number,y:i.a.number}),className:f,style:f,transform:f})),ie(se,"defaultProps",ee({},X.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))}]))},938:function(e,t,n){"use strict";n.d(t,"a",(function(){return ae}));var r=n(607),a=n.n(r),o=n(366),i=n(376),s=n(6),l=n(0),c=n(523),p=n(650),u=n(470),d=n.n(u),h=n(559),m=n.n(h),f=n(387),g=n.n(f),y=n(572),b=n.n(y),v=n(367),x=n(1741),E=n(1746),S=n(1409),k=n(1128),O=n(1773),j=n(1769),w=n(1604),D=n(1747),C=n(1748),N=n(375),P=n(452);n(912),n(791);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends o.PureComponent{constructor(e){super(e),this.getRatingScale=e=>Object(k.b)().domain([5,4,3,2,1]).range([e,0]),this.getLevelScale=e=>Object(k.b)().domain(["ERROR","WARN","OK"]).range([e,0]),this.getYScale=(e,t,n)=>"RATING"===e.metricType?this.getRatingScale(t):"LEVEL"===e.metricType?this.getLevelScale(t):Object(O.a)().range([t,0]).domain([0,Object(x.a)(n,e=>Number(e.y||0))||1]).nice(),this.getXScale=({startDate:e,endDate:t},n,r)=>{const a=Object(E.a)(r,e=>e.x),o=e&&e>a[0]?e:a[0],i=t&&t<a[1]?t:a[1],s=Object(j.a)().domain(g()([o,i])).range([0,n]).clamp(!1);return{xScale:s,maxXRange:a.map(s)}},this.getScales=e=>{const t=e.width-e.padding[1]-e.padding[3],n=e.height-e.padding[0]-e.padding[2],r=b()(e.series.map(e=>e.data));return T({},this.getXScale(e,t,r),{yScale:this.getYScale(e,n,r)})},this.getSelectedDatePos=(e,t)=>{const n=this.props.series[0];if(t&&n){const r=n.data.findIndex(e=>e.x.valueOf()===t.valueOf()),a=g()(e.range()),o=e(t);if(r>=0&&o>=a[0]&&o<=a[1])return{selectedDate:t,selectedDateXPos:e(t),selectedDateIdx:r}}return{selectedDate:void 0,selectedDateXPos:void 0,selectedDateIdx:void 0}},this.getEventMarker=e=>{const t=e/2;return"M".concat(t," 0 L").concat(e," ").concat(t," L ").concat(t," ").concat(e," L0 ").concat(t," L").concat(t," 0 L").concat(e," ").concat(t)},this.handleWheel=e=>{e.preventDefault();const{maxXRange:t,xScale:n}=this.state,r=e.currentTarget.getBoundingClientRect(),a=(e.pageX-r.left)/r.width,o=n.range(),i=e.deltaMode?25/e.deltaMode*this.props.zoomSpeed:this.props.zoomSpeed,s=o[0]-Math.round(i*e.deltaY*a),l=o[1]+Math.round(i*e.deltaY*(1-a)),c=s>t[0]?n.invert(s):void 0,p=l<t[1]?n.invert(l):void 0;this.handleZoomUpdate(c,p)},this.handleZoomUpdate=(e,t)=>{this.props.updateZoom&&this.props.updateZoom(e,t)},this.handleMouseMove=e=>{const t=e.currentTarget.getBoundingClientRect();this.updateTooltipPos(e.pageX-t.left)},this.handleMouseEnter=()=>{this.setState({mouseOver:!0})},this.handleMouseOut=()=>{const{updateTooltip:e}=this.props;e&&(this.setState({mouseOver:!1,selectedDate:void 0,selectedDateXPos:void 0,selectedDateIdx:void 0}),e(void 0,void 0,void 0))},this.handleClick=()=>{const{updateSelectedDate:e}=this.props;e&&e(this.state.selectedDate||void 0)},this.setLeakLegendTextWidth=e=>{e&&this.setState({leakLegendTextWidth:e.getBoundingClientRect().width})},this.updateTooltipPos=e=>{this.setState(t=>{const n=this.props.series[0];if(t.mouseOver&&n){const{updateTooltip:r}=this.props,a=t.xScale.invert(e);let o=(0,Object(S.a)(e=>e.x).right)(n.data,a);if(o>=0){const e=n.data[o-1],i=n.data[o];(!i||e&&a.valueOf()-e.x.valueOf()<=i.x.valueOf()-a.valueOf())&&o--;const s=n.data[o].x,l=t.xScale(s);return r&&r(s,l,o),{selectedDate:s,selectedDateXPos:l,selectedDateIdx:o}}}return null})},this.renderHorizontalGrid=()=>{const{formatYTick:e}=this.props,{xScale:t,yScale:n}=this.state;let r="function"==typeof n.ticks?n.ticks(this.props.maxYTicksCount):n.domain();if(r.length||r.push(n.domain()[1]),e){const t=r.map(t=>e(t));r.length>d()(t).length&&(r=n.domain())}return o.createElement("g",null,r.map(r=>o.createElement("g",{key:r},null!=e&&o.createElement("text",{className:"line-chart-tick line-chart-tick-x",dx:"-1em",dy:"0.3em",textAnchor:"end",x:t.range()[0],y:n(r)},e(r)),o.createElement("line",{className:"line-chart-grid",x1:t.range()[0],x2:t.range()[1],y1:n(r),y2:n(r)}))))},this.renderXAxisTicks=()=>{const{xScale:e,yScale:t}=this.state,n=e.tickFormat(7),r=e.ticks(7),a=t.range()[0];return o.createElement("g",{transform:"translate(0, 20)"},r.slice(0,-1).map((t,i)=>{const s=i+1<r.length?r[i+1]:e.domain()[1],l=(e(t)+e(s))/2;return o.createElement("text",{className:"line-chart-tick",key:i,textAnchor:"end",transform:"rotate(-35, ".concat(l,", ").concat(a,")"),x:l,y:a},n(t))}))},this.renderNewCodeLegend=e=>{const{leakStart:t,leakWidth:n}=e,{leakLegendTextWidth:r,xScale:a,yScale:i}=this.state,s=i.range(),l=a.range(),c=(r||0)+N.rawSizes.grid,p=N.rawSizes.grid/2;let u,d,h,m,f;return n>=c?(d=n,u=t,h=0,m=u+p,f="start"):(d=c,u=l[l.length-1]-d,h=N.rawSizes.grid/2,m=l[l.length-1]-p,f="end"),o.createElement(o.Fragment,null,o.createElement("rect",{fill:N.colors.leakPrimaryColor,height:16,width:d,x:u,y:s[s.length-1]-16-h}),o.createElement("text",{className:"new-code-legend",ref:this.setLeakLegendTextWidth,x:m,y:s[s.length-1]-p-h,textAnchor:f},"new code"))},this.renderLeak=()=>{const{displayNewCodeLegend:e,leakPeriodDate:t}=this.props;if(!t)return null;const{xScale:n,yScale:r}=this.state,a=r.range(),i=n.range(),s=Math.max(n(t),i[0]),l=i[i.length-1]-s;return l<1?null:o.createElement(o.Fragment,null,e&&this.renderNewCodeLegend({leakStart:s,leakWidth:l}),o.createElement("rect",{className:"leak-chart-rect",fill:N.colors.leakPrimaryColor,height:a[0]-a[a.length-1],width:l,x:s,y:a[a.length-1]}))},this.renderLines=()=>{const e=Object(w.a)().defined(e=>Boolean(e.y||0===e.y)).x(e=>this.state.xScale(e.x)).y(e=>this.state.yScale(e.y));return this.props.basisCurve&&e.curve(D.a),o.createElement("g",null,this.props.series.map((t,n)=>o.createElement("path",{className:v("line-chart-path","line-chart-path-"+n),d:e(t.data)||void 0,key:t.name})))},this.renderDots=()=>o.createElement("g",null,this.props.series.map((e,t)=>e.data.map((n,r)=>{const a=!n.y&&0!==n.y,i=e.data[r-1]&&(e.data[r-1].y||0===e.data[r-1].y),s=e.data[r+1]&&(e.data[r+1].y||0===e.data[r+1].y);if(!(a||i||s))return o.createElement("circle",{className:v("line-chart-dot","line-chart-dot-"+t),cx:this.state.xScale(n.x),cy:this.state.yScale(n.y),key:e.name+r,r:"2"})}).filter(P.a)).filter(e=>e.length>0)),this.renderAreas=()=>{const e=Object(C.a)().defined(e=>Boolean(e.y||0===e.y)).x(e=>this.state.xScale(e.x)).y1(e=>this.state.yScale(e.y)).y0(this.state.yScale(0));return this.props.basisCurve&&e.curve(D.a),o.createElement("g",null,this.props.series.map((t,n)=>o.createElement("path",{className:v("line-chart-area","line-chart-area-"+n),d:e(t.data)||void 0,key:t.name})))},this.renderSelectedDate=()=>{const{selectedDateIdx:e,selectedDateXPos:t,yScale:n}=this.state,r=this.props.series[0];return null!=e&&null!=t&&r?o.createElement("g",null,o.createElement("line",{className:"line-tooltip",x1:t,x2:t,y1:n.range()[0],y2:n.range()[1]}),this.props.series.map((r,a)=>{const i=r.data[e];return!i||!i.y&&0!==i.y?null:o.createElement("circle",{className:v("line-chart-dot","line-chart-dot-"+a),cx:t,cy:n(i.y),key:r.name,r:"4"})})):null},this.renderClipPath=()=>o.createElement("defs",null,o.createElement("clipPath",{id:"chart-clip"},o.createElement("rect",{height:this.state.yScale.range()[0]+10,transform:"translate(0,-5)",width:this.state.xScale.range()[1]}))),this.renderMouseEventsOverlay=e=>{const t={};return e&&(t.onWheel=this.handleWheel),this.props.updateTooltip&&(t.onMouseEnter=this.handleMouseEnter,t.onMouseMove=this.handleMouseMove,t.onMouseOut=this.handleMouseOut),this.props.updateSelectedDate&&(t.onClick=this.handleClick),o.createElement("rect",Object.assign({className:"chart-mouse-events-overlay",height:this.state.yScale.range()[0],width:this.state.xScale.range()[1]},t))};const t=this.getScales(e),n=this.getSelectedDatePos(t.xScale,e.selectedDate);this.state=T({},t,{},n),this.updateTooltipPos=m()(this.updateTooltipPos,40),this.handleZoomUpdate=m()(this.handleZoomUpdate,40)}componentDidUpdate(e){let t,n;if(this.props.metricType===e.metricType&&this.props.startDate===e.startDate&&this.props.endDate===e.endDate&&this.props.width===e.width&&this.props.padding===e.padding&&this.props.height===e.height&&this.props.series===e.series||(t=this.getScales(this.props),null!=this.state.selectedDate&&(n=this.getSelectedDatePos(t.xScale,this.state.selectedDate))),!a()(this.props.selectedDate,e.selectedDate)){const e=t?t.xScale:this.state.xScale;n=this.getSelectedDatePos(e,this.props.selectedDate)}(t||n)&&(t&&this.setState(T({},t)),n&&this.setState(T({},n)),n&&this.props.updateTooltip&&this.props.updateTooltip(n.selectedDate,n.selectedDateXPos,n.selectedDateIdx))}render(){if(!this.props.width||!this.props.height)return o.createElement("div",null);const e=!this.props.disableZoom&&null!=this.props.updateZoom,t=Boolean(this.props.startDate||this.props.endDate);return o.createElement("svg",{className:v("line-chart",{"chart-zoomed":t}),height:this.props.height,width:this.props.width},e&&this.renderClipPath(),o.createElement("g",{transform:"translate(".concat(this.props.padding[3],", ").concat(this.props.padding[0],")")},null!=this.props.leakPeriodDate&&this.renderLeak(),!this.props.hideGrid&&this.renderHorizontalGrid(),!this.props.hideXAxis&&this.renderXAxisTicks(),this.props.showAreas&&this.renderAreas(),this.renderLines(),this.renderDots(),this.renderSelectedDate(),this.renderMouseEventsOverlay(e)))}}L.defaultProps={eventSize:8,maxYTicksCount:4,padding:[26,10,50,60],zoomSpeed:1};var A=n(377),I=n(374),z=n(368),R=n(693),H=n(372);function q(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function B(e){let{index:t}=e,n=q(e,["index"]);const r=[N.colors.blue,N.colors.darkBlue,"#24c6e0"];return o.createElement(H.a,Object.assign({},n),o.createElement("path",{d:"M14.325 7.143v1.714q0 0.357-0.25 0.607t-0.607 0.25h-10.857q-0.357 0-0.607-0.25t-0.25-0.607v-1.714q0-0.357 0.25-0.607t0.607-0.25h10.857q0.357 0 0.607 0.25t0.25 0.607z",style:{fill:r[t]||r[0]}}))}class V extends o.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.removeMetric&&this.props.removeMetric(this.props.metric)}}render(){const e=null!=this.props.removeMetric,t=v({"activity-graph-legend-actionable":e},this.props.className);return o.createElement("span",{className:t},this.props.showWarning?o.createElement(R.a,{className:"spacer-right"}):o.createElement(B,{className:"text-middle spacer-right",index:this.props.index}),o.createElement("span",{className:"text-middle"},this.props.name),e&&o.createElement(z.d,{className:"button-tiny spacer-left text-middle",iconProps:{size:12},onClick:this.handleClick}))}}var U=n(474);function Z(e){const{series:t}=e;return o.createElement("div",{className:"activity-graph-legends display-flex-center"},o.createElement("div",{className:"flex-1"},t.map((t,n)=>{const r=Object(U.h)(t),a=o.createElement(V,{index:n,metric:t.name,name:t.translatedName,removeMetric:e.removeMetric,showWarning:!r});return r?o.createElement("span",{className:"spacer-left spacer-right",key:t.name},a):o.createElement(I.a,{key:t.name,overlay:Object(s.k)("project_activity.graphs.custom.metric_no_history")},o.createElement("span",{className:"spacer-left spacer-right"},a))})))}function F({series:e}){return o.createElement("div",{className:"activity-graph-legends"},e.map((e,t)=>o.createElement(V,{className:"big-spacer-left big-spacer-right",index:t,key:e.name,metric:e.name,name:e.translatedName})))}var G=n(423),Y=n(398);function W({name:e,index:t,translatedName:n,value:r}){return o.createElement("tr",{className:"activity-graph-tooltip-line",key:e},o.createElement("td",{className:"thin"},o.createElement(B,{className:"spacer-right",index:t})),o.createElement("td",{className:"activity-graph-tooltip-value text-right spacer-right thin"},r),o.createElement("td",null,n))}function Q({addSeparator:e,measuresHistory:t,tooltipIdx:n}){const r=t.find(e=>"uncovered_lines"===e.metric),a=t.find(e=>"coverage"===e.metric);if(!(r&&r.history[n]&&a&&a.history[n]))return null;const i=r.history[n].value,l=a.history[n].value;return o.createElement("tbody",null,e&&o.createElement("tr",null,o.createElement("td",{className:"activity-graph-tooltip-separator",colSpan:3},o.createElement("hr",null))),i&&o.createElement("tr",{className:"activity-graph-tooltip-line"},o.createElement("td",{className:"activity-graph-tooltip-value text-right spacer-right thin",colSpan:2},Object(A.formatMeasure)(i,"SHORT_INT")),o.createElement("td",null,Object(s.k)("metric.uncovered_lines.name"))),l&&o.createElement("tr",{className:"activity-graph-tooltip-line"},o.createElement("td",{className:"activity-graph-tooltip-value text-right spacer-right thin",colSpan:2},Object(A.formatMeasure)(l,"PERCENT")),o.createElement("td",null,Object(s.k)("metric.coverage.name"))))}function X({addSeparator:e,measuresHistory:t,tooltipIdx:n}){const r=t.find(e=>"duplicated_lines_density"===e.metric);if(!r||!r.history[n])return null;const a=r.history[n].value;return a?o.createElement("tbody",null,e&&o.createElement("tr",null,o.createElement("td",{className:"activity-graph-tooltip-separator",colSpan:3},o.createElement("hr",null))),o.createElement("tr",{className:"activity-graph-tooltip-line"},o.createElement("td",{className:"activity-graph-tooltip-value text-right spacer-right thin",colSpan:2},Object(A.formatMeasure)(a,"PERCENT")),o.createElement("td",null,Object(s.k)("metric.duplicated_lines_density.name")))):null}var K=n(681);function J({addSeparator:e,events:t}){return o.createElement("tbody",null,e&&o.createElement("tr",null,o.createElement("td",{className:"activity-graph-tooltip-separator",colSpan:3},o.createElement("hr",null))),o.createElement("tr",{className:"activity-graph-tooltip-line"},o.createElement("td",{colSpan:3},t.map(e=>o.createElement("div",{className:"little-spacer-bottom",key:e.key},o.createElement(K.a,{event:e,readonly:!0}))))),e&&o.createElement("tr",null,o.createElement("td",{className:"activity-graph-tooltip-separator",colSpan:3},o.createElement("hr",null))))}var $=n(444);const ee={bugs:"reliability_rating",vulnerabilities:"security_rating",code_smells:"sqale_rating"};function te(e){const t=e.measuresHistory.find(t=>t.metric===ee[e.name]);if(!t||!t.history[e.tooltipIdx])return null;const n=t.history[e.tooltipIdx].value;return o.createElement("tr",{className:"activity-graph-tooltip-issues-line",key:e.name},o.createElement("td",{className:"thin"},o.createElement(B,{className:"spacer-right",index:e.index})),o.createElement("td",{className:"text-right spacer-right"},o.createElement("span",{className:"activity-graph-tooltip-value"},e.value),n&&o.createElement($.a,{className:"spacer-left",small:!0,value:n})),o.createElement("td",null,e.translatedName))}class ne extends o.PureComponent{renderContent(){const{tooltipIdx:e}=this.props;return this.props.series.map((t,n)=>{const r=t.data[e];return!r||!r.y&&0!==r.y?null:this.props.graph===U.a?o.createElement(te,{index:n,key:t.name,measuresHistory:this.props.measuresHistory,name:t.name,tooltipIdx:e,translatedName:t.translatedName,value:this.props.formatValue(r.y)}):o.createElement(W,{index:n,key:t.name,name:t.name,translatedName:t.translatedName,value:this.props.formatValue(r.y)})})}render(){const{events:e,measuresHistory:t,tooltipIdx:n}=this.props;let r=this.props.tooltipPos+60,a=G.b.RightTop;r>this.props.graphWidth-250-50&&(r-=250,a=G.b.LeftTop);const i=this.renderContent().filter(P.a),s=i.length>0;return o.createElement(G.a,{className:"disabled-pointer-events",placement:a,style:{top:30,left:r,width:250}},o.createElement("div",{className:"activity-graph-tooltip"},o.createElement("div",{className:"activity-graph-tooltip-title spacer-bottom"},o.createElement(Y.a,{date:this.props.selectedDate})),o.createElement("table",{className:"width-100"},e&&e.length>0&&o.createElement(J,{addSeparator:s,events:e}),o.createElement("tbody",null,i),"coverage"===this.props.graph&&o.createElement(Q,{addSeparator:s,measuresHistory:t,tooltipIdx:n}),"duplications"===this.props.graph&&o.createElement(X,{addSeparator:s,measuresHistory:t,tooltipIdx:n}))))}}class re extends o.PureComponent{constructor(){super(...arguments),this.state={},this.formatValue=e=>Object(A.formatMeasure)(e,Object(A.getShortType)(this.props.metricsType)),this.formatTooltipValue=e=>Object(A.formatMeasure)(e,this.props.metricsType),this.updateTooltip=(e,t,n)=>{this.props.updateTooltip(e),this.setState({tooltipXPos:t,tooltipIdx:n})}}render(){const{events:e,graph:t,graphEndDate:n,graphStartDate:r,isCustom:a,leakPeriodDate:i,measuresHistory:s,metricsType:l,selectedDate:c,series:u,showAreas:d}=this.props,{tooltipIdx:h,tooltipXPos:m}=this.state;return o.createElement("div",{className:"activity-graph-container flex-grow display-flex-column display-flex-stretch display-flex-justify-center"},a&&this.props.removeCustomMetric?o.createElement(Z,{removeMetric:this.props.removeCustomMetric,series:u}):o.createElement(F,{series:u}),o.createElement("div",{className:"flex-1"},o.createElement(p.AutoSizer,null,({height:a,width:p})=>o.createElement("div",null,o.createElement(L,{displayNewCodeLegend:!0,endDate:n,formatYTick:this.formatValue,height:a,leakPeriodDate:i,metricType:l,selectedDate:c,series:u,showAreas:d,startDate:r,updateSelectedDate:this.props.updateSelectedDate,updateTooltip:this.updateTooltip,updateZoom:this.props.updateGraphZoom,width:p}),void 0!==c&&void 0!==h&&void 0!==m&&o.createElement(ne,{events:e,formatValue:this.formatTooltipValue,graph:t,graphWidth:p,measuresHistory:s,selectedDate:c,series:u,tooltipIdx:h,tooltipPos:m})))))}}n(743);class ae extends o.PureComponent{constructor(e){super(e),this.getSelectedDateEvents=()=>{const{selectedDate:e}=this.state,{analyses:t}=this.props;if(t&&e){const n=t.find(t=>t.date.valueOf()===e.valueOf());if(n)return n.events}return[]},this.updateTooltip=e=>{this.setState({selectedDate:e})},this.state={selectedDate:e.selectedDate}}componentWillReceiveProps(e){a()(e.selectedDate,this.props.selectedDate)||this.setState({selectedDate:e.selectedDate})}render(){const{graph:e,loading:t,series:n}=this.props,r=Object(U.j)(e);if(t)return o.createElement("div",{className:"activity-graph-container flex-grow display-flex-column display-flex-stretch display-flex-justify-center"},o.createElement("div",{className:"text-center"},o.createElement(i.a,{loading:t})));if(!Object(U.i)(n))return o.createElement("div",{className:"activity-graph-container flex-grow display-flex-column display-flex-stretch display-flex-justify-center"},o.createElement("div",{className:"display-flex-center display-flex-justify-center"},o.createElement("img",{alt:"",className:"spacer-right",height:52,src:"".concat(Object(l.getBaseUrl)(),"/images/activity-chart.svg")}),o.createElement("div",{className:"big-spacer-left big text-muted",style:{maxWidth:300}},Object(s.k)(r?"project_activity.graphs.custom.no_history":"component_measures.no_history"))));const a=this.getSelectedDateEvents(),p=[c.a.coverage,c.a.duplications].includes(e);return o.createElement("div",{className:"display-flex-justify-center display-flex-column display-flex-stretch flex-grow"},this.props.graphs.map((t,n)=>o.createElement(re,{events:a,graph:e,graphEndDate:this.props.graphEndDate,graphStartDate:this.props.graphStartDate,isCustom:r,key:n,leakPeriodDate:this.props.leakPeriodDate,measuresHistory:this.props.measuresHistory,metricsType:Object(U.g)(t),removeCustomMetric:this.props.removeCustomMetric,selectedDate:this.state.selectedDate,series:t,showAreas:p,updateGraphZoom:this.props.updateGraphZoom,updateSelectedDate:this.props.updateSelectedDate,updateTooltip:this.updateTooltip})))}}},942:function(e,t,n){"use strict";var r=n(387),a=n.n(r),o=n(366),i=n(368),s=n(6),l=n(681),c=n(410);class p extends o.PureComponent{constructor(e){super(e),this.changeInput=e=>{this.setState({name:e.target.value})},this.handleSubmit=()=>this.props.changeEvent(this.props.event.key,this.state.name),this.state={name:e.event.name}}render(){const{name:e}=this.state;return o.createElement(c.a,{confirmButtonText:Object(s.k)("change_verb"),confirmDisable:!e||e===this.props.event.name,header:this.props.header,onClose:this.props.onClose,onConfirm:this.handleSubmit,size:"small"},o.createElement("div",{className:"modal-field"},o.createElement("label",null,Object(s.k)("name")),o.createElement("input",{autoFocus:!0,onChange:this.changeInput,type:"text",value:e})))}}function u(e){const{analysisKey:t,event:n,header:r,removeEventQuestion:a}=e;return o.createElement(c.a,{confirmButtonText:Object(s.k)("delete"),header:r,isDestructive:!0,onClose:e.onClose,onConfirm:()=>e.onConfirm(t,n.key)},a)}var d=o.memo((function(e){const{analysisKey:t,event:n,canAdmin:r,isFirst:a}=e,[c,d]=o.useState(!1),[h,m]=o.useState(!1),f="OTHER"===n.category,g="VERSION"===n.category,y=(f||g)&&e.onChange,b=(f||g&&!a)&&e.onDelete,v=r&&(y||b);return o.createElement("div",{className:"project-activity-event"},o.createElement(l.a,{event:n}),v&&o.createElement("span",{className:"nowrap"},y&&o.createElement(i.f,{"aria-label":Object(s.k)("project_activity.events.tooltip.edit"),className:"button-small","data-test":"project-activity__edit-event",onClick:()=>d(!0),stopPropagation:!0}),b&&o.createElement(i.e,{"aria-label":Object(s.k)("project_activity.events.tooltip.delete"),className:"button-small","data-test":"project-activity__delete-event",onClick:()=>m(!0),stopPropagation:!0})),c&&e.onChange&&o.createElement(p,{changeEvent:e.onChange,event:n,header:g?Object(s.k)("project_activity.change_version"):Object(s.k)("project_activity.change_custom_event"),onClose:()=>d(!1)}),h&&e.onDelete&&o.createElement(u,{analysisKey:t,event:n,header:g?Object(s.k)("project_activity.remove_version"):Object(s.k)("project_activity.remove_custom_event"),onClose:()=>m(!1),onConfirm:e.onDelete,removeEventQuestion:Object(s.k)("project_activity.".concat(g?"remove_version":"remove_custom_event",".question"))}))}));t.a=o.memo((function(e){const{analysisKey:t,canAdmin:n,events:r,isFirst:i}=e,s=a()(r,e=>"VERSION"===e.category?1:0,"category");return o.createElement("div",{className:"big-spacer-top"},s.map(r=>o.createElement(d,{analysisKey:t,canAdmin:n,event:r,isFirst:i,key:r.key,onChange:e.onChange,onDelete:e.onDelete})))}))},945:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(367),a=n.n(r),o=n(366),i=n(388),s=n(6),l=n(387),c=n.n(l),p=n(521),u=n.n(p),d=n(368),h=n(383),m=n(394),f=n(377),g=n(379),y=n(662);function b(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function v(e){let{elements:t,metricsTypeFilter:n}=e,r=b(e,["elements","metricsTypeFilter"]),a="";return r.selectedElements.length>=6?a=o.createElement(g.a,{className:"spacer-left spacer-right spacer-top",variant:"info"},Object(s.k)("project_activity.graphs.custom.add_metric_info")):n&&n.length>0&&(a=o.createElement(g.a,{className:"spacer-left spacer-right spacer-top",variant:"info"},Object(s.l)("project_activity.graphs.custom.type_x_message",n.map(e=>Object(s.k)("metric.type",e)).sort().join(", ")))),o.createElement("div",{className:"menu abs-width-300"},o.createElement(y.a,{allowNewElements:!1,allowSelection:r.selectedElements.length<6,elements:t,filterSelected:r.filterSelected,footerNode:a,onSearch:r.onSearch,onSelect:e=>t.includes(e)&&r.onSelect(e),onUnselect:r.onUnselect,placeholder:Object(s.k)("search.search_for_tags"),renderLabel:r.renderLabel,selectedElements:r.selectedElements}))}class x extends o.PureComponent{constructor(){super(...arguments),this.state={metrics:[],query:"",selectedMetrics:[]},this.filterSelected=(e,t)=>t.filter(t=>this.getLocalizedMetricNameFromKey(t).toLowerCase().includes(e.toLowerCase())),this.filterMetricsElements=({metricsTypeFilter:e,metrics:t,selectedMetrics:n},r)=>t.filter(t=>!(t.hidden||Object(f.isDiffMetric)(t.key)||["DATA","DISTRIB"].includes(t.type)||n.includes(t.key)||!Object(s.e)(t).toLowerCase().includes(r.toLowerCase()))&&(!(e&&e.length>0)||e.includes(t.type))).map(e=>e.key),this.getSelectedMetricsElements=(e,t)=>{const n=t||this.props.selectedMetrics;return e.filter(e=>n.includes(e.key)).map(e=>e.key)},this.getLocalizedMetricNameFromKey=e=>{const t=u()(this.props.metrics,{key:e});return void 0===t?e:Object(s.e)(t)},this.onSearch=e=>(this.setState({query:e}),Promise.resolve()),this.onSelect=e=>{this.props.addMetric(e),this.setState(t=>({selectedMetrics:c()([...t.selectedMetrics,e]),metrics:this.filterMetricsElements(this.props,t.query)}))},this.onUnselect=e=>{this.props.removeMetric(e),this.setState(t=>({metrics:c()([...t.metrics,e]),selectedMetrics:t.selectedMetrics.filter(t=>t!==e)}))}}render(){const{query:e}=this.state,t=this.filterMetricsElements(this.props,e),n=this.getSelectedMetricsElements(this.props.metrics,this.props.selectedMetrics);return o.createElement(h.b,{className:"display-inline-block",closeOnClick:!1,closeOnClickOutside:!0,overlay:o.createElement(v,{elements:t,filterSelected:this.filterSelected,metricsTypeFilter:this.props.metricsTypeFilter,onSearch:this.onSearch,onSelect:this.onSelect,onUnselect:this.onUnselect,renderLabel:e=>this.getLocalizedMetricNameFromKey(e),selectedElements:n})},o.createElement(d.a,{className:"spacer-left"},o.createElement("span",{className:"text-ellipsis text-middle"},Object(s.k)("project_activity.graphs.custom.add")),o.createElement(m.a,{className:"text-top little-spacer-left"})))}}n(743);var E=n(474);class S extends o.PureComponent{constructor(){super(...arguments),this.handleGraphChange=e=>{e.value!==this.props.graph&&this.props.updateGraph(e.value)}}render(){const{addCustomMetric:e,className:t,graph:n,metrics:r,metricsTypeFilter:l,removeCustomMetric:c,selectedMetrics:p=[]}=this.props,u=Object(E.e)(void 0===e||void 0===c).map(e=>({label:Object(s.k)("project_activity.graphs",e),value:e}));return o.createElement("div",{className:a()(t,"position-relative")},o.createElement(i.b,{className:"pull-left input-medium",clearable:!1,onChange:this.handleGraphChange,options:u,searchable:!1,value:n}),Object(E.j)(n)&&void 0!==e&&void 0!==c&&o.createElement(x,{addMetric:e,className:"pull-left spacer-left",metrics:r,metricsTypeFilter:l,removeMetric:c,selectedMetrics:p}))}}}}]);
//# sourceMappingURL=282.m.0db7573d.chunk.js.map