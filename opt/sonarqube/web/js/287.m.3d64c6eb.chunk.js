(window.webpackJsonp=window.webpackJsonp||[]).push([[287],{1620:function(e,t,n){var a=n(369),r=n(1621);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},c=(a(r,i),r.locals?r.locals:{});e.exports=c},1621:function(e,t,n){(t=n(370)(!1)).push([e.i,".project-baseline{padding:32px}.project-baseline-setting{display:flex;flex-direction:column;max-height:60vh;padding-top:2px}.project-baseline-selector .general-setting{margin-left:7px}.branch-baseline-selector>hr{margin:0 -32px 32px}.branch-baseline-setting-modal{min-height:450px;display:flex;flex-direction:column}.branch-analysis-list-wrapper{display:flex;flex-direction:column;overflow:hidden;position:relative;min-height:200px}.branch-analysis-list{overflow-y:auto;padding-left:12px;padding-right:15px;min-height:50px}.branch-analysis-list>ul{padding-top:18px}.branch-analysis-date{margin-bottom:16px;font-size:15px;font-weight:700}.branch-analysis-day{margin-top:8px;margin-bottom:24px}.branch-analysis{display:flex;justify-content:space-between;cursor:pointer;padding:8px;border-top:1px solid #e6e6e6;border-bottom:1px solid #e6e6e6}.branch-analysis+.branch-analysis{border-top:none}.branch-analysis:hover{background-color:#cae3f2}.branch-analysis>.project-activity-events{flex:1 0 50%}.branch-analysis-time{width:150px}.branch-analysis-version-badge{margin-left:-12px;padding-top:8px;padding-bottom:8px;background-color:#fff}.branch-analysis-version-badge.sticky+.branch-analysis-days-list{padding-top:36px}.branch-analysis-version-badge.first,.branch-analysis-version-badge.sticky{position:absolute;top:1px;left:13px;right:16px;padding-top:24px;z-index:1}.branch-analysis-version-badge .badge{max-width:385px;border-radius:0 2px 2px 0;font-weight:700;font-size:12px;letter-spacing:0;overflow:hidden;text-overflow:ellipsis}.branch-setting-warning{background-color:#fcf8e3!important}.project-activity-event-icon.VERSION{color:#4b9fd5}.project-activity-event-icon.QUALITY_GATE{color:#9139d4}.project-activity-event-icon.QUALITY_PROFILE{color:#ccc}.project-activity-event-icon.DEFINITION_CHANGE{color:#33a759}.project-activity-event-icon.OTHER{color:#442d1b}",""]),e.exports=t},1782:function(e,t,n){"use strict";n.r(t);var a=n(382),r=n(385),i=n(422),c=n.n(i),l=n(367),s=n(366),o=n(745),d=n(396),u=n(502),p=n(376),h=n(386),m=n(6),b=(n(1620),n(746)),g=n(371),f=n(373);function v(e){const{canAdmin:t}=e;return s.createElement("header",{className:"page-header"},s.createElement("h1",{className:"page-title"},Object(m.k)("project_baseline.page")),s.createElement("p",{className:"page-description"},s.createElement(g.FormattedMessage,{defaultMessage:Object(m.k)("project_baseline.page.description"),id:"project_baseline.page.description",values:{link:s.createElement(f.c,{to:"/documentation/project-administration/new-code-period/"},Object(m.k)("project_baseline.page.description.link"))}}),s.createElement("br",null),t&&s.createElement(g.FormattedMessage,{defaultMessage:Object(m.k)("project_baseline.page.description2"),id:"project_baseline.page.description2",values:{link:s.createElement(f.c,{to:"/admin/settings?category=new_code_period"},Object(m.k)("project_baseline.page.description2.link"))}})))}var y=n(368),S=n(389),E=n(21),O=n(661);function x({disabled:e,onSelect:t,selected:n}){return s.createElement(O.a,{disabled:e,onClick:()=>t("SPECIFIC_ANALYSIS"),selected:n,title:Object(m.k)("baseline.specific_analysis")},s.createElement("p",{className:"big-spacer-bottom"},Object(m.k)("baseline.specific_analysis.description")))}var j=n(793),C=n(794),k=n(655),N=n(374),_=n(526),w=n(397),P=n(399);function I(e){return e.isInvalid?s.createElement(N.a,{overlay:Object(m.l)("baseline.reference_branch.does_not_exist",e.value)},s.createElement("span",null,e.value," ",s.createElement(_.a,null))):s.createElement(s.Fragment,null,s.createElement("span",{title:e.disabled?Object(m.k)("baseline.reference_branch.cannot_be_itself"):void 0},e.value),e.isMain&&s.createElement("div",{className:"badge spacer-left"},Object(m.k)("branches.main_branch")))}function L(e){const{branchList:t,className:n,disabled:a,referenceBranch:r,selected:i,settingLevel:c}=e,l=t.find(e=>e.value===r)||{value:r,isMain:!1,isInvalid:!0};return s.createElement(O.a,{className:n,disabled:a,onClick:()=>e.onSelect("REFERENCE_BRANCH"),selected:i,title:Object(m.k)("baseline.reference_branch")},s.createElement(s.Fragment,null,s.createElement("p",null,Object(m.k)("baseline.reference_branch.description")),i&&s.createElement(s.Fragment,null,"project"===c&&s.createElement("p",{className:"spacer-top"},Object(m.k)("baseline.reference_branch.description2")),s.createElement("div",{className:"big-spacer-top display-flex-column"},s.createElement(P.a,{className:"spacer-bottom"}),s.createElement("label",{className:"text-middle",htmlFor:"reference_branch"},s.createElement("strong",null,Object(m.k)("baseline.reference_branch.choose")),s.createElement(w.a,null)),s.createElement(k.a,{autofocus:!1,className:"little-spacer-top spacer-bottom",defaultOptions:t,minimumQueryLength:1,onSearch:e=>Promise.resolve(t.filter(t=>t.value.includes(e))),onSelect:t=>e.onChangeReferenceBranch(t.value),renderOption:I,value:l})))))}var D=n(559),A=n.n(D),M=n(463),B=n(742),R=n(465),T=n(433),F=n(388),V=n(424),z=n(595),U=n(942),G=n(685);function H(e){const{analyses:t,loading:n,range:a,selectedAnalysisKey:r}=e,i=s.useMemo(()=>Object(G.f)(t,{category:""}),[t]),c=i.length>1||1===i.length&&Object.keys(i[0].byDay).length>0;return s.createElement(s.Fragment,null,s.createElement("div",{className:"spacer-bottom"},Object(m.k)("baseline.analysis_from"),s.createElement(F.b,{autoBlur:!0,className:"input-medium spacer-left",clearable:!1,onChange:e.handleRangeChange,options:[{label:Object(m.k)("baseline.branch_analyses.ranges.30days"),value:30},{label:Object(m.k)("baseline.branch_analyses.ranges.allTime"),value:0}],searchable:!1,value:a})),s.createElement("div",{className:"branch-analysis-list-wrapper"},s.createElement("div",{className:"bordered branch-analysis-list",onScroll:e.handleScroll,ref:e.registerScrollableNode},n&&s.createElement(p.a,{className:"big-spacer-top"}),n||c?s.createElement("ul",null,i.map((n,a)=>{const i=Object.keys(n.byDay);return i.length<=0?null:s.createElement("li",{key:n.key||"noversion"},n.version&&s.createElement("div",{className:l("branch-analysis-version-badge",{first:0===a,sticky:e.shouldStick(n.version)}),ref:e.registerBadgeNode(n.version)},s.createElement(N.a,{mouseEnterDelay:.5,overlay:"".concat(Object(m.k)("version")," ").concat(n.version)},s.createElement("span",{className:"badge"},n.version))),s.createElement("ul",{className:"branch-analysis-days-list"},i.map(a=>s.createElement("li",{className:"branch-analysis-day","data-day":Object(E.d)(Number(a)),key:a},s.createElement("div",{className:"branch-analysis-date"},s.createElement(V.a,{date:Number(a),long:!0})),s.createElement("ul",{className:"branch-analysis-analyses-list"},null!=n.byDay[a]&&n.byDay[a].map(n=>function(e){const{analysis:t,isFirst:n,onSelectAnalysis:a,selectedAnalysisKey:r}=e;return s.createElement("li",{className:l("branch-analysis",{selected:t.key===r}),"data-date":Object(E.b)(t.date).valueOf(),key:t.key,onClick:()=>a(t)},s.createElement("div",{className:"branch-analysis-time spacer-right"},s.createElement(z.a,{date:Object(E.b)(t.date),long:!1},e=>s.createElement("time",{className:"text-middle",dateTime:Object(E.b)(t.date).toISOString()},e))),t.events.length>0&&s.createElement(U.a,{analysisKey:t.key,events:t.events,isFirst:n}),s.createElement("div",{className:"analysis-selection-button"},s.createElement(T.a,{checked:t.key===r,onCheck:()=>{},value:""})))}({analysis:n,selectedAnalysisKey:r,isFirst:t[0].key===n.key,onSelectAnalysis:e.onSelectAnalysis})))))))})):s.createElement("div",{className:"big-spacer-top big-spacer-bottom strong"},Object(m.k)("baseline.no_analyses")))))}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Z extends s.PureComponent{constructor(e){super(e),this.mounted=!1,this.badges={},this.state={analyses:[],loading:!0,range:30,scroll:0},this.handleScroll=e=>{e.currentTarget&&this.updateScroll(e.currentTarget.scrollTop)},this.updateScroll=e=>{this.setState({scroll:e})},this.registerBadgeNode=e=>t=>{t&&(t.getAttribute("originOffsetTop")||t.setAttribute("originOffsetTop",String(t.offsetTop)),this.badges[e]=t)},this.shouldStick=e=>{const t=this.badges[e];return!!t&&Number(t.getAttribute("originOffsetTop"))<this.state.scroll+10},this.handleRangeChange=({value:e})=>{this.setState({range:e},()=>this.fetchAnalyses())},this.updateScroll=A()(this.updateScroll,20)}componentDidMount(){this.mounted=!0,this.fetchAnalyses(!0)}componentWillUnmount(){this.mounted=!1}scrollToSelected(){const e=document.querySelector(".branch-analysis.selected");this.scrollableNode&&e&&Object(R.b)(e,{parent:this.scrollableNode,bottomOffset:40})}fetchAnalyses(e=!1){const{analysis:t,branch:n,component:a}=this.props,{range:r}=this.state;return this.setState({loading:!0}),Object(B.e)({branch:n,project:a,from:r?Object(E.d)(Object(M.subDays)(new Date,r)):void 0}).then(n=>{e&&t&&!n.analyses.find(e=>e.key===t)?this.handleRangeChange({value:0}):this.setState({analyses:n.analyses.map(e=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{date:Object(E.b)(e.date)})),loading:!1},()=>{this.scrollToSelected()})})}render(){const{analysis:e,onSelectAnalysis:t}=this.props,{analyses:n,loading:a,range:r}=this.state;return s.createElement(H,{analyses:n,handleRangeChange:this.handleRangeChange,handleScroll:this.handleScroll,loading:a,onSelectAnalysis:t,range:r,registerBadgeNode:this.registerBadgeNode,registerScrollableNode:e=>{this.scrollableNode=e},selectedAnalysisKey:e,shouldStick:this.shouldStick})}}class q extends s.PureComponent{constructor(e){super(e),this.mounted=!1,this.branchToOption=e=>({value:e.name,isMain:e.isMain,disabled:e.name===this.props.branch.name}),this.handleSubmit=e=>{e.preventDefault();const{branch:t,component:n}=this.props,{analysis:a,analysisDate:r,days:i,referenceBranch:c,selected:l}=this.state,s=Object(b.a)({type:l,analysis:a,days:i,referenceBranch:c});l&&(this.setState({saving:!0}),Object(o.d)({project:n,type:l,value:s,branch:t.name}).then(()=>{this.setState({saving:!1}),this.props.onClose(t.name,{type:l,value:s,effectiveValue:r&&Object(E.c)(r)})},()=>{this.setState({saving:!1})}))},this.requestClose=()=>this.props.onClose(),this.handleSelectAnalysis=e=>this.setState({analysis:e.key,analysisDate:e.date}),this.handleSelectDays=e=>this.setState({days:e}),this.handleSelectReferenceBranch=e=>this.setState({referenceBranch:e}),this.handleSelectSetting=e=>this.setState({selected:e});const t=e.branchList.filter(t=>t.name!==e.branch.name),n=t.length>0?t[0].name:"";this.state={analysis:this.getValueFromProps("SPECIFIC_ANALYSIS")||"",days:this.getValueFromProps("NUMBER_OF_DAYS")||"30",referenceBranch:this.getValueFromProps("REFERENCE_BRANCH")||n,saving:!1,selected:this.props.branch.newCodePeriod&&this.props.branch.newCodePeriod.type}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}getValueFromProps(e){return this.props.branch.newCodePeriod&&this.props.branch.newCodePeriod.type===e?this.props.branch.newCodePeriod.value:null}render(){const{branch:e,branchList:t}=this.props,{analysis:n,days:a,referenceBranch:r,saving:i,selected:c}=this.state,l=Object(m.l)("baseline.new_code_period_for_branch_x",e.name),o=e.newCodePeriod&&e.newCodePeriod.type,d=e.newCodePeriod&&e.newCodePeriod.value,{isChanged:u,isValid:h}=Object(b.c)({analysis:n,currentSetting:o,currentSettingValue:d,days:a,referenceBranch:r,selected:c});return s.createElement(S.a,{contentLabel:l,onRequestClose:this.requestClose,size:"large"},s.createElement("header",{className:"modal-head"},s.createElement("h2",null,l)),s.createElement("form",{onSubmit:this.handleSubmit},s.createElement("div",{className:"modal-body modal-container branch-baseline-setting-modal"},s.createElement("div",{className:"display-flex-row huge-spacer-bottom",role:"radiogroup"},s.createElement(C.a,{isDefault:!1,onSelect:this.handleSelectSetting,selected:"PREVIOUS_VERSION"===c}),s.createElement(j.a,{days:a,isChanged:u,isValid:h,onChangeDays:this.handleSelectDays,onSelect:this.handleSelectSetting,selected:"NUMBER_OF_DAYS"===c}),s.createElement(x,{onSelect:this.handleSelectSetting,selected:"SPECIFIC_ANALYSIS"===c}),s.createElement(L,{branchList:t.map(this.branchToOption),onChangeReferenceBranch:this.handleSelectReferenceBranch,onSelect:this.handleSelectSetting,referenceBranch:r,selected:"REFERENCE_BRANCH"===c,settingLevel:"branch"})),"SPECIFIC_ANALYSIS"===c&&s.createElement(Z,{analysis:n,branch:e.name,component:this.props.component,onSelectAnalysis:this.handleSelectAnalysis})),s.createElement("footer",{className:"modal-foot"},s.createElement(p.a,{className:"spacer-right",loading:i}),s.createElement(y.h,{disabled:!u||i||!h},Object(m.k)("save")),s.createElement(y.g,{onClick:this.props.onClose},Object(m.k)("cancel")))))}}var W=n(437),K=n(612),J=n(926),X=n(398);function $(e){var t;const{branch:n,existingBranches:a,inheritedSetting:r}=e;let i;return!function(e,t){return!e.newCodePeriod&&"REFERENCE_BRANCH"===t.type&&e.name===t.value}(n,r)?function(e,t){return e.newCodePeriod&&e.newCodePeriod.value&&"REFERENCE_BRANCH"===e.newCodePeriod.type&&!t.includes(e.newCodePeriod.value)}(n,a)&&(i=Object(m.l)("baseline.reference_branch.does_not_exist",(null===(t=n.newCodePeriod)||void 0===t?void 0:t.value)||"")):i=Object(m.l)("baseline.reference_branch.invalid_branch_setting",n.name),s.createElement("tr",{className:i?"branch-setting-warning":""},s.createElement("td",{className:"nowrap"},s.createElement(K.a,{branchLike:n,className:"little-spacer-right"}),n.name,n.isMain&&s.createElement("div",{className:"badge spacer-left"},Object(m.k)("branches.main_branch"))),s.createElement("td",{className:"huge-spacer-right nowrap"},s.createElement(N.a,{overlay:i},s.createElement("span",null,i&&s.createElement(J.a,{className:"little-spacer-right"}),n.newCodePeriod?function(e){switch(e.type){case"SPECIFIC_ANALYSIS":return s.createElement(s.Fragment,null,"".concat(Object(m.k)("baseline.specific_analysis"),": "),e.effectiveValue?s.createElement(X.a,{date:e.effectiveValue}):"?");case"NUMBER_OF_DAYS":return"".concat(Object(m.k)("baseline.number_days"),": ").concat(e.value);case"PREVIOUS_VERSION":return Object(m.k)("baseline.previous_version");case"REFERENCE_BRANCH":return"".concat(Object(m.k)("baseline.reference_branch"),": ").concat(e.value);default:return e.type}}(n.newCodePeriod):Object(m.k)("branch_list.default_setting")))),s.createElement("td",{className:"text-right"},s.createElement(W.c,null,s.createElement(W.b,{onClick:()=>e.onOpenEditModal(n)},Object(m.k)("edit")),n.newCodePeriod&&s.createElement(W.b,{onClick:()=>e.onResetToDefault(n.name)},Object(m.k)("reset_to_default")))))}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ne extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={branches:[],loading:!0},this.updateBranchNewCodePeriod=(e,t)=>{const{branches:n}=this.state,a=n.find(t=>t.name===e);return a&&(a.newCodePeriod=t),n.slice(0)},this.openEditModal=e=>{this.setState({editedBranch:e})},this.closeEditModal=(e,t)=>{e?this.setState({branches:this.updateBranchNewCodePeriod(e,t),editedBranch:void 0}):this.setState({editedBranch:void 0})},this.resetToDefault=e=>Object(o.c)({project:this.props.component.key,branch:e}).then(()=>{this.setState({branches:this.updateBranchNewCodePeriod(e,void 0)})})}componentDidMount(){this.mounted=!0,this.fetchBranches()}componentWillUnmount(){this.mounted=!1}sortAndFilterBranches(e=[]){return Object(h.j)(e.filter(h.f))}fetchBranches(){const e=this.props.component.key;this.setState({loading:!0}),Object(o.b)({project:e}).then(e=>{const t=e.newCodePeriods?e.newCodePeriods.filter(e=>!e.inherited):[],n=this.props.branchList.map(e=>{const n=t.find(t=>t.branchKey===e.name);if(!n)return e;const{type:a="PREVIOUS_VERSION",value:r,effectiveValue:i}=n;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{newCodePeriod:{type:a,value:r,effectiveValue:i}})});this.setState({branches:n,loading:!1})},()=>{this.setState({loading:!1})})}render(){const{branchList:e,inheritedSetting:t}=this.props,{branches:n,editedBranch:a,loading:r}=this.state;return n.length<1?null:r?s.createElement(p.a,null):s.createElement(s.Fragment,null,s.createElement("table",{className:"data zebra"},s.createElement("thead",null,s.createElement("tr",null,s.createElement("th",null,Object(m.k)("branch_list.branch")),s.createElement("th",{className:"nowrap huge-spacer-right"},Object(m.k)("branch_list.current_setting")),s.createElement("th",{className:"thin nowrap"},Object(m.k)("branch_list.actions")))),s.createElement("tbody",null,n.map(n=>s.createElement($,{branch:n,existingBranches:e.map(e=>e.name),inheritedSetting:t,key:n.name,onOpenEditModal:this.openEditModal,onResetToDefault:this.resetToDefault})))),a&&s.createElement(q,{branch:a,branchList:e,component:this.props.component.key,onClose:this.closeEditModal}))}}var ae=n(379);function re(e){return{value:e.name,isMain:e.isMain}}function ie(e){const{analysis:t,branch:n,branchList:a,branchesEnabled:r,component:i,currentSetting:c,currentSettingValue:o,days:d,generalSetting:u,overrideGeneralSetting:h,referenceBranch:g,saving:f,selected:v}=e,{isChanged:S,isValid:E}=Object(b.c)({analysis:t,currentSetting:c,currentSettingValue:o,days:d,overrideGeneralSetting:h,referenceBranch:g,selected:v});return s.createElement("form",{className:"project-baseline-selector",onSubmit:e.onSubmit},s.createElement("div",{className:"big-spacer-top spacer-bottom",role:"radiogroup"},s.createElement(T.a,{checked:!h,className:"big-spacer-bottom",onCheck:()=>e.onToggleSpecificSetting(!1),value:"general"},Object(m.k)("project_baseline.general_setting")),s.createElement("div",{className:"big-spacer-left"},function(e){let t,n;return"NUMBER_OF_DAYS"===e.type?(t="".concat(Object(m.k)("baseline.number_days")," (").concat(Object(m.l)("duration.days",e.value||"?"),")"),n=Object(m.k)("baseline.number_days.description")):(t=Object(m.k)("baseline.previous_version"),n=Object(m.k)("baseline.previous_version.description")),s.createElement("div",{className:"general-setting"},s.createElement("strong",null,t),": ",n)}(u)),s.createElement(T.a,{checked:h,className:"huge-spacer-top",onCheck:()=>e.onToggleSpecificSetting(!0),value:"specific"},Object(m.k)("project_baseline.specific_setting"))),s.createElement("div",{className:"big-spacer-left big-spacer-right project-baseline-setting"},s.createElement("div",{className:"display-flex-row big-spacer-bottom",role:"radiogroup"},s.createElement(C.a,{disabled:!h,onSelect:e.onSelectSetting,selected:h&&"PREVIOUS_VERSION"===v}),s.createElement(j.a,{days:d,disabled:!h,isChanged:S,isValid:E,onChangeDays:e.onSelectDays,onSelect:e.onSelectSetting,selected:h&&"NUMBER_OF_DAYS"===v}),r?s.createElement(L,{branchList:a.map(re),disabled:!h,onChangeReferenceBranch:e.onSelectReferenceBranch,onSelect:e.onSelectSetting,referenceBranch:g||"",selected:h&&"REFERENCE_BRANCH"===v,settingLevel:"project"}):s.createElement(x,{disabled:!h,onSelect:e.onSelectSetting,selected:h&&"SPECIFIC_ANALYSIS"===v})),"SPECIFIC_ANALYSIS"===v&&s.createElement(Z,{analysis:t||"",branch:n.name,component:i,onSelectAnalysis:e.onSelectAnalysis})),s.createElement("div",{className:l("big-spacer-top",{invisible:!S})},s.createElement(ae.a,{variant:"info",className:"spacer-bottom"},Object(m.k)("baseline.next_analysis_notice")),s.createElement(p.a,{className:"spacer-right",loading:f}),s.createElement(y.h,{disabled:f||!E||!S},Object(m.k)("save")),s.createElement(y.g,{className:"spacer-left",onClick:e.onCancel},Object(m.k)("cancel"))))}const ce={type:"PREVIOUS_VERSION"};class le extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={branchList:[],days:"30",loading:!0,saving:!1},this.resetSuccess=c()(()=>this.setState({success:void 0}),3e3),this.resetSetting=()=>{this.setState({saving:!0}),Object(o.c)({project:this.props.component.key}).then(()=>{this.setState({saving:!1,currentSetting:void 0,selected:void 0,success:!0}),this.resetSuccess()},()=>{this.setState({saving:!1})})},this.handleSelectAnalysis=e=>this.setState({analysis:e.key}),this.handleSelectDays=e=>this.setState({days:e}),this.handleSelectReferenceBranch=e=>{this.setState({referenceBranch:e})},this.handleCancel=()=>this.setState(({generalSetting:e=ce,currentSetting:t,currentSettingValue:n})=>this.getUpdatedState({generalSetting:e,currentSetting:t,currentSettingValue:n})),this.handleSelectSetting=e=>this.setState({selected:e}),this.handleToggleSpecificSetting=e=>this.setState({overrideGeneralSetting:e}),this.handleSubmit=e=>{e.preventDefault();const{component:t}=this.props,{analysis:n,days:a,selected:r,referenceBranch:i,overrideGeneralSetting:c}=this.state;if(!c)return void this.resetSetting();const l=Object(b.a)({type:r,analysis:n,days:a,referenceBranch:i});r&&(this.setState({saving:!0}),Object(o.d)({project:t.key,type:r,value:l}).then(()=>{this.setState({saving:!1,currentSetting:r,currentSettingValue:l||void 0,success:!0}),this.resetSuccess()},()=>{this.setState({saving:!1})}))}}componentDidMount(){this.mounted=!0,this.fetchLeakPeriodSetting(),this.sortAndFilterBranches(this.props.branchLikes)}componentDidUpdate(e){e.branchLikes!==this.props.branchLikes&&this.sortAndFilterBranches(this.props.branchLikes)}componentWillUnmount(){this.mounted=!1}getUpdatedState(e){const{currentSetting:t,currentSettingValue:n,generalSetting:a}=e,{referenceBranch:r}=this.state,i="NUMBER_OF_DAYS"===a.type&&a.value||"30";return{loading:!1,currentSetting:t,currentSettingValue:n,generalSetting:a,selected:t||a.type,overrideGeneralSetting:Boolean(t),days:"NUMBER_OF_DAYS"===t&&n||i,analysis:"SPECIFIC_ANALYSIS"===t&&n||"",referenceBranch:"REFERENCE_BRANCH"===t&&n||r}}sortAndFilterBranches(e=[]){const t=Object(h.j)(e.filter(h.f));this.setState({branchList:t,referenceBranch:t[0].name})}fetchLeakPeriodSetting(){const{branchLike:e,branchesEnabled:t,component:n}=this.props;this.setState({loading:!0}),Promise.all([Object(o.a)(),Object(o.a)({branch:t?void 0:e.name,project:n.key})]).then(([e,t])=>{if(this.mounted){e.type||(e=ce);const n=t.value,a=t.inherited?void 0:t.type||"PREVIOUS_VERSION";this.setState(this.getUpdatedState({generalSetting:e,currentSetting:a,currentSettingValue:n}))}},()=>{this.setState({loading:!1})})}render(){const{branchesEnabled:e,canAdmin:t,component:n,branchLike:a}=this.props,{analysis:r,branchList:i,currentSetting:c,days:o,generalSetting:h,loading:b,currentSettingValue:g,overrideGeneralSetting:f,referenceBranch:y,saving:S,selected:E,success:O}=this.state;return s.createElement(s.Fragment,null,s.createElement(d.a,{suggestions:"project_baseline"}),s.createElement("div",{className:"page page-limited"},s.createElement(v,{canAdmin:!!t}),b?s.createElement(p.a,null):s.createElement("div",{className:"panel-white project-baseline"},e&&s.createElement("h2",null,Object(m.k)("project_baseline.default_setting")),h&&void 0!==f&&s.createElement(ie,{analysis:r,branch:a,branchList:i,branchesEnabled:e,component:n.key,currentSetting:c,currentSettingValue:g,days:o,generalSetting:h,onCancel:this.handleCancel,onSelectAnalysis:this.handleSelectAnalysis,onSelectDays:this.handleSelectDays,onSelectReferenceBranch:this.handleSelectReferenceBranch,onSelectSetting:this.handleSelectSetting,onSubmit:this.handleSubmit,onToggleSpecificSetting:this.handleToggleSpecificSetting,overrideGeneralSetting:f,referenceBranch:y,saving:S,selected:E}),s.createElement("div",{className:l("spacer-top",{invisible:S||!O})},s.createElement("span",{className:"text-success"},s.createElement(u.a,{className:"spacer-right"}),Object(m.k)("settings.state.saved"))),h&&e&&s.createElement("div",{className:"huge-spacer-top branch-baseline-selector"},s.createElement("hr",null),s.createElement("h2",null,Object(m.k)("project_baseline.configure_branches")),s.createElement(ne,{branchList:i,component:n,inheritedSetting:c?{type:c,value:g}:h})))))}}t.default=Object(a.b)(e=>({branchesEnabled:Object(r.getAppState)(e).branchesEnabled,canAdmin:Object(r.getAppState)(e).canAdmin}))(le)},384:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(367),r=n(366),i=n(375),c=n(438),l=(n(400),n(374));function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o(e){let{size:t=12}=e,n=s(e,["size"]);return r.createElement("div",{className:a("help-tooltip",n.className)},r.createElement(l.a,{mouseLeaveDelay:.25,onShow:n.onShow,overlay:n.overlay,placement:n.placement},r.createElement("span",{className:"display-inline-flex-center"},n.children||r.createElement(c.a,{fill:i.colors.gray71,size:t}))))}},388:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));var a=n(366),r=n(380),i=n(368);n(407);function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const l=n.e(354).then(n.bind(null,469)),s=Object(r.a)(()=>l),o=Object(r.a)(()=>l.then(e=>({default:e.Creatable})));Object(r.a)(()=>l.then(e=>({default:e.Async})));function d(){return a.createElement(i.d,{className:"button-tiny spacer-left text-middle",iconProps:{size:12}})}function u(e){let{innerRef:t}=e,n=c(e,["innerRef"]);const r=!!n.clearable&&Boolean(n.value);return a.createElement(s,Object.assign({},n,{clearable:r,clearRenderer:d,ref:t}))}function p(e){return a.createElement(o,Object.assign({},e,{clearRenderer:d}))}},391:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(366),r=n(389);function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}class c extends a.Component{constructor(){super(...arguments),this.mounted=!1,this.state={submitting:!1},this.stopSubmitting=()=>{this.mounted&&this.setState({submitting:!1})},this.handleCloseClick=e=>{e&&(e.preventDefault(),e.currentTarget.blur()),this.props.onClose()},this.handleFormSubmit=e=>{e.preventDefault(),this.submit()},this.handleSubmitClick=e=>{e&&(e.preventDefault(),e.currentTarget.blur()),this.submit()},this.submit=()=>{const e=this.props.onSubmit();e&&(this.setState({submitting:!0}),e.then(this.stopSubmitting,this.stopSubmitting))}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=this.props,{children:t,header:n,onClose:c,onSubmit:l}=e,s=i(e,["children","header","onClose","onSubmit"]);return a.createElement(r.a,Object.assign({contentLabel:n,onRequestClose:c},s),t({onCloseClick:this.handleCloseClick,onFormSubmit:this.handleFormSubmit,onSubmitClick:this.handleSubmitClick,submitting:this.state.submitting}))}}},392:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return m}));var a=n(367),r=n(421),i=n(366),c=n(6),l=n(372);function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o(e){let{fill:t="currentColor"}=e,n=s(e,["fill"]);return i.createElement(l.a,Object.assign({},n),i.createElement("g",{fill:t,fillRule:"nonzero"},i.createElement("path",{d:"M2.931 15.005V3H2v13h9v-.995z"}),i.createElement("path",{d:"M10 4.015h3V14H4V1h6v3.015zM9 8V6H8v2H6v1h2v2h1V9h2V8H9z"}),i.createElement("path",{d:"M11 1v2h2a2.151 2.151 0 0 0-2-2z"})))}var d=n(368),u=n(374);class p extends i.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={copySuccess:!1},this.setCopyButton=e=>{this.copyButton=e},this.handleSuccessCopy=()=>{this.mounted&&(this.setState({copySuccess:!0}),setTimeout(()=>{this.mounted&&this.setState({copySuccess:!1})},1e3))}}componentDidMount(){this.mounted=!0,this.copyButton&&(this.clipboard=new r(this.copyButton),this.clipboard.on("success",this.handleSuccessCopy))}componentDidUpdate(){this.clipboard&&this.clipboard.destroy(),this.copyButton&&(this.clipboard=new r(this.copyButton),this.clipboard.on("success",this.handleSuccessCopy))}componentWillUnmount(){this.mounted=!1,this.clipboard&&this.clipboard.destroy()}render(){return this.props.children({setCopyButton:this.setCopyButton,copySuccess:this.state.copySuccess})}}function h({className:e,children:t,copyValue:n}){return i.createElement(p,null,({setCopyButton:r,copySuccess:l})=>i.createElement(u.a,{overlay:Object(c.k)("copied_action"),visible:l},i.createElement(d.a,{className:a("no-select",e),"data-clipboard-text":n,innerRef:r},t||i.createElement(i.Fragment,null,i.createElement(o,{className:"little-spacer-right"}),Object(c.k)("copy")))))}function m(e){const{className:t,copyValue:n}=e;return i.createElement(p,null,({setCopyButton:r,copySuccess:l})=>{var s;return i.createElement(d.b,{"aria-label":null!==(s=e["aria-label"])&&void 0!==s?s:Object(c.k)("copy_to_clipboard"),className:a("no-select",t),"data-clipboard-text":n,innerRef:r,tooltip:Object(c.k)(l?"copied_action":"copy_to_clipboard"),tooltipProps:l?{visible:l}:void 0},i.createElement(o,null))})}},396:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(366),r=n(435);function i({suggestions:e}){return a.createElement(r.a.Consumer,null,({addSuggestions:t,removeSuggestions:n})=>a.createElement(c,{addSuggestions:t,removeSuggestions:n,suggestions:e}))}class c extends a.PureComponent{componentDidMount(){this.props.addSuggestions(this.props.suggestions)}componentDidUpdate(e){e.suggestions!==this.props.suggestions&&(this.props.removeSuggestions(this.props.suggestions),this.props.addSuggestions(e.suggestions))}componentWillUnmount(){this.props.removeSuggestions(this.props.suggestions)}render(){return null}}},397:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(367),r=n(366),i=n(6);function c({className:e}){return r.createElement("em",{"aria-label":Object(i.k)("field_required"),className:a("mandatory little-spacer-left",e)},"*")}},398:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var a=n(366),r=n(371),i=n(21);const c={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};function l({children:e,date:t}){return a.createElement(r.FormattedDate,Object.assign({value:Object(i.b)(t)},c),e)}},399:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(367),r=n(366),i=n(371),c=n(6);function l({className:e}){return r.createElement("div",{"aria-hidden":!0,className:a("text-muted",e)},r.createElement(i.FormattedMessage,{id:"fields_marked_with_x_required",defaultMessage:Object(c.k)("fields_marked_with_x_required"),values:{star:r.createElement("em",{className:"mandatory"},"*")}}))}},400:function(e,t,n){var a=n(369),r=n(401);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},c=(a(r,i),r.locals?r.locals:{});e.exports=c},401:function(e,t,n){(t=n(370)(!1)).push([e.i,".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}",""]),e.exports=t},407:function(e,t,n){var a=n(369),r=n(408);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},c=(a(r,i),r.locals?r.locals:{});e.exports=c},408:function(e,t,n){(t=n(370)(!1)).push([e.i,".Select{position:relative;display:inline-block;vertical-align:middle;font-size:12px;text-align:left}.Select,.Select div,.Select input,.Select span{box-sizing:border-box}.Select.is-disabled>.Select-control{background-color:#ebebeb!important;border-color:#ddd!important}.Select.is-disabled>.Select-control:hover{box-shadow:none!important}.Select.is-disabled .Select-arrow-zone{cursor:not-allowed!important;pointer-events:none!important}.Select.is-disabled .Select-placeholder,.Select.is-disabled .Select-value{color:#bbb!important}.Select-control{position:relative;display:table;width:100%;height:24px;line-height:22px;border:1px solid #cdcdcd;border-collapse:separate;border-radius:2px;background-color:#fff;color:#333;cursor:default;outline:none;overflow:hidden}.is-searchable.is-open>.Select-control{cursor:text}.is-open>.Select-control{border-bottom-right-radius:0;border-bottom-left-radius:0;background:#fff}.is-open>.Select-control>.Select-arrow{border-color:transparent transparent #999;border-width:0 5px 5px}.is-searchable.is-focused:not(.is-open)>.Select-control{cursor:text}.is-focused:not(.is-open)>.Select-control{border-color:#4b9fd5}.Select-placeholder{color:#666}.Select-placeholder,:not(.Select--multi)>.Select-control .Select-value{bottom:0;left:0;line-height:23px;padding-left:8px;padding-right:24px;position:absolute;right:0;top:0;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Select-value [class^=icon-]{padding-top:5px}.Select-value img,.Select-value svg{padding-top:3px}.Select-option [class^=icon-],.Select-option img,.Select-option svg{padding-top:2px}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value .Select-value-label,.has-value:not(.Select--multi)>.Select-control>.Select-value .Select-value-label{color:#333}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label{cursor:pointer;text-decoration:none}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:focus,.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:hover,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:focus,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:hover{color:#007eff;outline:none;text-decoration:underline}.Select-input{vertical-align:top;height:22px;padding-left:8px;padding-right:8px;outline:none}.Select-input>input{background:none transparent;border:0;cursor:default;display:inline-block;font-family:inherit;font-size:12px;height:22px;margin:0;outline:none;padding:0;box-shadow:none;-webkit-appearance:none}.is-focused .Select-input>input{cursor:text}.has-value.is-pseudo-focused .Select-input{opacity:0}.Select-control:not(.is-searchable)>.Select-input{outline:none}.Select-loading-zone{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:16px}.Select-loading{animation:Select-animation-spin .4s linear infinite;box-sizing:border-box;border-radius:50%;border:2px solid #ccc;border-right-color:#333;display:inline-block}.Select-clear-zone,.Select-loading{width:16px;height:16px;position:relative;vertical-align:middle}.Select-clear-zone{animation:Select-animation-fadeIn .2s;color:#999;cursor:pointer;display:table-cell;text-align:center;padding-right:4px}.Select-clear-zone:hover .Select-clear{background-image:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxLjQxNCI+PHBhdGggZD0iTTEzLjk2OSAxLjQwNkw4LjM5IDYuOTg0bDUuNTc4IDUuNTc5LTEuNDA2IDEuNDA2TDYuOTg0IDguMzlsLTUuNTc4IDUuNTc4TDAgMTIuNTYzbDUuNTc4LTUuNTc5TDAgMS40MDYgMS40MDYgMGw1LjU3OCA1LjU3OEwxMi41NjMgMGwxLjQwNiAxLjQwNnoiIGZpbGw9IiNlNzE0MzgiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==)}.Select-clear{display:block;width:9px;height:9px;background-image:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxLjQxNCI+PHBhdGggZD0iTTEzLjk2OSAxLjQwNkw4LjM5IDYuOTg0bDUuNTc4IDUuNTc5LTEuNDA2IDEuNDA2TDYuOTg0IDguMzlsLTUuNTc4IDUuNTc4TDAgMTIuNTYzbDUuNTc4LTUuNTc5TDAgMS40MDYgMS40MDYgMGw1LjU3OCA1LjU3OEwxMi41NjMgMGwxLjQwNiAxLjQwNnoiIGZpbGw9IiM5OTkiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==);background-size:9px 9px;text-indent:-9999px}.Select--multi .Select-clear-zone{width:17px}.Select-arrow-zone{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:20px;padding-right:5px}.Select-arrow{border-color:#999 transparent transparent;border-style:solid;border-width:4px 4px 2px;display:inline-block;height:0;width:0}.is-open .Select-arrow,.Select-arrow-zone:hover>.Select-arrow{border-top-color:#666}@keyframes Select-animation-fadeIn{0%{opacity:0}to{opacity:1}}.Select-menu-outer{border-bottom-right-radius:4px;border-bottom-left-radius:4px;background-color:#fff;border:1px solid #ccc;border-top-color:#e6e6e6;box-sizing:border-box;margin-top:-1px;max-height:200px;position:absolute;top:100%;width:100%;z-index:7500;-webkit-overflow-scrolling:touch;box-shadow:0 6px 12px rgba(0,0,0,.175)}.Select-menu{max-height:198px;padding:5px 0;overflow-y:auto}.Select-option{display:block;line-height:20px;padding:0 8px;box-sizing:border-box;color:#333;font-size:12px;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.Select-option:last-child{border-bottom-right-radius:2px;border-bottom-left-radius:2px}.Select-option.is-focused{background-color:#f3f3f3}.Select-option.is-disabled{cursor:default;opacity:.4;font-style:italic}.Select-noresults{box-sizing:border-box;color:#999;cursor:default;display:block;padding:8px 10px}.Select--multi .Select-value{background-color:rgba(0,126,255,.08);border-radius:2px;border:1px solid rgba(0,126,255,.24);color:#333;display:inline-block;font-size:12px;line-height:14px;margin:1px 4px 1px 1px;vertical-align:top}.Select-value-label{font-size:12px}.is-searchable.is-open .Select-value-label{opacity:.5}.Select-big .Select-control{padding-top:4px;padding-bottom:4px}.Select-big .Select-placeholder{margin-top:4px;margin-bottom:4px}.Select-big .Select-value-label{display:inline-block;margin-top:7px;line-height:16px}.Select-big .Select-option{padding:7px 8px;line-height:16px}.Select-big img,.Select-big svg{padding-top:0}.Select--multi .Select-value-icon,.Select--multi .Select-value-label{display:inline-block;vertical-align:middle}.Select--multi .Select-value-label{display:inline-block;max-width:200px;border-bottom-right-radius:2px;border-top-right-radius:2px;cursor:default;padding:2px 5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Select--multi a.Select-value-label{color:#007eff;cursor:pointer;text-decoration:none}.Select--multi a.Select-value-label:hover{text-decoration:underline}.Select--multi .Select-value-icon{cursor:pointer;border-bottom-left-radius:2px;border-top-left-radius:2px;border-right:1px solid rgba(0,126,255,.24);padding:1px 5px}.Select--multi .Select-value-icon:focus,.Select--multi .Select-value-icon:hover{background-color:rgba(0,113,230,.08);color:#0071e6}.Select--multi .Select-value-icon:active{background-color:rgba(0,126,255,.24)}.Select--multi.is-disabled .Select-value{background-color:#fcfcfc;border:1px solid #e3e3e3;color:#333}.Select--multi.is-disabled .Select-value-icon{cursor:not-allowed;border-right:1px solid #e3e3e3}.Select--multi.is-disabled .Select-value-icon:active,.Select--multi.is-disabled .Select-value-icon:focus,.Select--multi.is-disabled .Select-value-icon:hover{background-color:#fcfcfc}.Select-aria-only{display:none}@keyframes Select-animation-spin{to{transform:rotate(1turn)}}",""]),e.exports=t},410:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(366),r=n(6),i=n(376),c=n(368),l=n(482),s=n(391);class o extends a.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.handleSubmit=()=>{const e=this.props.onConfirm(this.props.confirmData);if(e)return e.then(this.props.onClose,()=>{});this.props.onClose()},this.renderModalContent=({onCloseClick:e,onFormSubmit:t,submitting:n})=>{const{children:s,confirmButtonText:o,confirmDisable:d,header:u,headerDescription:p,isDestructive:h,cancelButtonText:m=Object(r.k)("cancel")}=this.props;return a.createElement(l.a,null,a.createElement("form",{onSubmit:t},a.createElement("header",{className:"modal-head"},a.createElement("h2",null,u),p),a.createElement("div",{className:"modal-body"},s),a.createElement("footer",{className:"modal-foot"},a.createElement(i.a,{className:"spacer-right",loading:n}),a.createElement(c.h,{autoFocus:!0,className:h?"button-red":void 0,disabled:n||d},o),a.createElement(c.g,{disabled:n,onClick:e},m))))}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const{header:e,onClose:t,noBackdrop:n,size:r}=this.props,i={header:e,onClose:t,noBackdrop:n,size:r};return a.createElement(s.a,Object.assign({onSubmit:this.handleSubmit},i),this.renderModalContent)}}},424:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return s}));var a=n(366),r=n(371),i=n(21);const c={year:"numeric",month:"short",day:"2-digit"},l={year:"numeric",month:"long",day:"numeric"};function s({children:e,date:t,long:n}){return a.createElement(r.FormattedDate,Object.assign({value:Object(i.b)(t)},n?l:c),e)}},431:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(367),r=n(366),i=n(377);n(457);function c(e){const t=Object(i.formatMeasure)(e.level,"LEVEL"),n=a(e.className,"level","level-"+e.level,{"level-small":e.small,"level-muted":e.muted});return r.createElement("span",{"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],className:n},t)}},433:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(367),r=n(366);n(439);class i extends r.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.preventDefault(),this.props.disabled||this.props.onCheck(this.props.value)}}render(){const{className:e,checked:t,children:n,disabled:i}=this.props;return r.createElement("a",{"aria-checked":t,className:a("display-inline-flex-center link-radio",e,{disabled:i}),href:"#",onClick:this.handleClick,role:"radio"},r.createElement("i",{className:a("icon-radio","spacer-right",{"is-checked":t})}),n)}}},437:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return f}));var a=n(367),r=n(366),i=n(373),c=n(6),l=n(394),s=n(372);function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d(e){let{fill:t="currentColor",size:n=14}=e,a=o(e,["fill","size"]);return r.createElement(s.a,Object.assign({size:n,viewBox:"0 0 14 14"},a),r.createElement("g",{transform:"matrix(0.0364583,0,0,0.0364583,0,-1.16667)"},r.createElement("path",{d:"M256,224C256,206.333 249.75,191.25 237.25,178.75C224.75,166.25 209.667,160 192,160C174.333,160 159.25,166.25 146.75,178.75C134.25,191.25 128,206.333 128,224C128,241.667 134.25,256.75 146.75,269.25C159.25,281.75 174.333,288 192,288C209.667,288 224.75,281.75 237.25,269.25C249.75,256.75 256,241.667 256,224ZM384,196.75L384,252.25C384,254.25 383.333,256.167 382,258C380.667,259.833 379,260.917 377,261.25L330.75,268.25C327.583,277.25 324.333,284.833 321,291C326.833,299.333 335.75,310.833 347.75,325.5C349.417,327.5 350.25,329.583 350.25,331.75C350.25,333.917 349.5,335.833 348,337.5C343.5,343.667 335.25,352.667 323.25,364.5C311.25,376.333 303.417,382.25 299.75,382.25C297.75,382.25 295.583,381.5 293.25,380L258.75,353C251.417,356.833 243.833,360 236,362.5C233.333,385.167 230.917,400.667 228.75,409C227.583,413.667 224.583,416 219.75,416L164.25,416C161.917,416 159.875,415.292 158.125,413.875C156.375,412.458 155.417,410.667 155.25,408.5L148.25,362.5C140.083,359.833 132.583,356.75 125.75,353.25L90.5,380C88.833,381.5 86.75,382.25 84.25,382.25C81.917,382.25 79.833,381.333 78,379.5C57,360.5 43.25,346.5 36.75,337.5C35.583,335.833 35,333.917 35,331.75C35,329.75 35.667,327.833 37,326C39.5,322.5 43.75,316.958 49.75,309.375C55.75,301.792 60.25,295.917 63.25,291.75C58.75,283.417 55.333,275.167 53,267L7.25,260.25C5.083,259.917 3.333,258.875 2,257.125C0.667,255.375 0,253.417 0,251.25L0,195.75C0,193.75 0.667,191.833 2,190C3.333,188.167 4.917,187.083 6.75,186.75L53.25,179.75C55.583,172.083 58.833,164.417 63,156.75C56.333,147.25 47.417,135.75 36.25,122.25C34.583,120.25 33.75,118.25 33.75,116.25C33.75,114.583 34.5,112.667 36,110.5C40.333,104.5 48.542,95.542 60.625,83.625C72.708,71.708 80.583,65.75 84.25,65.75C86.417,65.75 88.583,66.583 90.75,68.25L125.25,95C132.583,91.167 140.167,88 148,85.5C150.667,62.833 153.083,47.333 155.25,39C156.417,34.333 159.417,32 164.25,32L219.75,32C222.083,32 224.125,32.708 225.875,34.125C227.625,35.542 228.583,37.333 228.75,39.5L235.75,85.5C243.917,88.167 251.417,91.25 258.25,94.75L293.75,68C295.25,66.5 297.25,65.75 299.75,65.75C301.917,65.75 304,66.583 306,68.25C327.5,88.083 341.25,102.25 347.25,110.75C348.417,112.083 349,113.917 349,116.25C349,118.25 348.333,120.167 347,122C344.5,125.5 340.25,131.042 334.25,138.625C328.25,146.208 323.75,152.083 320.75,156.25C325.083,164.583 328.5,172.75 331,180.75L376.75,187.75C378.917,188.083 380.667,189.125 382,190.875C383.333,192.625 384,194.583 384,196.75Z",style:{fill:t}})))}var u=n(368),p=n(392),h=n(383),m=n(374);function b(e){const{children:t,className:n,overlayPlacement:i,small:c,toggleClassName:s}=e;return r.createElement(h.b,{className:n,onOpen:e.onOpen,overlay:r.createElement("ul",{className:"menu"},t),overlayPlacement:i},r.createElement(u.a,{className:a("dropdown-toggle",s,{"button-small":c})},r.createElement(d,{size:c?12:14}),r.createElement(l.a,{className:"little-spacer-left"})))}class g extends r.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.onClick&&this.props.onClick()}}render(){const e=a(this.props.className,{"text-danger":this.props.destructive});return this.props.download&&"string"==typeof this.props.to?r.createElement("li",null,r.createElement("a",{className:e,download:this.props.download,href:this.props.to,id:this.props.id},this.props.children)):this.props.to?r.createElement("li",null,r.createElement(i.c,{className:e,id:this.props.id,to:this.props.to},this.props.children)):this.props.copyValue?r.createElement(p.a,null,({setCopyButton:t,copySuccess:n})=>r.createElement(m.a,{overlay:Object(c.k)("copied_action"),visible:n},r.createElement("li",{"data-clipboard-text":this.props.copyValue,ref:t},r.createElement("a",{className:e,href:"#",id:this.props.id,onClick:this.handleClick},this.props.children)))):r.createElement("li",null,r.createElement("a",{className:e,href:"#",id:this.props.id,onClick:this.handleClick},this.props.children))}}function f(){return r.createElement("li",{className:"divider"})}},439:function(e,t,n){var a=n(369),r=n(446);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},c=(a(r,i),r.locals?r.locals:{});e.exports=c},446:function(e,t,n){(t=n(370)(!1)).push([e.i,'.icon-radio{position:relative;display:inline-block;vertical-align:top;width:14px;height:14px;margin:1px;border:1px solid #cdcdcd;border-radius:12px;box-sizing:border-box;transition:border-color .3s ease;flex-shrink:0}.icon-radio:after{position:absolute;top:2px;left:2px;display:block;width:8px;height:8px;border-radius:8px;background-color:#236a97;content:"";opacity:0;transition:opacity .3s ease}.link-radio .icon-radio.is-checked:after{opacity:1}.link-radio{border-bottom:none}.link-radio,.link-radio:not(.disabled):active,.link-radio:not(.disabled):focus,.link-radio:not(.disabled):hover{color:inherit}.link-radio:not(.disabled):hover>.icon-radio{border-color:#4b9fd5}.link-radio.disabled,.link-radio.disabled:hover,.link-radio.disabled label{color:#bbb;cursor:not-allowed}.link-radio.disabled .icon-radio:after{background-color:#ebebeb}',""]),e.exports=t},456:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(366),r=n(375),i=n(372);function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e){let{fill:t}=e,n=c(e,["fill"]);return a.createElement(i.a,Object.assign({},n),a.createElement("path",{d:"M12.5 6.5c0-1.1-.9-2-2-2s-2 .9-2 2c0 .8.5 1.5 1.2 1.8-.3.6-.7 1.1-1.2 1.4-.9.5-1.9.5-2.5.4V4c.9-.2 1.5-1 1.5-1.9 0-1.1-.9-2-2-2s-2 .9-2 2C3.5 3 4.1 3.8 5 4v8c-.9.2-1.5 1-1.5 1.9 0 1.1.9 2 2 2s2-.9 2-2c0-.9-.6-1.7-1.5-1.9v-1c.2 0 .5.1.7.1.7 0 1.5-.1 2.2-.6.8-.5 1.4-1.2 1.7-2.1 1.1 0 1.9-.9 1.9-1.9zm-8-4.4c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.5-1-1zm2 11.9c0 .6-.4 1-1 1s-1-.4-1-1 .4-1 1-1 1 .4 1 1zm4-6.5c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z",style:{fill:t||r.colors.blue}}))}},457:function(e,t,n){var a=n(369),r=n(458);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},c=(a(r,i),r.locals?r.locals:{});e.exports=c},458:function(e,t,n){(t=n(370)(!1)).push([e.i,".level{display:inline-block;min-width:80px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;letter-spacing:.02em;font-size:13px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.level,.level-small{width:auto;padding-left:9px;padding-right:9px}.level-small{min-width:64px;margin-top:-1px;margin-bottom:-1px;height:20px;line-height:20px;font-size:12px}.level-muted{background-color:#bdbdbd!important}a>.level{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.level:hover{opacity:.8}.level-OK{background-color:#0a0}.level-WARN{background-color:#ed7d20}.level-ERROR{background-color:#d4333f}.level-NONE{background-color:#b4b4b4}.level-NOT_COMPUTED{background-color:#404040}",""]),e.exports=t},474:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"j",(function(){return y})),n.d(t,"e",(function(){return S})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return O})),n.d(t,"g",(function(){return x})),n.d(t,"d",(function(){return j})),n.d(t,"f",(function(){return C})),n.d(t,"l",(function(){return k})),n.d(t,"b",(function(){return N})),n.d(t,"k",(function(){return _})),n.d(t,"c",(function(){return w}));var a=n(387),r=n.n(a),i=n(445),c=n.n(i),l=n(564),s=n.n(l),o=n(680),d=n.n(o),u=n(6),p=n(377),h=n(12),m=n(430),b=n(523);const g=b.a.issues,f={[b.a.issues]:[m.a.bugs,m.a.code_smells,m.a.vulnerabilities],[b.a.coverage]:[m.a.lines_to_cover,m.a.uncovered_lines],[b.a.duplications]:[m.a.ncloc,m.a.duplicated_lines]},v={[b.a.issues]:f[b.a.issues].concat([m.a.reliability_rating,m.a.security_rating,m.a.sqale_rating]),[b.a.coverage]:[...f[b.a.coverage],m.a.coverage],[b.a.duplications]:[...f[b.a.duplications],m.a.duplicated_lines_density]};function y(e){return e===b.a.custom}function S(e=!1){const t=[b.a.issues,b.a.coverage,b.a.duplications];return e?t:[...t,b.a.custom]}function E(e){return e.data.some(e=>Boolean(e.y||0===e.y))}function O(e){return e.some(e=>e.data&&e.data.length>1)}function x(e){return e.length>0?e[0].type:"INT"}function j(e,t){return y(e)?t:f[e]}function C(e,t){return y(e)?t:v[e]}function k(e,t,n){return s()(c()(e,e=>e.type),e=>d()(e,n)).slice(0,t)}function N(e,t,n,a){return a.length<=0||void 0===e?[]:r()(e.filter(e=>a.indexOf(e.metric)>=0).map(a=>{if(a.metric===m.a.uncovered_lines&&!y(t))return function(e,t){const n=t.find(e=>e.metric===m.a.lines_to_cover);return{data:n?e.history.map((e,t)=>({x:e.date,y:Number(n.history[t].value)-Number(e.value)})):[],name:"covered_lines",translatedName:Object(u.k)("project_activity.custom_metric.covered_lines"),type:"INT"}}(a,e);const r=function(e,t){if(Array.isArray(t))return t.find(t=>t.key===e);return t[e]}(a.metric,n);return{data:a.history.map(e=>({x:e.date,y:r&&"LEVEL"===r.type?e.value:Number(e.value)})),name:a.metric,translatedName:r?Object(u.e)(r):Object(p.localizeMetric)(a.metric),type:r?r.type:"INT"}}),e=>a.indexOf("covered_lines"===e.name?"uncovered_lines":e.name))}function _(e,t,n,a=[]){Object(h.c)(e,n,t),y(n)&&Object(h.c)("".concat(e,".custom"),a.join(","),t)}function w(e,t){const n=Object(h.a)("".concat(e,".custom"),t);return{graph:Object(h.a)(e,t)||g,customGraphs:n?n.split(","):[]}}},523:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.issues="issues",e.coverage="coverage",e.duplications="duplications",e.custom="custom"}(a||(a={}))},543:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(366),r=n(375),i=n(372);function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e){let{fill:t}=e,n=c(e,["fill"]);return a.createElement(i.a,Object.assign({},n),a.createElement("path",{d:"M13,11.9L13,5.5C13,5.4 13.232,1.996 7.9,2L9.1,0.8L8.5,0.1L5.9,2.6L8.5,5.1L9.2,4.4L7.905,3.008C12.256,2.99 12,5.4 12,5.5L12,11.9C11.1,12.1 10.5,12.9 10.5,13.8C10.5,14.9 11.4,15.8 12.5,15.8C13.6,15.8 14.5,14.9 14.5,13.8C14.5,12.9 13.9,12.2 13,11.9ZM4,11.9C4.9,12.2 5.5,12.9 5.5,13.8C5.5,14.9 4.6,15.8 3.5,15.8C2.4,15.8 1.5,14.9 1.5,13.8C1.5,12.9 2.1,12.1 3,11.9L3,4.1C2.1,3.9 1.5,3.1 1.5,2.2C1.5,1.1 2.4,0.2 3.5,0.2C4.6,0.2 5.5,1.1 5.5,2.2C5.5,3.1 4.9,3.9 4,4.1L4,11.9ZM12.5,14.9C11.9,14.9 11.5,14.5 11.5,13.9C11.5,13.3 11.9,12.9 12.5,12.9C13.1,12.9 13.5,13.3 13.5,13.9C13.5,14.5 13.1,14.9 12.5,14.9ZM3.5,14.9C2.9,14.9 2.5,14.5 2.5,13.9C2.5,13.3 2.9,12.9 3.5,12.9C4.1,12.9 4.5,13.3 4.5,13.9C4.5,14.5 4.1,14.9 3.5,14.9ZM2.5,2.2C2.5,1.6 2.9,1.2 3.5,1.2C4.1,1.2 4.5,1.6 4.5,2.2C4.5,2.8 4.1,3.2 3.5,3.2C2.9,3.2 2.5,2.8 2.5,2.2Z",style:{fill:t||r.colors.blue}}))}},587:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(366),r=n(526),i=n(502),c=n(397),l=n(384);function s(e){const t=e.isInvalid&&void 0!==e.error;return a.createElement("div",{className:e.className},a.createElement("label",{htmlFor:e.id},a.createElement("span",{className:"text-middle"},a.createElement("strong",null,e.label),e.required&&a.createElement(c.a,null)),e.help&&a.createElement(l.a,{className:"spacer-left",overlay:e.help})),a.createElement("div",{className:"little-spacer-top spacer-bottom"},e.children,e.isInvalid&&a.createElement(r.a,{className:"spacer-left text-middle"}),t&&a.createElement("span",{className:"little-spacer-left text-danger text-middle"},e.error),e.isValid&&a.createElement(i.a,{className:"spacer-left text-middle"})),e.description&&a.createElement("div",{className:"note abs-width-400"},e.description))}},595:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(366),r=n(371),i=n(21);const c={hour:"numeric",minute:"numeric"},l={hour:"numeric",minute:"numeric",second:"numeric"};function s({children:e,date:t,long:n}){return a.createElement(r.FormattedTime,Object.assign({value:Object(i.b)(t)},n?l:c),e)}},612:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(366),r=n(456),i=n(543),c=n(386);function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s(e){let{branchLike:t}=e,n=l(e,["branchLike"]);return Object(c.h)(t)?a.createElement(i.a,Object.assign({},n)):a.createElement(r.a,Object.assign({},n))}},637:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(366);const r=a.createContext({branchLike:void 0,component:void 0})},655:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(422),r=n.n(a),i=n(366),c=n(6),l=n(388);class s extends i.PureComponent{constructor(e){super(e),this.mounted=!1,this.handleSearch=e=>{const t=e;this.props.onSearch(t).then(e=>{this.mounted&&this.setState(n=>({loading:!1,options:n.query===t?e:n.options}))},()=>{this.mounted&&this.setState({loading:!1})})},this.handleChange=e=>{Array.isArray(e)?this.props.onMultiSelect&&this.props.onMultiSelect(e):this.props.onSelect&&this.props.onSelect(e)},this.handleInputChange=e=>{if(e.length>=this.minimumQueryLength)this.setState({loading:!0,query:e}),this.handleSearch(e);else{const t=0===e.length&&this.props.defaultOptions||[];this.setState({options:t,query:e})}},this.handleFilterOption=()=>!0,this.state={loading:!1,options:e.defaultOptions||[],query:""},this.handleSearch=r()(this.handleSearch,250)}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}get autofocus(){return void 0===this.props.autofocus||this.props.autofocus}get minimumQueryLength(){return void 0!==this.props.minimumQueryLength?this.props.minimumQueryLength:2}get resetOnBlur(){return void 0===this.props.resetOnBlur||this.props.resetOnBlur}render(){const e=this.props.canCreate?l.a:l.b;return i.createElement(e,{autoFocus:this.autofocus,className:this.props.className,clearable:this.props.clearable,escapeClearsValue:!1,filterOption:this.handleFilterOption,isLoading:this.state.loading,multi:this.props.multi,noResultsText:this.state.query.length<this.minimumQueryLength?Object(c.l)("select2.tooShort",this.minimumQueryLength):Object(c.k)("select2.noMatches"),onBlurResetsInput:this.resetOnBlur,onChange:this.handleChange,onInputChange:this.handleInputChange,optionRenderer:this.props.renderOption,options:this.state.options,placeholder:Object(c.k)("search_verb"),promptTextCreator:this.props.promptTextCreator,searchable:!0,value:this.props.value,valueRenderer:this.props.renderOption})}}},661:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(367),r=n(366),i=n(371),c=n(6),l=n(372);function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o(e){let{fill:t="currentColor"}=e,n=s(e,["fill"]);return r.createElement(l.a,Object.assign({},n),r.createElement("path",{d:"M15.089 13.199l-1.742-3.736c-0.962 1.401-2.464 2.398-4.203 2.701l1.459 3.128c0.186 0.4 0.764 0.373 0.914-0.040l0.748-2.054 0.154-0.072 2.054 0.748c0.412 0.151 0.804-0.276 0.618-0.675zM8.040 0.384c-3.003 0-5.446 2.443-5.446 5.446s2.443 5.446 5.446 5.446c3.003 0 5.446-2.443 5.446-5.446s-2.443-5.446-5.446-5.446zM10.689 5.429l-0.966 0.941 0.228 1.33c0.070 0.406-0.358 0.711-0.718 0.522l-1.194-0.628-1.194 0.628c-0.363 0.19-0.788-0.118-0.718-0.522l0.228-1.33-0.966-0.941c-0.293-0.286-0.131-0.786 0.274-0.844l1.335-0.194 0.597-1.209c0.181-0.367 0.707-0.368 0.888 0l0.597 1.209 1.335 0.194c0.405 0.059 0.568 0.558 0.274 0.844zM2.732 9.463l-1.742 3.736c-0.187 0.4 0.208 0.825 0.618 0.674l2.054-0.748 0.154 0.072 0.748 2.054c0.15 0.412 0.727 0.441 0.914 0.040l1.459-3.128c-1.739-0.302-3.241-1.3-4.203-2.701z",style:{fill:t}}))}n(439),n(924);function d(e){const{className:t,disabled:n,onClick:l,recommended:s,selected:d,titleInfo:u,vertical:p=!1}=e,h=Boolean(l);return r.createElement("div",{"aria-checked":d,className:a("radio-card",{"radio-card-actionable":h,"radio-card-vertical":p,disabled:n,selected:d},t),onClick:h&&!n?l:void 0,role:"radio",tabIndex:0},r.createElement("h2",{className:"radio-card-header big-spacer-bottom"},r.createElement("span",{className:"display-flex-center link-radio"},h&&r.createElement("i",{className:a("icon-radio","spacer-right",{"is-checked":d})}),e.title),u),r.createElement("div",{className:"radio-card-body"},e.children),s&&r.createElement("div",{className:"radio-card-recommended"},r.createElement(o,{className:"spacer-right"}),r.createElement(i.FormattedMessage,{defaultMessage:s,id:s,values:{recommended:r.createElement("strong",null,Object(c.k)("recommended"))}})))}},681:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(366),r=n(637),i=n(374),c=n(6),l=n(682),s=n(683);function o({event:e,readonly:t}){return Object(s.b)(e)?a.createElement(s.a,{event:e,readonly:t}):Object(l.b)(e)?a.createElement(r.a.Consumer,null,({branchLike:n})=>a.createElement(l.a,{branchLike:n,event:e,readonly:t})):a.createElement(i.a,{overlay:e.description||null},a.createElement("span",{className:"text-middle"},a.createElement("span",{className:"note little-spacer-right"},Object(c.k)("event.category",e.category),":"),a.createElement("strong",{className:"spacer-right"},e.name)))}},682:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m}));var a=n(366),r=n(371),i=n(373),c=n(368),l=n(456),s=n(394),o=n(386),d=n(6),u=n(453),p=n(378);function h(e){return"DEFINITION_CHANGE"===e.category&&void 0!==e.definitionChange}class m extends a.PureComponent{constructor(){super(...arguments),this.state={expanded:!1},this.stopPropagation=e=>{e.stopPropagation()},this.toggleProjectsList=()=>{this.setState(e=>({expanded:!e.expanded}))},this.renderProjectLink=(e,t)=>a.createElement(i.c,{onClick:this.stopPropagation,title:e.name,to:Object(p.A)(e.key,t)},Object(u.e)(e.name,28)),this.renderBranch=(e=Object(d.k)("branches.main_branch"))=>a.createElement("span",{className:"nowrap",title:e},a.createElement(l.a,{className:"little-spacer-left text-text-top"}),e)}renderProjectChange(e){const t=!this.props.branchLike||Object(o.g)(this.props.branchLike);if("ADDED"===e.changeType){const n=t?"event.definition_change.added":"event.definition_change.branch_added";return a.createElement("div",{className:"text-ellipsis"},a.createElement(r.FormattedMessage,{defaultMessage:Object(d.k)(n),id:n,values:{project:this.renderProjectLink(e,e.branch),branch:this.renderBranch(e.branch)}}))}if("REMOVED"===e.changeType){const n=t?"event.definition_change.removed":"event.definition_change.branch_removed";return a.createElement("div",{className:"text-ellipsis"},a.createElement(r.FormattedMessage,{defaultMessage:Object(d.k)(n),id:n,values:{project:this.renderProjectLink(e,e.branch),branch:this.renderBranch(e.branch)}}))}return"BRANCH_CHANGED"===e.changeType?a.createElement(r.FormattedMessage,{defaultMessage:Object(d.k)("event.definition_change.branch_replaced"),id:"event.definition_change.branch_replaced",values:{project:this.renderProjectLink(e,e.newBranch),oldBranch:this.renderBranch(e.oldBranch),newBranch:this.renderBranch(e.newBranch)}}):null}render(){const{event:e,readonly:t}=this.props,{expanded:n}=this.state;return a.createElement(a.Fragment,null,a.createElement("span",{className:"note"},Object(d.k)("event.category",e.category),!t&&":"),!t&&a.createElement("div",null,a.createElement(c.c,{className:"project-activity-event-inner-more-link",onClick:this.toggleProjectsList,stopPropagation:!0},n?Object(d.k)("hide"):Object(d.k)("more"),a.createElement(s.a,{className:"little-spacer-left",turned:n}))),n&&a.createElement("ul",{className:"spacer-left spacer-top"},e.definitionChange.projects.map(e=>a.createElement("li",{className:"display-flex-center spacer-top",key:e.key},this.renderProjectChange(e)))))}}},683:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));var a=n(366),r=n(371),i=n(373),c=n(368),l=n(394),s=n(431),o=n(6),d=n(378);function u(e){return"QUALITY_GATE"===e.category&&void 0!==e.qualityGate}class p extends a.PureComponent{constructor(){super(...arguments),this.state={expanded:!1},this.stopPropagation=e=>{e.stopPropagation()},this.toggleProjectsList=()=>{this.setState(e=>({expanded:!e.expanded}))}}render(){const{event:e,readonly:t}=this.props,{expanded:n}=this.state;return a.createElement(a.Fragment,null,a.createElement("span",{className:"note spacer-right"},Object(o.k)("event.category",e.category),":"),e.qualityGate.stillFailing?a.createElement(r.FormattedMessage,{defaultMessage:Object(o.k)("event.quality_gate.still_x"),id:"event.quality_gate.still_x",values:{status:a.createElement(s.a,{level:e.qualityGate.status,small:!0})}}):a.createElement(s.a,{level:e.qualityGate.status,small:!0}),a.createElement("div",null,!t&&e.qualityGate.failing.length>0&&a.createElement(c.g,{className:"project-activity-event-inner-more-link",onClick:this.toggleProjectsList,stopPropagation:!0},n?Object(o.k)("hide"):Object(o.k)("more"),a.createElement(l.a,{className:"little-spacer-left",turned:n}))),n&&a.createElement("ul",{className:"spacer-left spacer-top"},e.qualityGate.failing.map(t=>a.createElement("li",{className:"display-flex-center spacer-top",key:t.key},a.createElement(s.a,{"aria-label":Object(o.k)("quality_gates.status"),className:"spacer-right",level:e.qualityGate.status,small:!0}),a.createElement("div",{className:"flex-1 text-ellipsis"},a.createElement(i.c,{onClick:this.stopPropagation,title:t.name,to:Object(d.A)(t.key,t.branch)},a.createElement("span",{"aria-label":Object(o.l)("project_x",t.name)},t.name)))))))}}},685:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return g})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return y}));var a=n(607),r=n.n(a),i=n(580),c=n(474),l=n(21),s=n(507),o=n(523);const d=["VERSION","QUALITY_GATE","QUALITY_PROFILE","OTHER"],u=["QUALITY_GATE","DEFINITION_CHANGE","OTHER"];function p(e,t){return e.category!==t.category||m(e,t)}function h(e,t){return!r()(e.customMetrics,t.customMetrics)}function m(e,t){return!r()(e.from,t.from)||!r()(e.to,t.to)}function b(e,t){return e.graph!==t.graph}function g(e,t){return e.reduce((e,n)=>{let a=e[e.length-1];const r=n.events.find(e=>"VERSION"===e.category);if(r){const t={version:r.name,key:r.key,byDay:{}};!a||Object.keys(a.byDay).length>0?e.push(t):e[e.length-1]=t,a=t}else a||(a={version:null,key:null,byDay:{}},e.push(a));const c=i(Object(l.b)(n.date)).getTime().toString();let s=!0;if(t.category||t.from||t.to){const e=!t.from||n.date>=t.from,a=!t.to||n.date<=t.to,r=!t.category||null!=n.events.find(e=>e.category===t.category);s=e&&a&&r}return s&&(a.byDay[c]||(a.byDay[c]=[]),a.byDay[c].push(n)),e},[])}function f(e){return{category:Object(s.g)(e.category),customMetrics:Object(s.b)(e.custom_metrics,s.g),from:Object(s.d)(e.from),graph:S(e.graph),project:Object(s.g)(e.id),to:Object(s.d)(e.to),selectedDate:Object(s.d)(e.selected_date)}}function v(e){return Object(s.a)({category:Object(s.l)(e.category),from:Object(s.i)(e.from),project:Object(s.l)(e.project),to:Object(s.i)(e.to)})}function y(e){return Object(s.a)({category:Object(s.l)(e.category),custom_metrics:Object(s.m)(e.customMetrics),from:Object(s.i)(e.from),graph:(t=e.graph,t===c.a?void 0:t),id:Object(s.l)(e.project),to:Object(s.i)(e.to),selected_date:Object(s.i)(e.selectedDate)});var t}function S(e){const t=Object(s.g)(e);return Object.keys(o.a).includes(t)?t:c.a}},742:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o}));var a=n(381),r=n(4);function i(e){return Object(r.d)("/api/project_analyses/search",e).catch(a.a)}function c(e,t,n,i){const c={analysis:e,name:t};return n&&(c.category=n),i&&(c.description=i),Object(r.j)("/api/project_analyses/create_event",c).then(e=>e.event,a.a)}function l(e){return Object(r.i)("/api/project_analyses/delete_event",{event:e}).catch(a.a)}function s(e,t,n){const i={event:e};return t&&(i.name=t),n&&(i.description=n),Object(r.j)("/api/project_analyses/update_event",i).then(e=>e.event,a.a)}function o(e){return Object(r.i)("/api/project_analyses/delete",{analysis:e}).catch(a.a)}},745:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s}));var a=n(381),r=n(4);function i(e){return Object(r.d)("/api/new_code_periods/show",e).catch(a.a)}function c(e){return Object(r.i)("/api/new_code_periods/set",e).catch(a.a)}function l(e){return Object(r.i)("/api/new_code_periods/unset",e).catch(a.a)}function s(e){return Object(r.d)("/api/new_code_periods/list",e).catch(a.a)}},746:function(e,t,n){"use strict";function a(e){const t=parseInt(e,10);return!(e.length<1||isNaN(t)||t<1||String(t)!==e)}function r({analysis:e,days:t,referenceBranch:n,type:a}){switch(a){case"NUMBER_OF_DAYS":return t;case"REFERENCE_BRANCH":return n;case"SPECIFIC_ANALYSIS":return e;default:return}}function i(e){const{analysis:t="",currentSetting:n,currentSettingValue:r,days:i,overrideGeneralSetting:c,referenceBranch:l="",selected:s}=e;let o;return o=n||void 0===c?!1===c||s!==n||"NUMBER_OF_DAYS"===s&&i!==r||"SPECIFIC_ANALYSIS"===s&&t!==r||"REFERENCE_BRANCH"===s&&l!==r:c,{isChanged:o,isValid:!1===c||"PREVIOUS_VERSION"===s||"SPECIFIC_ANALYSIS"===s&&t.length>0||"NUMBER_OF_DAYS"===s&&a(i)||"REFERENCE_BRANCH"===s&&l.length>0}}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i}))},793:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(366),r=n(661),i=n(587),c=n(399),l=n(6);function s(e){const{className:t,days:n,disabled:s,isChanged:o,isValid:d,onChangeDays:u,onSelect:p,selected:h}=e;return a.createElement(r.a,{className:t,disabled:s,onClick:()=>p("NUMBER_OF_DAYS"),selected:h,title:Object(l.k)("baseline.number_days")},a.createElement(a.Fragment,null,a.createElement("p",{className:"big-spacer-bottom"},Object(l.k)("baseline.number_days.description")),h&&a.createElement(a.Fragment,null,a.createElement(c.a,null),a.createElement(i.a,{error:void 0,id:"baseline_number_of_days",isInvalid:o&&!d,isValid:o&&d,label:Object(l.k)("baseline.specify_days"),required:!0},a.createElement("input",{onChange:e=>u(e.currentTarget.value),type:"text",value:n})))))}},794:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(366),r=n(661),i=n(6);function c(e){const{disabled:t,isDefault:n,onSelect:c,selected:l}=e;return a.createElement(r.a,{disabled:t,onClick:()=>c("PREVIOUS_VERSION"),selected:l,title:Object(i.k)("baseline.previous_version")+(n?" (".concat(Object(i.k)("default"),")"):"")},a.createElement("p",null,Object(i.k)("baseline.previous_version.description")))}},924:function(e,t,n){var a=n(369),r=n(925);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},c=(a(r,i),r.locals?r.locals:{});e.exports=c},925:function(e,t,n){(t=n(370)(!1)).push([e.i,".radio-card{display:flex;flex-direction:column;width:450px;min-height:210px;background-color:#fff;border:1px solid #e6e6e6;border-radius:3px;box-sizing:border-box;margin-right:16px;transition:all .2s ease}.radio-card.animated{height:0;border-width:0;overflow:hidden}.radio-card.animated.open{height:210px;border-width:1px}.radio-card.highlight{box-shadow:0 6px 12px rgba(0,0,0,.175)}.radio-card:last-child{margin-right:0}.radio-card:focus{outline:none}.radio-card-vertical{width:100%;min-height:auto}.radio-card-actionable{cursor:pointer}.radio-card-actionable:not(.disabled):hover{box-shadow:0 6px 12px rgba(0,0,0,.175);transform:translateY(-2px)}.radio-card-actionable.selected{border-color:#236a97}.radio-card-actionable.radio-card-vertical:not(.disabled):hover{box-shadow:none;transform:none}.radio-card-actionable.radio-card-vertical:not(.selected):not(.disabled):hover{border-color:#cae3f2}.radio-card-actionable.selected .radio-card-recommended{border:1px solid #236a97;border-top:none}.radio-card-actionable.disabled{cursor:not-allowed;background-color:#ebebeb;border-color:#ddd}.radio-card-actionable.disabled h2,.radio-card-actionable.disabled ul{color:#bbb}.radio-card-header{align-items:center;padding:16px 16px 0}.radio-card-body,.radio-card-header{display:flex;justify-content:space-between}.radio-card-body{flex-grow:1;flex-direction:column;padding:0 16px 16px}.radio-card-body .alert{margin-bottom:0}.radio-card-recommended{position:relative;padding:6px 16px;left:-1px;bottom:-1px;width:450px;color:#fff;background-color:#4b9fd5;border-radius:0 0 3px 3px;box-sizing:border-box;font-size:12px}",""]),e.exports=t},926:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(366),r=n(375),i=n(372);function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e){let{fill:t}=e,n=c(e,["fill"]);return a.createElement(i.a,Object.assign({},n),a.createElement("path",{d:"M9 12.242v-1.484c0-.14-.11-.258-.25-.258h-1.5c-.14 0-.25.117-.25.258v1.484c0 .14.11.258.25.258h1.5c.14 0 .25-.117.25-.258zM8.984 9.32l.141-3.586a.189.189 0 0 0-.078-.148C9 5.546 8.93 5.5 8.859 5.5H7.141c-.07 0-.141.047-.188.086-.055.039-.078.117-.078.164l.133 3.57c0 .102.117.18.265.18H8.72c.14 0 .258-.078.265-.18zm-.109-7.297l6 11A1 1 0 0 1 14 14.5H2a1 1 0 0 1-.875-1.477l6-11a.994.994 0 0 1 1.75 0z",style:{fill:t||r.colors.warningIconColor}}))}},942:function(e,t,n){"use strict";var a=n(387),r=n.n(a),i=n(366),c=n(368),l=n(6),s=n(681),o=n(410);class d extends i.PureComponent{constructor(e){super(e),this.changeInput=e=>{this.setState({name:e.target.value})},this.handleSubmit=()=>this.props.changeEvent(this.props.event.key,this.state.name),this.state={name:e.event.name}}render(){const{name:e}=this.state;return i.createElement(o.a,{confirmButtonText:Object(l.k)("change_verb"),confirmDisable:!e||e===this.props.event.name,header:this.props.header,onClose:this.props.onClose,onConfirm:this.handleSubmit,size:"small"},i.createElement("div",{className:"modal-field"},i.createElement("label",null,Object(l.k)("name")),i.createElement("input",{autoFocus:!0,onChange:this.changeInput,type:"text",value:e})))}}function u(e){const{analysisKey:t,event:n,header:a,removeEventQuestion:r}=e;return i.createElement(o.a,{confirmButtonText:Object(l.k)("delete"),header:a,isDestructive:!0,onClose:e.onClose,onConfirm:()=>e.onConfirm(t,n.key)},r)}var p=i.memo((function(e){const{analysisKey:t,event:n,canAdmin:a,isFirst:r}=e,[o,p]=i.useState(!1),[h,m]=i.useState(!1),b="OTHER"===n.category,g="VERSION"===n.category,f=(b||g)&&e.onChange,v=(b||g&&!r)&&e.onDelete,y=a&&(f||v);return i.createElement("div",{className:"project-activity-event"},i.createElement(s.a,{event:n}),y&&i.createElement("span",{className:"nowrap"},f&&i.createElement(c.f,{"aria-label":Object(l.k)("project_activity.events.tooltip.edit"),className:"button-small","data-test":"project-activity__edit-event",onClick:()=>p(!0),stopPropagation:!0}),v&&i.createElement(c.e,{"aria-label":Object(l.k)("project_activity.events.tooltip.delete"),className:"button-small","data-test":"project-activity__delete-event",onClick:()=>m(!0),stopPropagation:!0})),o&&e.onChange&&i.createElement(d,{changeEvent:e.onChange,event:n,header:g?Object(l.k)("project_activity.change_version"):Object(l.k)("project_activity.change_custom_event"),onClose:()=>p(!1)}),h&&e.onDelete&&i.createElement(u,{analysisKey:t,event:n,header:g?Object(l.k)("project_activity.remove_version"):Object(l.k)("project_activity.remove_custom_event"),onClose:()=>m(!1),onConfirm:e.onDelete,removeEventQuestion:Object(l.k)("project_activity.".concat(g?"remove_version":"remove_custom_event",".question"))}))}));t.a=i.memo((function(e){const{analysisKey:t,canAdmin:n,events:a,isFirst:c}=e,l=r()(a,e=>"VERSION"===e.category?1:0,"category");return i.createElement("div",{className:"big-spacer-top"},l.map(a=>i.createElement(p,{analysisKey:t,canAdmin:n,event:a,isFirst:c,key:a.key,onChange:e.onChange,onDelete:e.onDelete})))}))}}]);
//# sourceMappingURL=287.m.3d64c6eb.chunk.js.map