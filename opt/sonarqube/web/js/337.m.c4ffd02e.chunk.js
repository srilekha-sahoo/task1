(window.webpackJsonp=window.webpackJsonp||[]).push([[337],{1738:function(e,t,s){"use strict";s.r(t),s.d(t,"ResetPassword",(function(){return l}));var a=s(366),r=s(856),n=s(648),o=s(6),i=s(0),c=s(689);function l({currentUser:e}){return a.createElement("div",{className:"page-wrapper-simple"},a.createElement("div",{className:"page-simple"},a.createElement(c.a,null),a.createElement("h1",{className:"text-center huge"},Object(o.k)("my_account.reset_password")),a.createElement("p",{className:"text-center huge-spacer-top huge-spacer-bottom"},Object(o.k)("my_account.reset_password.explain")),a.createElement("div",{className:"text-center"},a.createElement("h2",{className:"big-spacer-bottom big"},Object(o.k)("my_profile.password.title")),a.createElement(r.a,{user:e,onPasswordChange:()=>{window.location.href=Object(i.getBaseUrl)()+"/"}}))))}t.default=Object(n.a)(l)},361:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return r}));var a=s(496);function r(){const e=Object(a.a)(),t=window.location.pathname+window.location.search+window.location.hash;e.replace({pathname:"/sessions/new",query:{return_to:t}})}},397:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var a=s(367),r=s(366),n=s(6);function o({className:e}){return r.createElement("em",{"aria-label":Object(n.k)("field_required"),className:a("mandatory little-spacer-left",e)},"*")}},399:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var a=s(367),r=s(366),n=s(371),o=s(6);function i({className:e}){return r.createElement("div",{"aria-hidden":!0,className:a("text-muted",e)},r.createElement(n.FormattedMessage,{id:"fields_marked_with_x_required",defaultMessage:Object(o.k)("fields_marked_with_x_required"),values:{star:r.createElement("em",{className:"mandatory"},"*")}}))}},648:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var a=s(366),r=s(361),n=s(402),o=s(527),i=s(441);function c(e){class t extends a.Component{componentDidMount(){Object(n.b)(this.props.currentUser)||Object(r.default)()}render(){return Object(n.b)(this.props.currentUser)?a.createElement(e,Object.assign({},this.props)):null}}return t.displayName=Object(o.a)(e,"whenLoggedIn"),Object(i.a)(t)}},856:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var a=s(366),r=s(495),n=s(368),o=s(379),i=s(397),c=s(399),l=s(6);class d extends a.Component{constructor(){super(...arguments),this.oldPassword=null,this.password=null,this.passwordConfirmation=null,this.state={success:!1},this.handleSuccessfulChange=()=>{this.oldPassword&&this.password&&this.passwordConfirmation&&(this.oldPassword.value="",this.password.value="",this.passwordConfirmation.value="",this.setState({success:!0,errors:void 0}),this.props.onPasswordChange&&this.props.onPasswordChange())},this.setErrors=e=>{this.setState({success:!1,errors:e})},this.handleChangePassword=e=>{if(e.preventDefault(),!this.oldPassword||!this.password||!this.passwordConfirmation)return;const{user:t}=this.props,s=this.oldPassword.value,a=this.password.value;a!==this.passwordConfirmation.value?(this.password.focus(),this.setErrors([Object(l.k)("user.password_doesnt_match_confirmation")])):Object(r.a)({login:t.login,password:a,previousPassword:s}).then(this.handleSuccessfulChange,()=>{})}}render(){const{className:e}=this.props,{success:t,errors:s}=this.state;return a.createElement("form",{className:e,onSubmit:this.handleChangePassword},t&&a.createElement(o.a,{variant:"success"},Object(l.k)("my_profile.password.changed")),s&&s.map((e,t)=>a.createElement(o.a,{key:t,variant:"error"},e)),a.createElement(c.a,{className:"form-field"}),a.createElement("div",{className:"form-field"},a.createElement("label",{htmlFor:"old_password"},Object(l.k)("my_profile.password.old"),a.createElement(i.a,null)),a.createElement("input",{autoComplete:"off",id:"old_password",name:"old_password",ref:e=>this.oldPassword=e,required:!0,type:"password"})),a.createElement("div",{className:"form-field"},a.createElement("label",{htmlFor:"password"},Object(l.k)("my_profile.password.new"),a.createElement(i.a,null)),a.createElement("input",{autoComplete:"off",id:"password",name:"password",ref:e=>this.password=e,required:!0,type:"password"})),a.createElement("div",{className:"form-field"},a.createElement("label",{htmlFor:"password_confirmation"},Object(l.k)("my_profile.password.confirm"),a.createElement(i.a,null)),a.createElement("input",{autoComplete:"off",id:"password_confirmation",name:"password_confirmation",ref:e=>this.passwordConfirmation=e,required:!0,type:"password"})),a.createElement("div",{className:"form-field"},a.createElement(n.h,{id:"change-password"},Object(l.k)("update_verb"))))}}}}]);
//# sourceMappingURL=337.m.c4ffd02e.chunk.js.map