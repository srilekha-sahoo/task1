{"version":3,"sources":["webpack:///./node_modules/d3-array/src/range.js","webpack:///./node_modules/d3-scale/src/band.js","webpack:///./src/main/js/apps/issues/styles.css?d1f0","webpack:///./src/main/js/apps/issues/styles.css","webpack:///./src/main/js/apps/issues/actions.ts","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationBadge.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocations.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigatorLocation.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/CrossFileLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueBox.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueComponent.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssue.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesList.tsx","webpack:///./src/main/js/components/controls/BackButton.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesListHeader.tsx","webpack:///./src/main/js/apps/issues/sidebar/AssigneeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/AuthorFacet.tsx","webpack:///./src/main/js/components/charts/BarChart.tsx","webpack:///./src/main/js/apps/issues/sidebar/CreationDateFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/DirectoryFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/FileFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/LanguageFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ProjectFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ResolutionFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/RuleFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ScopeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/SeverityFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/StatusFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TagFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TypeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/Sidebar.tsx","webpack:///./src/main/js/apps/issues/components/BulkChangeModal.tsx","webpack:///./src/main/js/apps/issues/components/ComponentBreadcrumbs.tsx","webpack:///./src/main/js/apps/issues/components/ListItem.tsx","webpack:///./src/main/js/apps/issues/components/IssuesList.tsx","webpack:///./src/main/js/apps/issues/crossComponentSourceViewer/CrossComponentSourceViewer.tsx","webpack:///./src/main/js/apps/issues/components/IssuesSourceViewer.tsx","webpack:///./src/main/js/apps/issues/components/MyIssuesFilter.tsx","webpack:///./src/main/js/apps/issues/components/NoIssues.tsx","webpack:///./src/main/js/apps/issues/components/NoMyIssues.tsx","webpack:///./src/main/js/apps/issues/components/IssuesCounter.tsx","webpack:///./src/main/js/apps/issues/components/TotalEffort.tsx","webpack:///./src/main/js/apps/issues/components/PageActions.tsx","webpack:///./src/main/js/apps/issues/components/App.tsx","webpack:///./src/main/js/helpers/handleRequiredAuthentication.ts","webpack:///./src/main/js/components/controls/Select.tsx","webpack:///./src/main/js/components/icons/QualifierIcon.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/components/intl/DateTimeFormatter.tsx","webpack:///./src/main/js/components/controls/ListFooter.tsx","webpack:///./src/main/js/components/controls/Select.css?5002","webpack:///./src/main/js/components/controls/Select.css","webpack:///./node_modules/lodash/toFinite.js","webpack:///./src/main/js/components/intl/DateFromNow.tsx","webpack:///./node_modules/lodash/map.js","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./src/main/js/components/icons/DetachIcon.tsx","webpack:///./src/main/js/components/controls/Radio.tsx","webpack:///./src/main/js/components/controls/Radio.css?16b3","webpack:///./src/main/js/components/controls/Radio.css","webpack:///./src/main/js/components/icons/ChevronDownIcon.tsx","webpack:///./src/main/js/helpers/pages.ts","webpack:///./node_modules/valid-url/index.js","webpack:///./src/main/js/components/icons/OpenCloseIcon.tsx","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./src/main/js/components/facet/ListStyleFacetFooter.tsx","webpack:///./src/main/js/components/facet/ListStyleFacet.tsx","webpack:///./src/main/js/components/common/DocumentationTooltip.tsx","webpack:///./src/main/js/helpers/search.tsx","webpack:///./node_modules/lodash/range.js","webpack:///./node_modules/lodash/_createRange.js","webpack:///./node_modules/lodash/_baseRange.js","webpack:///./src/main/js/components/icons/ChevronLeftIcon.tsx","webpack:///./src/main/js/components/common/LocationIndex.tsx","webpack:///./src/main/js/components/facet/MultipleSelectionHint.tsx","webpack:///./src/main/js/components/controls/DayPicker.css?d7e1","webpack:///./src/main/js/components/controls/DayPicker.css","webpack:///./src/main/js/components/controls/styles.css?5633","webpack:///./src/main/js/components/controls/styles.css","webpack:///./src/main/js/components/search-navigator.css?9a2e","webpack:///./src/main/js/components/search-navigator.css","webpack:///./src/main/js/components/icons/CalendarIcon.tsx","webpack:///./src/main/js/components/controls/DateInput.tsx","webpack:///./src/main/js/components/icons/StatusIcon.tsx","webpack:///./src/main/js/components/shared/StatusHelper.tsx","webpack:///./src/main/js/helpers/security-standard.ts","webpack:///./src/main/js/components/SourceViewer/SourceViewer.tsx","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./src/main/js/components/controls/DateRangeInput.tsx","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./src/main/js/components/controls/SearchSelect.tsx","webpack:///./src/main/js/components/issue/actions.ts","webpack:///./src/main/js/components/common/SelectListItem.tsx","webpack:///./src/main/js/components/common/SelectList.tsx","webpack:///./src/main/js/components/issue/popups/SetAssigneePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueAssign.tsx","webpack:///./src/main/js/components/issue/popups/CommentPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentAction.tsx","webpack:///./src/main/js/components/issue/popups/SetSeverityPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueSeverity.tsx","webpack:///./src/main/js/components/issue/popups/SetIssueTagsPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTags.tsx","webpack:///./src/main/js/components/issue/popups/SetTransitionPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTransition.tsx","webpack:///./src/main/js/components/issue/popups/SetTypePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueType.tsx","webpack:///./src/main/js/components/issue/components/IssueActionsBar.tsx","webpack:///./src/main/js/components/issue/popups/CommentDeletePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentLine.tsx","webpack:///./src/main/js/types/rules.ts","webpack:///./src/main/js/components/issue/popups/ChangelogPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueChangelog.tsx","webpack:///./src/main/js/components/issue/components/IssueMessage.tsx","webpack:///./src/main/js/components/issue/popups/SimilarIssuesPopup.tsx","webpack:///./src/main/js/components/issue/components/SimilarIssuesFilter.tsx","webpack:///./src/main/js/components/issue/components/IssueTitleBar.tsx","webpack:///./src/main/js/components/issue/IssueView.tsx","webpack:///./src/main/js/components/issue/Issue.tsx","webpack:///./src/main/js/components/issue/components/IssueChangelogDiff.tsx","webpack:///./src/main/js/components/common/LocationMessage.tsx","webpack:///./src/main/js/components/common/EmptySearch.css?d1ee","webpack:///./src/main/js/components/icons/HomeIcon.tsx","webpack:///./src/main/js/components/controls/HomePageSelect.tsx","webpack:///./src/main/js/components/common/LocationIndex.css?e012","webpack:///./src/main/js/components/common/LocationIndex.css","webpack:///./src/main/js/components/common/LocationMessage.css?8760","webpack:///./src/main/js/components/common/LocationMessage.css","webpack:///./src/main/js/components/issue/Issue.css?a142","webpack:///./src/main/js/components/issue/Issue.css","webpack:///./node_modules/d3-scale/src/ordinal.js","webpack:///./src/main/js/components/ui/PageShortcutsTooltip.tsx","webpack:///./src/main/js/components/common/FiltersHeader.tsx","webpack:///./src/main/js/apps/issues/sidebar/StandardFacet.tsx","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css?3321","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css","webpack:///./src/main/js/components/common/PageCounter.tsx","webpack:///./src/main/js/components/shared/TypeHelper.tsx","webpack:///./src/main/js/components/charts/BarChart.css?a0b9","webpack:///./src/main/js/components/charts/BarChart.css","webpack:///./src/main/js/components/common/EmptySearch.tsx","webpack:///./src/main/js/components/common/EmptySearch.css","webpack:///./node_modules/lodash/max.js"],"names":["start","stop","step","n","arguments","length","i","Math","max","ceil","range","Array","band","bandwidth","scale","ordinal","unknown","undefined","domain","ordinalRange","r0","r1","round","paddingInner","paddingOuter","align","rescale","reverse","floor","values","map","_","rangeRound","padding","min","copy","init","apply","pointish","point","api","content","__esModule","default","module","options","exported","locals","exports","___CSS_LOADER_API_IMPORT___","push","enableLocationsNavigator","state","openIssue","selectedLocationIndex","secondaryLocations","flows","locationsNavigator","selectedFlowIndex","disableLocationsNavigator","selectNextLocation","index","lastLocationIdx","selectPreviousLocation","selectNextFlow","selectPreviousFlow","ConciseIssueLocationBadge","props","Tooltip","mouseEnterDelay","overlay","count","LocationIndex","onClick","selected","collapsed","handleExpandClick","this","setState","className","issue","badges","key","forEach","flow","onFlowSelect","slice","LIMIT","renderExpandButton","handleClick","event","preventDefault","node","scroll","prevProps","message","ref","href","LocationMessage","handleMoreLocationsClick","currentTarget","blur","groupByFile","locations","groups","currentComponent","currentComponentName","currentLocations","currentFirstLocationIndex","location","component","componentName","firstLocationIndex","renderLocation","onLocationSelect","renderGroup","group","groupIndex","onlyFirst","onlyLast","lastLocationIndex","msg","nextProps","nextLocations","firstGroup","lastGroup","every","locationComponents","handleScroll","rootElement","messageElement","window","innerHeight","clickAttributesMain","role","tabIndex","clickAttributesTitle","TypeHelper","type","ConciseIssueComponent","path","title","previousIssue","displayComponent","componentLongName","onSelect","element","bottomOffset","scrollableElement","document","querySelector","topOffset","parent","issues","onIssueSelect","disabled","renderIcon","height","viewBox","width","d","fill","disableGrayText","secondFontColor","tooltip","ConciseIssuesListHeader","displayBackButton","loading","onBackClick","PageShortcutsTooltip","leftLabel","upAndDownLabel","metaModifierLabel","handleSearch","query","page","handleItemClick","itemValue","multiple","assignees","onChange","assigned","newValue","includes","handleClear","getAssigneeName","assignee","user","referencedUsers","name","login","loadSearchResultCount","getSortedItems","stats","Object","keys","renderFacetItem","userName","Avatar","hash","avatar","size","renderSearchResult","result","displayName","ListStyleFacet","facetHeader","fetching","getFacetItemText","getSearchResultKey","getSearchResultText","onClear","onItemClick","onSearch","onToggle","open","property","searchPlaceholder","identity","author","_page","project","qualifier","ps","q","then","authors","maxResults","results","term","onBarClick","renderXTicks","xScale","yScale","data","xTicks","ticks","tick","x","y","text","dy","style","cursor","renderXValues","xValues","value","renderBars","bars","maxY","rect","barsWidth","availableWidth","availableHeight","innerPadding","relativeInnerPadding","transform","hasValue","createdAfter","createdAt","createdBefore","createdInLast","sinceLeakPeriod","handleHeaderClick","resetTo","changes","handleBarClick","handlePeriodChange","from","to","handlePeriodClick","period","handleLeakPeriodClick","createdAfterIncludesTime","formatDate","intl","periods","startDate","endDate","setDate","getDate","tooltipEndDate","Date","maxValue","DateRangeInput","FacetItem","active","DateTimeFormatter","date","DateFromNow","renderBarChart","renderPeriodSelectors","renderPredefinedPeriods","FacetBox","FacetHeader","getValues","renderInner","defaultProps","directory","branchLike","componentKey","p","components","paging","filter","dir","directories","renderDirectory","QualifierIcon","minSearchLength","file","files","renderFile","head","tail","getLanguageName","language","referencedLanguages","getAllPossibleOptions","toLowerCase","pageIndex","pageSize","total","Promise","resolve","installedLanguages","languages","Portfolio","SubPortfolio","Application","qualifiers","Project","refKey","getProjectName","referencedComponents","projects","projectKey","RESOLUTIONS","resolutions","resolved","renderItem","resolution","isFacetItemActive","stat","getStat","halfWidth","getFacetItemName","FacetItemsList","MultipleSelectionHint","f","join","s","include_external","response","rules","rule","getRuleName","ruleKey","referencedRules","formatRuleName","langName","ScopeFacet","scopes","scope","SEVERITIES","severities","severity","SeverityHelper","STATUSES","statuses","status","StatusHelper","tags","getTagName","tag","renderTag","TagsIcon","gray60","types","IssueTypeIcon","t","facets","loadingFacets","openFacets","hasFileOrDirectory","commonProps","onFilterChange","onFacetToggle","Directory","displayProjectsFacet","displayAuthorFacet","StandardFacet","cwe","cweOpen","cweStats","fetchingCwe","fetchingOwaspTop10","owaspTop10","fetchingSansTop25","sansTop25","fetchingSonarSourceSecurity","sonarsourceSecurity","standards","owaspTop10Open","owaspTop10Stats","sansTop25Open","sansTop25Stats","sonarsourceSecurityOpen","sonarsourceSecurityStats","referencedComponentsByKey","renderComponentFacets","myIssues","disableDeveloperAggregatedInfo","toString","AssigneeSelect","SearchSelect","TagSelect","super","mounted","loadIssues","fetchIssues","additionalFields","getDefaultAssignee","currentUser","label","handleAssigneeSearch","r","userInfo","handleAssigneeSelect","handleTagsSearch","handleTagsSelect","field","handleFieldCheck","checked","handleRadioTransitionChange","transition","handleCommentChange","comment","handleSelectFieldChange","handleSubmit","add_tags","addTags","assign","do_transition","remove_tags","removeTags","sendNotifications","notifications","set_severity","set_type","issueKeys","submitting","onDone","error","throwGlobalError","canSubmit","Boolean","renderLoading","onClose","renderAffected","affected","renderField","input","id","htmlFor","renderAssigneeOption","option","renderAssigneeField","hasAction","clearable","defaultOptions","renderOption","resetOnBlur","renderTypeField","optionRenderer","Select","searchable","valueRenderer","renderSeverityField","renderTagOption","renderTagsField","allowCreate","initialTags","canCreate","minimumQueryLength","multi","onMultiSelect","promptTextCreator","promptCreateTag","renderTransitionsField","transitions","getAvailableTransitions","Radio","onCheck","renderCommentField","HelpTooltip","rows","FormattingTips","renderNotificationsField","Checkbox","right","renderForm","limitReached","onSubmit","Alert","variant","defaultMessage","all","Modal","contentLabel","onRequestClose","action","actions","ComponentBreadcrumbs","displayProject","displaySubProject","selectedLocation","projectName","componentQualifier","subProject","subProjectName","handleFilter","issuesReset","startsWith","substr","componentUuid","Issue","onFilter","onPopupToggle","openPopup","prerender","setTimeout","selectedIssue","onIssueChange","onIssueCheck","onIssueClick","lazyLoadComponent","scrollToIssue","smooth","offset","handleLoaded","shouldScrollBackToIssue","loc","highlightedLocationMessage","startLines","l","textRange","startLine","onLoaded","aroundLine","endLine","allMessagesEmpty","highlightedLocations","SourceViewer","displayAllIssues","displayIssueLocationsCount","displayIssueLocationsLink","displayLocationMarkers","slimHeader","onMyIssuesChange","NoIssues","NoMyIssues","IssuesCounter","PageCounter","current","TotalEffort","effort","0","PageActions","canSetHome","effortTotal","selectedIndex","leftAndRightLabel","HomePageSelect","currentPage","DEFAULT_QUERY","handleKeyDown","keyCode","altKey","handleKeyUp","getOpenIssue","find","selectNextIssue","getSelectedIndex","selectPreviousIssue","issueKey","pathname","scrollToSelectedIssue","router","replace","closeIssue","openSelectedIssue","additional","requestFacets","facet","parameters","componentKeys","sort","asc","fetchIssuesPage","fetchIssuesUntil","done","recursiveFetch","prevIssues","pageIssues","other","fetchMoreIssues","reject","checkAll","loadingMore","fetchIssuesForComponent","_component","_from","isSameComponent","lastIssue","nextIssues","fetchFacet","referencedComponentsById","users","isFiltered","serialized","getCheckedIssues","getButtonLabel","handleFilterChange","handleMyIssuesChange","closeFacet","handleFacetToggle","willOpenProperty","newState","handleReset","handlePopupToggle","popupName","samePopup","handleIssueCheck","handleIssueChange","refreshBranchStatus","candidate","handleOpenBulkChange","bulkChangeModal","handleCloseBulkChange","handleBulkChangeDone","fetchFirstIssues","selectLocation","nextIndex","handleCheckAll","selectFlow","fetchBranchStatus","OWASP_TOP10","SANS_TOP25","isLoggedIn","attachShortcuts","handleRequiredAuthentication","prevState","prevQuery","detachShortcuts","addEventListener","removeEventListener","findIndex","openIssueKey","fetchPromise","some","cannotShowOpenIssue","isAllChecked","thirdState","isChecked","FiltersHeader","displayReset","onReset","ListFooter","loadMore","ScreenPositionHelper","top","A11ySkipTarget","anchor","weight","renderConciseIssuesList","renderFacets","noIssuesMessage","EmptySearch","renderBulkChange","branch","pullRequest","DeferredSpinner","renderList","Suggestions","suggestions","defer","renderSide","renderHeader","renderPage","history","returnTo","search","return_to","ReactSelectLib","ReactSelect","ReactCreatable","lib","Creatable","Async","renderInput","iconProps","innerRef","clearRenderer","qualifierIcons","app","blue","brc","dev","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","pac","FoundIcon","orange","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","formatterOption","year","month","day","hour","minute","children","needReload","ready","hasMore","button","reload","toNumber","originalChildren","hourPrecision","now","parsedDate","formattedDate","arrayMap","baseIteratee","baseMap","isArray","collection","iteratee","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","DetachIcon","ChevronDownIcon","addSideBarClass","toggleBodyClass","addWhitePageClass","removeSideBarClass","removeWhitePageClass","force","body","classList","toggle","documentElement","is_uri","is_iri","is_http_uri","is_http_iri","is_https_uri","is_https_iri","is_web_uri","is_web_iri","isUri","isHttpUri","isHttpsUri","isWebUri","splitUri","uri","match","test","splitted","authority","fragment","scheme","out","allowHttps","port","OpenCloseIcon","getPosition","containerPos","container","getBoundingClientRect","pageYOffset","left","pageXOffset","debouncedOnResize","forceUpdate","helper","showClearButton","renderHelper","renderValueIndicator","ctrlKey","metaKey","renderValue","handleShowMoreClick","showMore","handleShowLessClick","showLess","allShown","autoFocus","searching","searchResultsCounts","showFullList","stopSearching","loadCountsForSearchResults","searchMaxResults","searchResults","searchPaging","catch","searchMore","resultsToLoad","hideFullList","maxInitialItems","item","sortedItems","limitedList","selectedBelowLimit","mightHaveMoreResults","maxItems","formatFacetStat","SearchBox","minLength","placeholder","loadingResults","showList","disabledHelper","renderSearch","renderSearchResults","DocumentationTooltip","links","inPlace","rel","target","highlightTerm","str","pos","indexOf","substring","createRange","baseRange","isIterateeCall","toFinite","fromRight","end","nativeCeil","nativeMax","ChevronLeftIcon","leading","clickAttributes","navigator","userAgent","CalendarIcon","Icon","focus","openCalendar","handleResetClick","closeCalendar","currentMonth","lastHovered","handleDayClick","modifiers","handleDayMouseEnter","handleCurrentMonthChange","handleCurrentYearChange","handlePreviousMonthClick","handleNextMonthClick","highlightFrom","highlightTo","minDate","after","maxDate","months","years","getFullYear","selectedDays","lastHoveredOrValue","highlighted","weekdaysLong","weekdaysShort","OutsideClickHandler","onClickOutside","InputWrapper","inputClassName","onFocus","readOnly","getMonth","String","ChevronRightIcon","captionElement","NullComponent","disabledDays","before","firstDayOfWeek","navbarElement","onDayClick","onDayMouseEnter","formattedValue","statusIcons","OpenStatusIcon","confirmed","ConfirmedStatusIcon","reopened","ResolvedStatusIcon","closed","baseFontColor","to_review","in_review","reviewed","StatusIcon","DesiredStatusIcon","getStandards","renderCWECategory","category","record","renderOwaspTop10Category","withPrefix","addPrefix","toUpperCase","renderSansTop25Category","renderSonarSourceSecurityCategory","prefix","isSymbol","array","comparator","computed","handleFromChange","toDateInput","handleToChange","currentQuery","handleChange","handleInputChange","handleFilterOption","autofocus","Component","escapeClearsValue","filterOption","isLoading","noResultsText","onBlurResetsInput","onInputChange","updateIssue","resultPromise","oldIssue","newIssue","optimisticUpdate","param","handleSelect","handleHover","onHover","onMouseOver","placement","renderLink","previousKeyScope","previousFilter","currentKeyScope","tagName","srcElement","isInput","selectNextElement","selectPreviousElement","idx","items","renderChild","child","currentItem","hasChildren","searchUsers","handleSearchResult","activeUsers","handleSearchChange","defaultUsersArray","Dropdown","noPadding","marginLeft","withCurrentUser","toggleAssign","togglePopup","handleClose","assigneeName","assigneeAvatar","assigneeActive","canAssign","isOpen","Toggler","closeOnEscape","onAssign","renderAssignee","DropdownIcon","textComment","handleCommentClick","trim","onComment","handleCancelClick","toggleComment","handleKeyboard","stopPropagation","markdown","autoTriggered","onKeyDown","addComment","closeOnClickOutside","currentPopup","commentAutoTriggered","commentPlaceholder","SEVERITY","SetSeverityPopup","SeverityIcon","toggleSetSeverity","setSeverity","setIssueProperty","canSetSeverity","searchResult","selectedTags","setTags","onUnselect","availableTags","BottomRight","TagsSelector","listSize","toggleSetTags","canSetTags","TagsList","allowUpdate","SetTransitionPopup","fromHotspot","isManualVulnerability","description","community_plug_link","translateTransition","setTransition","toggleSetTransition","hasTransitions","TYPES","SetTypePopup","toggleSetType","setType","canSetType","popup","apiCall","handleTransition","canComment","isSecurityHotspot","CommentDeletePopup","onDelete","handleEdit","onEdit","toggleEditPopup","handleDelete","toggleDeletePopup","closePopups","authorName","authorActive","authorAvatar","dangerouslySetInnerHTML","__html","sanitize","htmlText","updatable","RuleStatus","changelog","loadChangelog","creationDate","isUserActive","diffs","diff","IssueChangelogDiff","toggleChangelog","IssueMessage","engine","engineName","manualVulnerability","ruleStatus","ruleEngine","onOpenRule","Deprecated","Removed","ruleName","FilterIcon","IssueTitleBar","hasSimilarIssuesFilter","locationsCount","reduce","sum","locationsBadge","displayLocations","displayLocationsCount","issueUrl","externalRulesRepoNames","openRule","externalRuleEngine","displayLocationsLink","LinkIcon","handleCheck","isClickable","parentElement","editComment","deleteComment","hasCheckbox","issueClass","hotspot","comments","handleAssignement","bindShortcuts","unbindShortcuts","oldValue","HomeIcon","filled","color","DEFAULT_HOMEPAGE","setHomePage","homepage","isSameHomePage","isDefault","mapDispatchToProps","a","b","implicit","Symbol","Map","get","set","has","loadStandards","handleOwaspTop10HeaderClick","handleSansTop25HeaderClick","handleSonarSourceSecurityHeaderClick","prop","handleOwaspTop10ItemClick","handleSansTop25ItemClick","handleSonarSourceSecurityItemClick","SONARSOURCE","handleCWESearch","loadCWESearchResultCount","categories","statsProp","valuesProp","renderName","renderFacetItemsList","renderTooltip","renderHint","renderSonarSourceSecurityList","renderSonarSourceSecurityHint","renderOwaspTop10List","renderOwaspTop10Hint","renderSansTop25List","renderSansTop25Hint","CWE","renderSubFacets","baseExtremum","baseGt"],"mappings":"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","file":"js/279.m.e68268e5.chunk.js","sourcesContent":["export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".issues-main-header .component-name{line-height:24px}.issues-main-header-spinner{margin-right:2px}.concise-issues-list-header-inner{width:260px;text-align:center}.concise-issues-list-header .spinner{margin-top:4px;margin-left:1px;margin-right:1px}.concise-issues-list-header-button{border:none}.concise-issues-list-header-button path{fill:#666;transition:fill .3s ease}.concise-issues-list-header-button:hover path{fill:#4b9fd5}.concise-issue-component{margin-top:16px;margin-bottom:4px;padding-left:8px;padding-right:8px;direction:rtl}.concise-issue-box{position:relative;z-index:1;margin-bottom:4px;padding:7px;border:2px solid #e6e6e6;background-color:#fff;cursor:pointer;transition:background-color .3s ease,border-color .3s ease}.concise-issue-box:hover{border:2px dashed #4b9fd5}.concise-issue-box:focus{outline:none}.concise-issue-box.selected{z-index:2;border:2px solid #4b9fd5;cursor:default}.concise-issue-box-message{overflow:hidden;text-overflow:ellipsis;font-weight:700}.concise-issue-box-message:focus{outline:none}.concise-issue-box.selected .concise-issue-box-message{cursor:pointer}.concise-issue-box-attributes{margin-top:8px;line-height:16px;font-size:12px;display:flex;align-items:flex-start;flex-wrap:wrap;justify-content:flex-start}.concise-issue-box:not(.selected) .location-index{background-color:#666}.concise-issue-locations{display:inline-block;margin-bottom:-4px;margin-left:8px}.concise-issue-box-attributes>.location-index{margin-bottom:4px;margin-right:4px}.concise-issue-box-attributes>.concise-issue-expand{background-color:transparent;border:1px solid #d18582;height:16px;color:#d18582;font-weight:700;font-size:16px;line-height:8px;padding-bottom:6px}.concise-issue-box-attributes>.concise-issue-expand:hover{background-color:#d18582;color:#fff}.concise-issue-locations-navigator-location{position:relative;z-index:3;display:inline-flex;align-items:flex-start;max-width:100%;border:none}.concise-issue-locations-navigator-file{position:relative}.concise-issue-locations-navigator-file+.concise-issue-locations-navigator-file{margin-top:12px}.concise-issue-locations-navigator-file:not(:last-child):before{position:absolute;display:block;width:0;top:13px;bottom:-16px;left:4px;border-left:1px dotted #d18582;content:\\\"\\\"}.concise-issue-location-file{height:16px;padding-bottom:4px;font-size:12px;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.concise-issue-location-file-circle,.concise-issue-location-file-circle-multiple,.concise-issue-location-file-circle-multiple:after,.concise-issue-location-file-circle-multiple:before{position:relative;top:1px;display:inline-block;width:9px;height:9px;border:1px solid #d18582;border-radius:100%;box-sizing:border-box;background-color:#f2dede}.concise-issue-location-file-circle-multiple{top:-2px}.concise-issue-location-file-circle-multiple:before{position:absolute;z-index:7;top:2px;left:-1px;content:\\\"\\\"}.concise-issue-location-file-circle-multiple:after{position:absolute;z-index:8;top:5px;left:-1px;content:\\\"\\\"}.concise-issue-location-file-locations{padding-left:16px}.concise-issue-location-file-more{border-color:rgba(209,133,130,.2);color:#d18582!important;font-style:italic;font-weight:400}.concise-issue-location-file-more:focus,.concise-issue-location-file-more:hover{border-color:rgba(209,133,130,.6)}.component-source-container{border:1px solid #cdcdcd}.component-source-container+.component-source-container{margin-top:8px}.component-source-container-header{background-color:#efefef;padding:8px}.issues-my-issues-filter{margin-bottom:24px;text-align:center}.issues-page-actions{display:inline-block;min-width:80px;text-align:right}.issues .issue-list{min-width:640px;width:800px}.issues .issue{border:2px solid transparent;cursor:pointer}.issues .issue:focus-within,.issues .issue:hover{border:2px dashed #4b9fd5;transition:all .3s ease;outline:0}.issues .issue a:focus,.issues .issue button:focus{box-shadow:none;outline:1px dotted #4b9fd5}@media (max-width:1320px){.issues .issue-list{width:calc(60vw - 40px)}}.issue-location{display:inline-block;vertical-align:top;line-height:18px;height:18px;box-sizing:border-box;background-color:#f2dede;transition:background-color .3s ease}.issues-workspace-list-component{padding:10px 0 6px}.issues-workspace-list-item+.issues-workspace-list-item{margin-top:5px}.issues-workspace-list-component+.issues-workspace-list-item{margin-top:10px}.issues-workspace-list-item:first-child .issues-workspace-list-component{padding-top:0}.issues-workspace-list-component+.issues-workspace-list-item{margin-top:0}.issues-predefined-periods{display:flex}.issues-predefined-periods .search-navigator-facet{width:auto;margin-right:4px}.bulk-change-radio-button{margin:0 -4px;padding:0 4px}.bulk-change-radio-button:hover{background-color:#f3f3f3}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { State } from './components/App';\n\nexport function enableLocationsNavigator(state: State) {\n  const { openIssue, selectedLocationIndex } = state;\n  if (openIssue && (openIssue.secondaryLocations.length > 0 || openIssue.flows.length > 0)) {\n    const selectedFlowIndex =\n      state.selectedFlowIndex || (openIssue.flows.length > 0 ? 0 : undefined);\n\n    return {\n      locationsNavigator: true,\n      selectedFlowIndex,\n      // Also reset index = -1 to 0, we don't want to start on the issue when enabling the location navigator\n      selectedLocationIndex:\n        selectedLocationIndex && selectedLocationIndex < 0 ? 0 : selectedLocationIndex\n    };\n  }\n  return null;\n}\n\nexport function disableLocationsNavigator() {\n  return { locationsNavigator: false };\n}\n\nexport function selectLocation(nextIndex: number) {\n  return (state: Pick<State, 'selectedLocationIndex' | 'openIssue'>) => {\n    const { selectedLocationIndex: index, openIssue } = state;\n    if (openIssue) {\n      if (index === nextIndex) {\n        // disable locations when selecting (clicking) the same location\n        return {\n          locationsNavigator: false,\n          selectedLocationIndex: undefined\n        };\n      } else {\n        return { locationsNavigator: true, selectedLocationIndex: nextIndex };\n      }\n    }\n    return null;\n  };\n}\n\nexport function selectNextLocation(\n  state: Pick<State, 'selectedFlowIndex' | 'selectedLocationIndex' | 'openIssue'>\n) {\n  const { selectedFlowIndex, selectedLocationIndex: index = -1, openIssue } = state;\n  if (openIssue) {\n    const locations =\n      selectedFlowIndex !== undefined\n        ? openIssue.flows[selectedFlowIndex]\n        : openIssue.secondaryLocations;\n    const lastLocationIdx = locations.length - 1;\n    if (index === lastLocationIdx) {\n      // -1 to jump back to the issue itself\n      return { selectedLocationIndex: -1 };\n    }\n    return {\n      selectedLocationIndex: index !== undefined && index < lastLocationIdx ? index + 1 : index\n    };\n  }\n  return null;\n}\n\nexport function selectPreviousLocation(state: State) {\n  const { selectedFlowIndex, selectedLocationIndex: index, openIssue } = state;\n  if (openIssue) {\n    if (index === -1) {\n      const locations =\n        selectedFlowIndex !== undefined\n          ? openIssue.flows[selectedFlowIndex]\n          : openIssue.secondaryLocations;\n      const lastLocationIdx = locations.length - 1;\n      return { selectedLocationIndex: lastLocationIdx };\n    }\n    return { selectedLocationIndex: index !== undefined && index > 0 ? index - 1 : index };\n  }\n  return null;\n}\n\nexport function selectFlow(nextIndex?: number) {\n  return () => {\n    return { locationsNavigator: true, selectedFlowIndex: nextIndex, selectedLocationIndex: 0 };\n  };\n}\n\nexport function selectNextFlow(state: State) {\n  const { openIssue, selectedFlowIndex } = state;\n  if (\n    openIssue &&\n    selectedFlowIndex !== undefined &&\n    openIssue.flows.length > selectedFlowIndex + 1\n  ) {\n    return { selectedFlowIndex: selectedFlowIndex + 1, selectedLocationIndex: 0 };\n  }\n  return null;\n}\n\nexport function selectPreviousFlow(state: State) {\n  const { openIssue, selectedFlowIndex } = state;\n  if (openIssue && selectedFlowIndex !== undefined && selectedFlowIndex > 0) {\n    return { selectedFlowIndex: selectedFlowIndex - 1, selectedLocationIndex: 0 };\n  }\n  return null;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport LocationIndex from '../../../components/common/LocationIndex';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\ninterface Props {\n  count: number;\n  onClick?: () => void;\n  selected: boolean;\n}\n\nexport default function ConciseIssueLocationBadge(props: Props) {\n  return (\n    <Tooltip\n      mouseEnterDelay={0.5}\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(props.count, 'INT')\n      )}>\n      <LocationIndex onClick={props.onClick} selected={props.selected}>\n        {'+'}\n        {props.count}\n      </LocationIndex>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../../../components/controls/buttons';\nimport ConciseIssueLocationBadge from './ConciseIssueLocationBadge';\n\ninterface Props {\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'>;\n  onFlowSelect: (index: number) => void;\n  selectedFlowIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\nconst LIMIT = 8;\n\nexport default class ConciseIssueLocations extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  handleExpandClick = () => {\n    this.setState({ collapsed: false });\n  };\n\n  renderExpandButton() {\n    return (\n      <Button\n        className=\"concise-issue-expand location-index link-no-underline\"\n        onClick={this.handleExpandClick}>\n        ...\n      </Button>\n    );\n  }\n\n  render() {\n    const { secondaryLocations, flows } = this.props.issue;\n\n    const badges: JSX.Element[] = [];\n\n    if (secondaryLocations.length > 0) {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={secondaryLocations.length}\n          key=\"-1\"\n          selected={!this.props.selectedFlowIndex}\n        />\n      );\n    }\n\n    flows.forEach((flow, index) => {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={flow.length}\n          key={index}\n          onClick={() => this.props.onFlowSelect(index)}\n          selected={index === this.props.selectedFlowIndex}\n        />\n      );\n    });\n\n    if (!this.state.collapsed || badges.length <= LIMIT) {\n      return badges;\n    }\n\n    return (\n      <>\n        {badges.slice(0, LIMIT - 1)}\n        {this.renderExpandButton()}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport LocationIndex from '../../../components/common/LocationIndex';\nimport LocationMessage from '../../../components/common/LocationMessage';\n\ninterface Props {\n  index: number;\n  message: string | undefined;\n  onClick: (index: number) => void;\n  scroll: (element: Element) => void;\n  selected: boolean;\n}\n\nexport default class ConciseIssueLocationsNavigatorLocation extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.index);\n  };\n\n  render() {\n    const { index, message, selected } = this.props;\n\n    return (\n      <div className=\"little-spacer-top\" ref={node => (this.node = node)}>\n        <a\n          className=\"concise-issue-locations-navigator-location\"\n          href=\"#\"\n          onClick={this.handleClick}>\n          <LocationIndex selected={selected}>{index + 1}</LocationIndex>\n          <LocationMessage selected={selected}>{message}</LocationMessage>\n        </a>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translateWithParameters } from '../../../helpers/l10n';\nimport { collapsePath } from '../../../helpers/path';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\n\ninterface Props {\n  issue: Pick<T.Issue, 'key' | 'type'>;\n  locations: T.FlowLocation[];\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedLocationIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\ninterface LocationGroup {\n  component: string | undefined;\n  componentName: string | undefined;\n  firstLocationIndex: number;\n  locations: T.FlowLocation[];\n}\n\nconst MAX_PATH_LENGTH = 15;\n\nexport default class CrossFileLocationsNavigator extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.issue.key !== this.props.issue.key) {\n      this.setState({ collapsed: true });\n    }\n\n    // expand locations list as soon as a location in the middle of the list is selected\n    const { locations: nextLocations } = nextProps;\n    if (\n      nextProps.selectedLocationIndex &&\n      nextProps.selectedLocationIndex > 0 &&\n      nextLocations !== undefined &&\n      nextProps.selectedLocationIndex < nextLocations.length - 1\n    ) {\n      this.setState({ collapsed: false });\n    }\n  }\n\n  handleMoreLocationsClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ collapsed: false });\n  };\n\n  groupByFile = (locations: T.FlowLocation[]) => {\n    const groups: LocationGroup[] = [];\n\n    let currentLocations: T.FlowLocation[] = [];\n    let currentComponent: string | undefined;\n    let currentComponentName: string | undefined;\n    let currentFirstLocationIndex = 0;\n\n    for (let index = 0; index < locations.length; index++) {\n      const location = locations[index];\n      if (location.component === currentComponent) {\n        currentLocations.push(location);\n      } else {\n        if (currentLocations.length > 0) {\n          groups.push({\n            component: currentComponent,\n            componentName: currentComponentName,\n            firstLocationIndex: currentFirstLocationIndex,\n            locations: currentLocations\n          });\n        }\n        currentLocations = [location];\n        currentComponent = location.component;\n        currentComponentName = location.componentName;\n        currentFirstLocationIndex = index;\n      }\n    }\n\n    if (currentLocations.length > 0) {\n      groups.push({\n        component: currentComponent,\n        componentName: currentComponentName,\n        firstLocationIndex: currentFirstLocationIndex,\n        locations: currentLocations\n      });\n    }\n\n    return groups;\n  };\n\n  renderLocation = (index: number, message: string | undefined) => {\n    return (\n      <ConciseIssueLocationsNavigatorLocation\n        index={index}\n        key={index}\n        message={message}\n        onClick={this.props.onLocationSelect}\n        scroll={this.props.scroll}\n        selected={index === this.props.selectedLocationIndex}\n      />\n    );\n  };\n\n  renderGroup = (\n    group: LocationGroup,\n    groupIndex: number,\n    { onlyFirst = false, onlyLast = false } = {}\n  ) => {\n    const { firstLocationIndex } = group;\n    const lastLocationIndex = group.locations.length - 1;\n    return (\n      <div className=\"concise-issue-locations-navigator-file\" key={groupIndex}>\n        <div className=\"concise-issue-location-file\">\n          <i className=\"concise-issue-location-file-circle little-spacer-right\" />\n          {collapsePath(group.componentName || '', MAX_PATH_LENGTH)}\n        </div>\n        {group.locations.length > 0 && (\n          <div className=\"concise-issue-location-file-locations\">\n            {onlyFirst && this.renderLocation(firstLocationIndex, group.locations[0].msg)}\n\n            {onlyLast &&\n              this.renderLocation(\n                firstLocationIndex + lastLocationIndex,\n                group.locations[lastLocationIndex].msg\n              )}\n\n            {!onlyFirst &&\n              !onlyLast &&\n              group.locations.map((location, index) =>\n                this.renderLocation(firstLocationIndex + index, location.msg)\n              )}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  render() {\n    const { locations } = this.props;\n    const groups = this.groupByFile(locations);\n\n    if (locations.length > 2 && groups.length > 1 && this.state.collapsed) {\n      const firstGroup = groups[0];\n      const lastGroup = groups[groups.length - 1];\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {this.renderGroup(firstGroup, 0, { onlyFirst: true })}\n          <div className=\"concise-issue-locations-navigator-file\">\n            <div className=\"concise-issue-location-file\">\n              <i className=\"concise-issue-location-file-circle-multiple little-spacer-right\" />\n              <a\n                className=\"concise-issue-location-file-more\"\n                href=\"#\"\n                onClick={this.handleMoreLocationsClick}>\n                {translateWithParameters('issues.x_more_locations', locations.length - 2)}\n              </a>\n            </div>\n          </div>\n          {this.renderGroup(lastGroup, groups.length - 1, { onlyLast: true })}\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {groups.map((group, groupIndex) => this.renderGroup(group, groupIndex))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport * as React from 'react';\nimport { getLocations } from '../utils';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\nimport CrossFileLocationsNavigator from './CrossFileLocationsNavigator';\n\ninterface Props {\n  issue: Pick<T.Issue, 'component' | 'key' | 'flows' | 'secondaryLocations' | 'type'>;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueLocationsNavigator extends React.PureComponent<Props> {\n  render() {\n    const locations = getLocations(this.props.issue, this.props.selectedFlowIndex);\n\n    if (!locations || locations.length === 0 || locations.every(location => !location.msg)) {\n      return null;\n    }\n\n    const locationComponents = [\n      this.props.issue.component,\n      ...locations.map(location => location.component)\n    ];\n    const isCrossFile = uniq(locationComponents).length > 1;\n\n    if (isCrossFile) {\n      return (\n        <CrossFileLocationsNavigator\n          issue={this.props.issue}\n          locations={locations}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selectedLocationIndex={this.props.selectedLocationIndex}\n        />\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {locations.map((location, index) => (\n            <ConciseIssueLocationsNavigatorLocation\n              index={index}\n              key={index}\n              message={location.msg}\n              onClick={this.props.onLocationSelect}\n              scroll={this.props.scroll}\n              selected={index === this.props.selectedLocationIndex}\n            />\n          ))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport TypeHelper from '../../../components/shared/TypeHelper';\nimport ConciseIssueLocations from './ConciseIssueLocations';\nimport ConciseIssueLocationsNavigator from './ConciseIssueLocationsNavigator';\n\ninterface Props {\n  issue: T.Issue;\n  onClick: (issueKey: string) => void;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element, bottomOffset?: number) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueBox extends React.PureComponent<Props> {\n  messageElement?: HTMLElement | null;\n  rootElement?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.issue.key);\n  };\n\n  handleScroll = () => {\n    const { selectedFlowIndex } = this.props;\n    const { flows, secondaryLocations } = this.props.issue;\n\n    const locations = flows.length > 0 ? flows[selectedFlowIndex || 0] : secondaryLocations;\n\n    if (!locations || locations.length < 15) {\n      // if there are no locations, or there are just few\n      // then ensuse that the whole box is visible\n      if (this.rootElement) {\n        this.props.scroll(this.rootElement);\n      }\n    } else if (this.messageElement) {\n      // otherwise scroll until the the message element is located on top\n      this.props.scroll(this.messageElement, window.innerHeight - 250);\n    }\n  };\n\n  render() {\n    const { issue, selected } = this.props;\n\n    const clickAttributesMain = selected\n      ? {}\n      : { onClick: this.handleClick, role: 'listitem', tabIndex: 0 };\n\n    const clickAttributesTitle = selected\n      ? { onClick: this.handleClick, role: 'listitem', tabIndex: 0 }\n      : {};\n\n    return (\n      <div\n        className={classNames('concise-issue-box', 'clearfix', { selected })}\n        ref={node => (this.rootElement = node)}\n        {...clickAttributesMain}>\n        <div\n          className=\"concise-issue-box-message\"\n          {...clickAttributesTitle}\n          ref={node => (this.messageElement = node)}>\n          {issue.message}\n        </div>\n        <div className=\"concise-issue-box-attributes\">\n          <TypeHelper className=\"display-block little-spacer-right\" type={issue.type} />\n          <ConciseIssueLocations\n            issue={issue}\n            onFlowSelect={this.props.onFlowSelect}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n          />\n        </div>\n        {selected && (\n          <ConciseIssueLocationsNavigator\n            issue={issue}\n            onLocationSelect={this.props.onLocationSelect}\n            scroll={this.props.scroll}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n            selectedLocationIndex={this.props.selectedLocationIndex}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  path: string;\n}\n\nexport default function ConciseIssueComponent({ path }: Props) {\n  return (\n    <div className=\"concise-issue-component text-ellipsis note\" title={path}>\n      {path}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssueBox from './ConciseIssueBox';\nimport ConciseIssueComponent from './ConciseIssueComponent';\n\ninterface Props {\n  issue: T.Issue;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  onSelect: (issueKey: string) => void;\n  previousIssue: T.Issue | undefined;\n  scroll: (element: Element) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssue extends React.PureComponent<Props> {\n  render() {\n    const { issue, previousIssue, selected } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <div>\n        {displayComponent && <ConciseIssueComponent path={issue.componentLongName} />}\n        <ConciseIssueBox\n          issue={issue}\n          onClick={this.props.onSelect}\n          onFlowSelect={this.props.onFlowSelect}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selected={selected}\n          selectedFlowIndex={selected ? this.props.selectedFlowIndex : undefined}\n          selectedLocationIndex={selected ? this.props.selectedLocationIndex : undefined}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { scrollToElement } from '../../../helpers/scrolling';\nimport ConciseIssue from './ConciseIssue';\n\ninterface Props {\n  issues: T.Issue[];\n  onFlowSelect: (index: number) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  selected: string | undefined;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssuesList extends React.PureComponent<Props> {\n  handleScroll = (element: Element, bottomOffset = 100) => {\n    const scrollableElement = document.querySelector('.layout-page-side');\n    if (element && scrollableElement) {\n      scrollToElement(element, { topOffset: 150, bottomOffset, parent: scrollableElement });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        {this.props.issues.map((issue, index) => (\n          <ConciseIssue\n            issue={issue}\n            key={issue.key}\n            onFlowSelect={this.props.onFlowSelect}\n            onLocationSelect={this.props.onLocationSelect}\n            onSelect={this.props.onIssueSelect}\n            previousIssue={index > 0 ? this.props.issues[index - 1] : undefined}\n            scroll={this.handleScroll}\n            selected={issue.key === this.props.selected}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n            selectedLocationIndex={this.props.selectedLocationIndex}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { colors } from '../../app/theme';\nimport { translate } from '../../helpers/l10n';\nimport Tooltip from './Tooltip';\n\ninterface Props {\n  className?: string;\n  disabled?: boolean;\n  onClick: () => void;\n  tooltip?: string;\n}\n\nexport default class BackButton extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (!this.props.disabled) {\n      this.props.onClick();\n    }\n  };\n\n  renderIcon = () => (\n    <svg height=\"24\" viewBox=\"0 0 21 24\" width=\"21\">\n      <path\n        d=\"M3.845 12.9992l5.993 5.993.052.056c.049.061.093.122.129.191.082.159.121.339.111.518-.006.102-.028.203-.064.298-.149.39-.537.652-.954.644-.102-.002-.204-.019-.301-.052-.148-.05-.273-.135-.387-.241l-8.407-8.407 8.407-8.407.056-.052c.061-.048.121-.092.19-.128.116-.06.237-.091.366-.108.076-.004.075-.004.153-.003.155.015.3.052.437.129.088.051.169.115.239.19.246.266.33.656.214.999-.051.149-.135.273-.241.387l-5.983 5.984c5.287-.044 10.577-.206 15.859.013.073.009.091.009.163.027.187.047.359.15.49.292.075.081.136.175.18.276.044.101.072.209.081.319.032.391-.175.775-.521.962-.097.052-.202.089-.311.107-.073.012-.091.01-.165.013H3.845z\"\n        fill={this.props.disabled ? colors.disableGrayText : colors.secondFontColor}\n      />\n    </svg>\n  );\n\n  render() {\n    const { tooltip = translate('issues.return_to_list') } = this.props;\n    return (\n      <Tooltip overlay={tooltip}>\n        <a\n          className={classNames(\n            'link-no-underline',\n            { 'cursor-not-allowed': this.props.disabled },\n            this.props.className\n          )}\n          href=\"#\"\n          onClick={this.handleClick}>\n          {this.renderIcon()}\n        </a>\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BackButton from '../../../components/controls/BackButton';\nimport PageShortcutsTooltip from '../../../components/ui/PageShortcutsTooltip';\nimport { translate } from '../../../helpers/l10n';\n\nexport interface ConciseIssuesListHeaderProps {\n  displayBackButton: boolean;\n  loading: boolean;\n  onBackClick: () => void;\n}\n\nexport default function ConciseIssuesListHeader(props: ConciseIssuesListHeaderProps) {\n  const { displayBackButton, loading } = props;\n\n  return (\n    <header className=\"layout-page-header-panel concise-issues-list-header\">\n      <div className=\"layout-page-header-panel-inner concise-issues-list-header-inner display-flex-center display-flex-space-between\">\n        {displayBackButton && <BackButton disabled={loading} onClick={props.onBackClick} />}\n        <PageShortcutsTooltip\n          leftLabel={translate('issues.to_navigate_back')}\n          upAndDownLabel={translate('issues.to_select_issues')}\n          metaModifierLabel={translate('issues.to_navigate_issue_locations')}\n        />\n        {loading && <i className=\"spinner\" />}\n      </div>\n    </header>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport Avatar from '../../../components/ui/Avatar';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\nimport { isUserActive } from '../../../helpers/users';\nimport { Facet } from '../../../types/issues';\nimport { Query, searchAssignees } from '../utils';\n\ninterface Props {\n  assigned: boolean;\n  assignees: string[];\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: T.Dict<number> | undefined;\n  referencedUsers: T.Dict<T.UserBase>;\n}\n\nexport default class AssigneeFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string, page?: number) => {\n    return searchAssignees(query, page);\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { assignees } = this.props;\n    if (itemValue === '') {\n      // unassigned\n      this.props.onChange({ assigned: !this.props.assigned, assignees: [] });\n    } else if (multiple) {\n      const newValue = sortBy(\n        assignees.includes(itemValue) ? without(assignees, itemValue) : [...assignees, itemValue]\n      );\n      this.props.onChange({ assigned: true, assignees: newValue });\n    } else {\n      this.props.onChange({\n        assigned: true,\n        assignees: assignees.includes(itemValue) && assignees.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleClear = () => {\n    this.props.onChange({ assigned: true, assignees: [] });\n  };\n\n  getAssigneeName = (assignee: string) => {\n    if (assignee === '') {\n      return translate('unassigned');\n    } else {\n      const user = this.props.referencedUsers[assignee];\n      if (!user) {\n        return assignee;\n      }\n      return isUserActive(user) ? user.name : translateWithParameters('user.x_deleted', user.login);\n    }\n  };\n\n  loadSearchResultCount = (assignees: T.UserBase[]) => {\n    return this.props.loadSearchResultCount('assignees', {\n      assigned: undefined,\n      assignees: assignees.map(assignee => assignee.login)\n    });\n  };\n\n  getSortedItems = () => {\n    const { stats = {} } = this.props;\n    return sortBy(\n      Object.keys(stats),\n      // put \"not assigned\" first\n      key => (key === '' ? 0 : 1),\n      // the sort by number\n      key => -stats[key]\n    );\n  };\n\n  renderFacetItem = (assignee: string) => {\n    if (assignee === '') {\n      return translate('unassigned');\n    }\n\n    const user = this.props.referencedUsers[assignee];\n\n    if (!user) {\n      return assignee;\n    }\n\n    const userName = user.name || user.login;\n\n    return (\n      <>\n        <Avatar className=\"little-spacer-right\" hash={user.avatar} name={userName} size={16} />\n        {isUserActive(user) ? userName : translateWithParameters('user.x_deleted', userName)}\n      </>\n    );\n  };\n\n  renderSearchResult = (result: T.UserBase, query: string) => {\n    const displayName = isUserActive(result)\n      ? result.name\n      : translateWithParameters('user.x_deleted', result.login);\n    return (\n      <>\n        <Avatar\n          className=\"little-spacer-right\"\n          hash={result.avatar}\n          name={result.name || result.login}\n          size={16}\n        />\n        {highlightTerm(displayName, query)}\n      </>\n    );\n  };\n\n  render() {\n    const values = [...this.props.assignees];\n    if (!this.props.assigned) {\n      values.push('');\n    }\n\n    return (\n      <ListStyleFacet<T.UserBase>\n        facetHeader={translate('issues.facet.assignees')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getAssigneeName}\n        getSearchResultKey={user => user.login}\n        getSearchResultText={user => user.name || user.login}\n        // put \"not assigned\" item first\n        getSortedItems={this.getSortedItems}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onClear={this.handleClear}\n        onItemClick={this.handleItemClick}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"assignees\"\n        query={omit(this.props.query, 'assigned', 'assignees')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_users')}\n        stats={this.props.stats}\n        values={values}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport { searchIssueAuthors } from '../../../api/issues';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\nimport { Facet } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: T.Dict<number> | undefined;\n  author: string[];\n}\n\nconst SEARCH_SIZE = 100;\n\nexport default class AuthorFacet extends React.PureComponent<Props> {\n  identity = (author: string) => {\n    return author;\n  };\n\n  handleSearch = (query: string, _page: number) => {\n    const { component } = this.props;\n    const project =\n      component && ['TRK', 'VW', 'APP'].includes(component.qualifier) ? component.key : undefined;\n    return searchIssueAuthors({\n      project,\n      ps: SEARCH_SIZE, // maximum\n      q: query\n    }).then(authors => ({ maxResults: authors.length === SEARCH_SIZE, results: authors }));\n  };\n\n  loadSearchResultCount = (author: string[]) => {\n    return this.props.loadSearchResultCount('author', { author });\n  };\n\n  renderSearchResult = (author: string, term: string) => {\n    return highlightTerm(author, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('issues.facet.authors')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.identity}\n        getSearchResultKey={this.identity}\n        getSearchResultText={this.identity}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"author\"\n        query={omit(this.props.query, 'author')}\n        renderFacetItem={this.identity}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_authors')}\n        stats={this.props.stats}\n        values={this.props.author}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { max } from 'd3-array';\nimport { scaleBand, ScaleBand, scaleLinear, ScaleLinear } from 'd3-scale';\nimport * as React from 'react';\nimport Tooltip from '../controls/Tooltip';\nimport './BarChart.css';\n\ninterface DataPoint {\n  tooltip?: React.ReactNode;\n  x: number;\n  y: number;\n}\n\ninterface Props<T> {\n  barsWidth: number;\n  data: Array<DataPoint & T>;\n  height: number;\n  onBarClick?: (point: DataPoint & T) => void;\n  padding?: [number, number, number, number];\n  width: number;\n  xTicks?: string[];\n  xValues?: string[];\n}\n\nexport default class BarChart<T> extends React.PureComponent<Props<T>> {\n  handleClick = (point: DataPoint & T) => {\n    if (this.props.onBarClick) {\n      this.props.onBarClick(point);\n    }\n  };\n\n  renderXTicks = (xScale: ScaleBand<number>, yScale: ScaleLinear<number, number>) => {\n    const { data, xTicks = [] } = this.props;\n\n    if (!xTicks.length) {\n      return null;\n    }\n\n    const ticks = xTicks.map((tick, index) => {\n      const point = data[index];\n      const x = Math.round((xScale(point.x) as number) + xScale.bandwidth() / 2);\n      const y = yScale.range()[0];\n      const d = data[index];\n      const text = (\n        <text\n          className=\"bar-chart-tick\"\n          dy=\"1.5em\"\n          // eslint-disable-next-line react/no-array-index-key\n          key={index}\n          onClick={() => this.handleClick(point)}\n          style={{ cursor: this.props.onBarClick ? 'pointer' : 'default' }}\n          x={x}\n          y={y}>\n          {tick}\n        </text>\n      );\n      return (\n        // eslint-disable-next-line react/no-array-index-key\n        <Tooltip key={index} overlay={d.tooltip || undefined}>\n          {text}\n        </Tooltip>\n      );\n    });\n    return <g>{ticks}</g>;\n  };\n\n  renderXValues = (xScale: ScaleBand<number>, yScale: ScaleLinear<number, number>) => {\n    const { data, xValues = [] } = this.props;\n\n    if (!xValues.length) {\n      return null;\n    }\n\n    const ticks = xValues.map((value, index) => {\n      const point = data[index];\n      const x = Math.round((xScale(point.x) as number) + xScale.bandwidth() / 2);\n      const y = yScale(point.y);\n      const text = (\n        <text\n          className=\"bar-chart-tick\"\n          dy=\"-1em\"\n          // eslint-disable-next-line react/no-array-index-key\n          key={index}\n          onClick={() => this.handleClick(point)}\n          style={{ cursor: this.props.onBarClick ? 'pointer' : 'default' }}\n          x={x}\n          y={y}>\n          {value}\n        </text>\n      );\n      return (\n        // eslint-disable-next-line react/no-array-index-key\n        <Tooltip key={index} overlay={point.tooltip || undefined}>\n          {text}\n        </Tooltip>\n      );\n    });\n    return <g>{ticks}</g>;\n  };\n\n  renderBars = (xScale: ScaleBand<number>, yScale: ScaleLinear<number, number>) => {\n    const bars = this.props.data.map((point, index) => {\n      const x = Math.round(xScale(point.x) as number);\n      const maxY = yScale.range()[0];\n      const y = Math.round(yScale(point.y)) - /* minimum bar height */ 1;\n      const height = maxY - y;\n      const rect = (\n        <rect\n          className=\"bar-chart-bar\"\n          height={height}\n          // eslint-disable-next-line react/no-array-index-key\n          key={index}\n          onClick={() => this.handleClick(point)}\n          style={{ cursor: this.props.onBarClick ? 'pointer' : 'default' }}\n          width={this.props.barsWidth}\n          x={x}\n          y={y}\n        />\n      );\n      return (\n        // eslint-disable-next-line react/no-array-index-key\n        <Tooltip key={index} overlay={point.tooltip || undefined}>\n          {rect}\n        </Tooltip>\n      );\n    });\n    return <g>{bars}</g>;\n  };\n\n  render() {\n    const { barsWidth, data, width, height, padding = [10, 10, 10, 10] } = this.props;\n\n    const availableWidth = width - padding[1] - padding[3];\n    const availableHeight = height - padding[0] - padding[2];\n\n    const innerPadding = (availableWidth - barsWidth * data.length) / (data.length - 1);\n    const relativeInnerPadding = innerPadding / (innerPadding + barsWidth);\n\n    const maxY = max(data, d => d.y) as number;\n    const xScale = scaleBand<number>()\n      .domain(data.map(d => d.x))\n      .range([0, availableWidth])\n      .paddingInner(relativeInnerPadding);\n    const yScale = scaleLinear()\n      .domain([0, maxY])\n      .range([availableHeight, 0]);\n\n    return (\n      <svg className=\"bar-chart\" height={height} width={width}>\n        <g transform={`translate(${padding[3]}, ${padding[0]})`}>\n          {this.renderXTicks(xScale, yScale)}\n          {this.renderXValues(xScale, yScale)}\n          {this.renderBars(xScale, yScale)}\n        </g>\n      </svg>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as isSameDay from 'date-fns/is_same_day';\nimport { max } from 'lodash';\nimport * as React from 'react';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport BarChart from '../../../components/charts/BarChart';\nimport DateRangeInput from '../../../components/controls/DateRangeInput';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport { longFormatterOption } from '../../../components/intl/DateFormatter';\nimport DateFromNow from '../../../components/intl/DateFromNow';\nimport DateTimeFormatter, {\n  formatterOption as dateTimeFormatterOption\n} from '../../../components/intl/DateTimeFormatter';\nimport { parseDate } from '../../../helpers/dates';\nimport { translate } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { isPortfolioLike } from '../../../types/component';\nimport { Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  createdAfter: Date | undefined;\n  createdAfterIncludesTime: boolean;\n  createdAt: string;\n  createdBefore: Date | undefined;\n  createdInLast: string;\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  sinceLeakPeriod: boolean;\n  stats: T.Dict<number> | undefined;\n}\n\nexport class CreationDateFacet extends React.PureComponent<Props & InjectedIntlProps> {\n  property = 'createdAt';\n\n  static defaultProps = {\n    open: true\n  };\n\n  hasValue = () =>\n    this.props.createdAfter !== undefined ||\n    this.props.createdAt.length > 0 ||\n    this.props.createdBefore !== undefined ||\n    this.props.createdInLast.length > 0 ||\n    this.props.sinceLeakPeriod;\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.resetTo({});\n  };\n\n  resetTo = (changes: Partial<Query>) => {\n    this.props.onChange({\n      createdAfter: undefined,\n      createdAt: undefined,\n      createdBefore: undefined,\n      createdInLast: undefined,\n      sinceLeakPeriod: undefined,\n      ...changes\n    });\n  };\n\n  handleBarClick = ({\n    createdAfter,\n    createdBefore\n  }: {\n    createdAfter: Date;\n    createdBefore?: Date;\n  }) => {\n    this.resetTo({ createdAfter, createdBefore });\n  };\n\n  handlePeriodChange = ({ from, to }: { from?: Date; to?: Date }) => {\n    this.resetTo({ createdAfter: from, createdBefore: to });\n  };\n\n  handlePeriodClick = (period: string) => this.resetTo({ createdInLast: period });\n\n  handleLeakPeriodClick = () => this.resetTo({ sinceLeakPeriod: true });\n\n  getValues() {\n    const {\n      createdAfter,\n      createdAfterIncludesTime,\n      createdAt,\n      createdBefore,\n      createdInLast,\n      sinceLeakPeriod\n    } = this.props;\n    const { formatDate } = this.props.intl;\n    const values = [];\n    if (createdAfter) {\n      values.push(\n        formatDate(\n          createdAfter,\n          createdAfterIncludesTime ? dateTimeFormatterOption : longFormatterOption\n        )\n      );\n    }\n    if (createdAt) {\n      values.push(formatDate(createdAt, longFormatterOption));\n    }\n    if (createdBefore) {\n      values.push(formatDate(createdBefore, longFormatterOption));\n    }\n    if (createdInLast === '1w') {\n      values.push(translate('issues.facet.createdAt.last_week'));\n    }\n    if (createdInLast === '1m') {\n      values.push(translate('issues.facet.createdAt.last_month'));\n    }\n    if (createdInLast === '1y') {\n      values.push(translate('issues.facet.createdAt.last_year'));\n    }\n    if (sinceLeakPeriod) {\n      values.push(translate('issues.new_code'));\n    }\n    return values;\n  }\n\n  renderBarChart() {\n    const { createdBefore, stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const periods = Object.keys(stats);\n\n    if (periods.length < 2 || periods.every(period => !stats[period])) {\n      return null;\n    }\n\n    const { formatDate } = this.props.intl;\n    const data = periods.map((start, index) => {\n      const startDate = parseDate(start);\n      let endDate;\n      if (index < periods.length - 1) {\n        endDate = parseDate(periods[index + 1]);\n        endDate.setDate(endDate.getDate() - 1);\n      } else {\n        endDate = createdBefore ? parseDate(createdBefore) : undefined;\n      }\n\n      const tooltipEndDate = endDate || new Date();\n      const tooltip = (\n        // eslint-disable-next-line react/jsx-fragments\n        <React.Fragment>\n          {formatMeasure(stats[start], 'SHORT_INT')}\n          <br />\n          {formatDate(startDate, longFormatterOption)}\n          {!isSameDay(tooltipEndDate, startDate) &&\n            ` - ${formatDate(tooltipEndDate, longFormatterOption)}`}\n        </React.Fragment>\n      );\n\n      return {\n        createdAfter: startDate,\n        createdBefore: endDate,\n        tooltip,\n        x: index,\n        y: stats[start]\n      };\n    });\n\n    const barsWidth = Math.floor(250 / data.length);\n    const width = barsWidth * data.length - 1 + 10;\n\n    const maxValue = max(data.map(d => d.y));\n    const xValues = data.map(d => (d.y === maxValue ? formatMeasure(maxValue, 'SHORT_INT') : ''));\n\n    return (\n      <BarChart\n        barsWidth={barsWidth - 1}\n        data={data}\n        height={75}\n        onBarClick={this.handleBarClick}\n        padding={[25, 0, 5, 10]}\n        width={width}\n        xValues={xValues}\n      />\n    );\n  }\n\n  renderPeriodSelectors() {\n    const { createdAfter, createdBefore } = this.props;\n    return (\n      <div className=\"search-navigator-date-facet-selection\">\n        <DateRangeInput\n          onChange={this.handlePeriodChange}\n          value={{ from: createdAfter, to: createdBefore }}\n        />\n      </div>\n    );\n  }\n\n  renderPredefinedPeriods() {\n    const { component, createdInLast, sinceLeakPeriod } = this.props;\n    return (\n      <div className=\"spacer-top issues-predefined-periods\">\n        <FacetItem\n          active={!this.hasValue()}\n          name={translate('issues.facet.createdAt.all')}\n          onClick={this.handlePeriodClick}\n          tooltip={translate('issues.facet.createdAt.all')}\n          value=\"\"\n        />\n        {component && !isPortfolioLike(component.qualifier) ? (\n          <FacetItem\n            active={sinceLeakPeriod}\n            name={translate('issues.new_code')}\n            onClick={this.handleLeakPeriodClick}\n            tooltip={translate('issues.new_code_period')}\n            value=\"\"\n          />\n        ) : (\n          <>\n            <FacetItem\n              active={createdInLast === '1w'}\n              name={translate('issues.facet.createdAt.last_week')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_week')}\n              value=\"1w\"\n            />\n            <FacetItem\n              active={createdInLast === '1m'}\n              name={translate('issues.facet.createdAt.last_month')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_month')}\n              value=\"1m\"\n            />\n            <FacetItem\n              active={createdInLast === '1y'}\n              name={translate('issues.facet.createdAt.last_year')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_year')}\n              value=\"1y\"\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n\n  renderInner() {\n    const { createdAfter, createdAfterIncludesTime, createdAt } = this.props;\n\n    if (createdAt) {\n      return (\n        <div className=\"search-navigator-facet-container\">\n          <DateTimeFormatter date={this.props.createdAt} />\n          <br />\n          <span className=\"note\">\n            <DateFromNow date={this.props.createdAt} />\n          </span>\n        </div>\n      );\n    }\n\n    if (createdAfter && createdAfterIncludesTime) {\n      return (\n        <div className=\"search-navigator-facet-container\">\n          <strong>{translate('after')} </strong>\n          <DateTimeFormatter date={createdAfter} />\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        {this.renderBarChart()}\n        {this.renderPeriodSelectors()}\n        {this.renderPredefinedPeriods()}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && this.renderInner()}\n      </FacetBox>\n    );\n  }\n}\n\nexport default injectIntl(CreationDateFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport { getDirectories } from '../../../api/components';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport QualifierIcon from '../../../components/icons/QualifierIcon';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { translate } from '../../../helpers/l10n';\nimport { collapsePath } from '../../../helpers/path';\nimport { highlightTerm } from '../../../helpers/search';\nimport { BranchLike } from '../../../types/branch-like';\nimport { TreeComponentWithPath } from '../../../types/component';\nimport { Facet } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  branchLike?: BranchLike;\n  componentKey: string;\n  directories: string[];\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: Facet | undefined;\n}\n\nexport default class DirectoryFacet extends React.PureComponent<Props> {\n  getFacetItemText = (path: string) => {\n    return path;\n  };\n\n  getSearchResultKey = (directory: TreeComponentWithPath) => {\n    return directory.path;\n  };\n\n  getSearchResultText = (directory: TreeComponentWithPath) => {\n    return directory.path;\n  };\n\n  handleSearch = (query: string, page: number) => {\n    const { branchLike } = this.props;\n\n    return getDirectories({\n      component: this.props.componentKey,\n      ...getBranchLikeQuery(branchLike),\n      q: query,\n      p: page,\n      ps: 30\n    }).then(({ components, paging }) => ({\n      paging,\n      results: components.filter(dir => dir.path !== undefined)\n    }));\n  };\n\n  loadSearchResultCount = (directories: TreeComponentWithPath[]) => {\n    return this.props.loadSearchResultCount('directories', {\n      directories: directories.map(directory => directory.path)\n    });\n  };\n\n  renderDirectory = (directory: React.ReactNode) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"DIR\" />\n      {directory}\n    </>\n  );\n\n  renderFacetItem = (path: string) => {\n    return this.renderDirectory(collapsePath(path, 15));\n  };\n\n  renderSearchResult = (directory: TreeComponentWithPath, term: string) => {\n    return this.renderDirectory(highlightTerm(collapsePath(directory.path, 15), term));\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<TreeComponentWithPath>\n        facetHeader={translate('issues.facet.directories')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getFacetItemText}\n        getSearchResultKey={this.getSearchResultKey}\n        getSearchResultText={this.getSearchResultText}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={3}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"directories\"\n        query={omit(this.props.query, 'directories')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_directories')}\n        stats={this.props.stats}\n        values={this.props.directories}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport { getFiles } from '../../../api/components';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport QualifierIcon from '../../../components/icons/QualifierIcon';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { translate } from '../../../helpers/l10n';\nimport { collapsePath, splitPath } from '../../../helpers/path';\nimport { highlightTerm } from '../../../helpers/search';\nimport { isDefined } from '../../../helpers/types';\nimport { BranchLike } from '../../../types/branch-like';\nimport { TreeComponentWithPath } from '../../../types/component';\nimport { Facet } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  branchLike?: BranchLike;\n  componentKey: string;\n  fetching: boolean;\n  files: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: Facet | undefined;\n}\n\nconst MAX_PATH_LENGTH = 15;\nexport default class FileFacet extends React.PureComponent<Props> {\n  getFacetItemText = (path: string) => {\n    return path;\n  };\n\n  getSearchResultKey = (file: TreeComponentWithPath) => {\n    return file.path;\n  };\n\n  getSearchResultText = (file: TreeComponentWithPath) => {\n    return file.path;\n  };\n\n  handleSearch = (query: string, page: number) => {\n    const { branchLike } = this.props;\n\n    return getFiles({\n      component: this.props.componentKey,\n      ...getBranchLikeQuery(branchLike),\n      q: query,\n      p: page,\n      ps: 30\n    }).then(({ components, paging }) => ({\n      paging,\n      results: components.filter(file => file.path !== undefined)\n    }));\n  };\n\n  loadSearchResultCount = (files: TreeComponentWithPath[]) => {\n    return this.props.loadSearchResultCount('files', {\n      files: files\n        .map(file => {\n          return file.path;\n        })\n        .filter(isDefined)\n    });\n  };\n\n  renderFile = (file: React.ReactNode) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"FIL\" />\n      {file}\n    </>\n  );\n\n  renderFacetItem = (path: string) => {\n    return this.renderFile(path);\n  };\n\n  renderSearchResult = (file: TreeComponentWithPath, term: string) => {\n    const { head, tail } = splitPath(collapsePath(file.path, MAX_PATH_LENGTH));\n\n    return this.renderFile(\n      <>\n        {head}/{highlightTerm(tail, term)}\n      </>\n    );\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<TreeComponentWithPath>\n        facetHeader={translate('issues.facet.files')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getFacetItemText}\n        getSearchResultKey={this.getSearchResultKey}\n        getSearchResultText={this.getSearchResultText}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={3}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"files\"\n        query={omit(this.props.query, 'files')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_files')}\n        stats={this.props.stats}\n        values={this.props.files}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, uniqBy } from 'lodash';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\nimport { getLanguages, Store } from '../../../store/rootReducer';\nimport { Facet, ReferencedLanguage } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface InstalledLanguage {\n  key: string;\n  name: string;\n}\n\ninterface Props {\n  fetching: boolean;\n  installedLanguages: InstalledLanguage[];\n  languages: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  referencedLanguages: T.Dict<ReferencedLanguage>;\n  stats: T.Dict<number> | undefined;\n}\n\nclass LanguageFacet extends React.PureComponent<Props> {\n  getLanguageName = (language: string) => {\n    const { referencedLanguages } = this.props;\n    return referencedLanguages[language] ? referencedLanguages[language].name : language;\n  };\n\n  handleSearch = (query: string) => {\n    const options = this.getAllPossibleOptions();\n    const results = options.filter(language =>\n      language.name.toLowerCase().includes(query.toLowerCase())\n    );\n    const paging = { pageIndex: 1, pageSize: results.length, total: results.length };\n    return Promise.resolve({ paging, results });\n  };\n\n  getAllPossibleOptions = () => {\n    const { installedLanguages, stats = {} } = this.props;\n\n    // add any language that presents in the facet, but might not be installed\n    // for such language we don't know their display name, so let's just use their key\n    // and make sure we reference each language only once\n    return uniqBy(\n      [...installedLanguages, ...Object.keys(stats).map(key => ({ key, name: key }))],\n      language => language.key\n    );\n  };\n\n  loadSearchResultCount = (languages: InstalledLanguage[]) => {\n    return this.props.loadSearchResultCount('languages', {\n      languages: languages.map(language => language.key)\n    });\n  };\n\n  renderSearchResult = ({ name }: InstalledLanguage, term: string) => {\n    return highlightTerm(name, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<InstalledLanguage>\n        facetHeader={translate('issues.facet.languages')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getLanguageName}\n        getSearchResultKey={language => language.key}\n        getSearchResultText={language => language.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={1}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"languages\"\n        query={omit(this.props.query, 'languages')}\n        renderFacetItem={this.getLanguageName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_languages')}\n        stats={this.props.stats}\n        values={this.props.languages}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  installedLanguages: Object.values(getLanguages(state))\n});\n\nexport default connect(mapStateToProps)(LanguageFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport { getTree, searchProjects } from '../../../api/components';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport QualifierIcon from '../../../components/icons/QualifierIcon';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\nimport { ComponentQualifier } from '../../../types/component';\nimport { Facet, ReferencedComponent } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  projects: string[];\n  query: Query;\n  referencedComponents: T.Dict<ReferencedComponent>;\n  stats: T.Dict<number> | undefined;\n}\n\ninterface SearchedProject {\n  key: string;\n  name: string;\n}\n\nexport default class ProjectFacet extends React.PureComponent<Props> {\n  handleSearch = (\n    query: string,\n    page = 1\n  ): Promise<{ results: SearchedProject[]; paging: T.Paging }> => {\n    const { component } = this.props;\n    if (\n      component &&\n      [\n        ComponentQualifier.Portfolio,\n        ComponentQualifier.SubPortfolio,\n        ComponentQualifier.Application\n      ].includes(component.qualifier as ComponentQualifier)\n    ) {\n      return getTree({\n        component: component.key,\n        p: page,\n        ps: 30,\n        q: query,\n        qualifiers: ComponentQualifier.Project\n      }).then(({ components, paging }) => ({\n        paging,\n        results: components.map(component => ({\n          key: component.refKey || component.key,\n          name: component.name\n        }))\n      }));\n    }\n\n    return searchProjects({\n      p: page,\n      ps: 30,\n      filter: query ? `query = \"${query}\"` : ''\n    }).then(({ components, paging }) => ({\n      paging,\n      results: components.map(component => ({\n        key: component.key,\n        name: component.name\n      }))\n    }));\n  };\n\n  getProjectName = (project: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[project] ? referencedComponents[project].name : project;\n  };\n\n  loadSearchResultCount = (projects: SearchedProject[]) => {\n    return this.props.loadSearchResultCount('projects', {\n      projects: projects.map(project => project.key)\n    });\n  };\n\n  renderFacetItem = (projectKey: string) => {\n    return (\n      <span>\n        <QualifierIcon className=\"little-spacer-right\" qualifier={ComponentQualifier.Project} />\n        {this.getProjectName(projectKey)}\n      </span>\n    );\n  };\n\n  renderSearchResult = (project: Pick<SearchedProject, 'name'>, term: string) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier={ComponentQualifier.Project} />\n      {highlightTerm(project.name, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<SearchedProject>\n        facetHeader={translate('issues.facet.projects')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getProjectName}\n        getSearchResultKey={project => project.key}\n        getSearchResultText={project => project.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"projects\"\n        query={omit(this.props.query, 'projects')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_projects')}\n        stats={this.props.stats}\n        values={this.props.projects}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport { translate } from '../../../helpers/l10n';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  resolved: boolean;\n  resolutions: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nconst RESOLUTIONS = ['', 'FALSE-POSITIVE', 'FIXED', 'REMOVED', 'WONTFIX'];\n\nexport default class ResolutionFacet extends React.PureComponent<Props> {\n  property = 'resolutions';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { resolutions } = this.props;\n    if (itemValue === '') {\n      // unresolved\n      this.props.onChange({ resolved: !this.props.resolved, resolutions: [] });\n    } else if (multiple) {\n      const newValue = orderBy(\n        resolutions.includes(itemValue)\n          ? without(resolutions, itemValue)\n          : [...resolutions, itemValue]\n      );\n      this.props.onChange({ resolved: true, [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        resolved: true,\n        [this.property]:\n          resolutions.includes(itemValue) && resolutions.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ resolved: false, resolutions: [] });\n  };\n\n  isFacetItemActive(resolution: string) {\n    return resolution === '' ? !this.props.resolved : this.props.resolutions.includes(resolution);\n  }\n\n  getFacetItemName(resolution: string) {\n    return resolution === '' ? translate('unresolved') : translate('issue.resolution', resolution);\n  }\n\n  getStat(resolution: string) {\n    const { stats } = this.props;\n    return stats ? stats[resolution] : undefined;\n  }\n\n  renderItem = (resolution: string) => {\n    const active = this.isFacetItemActive(resolution);\n    const stat = this.getStat(resolution);\n\n    return (\n      <FacetItem\n        active={active}\n        halfWidth={true}\n        key={resolution}\n        name={this.getFacetItemName(resolution)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.getFacetItemName(resolution)}\n        value={resolution}\n      />\n    );\n  };\n\n  render() {\n    const { resolutions, stats = {} } = this.props;\n    const values = resolutions.map(resolution => this.getFacetItemName(resolution));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>{RESOLUTIONS.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint\n              options={Object.keys(stats).length}\n              values={resolutions.length}\n            />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport { searchRules } from '../../../api/rules';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { translate } from '../../../helpers/l10n';\nimport { Facet, ReferencedRule } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  languages: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  referencedRules: T.Dict<ReferencedRule>;\n  rules: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nexport default class RuleFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string, page = 1) => {\n    const { languages } = this.props;\n    return searchRules({\n      f: 'name,langName',\n      languages: languages.length ? languages.join() : undefined,\n      q: query,\n      p: page,\n      ps: 30,\n      s: 'name',\n      include_external: true\n    }).then(response => ({\n      paging: { pageIndex: response.p, pageSize: response.ps, total: response.total },\n      results: response.rules\n    }));\n  };\n\n  loadSearchResultCount = (rules: T.Rule[]) => {\n    return this.props.loadSearchResultCount('rules', { rules: rules.map(rule => rule.key) });\n  };\n\n  getRuleName = (ruleKey: string) => {\n    const rule = this.props.referencedRules[ruleKey];\n    return rule ? this.formatRuleName(rule.name, rule.langName) : ruleKey;\n  };\n\n  formatRuleName = (name: string, langName: string | undefined) => {\n    // external rules don't have a language associated\n    // see https://jira.sonarsource.com/browse/MMF-1407\n    return langName ? `(${langName}) ${name}` : name;\n  };\n\n  renderSearchResult = (rule: T.Rule) => {\n    return this.formatRuleName(rule.name, rule.langName);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<T.Rule>\n        facetHeader={translate('issues.facet.rules')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getRuleName}\n        getSearchResultKey={rule => rule.key}\n        getSearchResultText={rule => rule.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"rules\"\n        query={omit(this.props.query, 'rules')}\n        renderFacetItem={this.getRuleName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_rules')}\n        stats={this.props.stats}\n        values={this.props.rules}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { without } from 'lodash';\nimport * as React from 'react';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport QualifierIcon from '../../../components/icons/QualifierIcon';\nimport { SOURCE_SCOPES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\nimport { formatFacetStat, Query } from '../utils';\n\nexport interface ScopeFacetProps {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  scopes: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nexport default function ScopeFacet(props: ScopeFacetProps) {\n  const { fetching, open, scopes = [], stats = {} } = props;\n  const values = scopes.map(scope => translate('issue.scope', scope));\n\n  return (\n    <FacetBox property=\"scopes\">\n      <FacetHeader\n        fetching={fetching}\n        name={translate('issues.facet.scopes')}\n        onClear={() => props.onChange({ scopes: [] })}\n        onClick={() => props.onToggle('scopes')}\n        open={open}\n        values={values}\n      />\n\n      {open && (\n        <>\n          <FacetItemsList>\n            {SOURCE_SCOPES.map(({ scope, qualifier }) => {\n              const active = scopes.includes(scope);\n              const stat = stats[scope];\n\n              return (\n                <FacetItem\n                  active={active}\n                  key={scope}\n                  name={\n                    <span className=\"display-flex-center\">\n                      <QualifierIcon className=\"little-spacer-right\" qualifier={qualifier} />{' '}\n                      {translate('issue.scope', scope)}\n                    </span>\n                  }\n                  onClick={(itemValue: string, multiple: boolean) => {\n                    if (multiple) {\n                      props.onChange({\n                        scopes: active ? without(scopes, itemValue) : [...scopes, itemValue]\n                      });\n                    } else {\n                      props.onChange({\n                        scopes: active && scopes.length === 1 ? [] : [itemValue]\n                      });\n                    }\n                  }}\n                  stat={formatFacetStat(stat)}\n                  value={scope}\n                />\n              );\n            })}\n          </FacetItemsList>\n          <MultipleSelectionHint options={Object.keys(stats).length} values={scopes.length} />\n        </>\n      )}\n    </FacetBox>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { translate } from '../../../helpers/l10n';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  severities: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nconst SEVERITIES = ['BLOCKER', 'MINOR', 'CRITICAL', 'INFO', 'MAJOR'];\n\nexport default class SeverityFacet extends React.PureComponent<Props> {\n  property = 'severities';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { severities } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        severities.includes(itemValue) ? without(severities, itemValue) : [...severities, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: severities.includes(itemValue) && severities.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(severity: string) {\n    const { stats } = this.props;\n    return stats ? stats[severity] : undefined;\n  }\n\n  renderItem = (severity: string) => {\n    const active = this.props.severities.includes(severity);\n    const stat = this.getStat(severity);\n\n    return (\n      <FacetItem\n        active={active}\n        halfWidth={true}\n        key={severity}\n        name={<SeverityHelper severity={severity} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={translate('severity', severity)}\n        value={severity}\n      />\n    );\n  };\n\n  render() {\n    const { severities, stats = {} } = this.props;\n    const values = severities.map(severity => translate('severity', severity));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>{SEVERITIES.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={severities.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport StatusHelper from '../../../components/shared/StatusHelper';\nimport { translate } from '../../../helpers/l10n';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: T.Dict<number> | undefined;\n  statuses: string[];\n}\n\nconst STATUSES = ['OPEN', 'CONFIRMED', 'REOPENED', 'RESOLVED', 'CLOSED'];\n\nexport default class StatusFacet extends React.PureComponent<Props> {\n  property = 'statuses';\n\n  static defaultProps = { open: true };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { statuses } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        statuses.includes(itemValue) ? without(statuses, itemValue) : [...statuses, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: statuses.includes(itemValue) && statuses.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(status: string) {\n    const { stats } = this.props;\n    return stats ? stats[status] : undefined;\n  }\n\n  renderItem = (status: string) => {\n    const active = this.props.statuses.includes(status);\n    const stat = this.getStat(status);\n\n    return (\n      <FacetItem\n        active={active}\n        halfWidth={true}\n        key={status}\n        name={<StatusHelper resolution={undefined} status={status} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={translate('issue.status', status)}\n        value={status}\n      />\n    );\n  };\n\n  render() {\n    const { statuses, stats = {} } = this.props;\n    const values = statuses.map(status => translate('issue.status', status));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>{STATUSES.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={statuses.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport { searchIssueTags } from '../../../api/issues';\nimport { colors } from '../../../app/theme';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport TagsIcon from '../../../components/icons/TagsIcon';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\nimport { Facet } from '../../../types/issues';\nimport { Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: T.Dict<number> | undefined;\n  tags: string[];\n}\n\nconst SEARCH_SIZE = 100;\n\nexport default class TagFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string) => {\n    const { component } = this.props;\n    const project =\n      component && ['TRK', 'VW', 'APP'].includes(component.qualifier) ? component.key : undefined;\n    return searchIssueTags({\n      project,\n      ps: SEARCH_SIZE,\n      q: query\n    }).then(tags => ({ maxResults: tags.length === SEARCH_SIZE, results: tags }));\n  };\n\n  getTagName = (tag: string) => {\n    return tag;\n  };\n\n  loadSearchResultCount = (tags: string[]) => {\n    return this.props.loadSearchResultCount('tags', { tags });\n  };\n\n  renderTag = (tag: string) => {\n    return (\n      <>\n        <TagsIcon className=\"little-spacer-right\" fill={colors.gray60} />\n        {tag}\n      </>\n    );\n  };\n\n  renderSearchResult = (tag: string, term: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={colors.gray60} />\n      {highlightTerm(tag, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('issues.facet.tags')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getTagName}\n        getSearchResultKey={tag => tag}\n        getSearchResultText={tag => tag}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"tags\"\n        query={omit(this.props.query, 'tags')}\n        renderFacetItem={this.renderTag}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_tags')}\n        stats={this.props.stats}\n        values={this.props.tags}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport IssueTypeIcon from '../../../components/icons/IssueTypeIcon';\nimport { ISSUE_TYPES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: T.Dict<number> | undefined;\n  types: string[];\n}\n\nexport default class TypeFacet extends React.PureComponent<Props> {\n  property = 'types';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { types } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        types.includes(itemValue) ? without(types, itemValue) : [...types, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: types.includes(itemValue) && types.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(type: string) {\n    const { stats } = this.props;\n    return stats ? stats[type] : undefined;\n  }\n\n  isFacetItemActive(type: string) {\n    return this.props.types.includes(type);\n  }\n\n  renderItem = (type: string) => {\n    const active = this.isFacetItemActive(type);\n    const stat = this.getStat(type);\n\n    return (\n      <FacetItem\n        active={active}\n        key={type}\n        name={\n          <span className=\"display-flex-center\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={type} />{' '}\n            {translate('issue.type', type)}\n          </span>\n        }\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        value={type}\n      />\n    );\n  };\n\n  render() {\n    const { types, stats = {} } = this.props;\n    const values = types.map(type => translate('issue.type', type));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>\n              {ISSUE_TYPES.filter(t => t !== 'SECURITY_HOTSPOT').map(this.renderItem)}\n            </FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={types.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getGlobalSettingValue, Store } from '../../../store/rootReducer';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier, isApplication, isPortfolioLike } from '../../../types/component';\nimport {\n  Facet,\n  ReferencedComponent,\n  ReferencedLanguage,\n  ReferencedRule\n} from '../../../types/issues';\nimport { Query } from '../utils';\nimport AssigneeFacet from './AssigneeFacet';\nimport AuthorFacet from './AuthorFacet';\nimport CreationDateFacet from './CreationDateFacet';\nimport DirectoryFacet from './DirectoryFacet';\nimport FileFacet from './FileFacet';\nimport LanguageFacet from './LanguageFacet';\nimport ProjectFacet from './ProjectFacet';\nimport ResolutionFacet from './ResolutionFacet';\nimport RuleFacet from './RuleFacet';\nimport ScopeFacet from './ScopeFacet';\nimport SeverityFacet from './SeverityFacet';\nimport StandardFacet from './StandardFacet';\nimport StatusFacet from './StatusFacet';\nimport TagFacet from './TagFacet';\nimport TypeFacet from './TypeFacet';\n\nexport interface Props {\n  branchLike?: BranchLike;\n  component: T.Component | undefined;\n  createdAfterIncludesTime: boolean;\n  facets: T.Dict<Facet | undefined>;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  loadingFacets: T.Dict<boolean>;\n  myIssues: boolean;\n  onFacetToggle: (property: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  openFacets: T.Dict<boolean>;\n  query: Query;\n  referencedComponentsById: T.Dict<ReferencedComponent>;\n  referencedComponentsByKey: T.Dict<ReferencedComponent>;\n  referencedLanguages: T.Dict<ReferencedLanguage>;\n  referencedRules: T.Dict<ReferencedRule>;\n  referencedUsers: T.Dict<T.UserBase>;\n  disableDeveloperAggregatedInfo: boolean;\n}\n\nexport class Sidebar extends React.PureComponent<Props> {\n  renderComponentFacets() {\n    const { component, facets, loadingFacets, openFacets, query, branchLike } = this.props;\n    const hasFileOrDirectory =\n      !isApplication(component?.qualifier) && !isPortfolioLike(component?.qualifier);\n    if (!component || !hasFileOrDirectory) {\n      return null;\n    }\n    const commonProps = {\n      componentKey: component.key,\n      loadSearchResultCount: this.props.loadSearchResultCount,\n      onChange: this.props.onFilterChange,\n      onToggle: this.props.onFacetToggle,\n      query\n    };\n    return (\n      <>\n        {component.qualifier !== ComponentQualifier.Directory && (\n          <DirectoryFacet\n            branchLike={branchLike}\n            directories={query.directories}\n            fetching={loadingFacets.directories === true}\n            open={!!openFacets.directories}\n            stats={facets.directories}\n            {...commonProps}\n          />\n        )}\n        <FileFacet\n          branchLike={branchLike}\n          fetching={loadingFacets.files === true}\n          files={query.files}\n          open={!!openFacets.files}\n          stats={facets.files}\n          {...commonProps}\n        />\n      </>\n    );\n  }\n\n  render() {\n    const { component, createdAfterIncludesTime, facets, openFacets, query } = this.props;\n\n    const displayProjectsFacet =\n      !component || !['TRK', 'BRC', 'DIR', 'DEV_PRJ'].includes(component.qualifier);\n    const displayAuthorFacet = !component || component.qualifier !== 'DEV';\n\n    return (\n      <>\n        <TypeFacet\n          fetching={this.props.loadingFacets.types === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.types}\n          stats={facets.types}\n          types={query.types}\n        />\n        <SeverityFacet\n          fetching={this.props.loadingFacets.severities === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.severities}\n          severities={query.severities}\n          stats={facets.severities}\n        />\n        <ScopeFacet\n          fetching={this.props.loadingFacets.scopes === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.scopes}\n          stats={facets.scopes}\n          scopes={query.scopes}\n        />\n        <ResolutionFacet\n          fetching={this.props.loadingFacets.resolutions === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.resolutions}\n          resolutions={query.resolutions}\n          resolved={query.resolved}\n          stats={facets.resolutions}\n        />\n        <StatusFacet\n          fetching={this.props.loadingFacets.statuses === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.statuses}\n          stats={facets.statuses}\n          statuses={query.statuses}\n        />\n        <StandardFacet\n          cwe={query.cwe}\n          cweOpen={!!openFacets.cwe}\n          cweStats={facets.cwe}\n          fetchingCwe={this.props.loadingFacets.cwe === true}\n          fetchingOwaspTop10={this.props.loadingFacets.owaspTop10 === true}\n          fetchingSansTop25={this.props.loadingFacets.sansTop25 === true}\n          fetchingSonarSourceSecurity={this.props.loadingFacets.sonarsourceSecurity === true}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.standards}\n          owaspTop10={query.owaspTop10}\n          owaspTop10Open={!!openFacets.owaspTop10}\n          owaspTop10Stats={facets.owaspTop10}\n          query={query}\n          sansTop25={query.sansTop25}\n          sansTop25Open={!!openFacets.sansTop25}\n          sansTop25Stats={facets.sansTop25}\n          sonarsourceSecurity={query.sonarsourceSecurity}\n          sonarsourceSecurityOpen={!!openFacets.sonarsourceSecurity}\n          sonarsourceSecurityStats={facets.sonarsourceSecurity}\n        />\n        <CreationDateFacet\n          component={component}\n          createdAfter={query.createdAfter}\n          createdAfterIncludesTime={createdAfterIncludesTime}\n          createdAt={query.createdAt}\n          createdBefore={query.createdBefore}\n          createdInLast={query.createdInLast}\n          fetching={this.props.loadingFacets.createdAt === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.createdAt}\n          sinceLeakPeriod={query.sinceLeakPeriod}\n          stats={facets.createdAt}\n        />\n        <LanguageFacet\n          fetching={this.props.loadingFacets.languages === true}\n          languages={query.languages}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.languages}\n          query={query}\n          referencedLanguages={this.props.referencedLanguages}\n          stats={facets.languages}\n        />\n        <RuleFacet\n          fetching={this.props.loadingFacets.rules === true}\n          languages={query.languages}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.rules}\n          query={query}\n          referencedRules={this.props.referencedRules}\n          rules={query.rules}\n          stats={facets.rules}\n        />\n        <TagFacet\n          component={component}\n          fetching={this.props.loadingFacets.tags === true}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.tags}\n          query={query}\n          stats={facets.tags}\n          tags={query.tags}\n        />\n        {displayProjectsFacet && (\n          <ProjectFacet\n            component={component}\n            fetching={this.props.loadingFacets.projects === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.projects}\n            projects={query.projects}\n            query={query}\n            referencedComponents={this.props.referencedComponentsByKey}\n            stats={facets.projects}\n          />\n        )}\n        {this.renderComponentFacets()}\n        {!this.props.myIssues && !this.props.disableDeveloperAggregatedInfo && (\n          <AssigneeFacet\n            assigned={query.assigned}\n            assignees={query.assignees}\n            fetching={this.props.loadingFacets.assignees === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.assignees}\n            query={query}\n            referencedUsers={this.props.referencedUsers}\n            stats={facets.assignees}\n          />\n        )}\n        {displayAuthorFacet && !this.props.disableDeveloperAggregatedInfo && (\n          <AuthorFacet\n            author={query.author}\n            component={component}\n            fetching={this.props.loadingFacets.author === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.author}\n            query={query}\n            stats={facets.author}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport const mapStateToProps = (state: Store) => {\n  const disableDeveloperAggregatedInfo = getGlobalSettingValue(\n    state,\n    'sonar.developerAggregatedInfo.disabled'\n  );\n  return {\n    disableDeveloperAggregatedInfo: disableDeveloperAggregatedInfo?.value === true.toString()\n  };\n};\n\nexport default connect(mapStateToProps)(Sidebar);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { pickBy, sortBy } from 'lodash';\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { bulkChangeIssues, searchIssueTags } from '../../../api/issues';\nimport throwGlobalError from '../../../app/utils/throwGlobalError';\nimport FormattingTips from '../../../components/common/FormattingTips';\nimport { ResetButtonLink, SubmitButton } from '../../../components/controls/buttons';\nimport Checkbox from '../../../components/controls/Checkbox';\nimport HelpTooltip from '../../../components/controls/HelpTooltip';\nimport Modal from '../../../components/controls/Modal';\nimport Radio from '../../../components/controls/Radio';\nimport SearchSelect from '../../../components/controls/SearchSelect';\nimport Select from '../../../components/controls/Select';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport IssueTypeIcon from '../../../components/icons/IssueTypeIcon';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { Alert } from '../../../components/ui/Alert';\nimport Avatar from '../../../components/ui/Avatar';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { isLoggedIn, isUserActive } from '../../../helpers/users';\nimport { searchAssignees } from '../utils';\n\ninterface AssigneeOption {\n  avatar?: string;\n  email?: string;\n  label: string;\n  value: string;\n}\n\ninterface TagOption {\n  label: string;\n  value: string;\n}\n\ninterface Props {\n  component: T.Component | undefined;\n  currentUser: T.CurrentUser;\n  fetchIssues: (x: {}) => Promise<{ issues: T.Issue[]; paging: T.Paging }>;\n  onClose: () => void;\n  onDone: () => void;\n}\n\ninterface FormFields {\n  addTags?: Array<{ label: string; value: string }>;\n  assignee?: AssigneeOption;\n  comment?: string;\n  notifications?: boolean;\n  removeTags?: Array<{ label: string; value: string }>;\n  severity?: string;\n  transition?: string;\n  type?: string;\n}\n\ninterface State extends FormFields {\n  initialTags: Array<{ label: string; value: string }>;\n  issues: T.Issue[];\n  // used for initial loading of issues\n  loading: boolean;\n  paging?: T.Paging;\n  // used when submitting a form\n  submitting: boolean;\n}\n\ntype AssigneeSelectType = new () => SearchSelect<AssigneeOption>;\nconst AssigneeSelect = SearchSelect as AssigneeSelectType;\n\ntype TagSelectType = new () => SearchSelect<TagOption>;\nconst TagSelect = SearchSelect as TagSelectType;\n\nexport const MAX_PAGE_SIZE = 500;\n\nexport default class BulkChangeModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { initialTags: [], issues: [], loading: true, submitting: false };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    Promise.all([this.loadIssues(), searchIssueTags({})]).then(\n      ([{ issues, paging }, tags]) => {\n        if (this.mounted) {\n          if (issues.length > MAX_PAGE_SIZE) {\n            issues = issues.slice(0, MAX_PAGE_SIZE);\n          }\n\n          this.setState({\n            initialTags: tags.map(tag => ({ label: tag, value: tag })),\n            issues,\n            loading: false,\n            paging\n          });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadIssues = () => {\n    return this.props.fetchIssues({ additionalFields: 'actions,transitions', ps: MAX_PAGE_SIZE });\n  };\n\n  getDefaultAssignee = () => {\n    const { currentUser } = this.props;\n    const { issues } = this.state;\n    const options = [];\n\n    if (isLoggedIn(currentUser)) {\n      const canBeAssignedToMe =\n        issues.filter(issue => issue.assignee !== currentUser.login).length > 0;\n      if (canBeAssignedToMe) {\n        options.push({\n          avatar: currentUser.avatar,\n          label: currentUser.name,\n          value: currentUser.login\n        });\n      }\n    }\n\n    const canBeUnassigned = issues.filter(issue => issue.assignee).length > 0;\n    if (canBeUnassigned) {\n      options.push({ label: translate('unassigned'), value: '' });\n    }\n\n    return options;\n  };\n\n  handleAssigneeSearch = (query: string) => {\n    return searchAssignees(query).then(({ results }) =>\n      results.map(r => {\n        const userInfo = r.name || r.login;\n\n        return {\n          avatar: r.avatar,\n          label: isUserActive(r) ? userInfo : translateWithParameters('user.x_deleted', userInfo),\n          value: r.login\n        };\n      })\n    );\n  };\n\n  handleAssigneeSelect = (assignee: AssigneeOption) => {\n    this.setState({ assignee });\n  };\n\n  handleTagsSearch = (query: string) => {\n    return searchIssueTags({ q: query }).then(tags =>\n      tags.map(tag => ({ label: tag, value: tag }))\n    );\n  };\n\n  handleTagsSelect = (field: 'addTags' | 'removeTags') => (\n    options: Array<{ label: string; value: string }>\n  ) => {\n    this.setState<keyof FormFields>({ [field]: options });\n  };\n\n  handleFieldCheck = (field: keyof FormFields) => (checked: boolean) => {\n    if (!checked) {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    } else if (field === 'notifications') {\n      this.setState<keyof FormFields>({ [field]: true });\n    }\n  };\n\n  handleRadioTransitionChange = (transition: string) => {\n    this.setState({ transition });\n  };\n\n  handleCommentChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) => {\n    this.setState({ comment: event.currentTarget.value });\n  };\n\n  handleSelectFieldChange = (field: 'severity' | 'type') => (data: { value: string } | null) => {\n    if (data) {\n      this.setState<keyof FormFields>({ [field]: data.value });\n    } else {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    }\n  };\n\n  handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const query = pickBy(\n      {\n        add_tags: this.state.addTags && this.state.addTags.map(t => t.value).join(),\n        assign: this.state.assignee ? this.state.assignee.value : null,\n        comment: this.state.comment,\n        do_transition: this.state.transition,\n        remove_tags: this.state.removeTags && this.state.removeTags.map(t => t.value).join(),\n        sendNotifications: this.state.notifications,\n        set_severity: this.state.severity,\n        set_type: this.state.type\n      },\n      x => x !== undefined\n    );\n\n    const issueKeys = this.state.issues.map(issue => issue.key);\n\n    this.setState({ submitting: true });\n    bulkChangeIssues(issueKeys, query).then(\n      () => {\n        this.setState({ submitting: false });\n        this.props.onDone();\n      },\n      error => {\n        this.setState({ submitting: false });\n        throwGlobalError(error);\n      }\n    );\n  };\n\n  getAvailableTransitions(issues: T.Issue[]) {\n    const transitions: T.Dict<number> = {};\n    issues.forEach(issue => {\n      if (issue.transitions) {\n        issue.transitions.forEach(t => {\n          if (transitions[t] !== undefined) {\n            transitions[t]++;\n          } else {\n            transitions[t] = 1;\n          }\n        });\n      }\n    });\n    return sortBy(Object.keys(transitions)).map(transition => ({\n      transition,\n      count: transitions[transition]\n    }));\n  }\n\n  canSubmit = () => {\n    const { addTags, assignee, removeTags, severity, transition, type } = this.state;\n\n    return Boolean(\n      (addTags && addTags.length > 0) ||\n        (removeTags && removeTags.length > 0) ||\n        assignee ||\n        severity ||\n        transition ||\n        type\n    );\n  };\n\n  renderLoading = () => (\n    <div>\n      <div className=\"modal-head\">\n        <h2>{translate('bulk_change')}</h2>\n      </div>\n      <div className=\"modal-body\">\n        <div className=\"text-center\">\n          <i className=\"spinner spacer\" />\n        </div>\n      </div>\n      <div className=\"modal-foot\">\n        <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n      </div>\n    </div>\n  );\n\n  renderAffected = (affected: number) => (\n    <div className=\"pull-right note\">\n      ({translateWithParameters('issue_bulk_change.x_issues', affected)})\n    </div>\n  );\n\n  renderField = (\n    field: 'addTags' | 'assignee' | 'removeTags' | 'severity' | 'type',\n    label: string,\n    affected: number | undefined,\n    input: React.ReactNode\n  ) => (\n    <div className=\"modal-field\" id={`issues-bulk-change-${field}`}>\n      <label htmlFor={field}>{translate(label)}</label>\n      {input}\n      {affected !== undefined && this.renderAffected(affected)}\n    </div>\n  );\n\n  renderAssigneeOption = (option: AssigneeOption) => {\n    return (\n      <span>\n        {option.avatar !== undefined && (\n          <Avatar className=\"spacer-right\" hash={option.avatar} name={option.label} size={16} />\n        )}\n        {option.label}\n      </span>\n    );\n  };\n\n  renderAssigneeField = () => {\n    const affected = this.state.issues.filter(hasAction('assign')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <AssigneeSelect\n        className=\"input-super-large\"\n        clearable={true}\n        defaultOptions={this.getDefaultAssignee()}\n        onSearch={this.handleAssigneeSearch}\n        onSelect={this.handleAssigneeSelect}\n        renderOption={this.renderAssigneeOption}\n        resetOnBlur={false}\n        value={this.state.assignee}\n      />\n    );\n\n    return this.renderField('assignee', 'issue.assign.formlink', affected, input);\n  };\n\n  renderTypeField = () => {\n    const affected = this.state.issues.filter(hasAction('set_type')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const types: T.IssueType[] = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n    const options = types.map(type => ({ label: translate('issue.type', type), value: type }));\n\n    const optionRenderer = (option: { label: string; value: string }) => (\n      <>\n        <IssueTypeIcon query={option.value} />\n        <span className=\"little-spacer-left\">{option.label}</span>\n      </>\n    );\n\n    const input = (\n      <Select\n        className=\"input-super-large\"\n        clearable={true}\n        onChange={this.handleSelectFieldChange('type')}\n        optionRenderer={optionRenderer}\n        options={options}\n        searchable={false}\n        value={this.state.type}\n        valueRenderer={optionRenderer}\n      />\n    );\n\n    return this.renderField('type', 'issue.set_type', affected, input);\n  };\n\n  renderSeverityField = () => {\n    const affected = this.state.issues.filter(hasAction('set_severity')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const severities = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n    const options = severities.map(severity => ({\n      label: translate('severity', severity),\n      value: severity\n    }));\n\n    const input = (\n      <Select\n        className=\"input-super-large\"\n        clearable={true}\n        onChange={this.handleSelectFieldChange('severity')}\n        optionRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n        options={options}\n        searchable={false}\n        value={this.state.severity}\n        valueRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n      />\n    );\n\n    return this.renderField('severity', 'issue.set_severity', affected, input);\n  };\n\n  renderTagOption = (option: TagOption) => {\n    return <span>{option.label}</span>;\n  };\n\n  renderTagsField = (field: 'addTags' | 'removeTags', label: string, allowCreate: boolean) => {\n    const { initialTags } = this.state;\n    const affected = this.state.issues.filter(hasAction('set_tags')).length;\n\n    if (initialTags === undefined || affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <TagSelect\n        canCreate={allowCreate}\n        className=\"input-super-large\"\n        clearable={true}\n        defaultOptions={this.state.initialTags}\n        minimumQueryLength={0}\n        multi={true}\n        onMultiSelect={this.handleTagsSelect(field)}\n        onSearch={this.handleTagsSearch}\n        promptTextCreator={promptCreateTag}\n        renderOption={this.renderTagOption}\n        resetOnBlur={false}\n        value={this.state[field]}\n      />\n    );\n\n    return this.renderField(field, label, affected, input);\n  };\n\n  renderTransitionsField = () => {\n    const transitions = this.getAvailableTransitions(this.state.issues);\n\n    if (transitions.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label>{translate('issue.transition')}</label>\n        {transitions.map(transition => (\n          <span\n            className=\"bulk-change-radio-button display-flex-center display-flex-space-between\"\n            key={transition.transition}>\n            <Radio\n              checked={this.state.transition === transition.transition}\n              onCheck={this.handleRadioTransitionChange}\n              value={transition.transition}>\n              {translate('issue.transition', transition.transition)}\n            </Radio>\n            {this.renderAffected(transition.count)}\n          </span>\n        ))}\n      </div>\n    );\n  };\n\n  renderCommentField = () => {\n    const affected = this.state.issues.filter(hasAction('comment')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label htmlFor=\"comment\">\n          <span className=\"text-middle\">{translate('issue.comment.formlink')}</span>\n          <HelpTooltip\n            className=\"spacer-left\"\n            overlay={translate('issue_bulk_change.comment.help')}\n          />\n        </label>\n        <textarea\n          id=\"comment\"\n          onChange={this.handleCommentChange}\n          rows={4}\n          value={this.state.comment || ''}\n        />\n        <FormattingTips className=\"modal-field-descriptor text-right\" />\n      </div>\n    );\n  };\n\n  renderNotificationsField = () => (\n    <Checkbox\n      checked={this.state.notifications !== undefined}\n      className=\"display-inline-block spacer-top\"\n      id=\"send-notifications\"\n      onCheck={this.handleFieldCheck('notifications')}\n      right={true}>\n      <strong className=\"little-spacer-right\">{translate('issue.send_notifications')}</strong>\n    </Checkbox>\n  );\n\n  renderForm = () => {\n    const { issues, paging, submitting } = this.state;\n\n    const limitReached = paging && paging.total > MAX_PAGE_SIZE;\n    const canSubmit = this.canSubmit();\n\n    return (\n      <form id=\"bulk-change-form\" onSubmit={this.handleSubmit}>\n        <div className=\"modal-head\">\n          <h2>{translateWithParameters('issue_bulk_change.form.title', issues.length)}</h2>\n        </div>\n\n        <div className=\"modal-body modal-container\">\n          {limitReached && (\n            <Alert variant=\"warning\">\n              <FormattedMessage\n                defaultMessage={translate('issue_bulk_change.max_issues_reached')}\n                id=\"issue_bulk_change.max_issues_reached\"\n                values={{ max: <strong>{MAX_PAGE_SIZE}</strong> }}\n              />\n            </Alert>\n          )}\n\n          {this.renderAssigneeField()}\n          {this.renderTypeField()}\n          {this.renderSeverityField()}\n          {this.renderTagsField('addTags', 'issue.add_tags', true)}\n          {this.renderTagsField('removeTags', 'issue.remove_tags', false)}\n          {this.renderTransitionsField()}\n          {this.renderCommentField()}\n          {issues.length > 0 && this.renderNotificationsField()}\n          {issues.length === 0 && (\n            <Alert variant=\"warning\">{translate('issue_bulk_change.no_match')}</Alert>\n          )}\n        </div>\n\n        <div className=\"modal-foot\">\n          {submitting && <i className=\"spinner spacer-right\" />}\n          <Tooltip overlay={!canSubmit ? translate('issue_bulk_change.no_change_selected') : null}>\n            <SubmitButton\n              disabled={!canSubmit || submitting || issues.length === 0}\n              id=\"bulk-change-submit\">\n              {translate('apply')}\n            </SubmitButton>\n          </Tooltip>\n          <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n        </div>\n      </form>\n    );\n  };\n\n  render() {\n    return (\n      <Modal contentLabel=\"modal\" onRequestClose={this.props.onClose} size=\"small\">\n        {this.state.loading ? this.renderLoading() : this.renderForm()}\n      </Modal>\n    );\n  }\n}\n\nfunction hasAction(action: string) {\n  return (issue: T.Issue) => issue.actions && issue.actions.includes(action);\n}\n\nfunction promptCreateTag(label: string) {\n  return `+ ${label}`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport QualifierIcon from '../../../components/icons/QualifierIcon';\nimport { translateWithParameters } from '../../../helpers/l10n';\nimport { collapsePath, limitComponentName } from '../../../helpers/path';\nimport { getSelectedLocation } from '../utils';\n\ninterface Props {\n  component?: T.Component;\n  issue: T.Issue;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nexport default function ComponentBreadcrumbs({\n  component,\n  issue,\n  selectedFlowIndex,\n  selectedLocationIndex\n}: Props) {\n  const displayProject = !component || !['TRK', 'BRC', 'DIR'].includes(component.qualifier);\n  const displaySubProject = !component || !['BRC', 'DIR'].includes(component.qualifier);\n\n  const selectedLocation = getSelectedLocation(issue, selectedFlowIndex, selectedLocationIndex);\n  const componentName = selectedLocation ? selectedLocation.componentName : issue.componentLongName;\n\n  return (\n    <div\n      aria-label={translateWithParameters(\n        'issues.on_file_x',\n        `${displayProject ? issue.projectName + ', ' : ''}${componentName}`\n      )}\n      className=\"component-name text-ellipsis\">\n      <QualifierIcon className=\"spacer-right\" qualifier={issue.componentQualifier} />\n\n      {displayProject && (\n        <span title={issue.projectName}>\n          {limitComponentName(issue.projectName)}\n          <span className=\"slash-separator\" />\n        </span>\n      )}\n\n      {displaySubProject && issue.subProject !== undefined && issue.subProjectName !== undefined && (\n        <span title={issue.subProjectName}>\n          {limitComponentName(issue.subProjectName)}\n          <span className=\"slash-separator\" />\n        </span>\n      )}\n\n      <span title={componentName}>{collapsePath(componentName || '')}</span>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Issue from '../../../components/issue/Issue';\nimport { BranchLike } from '../../../types/branch-like';\nimport { Query } from '../utils';\nimport ComponentBreadcrumbs from './ComponentBreadcrumbs';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  checked: boolean;\n  component: T.Component | undefined;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck: ((issueKey: string) => void) | undefined;\n  onClick: (issueKey: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: string | undefined;\n  previousIssue: T.Issue | undefined;\n  selected: boolean;\n}\n\nexport default class ListItem extends React.PureComponent<Props> {\n  handleFilter = (property: string, issue: T.Issue) => {\n    const { onFilterChange } = this.props;\n\n    const issuesReset = { issues: [] };\n\n    if (property.startsWith('tag###')) {\n      const tag = property.substr(6);\n      onFilterChange({ ...issuesReset, tags: [tag] });\n    } else {\n      switch (property) {\n        case 'type':\n          onFilterChange({ ...issuesReset, types: [issue.type] });\n          break;\n        case 'severity':\n          onFilterChange({ ...issuesReset, severities: [issue.severity] });\n          break;\n        case 'status':\n          onFilterChange({ ...issuesReset, statuses: [issue.status] });\n          break;\n        case 'resolution':\n          if (issue.resolution) {\n            onFilterChange({ ...issuesReset, resolved: true, resolutions: [issue.resolution] });\n          } else {\n            onFilterChange({ ...issuesReset, resolved: false, resolutions: [] });\n          }\n          break;\n        case 'assignee':\n          if (issue.assignee) {\n            onFilterChange({ ...issuesReset, assigned: true, assignees: [issue.assignee] });\n          } else {\n            onFilterChange({ ...issuesReset, assigned: false, assignees: [] });\n          }\n          break;\n        case 'rule':\n          onFilterChange({ ...issuesReset, rules: [issue.rule] });\n          break;\n        case 'project':\n          onFilterChange({ ...issuesReset, projects: [issue.projectKey] });\n          break;\n        case 'file':\n          onFilterChange({ ...issuesReset, files: [issue.componentUuid] });\n      }\n    }\n  };\n\n  render() {\n    const { branchLike, component, issue, previousIssue } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <li className=\"issues-workspace-list-item\">\n        {displayComponent && (\n          <div className=\"issues-workspace-list-component note\">\n            <ComponentBreadcrumbs component={component} issue={this.props.issue} />\n          </div>\n        )}\n        <Issue\n          branchLike={branchLike}\n          checked={this.props.checked}\n          issue={issue}\n          onChange={this.props.onChange}\n          onCheck={this.props.onCheck}\n          onClick={this.props.onClick}\n          onFilter={this.handleFilter}\n          onPopupToggle={this.props.onPopupToggle}\n          openPopup={this.props.openPopup}\n          selected={this.props.selected}\n        />\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { BranchLike } from '../../../types/branch-like';\nimport { Query, scrollToIssue } from '../utils';\nimport ListItem from './ListItem';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  checked: string[];\n  component: T.Component | undefined;\n  issues: T.Issue[];\n  onFilterChange: (changes: Partial<Query>) => void;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssueCheck: ((issueKey: string) => void) | undefined;\n  onIssueClick: (issueKey: string) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: { issue: string; name: string } | undefined;\n  selectedIssue: T.Issue | undefined;\n}\n\ninterface State {\n  prerender: boolean;\n}\n\nexport default class IssuesList extends React.PureComponent<Props, State> {\n  state: State = {\n    prerender: true\n  };\n\n  componentDidMount() {\n    // ! \\\\ This prerender state variable is to enable the page to be displayed\n    //      immediately, displaying a loader before attempting to render the\n    //      list of issues. See https://jira.sonarsource.com/browse/SONAR-11681\n    setTimeout(() => {\n      this.setState({ prerender: false });\n      if (this.props.selectedIssue) {\n        scrollToIssue(this.props.selectedIssue.key, false);\n      }\n    }, 42);\n  }\n\n  render() {\n    const { branchLike, checked, component, issues, openPopup, selectedIssue } = this.props;\n    const { prerender } = this.state;\n\n    if (prerender) {\n      return (\n        <div>\n          <i className=\"spinner\" />\n        </div>\n      );\n    }\n\n    return (\n      <ul>\n        {issues.map((issue, index) => (\n          <ListItem\n            branchLike={branchLike}\n            checked={checked.includes(issue.key)}\n            component={component}\n            issue={issue}\n            key={issue.key}\n            onChange={this.props.onIssueChange}\n            onCheck={this.props.onIssueCheck}\n            onClick={this.props.onIssueClick}\n            onFilterChange={this.props.onFilterChange}\n            onPopupToggle={this.props.onPopupToggle}\n            openPopup={openPopup && openPopup.issue === issue.key ? openPopup.name : undefined}\n            previousIssue={index > 0 ? issues[index - 1] : undefined}\n            selected={selectedIssue != null && selectedIssue.key === issue.key}\n          />\n        ))}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../../components/lazyLoadComponent';\n\nconst CrossComponentSourceViewer = lazyLoadComponent(\n  () => import(/* webpackPrefetch: true */ './CrossComponentSourceViewerWrapper'),\n  'CrossComponentSourceViewer'\n);\n\nexport default CrossComponentSourceViewer;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport { scrollToElement } from '../../../helpers/scrolling';\nimport { BranchLike } from '../../../types/branch-like';\nimport CrossComponentSourceViewer from '../crossComponentSourceViewer/CrossComponentSourceViewer';\nimport { getLocations, getSelectedLocation } from '../utils';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  issues: T.Issue[];\n  loadIssues: (component: string, from: number, to: number) => Promise<T.Issue[]>;\n  locationsNavigator: boolean;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  openIssue: T.Issue;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class IssuesSourceViewer extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidUpdate(prevProps: Props) {\n    const { openIssue, selectedLocationIndex } = this.props;\n\n    // Scroll back to the issue when the selected location is set to -1\n    const shouldScrollBackToIssue =\n      selectedLocationIndex === -1 && selectedLocationIndex !== prevProps.selectedLocationIndex;\n    if (\n      prevProps.openIssue.component === openIssue.component &&\n      (prevProps.openIssue !== openIssue || shouldScrollBackToIssue)\n    ) {\n      this.scrollToIssue();\n    }\n  }\n\n  scrollToIssue = (smooth = true) => {\n    if (this.node) {\n      const element = this.node.querySelector(`[data-issue=\"${this.props.openIssue.key}\"]`);\n      if (element) {\n        this.handleScroll(element, undefined, smooth);\n      }\n    }\n  };\n\n  handleScroll = (element: Element, offset = window.innerHeight / 2, smooth = true) => {\n    scrollToElement(element, { topOffset: offset - 100, bottomOffset: offset, smooth });\n  };\n\n  handleLoaded = () => {\n    this.scrollToIssue(false);\n  };\n\n  render() {\n    const { openIssue, selectedFlowIndex, selectedLocationIndex } = this.props;\n\n    const locations = getLocations(openIssue, selectedFlowIndex).map((loc, index) => {\n      loc.index = index;\n      return loc;\n    });\n    const selectedLocation = getSelectedLocation(\n      openIssue,\n      selectedFlowIndex,\n      selectedLocationIndex\n    );\n\n    const highlightedLocationMessage =\n      this.props.locationsNavigator && selectedLocationIndex !== undefined\n        ? selectedLocation && { index: selectedLocationIndex, text: selectedLocation.msg }\n        : undefined;\n\n    const startLines = locations.map(l => l.textRange.startLine);\n    const showCrossComponentSourceViewer =\n      startLines.length > 0 ? Math.max(...startLines) !== Math.min(...startLines) : false;\n\n    if (showCrossComponentSourceViewer) {\n      return (\n        <div ref={node => (this.node = node)}>\n          <CrossComponentSourceViewer\n            branchLike={this.props.branchLike}\n            highlightedLocationMessage={highlightedLocationMessage}\n            issue={openIssue}\n            issues={this.props.issues}\n            locations={locations}\n            onIssueChange={this.props.onIssueChange}\n            onLoaded={this.handleLoaded}\n            onLocationSelect={this.props.onLocationSelect}\n            scroll={this.handleScroll}\n            selectedFlowIndex={selectedFlowIndex}\n          />\n        </div>\n      );\n    } else {\n      // if location is selected, show (and load) code around it\n      // otherwise show code around the open issue\n      const aroundLine = selectedLocation\n        ? selectedLocation.textRange.startLine\n        : openIssue.textRange && openIssue.textRange.endLine;\n\n      const component = selectedLocation ? selectedLocation.component : openIssue.component;\n      const allMessagesEmpty =\n        locations !== undefined && locations.every(location => !location.msg);\n\n      const highlightedLocations = locations.filter(location => location.component === component);\n\n      // do not load issues when open another file for a location\n      const loadIssues =\n        component === openIssue.component ? this.props.loadIssues : () => Promise.resolve([]);\n      const selectedIssue = component === openIssue.component ? openIssue.key : undefined;\n\n      return (\n        <div ref={node => (this.node = node)}>\n          <SourceViewer\n            aroundLine={aroundLine}\n            branchLike={this.props.branchLike}\n            component={component}\n            displayAllIssues={true}\n            displayIssueLocationsCount={true}\n            displayIssueLocationsLink={false}\n            displayLocationMarkers={!allMessagesEmpty}\n            highlightedLocationMessage={highlightedLocationMessage}\n            highlightedLocations={highlightedLocations}\n            loadIssues={loadIssues}\n            onIssueChange={this.props.onIssueChange}\n            onIssueSelect={this.props.onIssueSelect}\n            onLoaded={this.handleLoaded}\n            onLocationSelect={this.props.onLocationSelect}\n            scroll={this.handleScroll}\n            selectedIssue={selectedIssue}\n            slimHeader={true}\n          />\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../../../components/controls/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  myIssues: boolean;\n  onMyIssuesChange: (myIssues: boolean) => void;\n}\n\nexport default class MyIssuesFilter extends React.PureComponent<Props> {\n  handleClick = (myIssues: boolean) => () => {\n    this.props.onMyIssuesChange(myIssues);\n  };\n\n  render() {\n    const { myIssues } = this.props;\n\n    return (\n      <div className=\"issues-my-issues-filter\">\n        <div className=\"button-group\">\n          <Button\n            className={myIssues ? 'button-active' : undefined}\n            onClick={this.handleClick(true)}>\n            {translate('issues.my_issues')}\n          </Button>\n          <Button\n            className={myIssues ? undefined : 'button-active'}\n            onClick={this.handleClick(false)}>\n            {translate('all')}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport '../../../components/common/EmptySearch.css';\nimport { translate } from '../../../helpers/l10n';\n\nexport default function NoIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport '../../../components/common/EmptySearch.css';\nimport { translate } from '../../../helpers/l10n';\n\nexport default function NoMyIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_my_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport PageCounter from '../../../components/common/PageCounter';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  current: number | undefined;\n  total: number;\n}\n\nexport default function IssuesCounter(props: Props) {\n  return (\n    <PageCounter\n      className=\"spacer-left\"\n      current={props.current}\n      label={translate('issues.issues')}\n      total={props.total}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\nexport default function TotalEffort({ effort }: { effort: number }) {\n  return (\n    <div className=\"display-inline-block bordered-left spacer-left\">\n      <div className=\"spacer-left\">\n        <FormattedMessage\n          defaultMessage={translate('issue.x_effort')}\n          id=\"issue.x_effort\"\n          values={{ 0: <strong>{formatMeasure(effort, 'WORK_DUR')}</strong> }}\n        />\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HomePageSelect from '../../../components/controls/HomePageSelect';\nimport PageShortcutsTooltip from '../../../components/ui/PageShortcutsTooltip';\nimport { translate } from '../../../helpers/l10n';\nimport { isSonarCloud } from '../../../helpers/system';\nimport IssuesCounter from './IssuesCounter';\nimport TotalEffort from './TotalEffort';\n\nexport interface PageActionsProps {\n  canSetHome: boolean;\n  effortTotal: number | undefined;\n  paging?: T.Paging;\n  selectedIndex?: number;\n}\n\nexport default function PageActions(props: PageActionsProps) {\n  const { canSetHome, effortTotal, paging, selectedIndex } = props;\n\n  return (\n    <div className=\"display-flex-center display-flex-justify-end\">\n      <PageShortcutsTooltip\n        leftAndRightLabel={translate('issues.to_navigate')}\n        upAndDownLabel={translate('issues.to_select_issues')}\n      />\n\n      <div className=\"spacer-left issues-page-actions\">\n        {paging != null && <IssuesCounter current={selectedIndex} total={paging.total} />}\n        {effortTotal !== undefined && <TotalEffort effort={effortTotal} />}\n      </div>\n\n      {canSetHome && (\n        <HomePageSelect\n          className=\"huge-spacer-left\"\n          currentPage={isSonarCloud() ? { type: 'MY_ISSUES' } : { type: 'ISSUES' }}\n        />\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport { debounce, keyBy, omit, without } from 'lodash';\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { FormattedMessage } from 'react-intl';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport EmptySearch from '../../../components/common/EmptySearch';\nimport FiltersHeader from '../../../components/common/FiltersHeader';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport { Button } from '../../../components/controls/buttons';\nimport Checkbox from '../../../components/controls/Checkbox';\nimport ListFooter from '../../../components/controls/ListFooter';\nimport { Location, Router } from '../../../components/hoc/withRouter';\nimport '../../../components/search-navigator.css';\nimport { Alert } from '../../../components/ui/Alert';\nimport DeferredSpinner from '../../../components/ui/DeferredSpinner';\nimport {\n  fillBranchLike,\n  getBranchLikeQuery,\n  isPullRequest,\n  isSameBranchLike\n} from '../../../helpers/branch-like';\nimport handleRequiredAuthentication from '../../../helpers/handleRequiredAuthentication';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport {\n  addSideBarClass,\n  addWhitePageClass,\n  removeSideBarClass,\n  removeWhitePageClass\n} from '../../../helpers/pages';\nimport { serializeDate } from '../../../helpers/query';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { BranchLike } from '../../../types/branch-like';\nimport {\n  Facet,\n  FetchIssuesPromise,\n  ReferencedComponent,\n  ReferencedLanguage,\n  ReferencedRule\n} from '../../../types/issues';\nimport { SecurityStandard } from '../../../types/security';\nimport * as actions from '../actions';\nimport ConciseIssuesList from '../conciseIssuesList/ConciseIssuesList';\nimport ConciseIssuesListHeader from '../conciseIssuesList/ConciseIssuesListHeader';\nimport Sidebar from '../sidebar/Sidebar';\nimport '../styles.css';\nimport {\n  areMyIssuesSelected,\n  areQueriesEqual,\n  getOpen,\n  parseFacets,\n  parseQuery,\n  Query,\n  saveMyIssues,\n  scrollToIssue,\n  serializeQuery,\n  shouldOpenSonarSourceSecurityFacet,\n  shouldOpenStandardsChildFacet,\n  shouldOpenStandardsFacet,\n  STANDARDS\n} from '../utils';\nimport BulkChangeModal, { MAX_PAGE_SIZE } from './BulkChangeModal';\nimport IssuesList from './IssuesList';\nimport IssuesSourceViewer from './IssuesSourceViewer';\nimport MyIssuesFilter from './MyIssuesFilter';\nimport NoIssues from './NoIssues';\nimport NoMyIssues from './NoMyIssues';\nimport PageActions from './PageActions';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component?: T.Component;\n  currentUser: T.CurrentUser;\n  fetchBranchStatus: (branchLike: BranchLike, projectKey: string) => void;\n  fetchIssues: (query: T.RawQuery) => Promise<FetchIssuesPromise>;\n  location: Location;\n  onBranchesChange?: () => void;\n  router: Pick<Router, 'push' | 'replace'>;\n}\n\nexport interface State {\n  bulkChangeModal: boolean;\n  cannotShowOpenIssue?: boolean;\n  checkAll?: boolean;\n  checked: string[];\n  effortTotal?: number;\n  facets: T.Dict<Facet>;\n  issues: T.Issue[];\n  loading: boolean;\n  loadingFacets: T.Dict<boolean>;\n  loadingMore: boolean;\n  locationsNavigator: boolean;\n  myIssues: boolean;\n  openFacets: T.Dict<boolean>;\n  openIssue?: T.Issue;\n  openPopup?: { issue: string; name: string };\n  paging?: T.Paging;\n  query: Query;\n  referencedComponentsById: T.Dict<ReferencedComponent>;\n  referencedComponentsByKey: T.Dict<ReferencedComponent>;\n  referencedLanguages: T.Dict<ReferencedLanguage>;\n  referencedRules: T.Dict<ReferencedRule>;\n  referencedUsers: T.Dict<T.UserBase>;\n  selected?: string;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nconst DEFAULT_QUERY = { resolved: 'false' };\nconst MAX_INITAL_FETCH = 1000;\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const query = parseQuery(props.location.query);\n    this.state = {\n      bulkChangeModal: false,\n      checked: [],\n      facets: {},\n      issues: [],\n      loading: true,\n      loadingFacets: {},\n      loadingMore: false,\n      locationsNavigator: false,\n      myIssues: areMyIssuesSelected(props.location.query),\n      openFacets: {\n        owaspTop10: shouldOpenStandardsChildFacet({}, query, SecurityStandard.OWASP_TOP10),\n        sansTop25: shouldOpenStandardsChildFacet({}, query, SecurityStandard.SANS_TOP25),\n        severities: true,\n        sonarsourceSecurity: shouldOpenSonarSourceSecurityFacet({}, query),\n        standards: shouldOpenStandardsFacet({}, query),\n        types: true\n      },\n      query,\n      referencedComponentsById: {},\n      referencedComponentsByKey: {},\n      referencedLanguages: {},\n      referencedRules: {},\n      referencedUsers: {},\n      selected: getOpen(props.location.query)\n    };\n    this.refreshBranchStatus = debounce(this.refreshBranchStatus, 1000);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    if (this.state.myIssues && !this.props.currentUser.isLoggedIn) {\n      handleRequiredAuthentication();\n      return;\n    }\n\n    addWhitePageClass();\n    addSideBarClass();\n    this.attachShortcuts();\n    this.fetchFirstIssues();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    const { issues, selected } = this.state;\n    const openIssue = this.getOpenIssue(nextProps, issues);\n\n    if (openIssue && openIssue.key !== selected) {\n      this.setState({\n        locationsNavigator: false,\n        selected: openIssue.key,\n        selectedFlowIndex: undefined,\n        selectedLocationIndex: undefined\n      });\n    }\n\n    if (!openIssue) {\n      this.setState({ selectedFlowIndex: undefined, selectedLocationIndex: undefined });\n    }\n\n    this.setState({\n      myIssues: areMyIssuesSelected(nextProps.location.query),\n      openIssue,\n      query: parseQuery(nextProps.location.query)\n    });\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    const { query } = this.props.location;\n    const { query: prevQuery } = prevProps.location;\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      !areQueriesEqual(prevQuery, query) ||\n      areMyIssuesSelected(prevQuery) !== areMyIssuesSelected(query)\n    ) {\n      this.fetchFirstIssues();\n      this.setState({ checkAll: false });\n    } else if (\n      !this.state.openIssue &&\n      (prevState.selected !== this.state.selected || prevState.openIssue)\n    ) {\n      // if user simply selected another issue\n      // or if user went from the source code back to the list of issues\n      this.scrollToSelectedIssue();\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n    this.mounted = false;\n    removeWhitePageClass();\n    removeSideBarClass();\n  }\n\n  attachShortcuts() {\n    key.setScope('issues');\n    key('up', 'issues', () => {\n      this.selectPreviousIssue();\n      return false;\n    });\n    key('down', 'issues', () => {\n      this.selectNextIssue();\n      return false;\n    });\n    key('right', 'issues', () => {\n      this.openSelectedIssue();\n      return false;\n    });\n    key('left', 'issues', () => {\n      if (this.state.query.issues.length !== 1) {\n        this.closeIssue();\n      }\n      return false;\n    });\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('keyup', this.handleKeyUp);\n  }\n\n  detachShortcuts() {\n    key.deleteScope('issues');\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  handleKeyDown = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      event.preventDefault();\n      this.setState(actions.enableLocationsNavigator);\n    } else if (event.keyCode === 40 && event.altKey) {\n      // alt + down\n      event.preventDefault();\n      this.selectNextLocation();\n    } else if (event.keyCode === 38 && event.altKey) {\n      // alt + up\n      event.preventDefault();\n      this.selectPreviousLocation();\n    } else if (event.keyCode === 37 && event.altKey) {\n      // alt + left\n      event.preventDefault();\n      this.selectPreviousFlow();\n    } else if (event.keyCode === 39 && event.altKey) {\n      // alt + right\n      event.preventDefault();\n      this.selectNextFlow();\n    }\n  };\n\n  handleKeyUp = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      this.setState(actions.disableLocationsNavigator);\n    }\n  };\n\n  getSelectedIndex() {\n    const { issues = [], selected } = this.state;\n    const index = issues.findIndex(issue => issue.key === selected);\n    return index !== -1 ? index : undefined;\n  }\n\n  getOpenIssue = (props: Props, issues: T.Issue[]) => {\n    const open = getOpen(props.location.query);\n    return open ? issues.find(issue => issue.key === open) : undefined;\n  };\n\n  selectNextIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex < issues.length - 1) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex + 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex + 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  selectPreviousIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex > 0) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex - 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex - 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  openIssue = (issueKey: string) => {\n    const path = {\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(this.state.query),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined,\n        open: issueKey\n      }\n    };\n    if (this.state.openIssue) {\n      if (path.query.open && path.query.open === this.state.openIssue.key) {\n        this.setState(\n          {\n            locationsNavigator: false,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          },\n          this.scrollToSelectedIssue\n        );\n      } else {\n        this.props.router.replace(path);\n      }\n    } else {\n      this.props.router.push(path);\n    }\n  };\n\n  closeIssue = () => {\n    if (this.state.query) {\n      this.props.router.push({\n        pathname: this.props.location.pathname,\n        query: {\n          ...serializeQuery(this.state.query),\n          ...getBranchLikeQuery(this.props.branchLike),\n          id: this.props.component && this.props.component.key,\n          myIssues: this.state.myIssues ? 'true' : undefined,\n          open: undefined\n        }\n      });\n    }\n  };\n\n  openSelectedIssue = () => {\n    const { selected } = this.state;\n    if (selected) {\n      this.openIssue(selected);\n    }\n  };\n\n  scrollToSelectedIssue = (smooth = true) => {\n    const { selected } = this.state;\n    if (selected) {\n      scrollToIssue(selected, smooth);\n    }\n  };\n\n  createdAfterIncludesTime = () => Boolean(this.props.location.query.createdAfter?.includes('T'));\n\n  fetchIssues = (additional: T.RawQuery, requestFacets = false): Promise<FetchIssuesPromise> => {\n    const { component } = this.props;\n    const { myIssues, openFacets, query } = this.state;\n\n    const facets = requestFacets\n      ? Object.keys(openFacets)\n          .filter(facet => facet !== STANDARDS)\n          .join(',')\n      : undefined;\n\n    const parameters: T.Dict<string | undefined> = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      componentKeys: component && component.key,\n      s: 'FILE_LINE',\n      ...serializeQuery(query),\n      ps: '100',\n      facets,\n      ...additional\n    };\n\n    if (query.createdAfter !== undefined && this.createdAfterIncludesTime()) {\n      parameters.createdAfter = serializeDate(query.createdAfter);\n    }\n\n    // only sorting by CREATION_DATE is allowed, so let's sort DESC\n    if (query.sort) {\n      Object.assign(parameters, { asc: 'false' });\n    }\n\n    if (myIssues) {\n      Object.assign(parameters, { assignees: '__me__' });\n    }\n\n    return this.props.fetchIssues(parameters);\n  };\n\n  fetchFirstIssues() {\n    const prevQuery = this.props.location.query;\n    const openIssueKey = getOpen(this.props.location.query);\n    let fetchPromise;\n\n    this.setState({ checked: [], loading: true });\n    if (openIssueKey !== undefined) {\n      fetchPromise = this.fetchIssuesUntil(1, (pageIssues: T.Issue[], paging: T.Paging) => {\n        if (\n          paging.total <= paging.pageIndex * paging.pageSize ||\n          paging.pageIndex * paging.pageSize >= MAX_INITAL_FETCH\n        ) {\n          return true;\n        }\n        return pageIssues.some(issue => issue.key === openIssueKey);\n      });\n    } else {\n      fetchPromise = this.fetchIssues({}, true);\n    }\n\n    return fetchPromise.then(\n      ({ effortTotal, facets, issues, paging, ...other }) => {\n        if (this.mounted && areQueriesEqual(prevQuery, this.props.location.query)) {\n          const openIssue = this.getOpenIssue(this.props, issues);\n          let selected: string | undefined = undefined;\n          if (issues.length > 0) {\n            selected = openIssue ? openIssue.key : issues[0].key;\n          }\n          this.setState(state => ({\n            cannotShowOpenIssue: Boolean(openIssueKey && !openIssue),\n            effortTotal,\n            facets: { ...state.facets, ...parseFacets(facets) },\n            loading: false,\n            issues,\n            openIssue,\n            paging,\n            referencedComponentsById: keyBy(other.components, 'uuid'),\n            referencedComponentsByKey: keyBy(other.components, 'key'),\n            referencedLanguages: keyBy(other.languages, 'key'),\n            referencedRules: keyBy(other.rules, 'key'),\n            referencedUsers: keyBy(other.users, 'login'),\n            selected,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          }));\n        }\n        return issues;\n      },\n      () => {\n        if (this.mounted && areQueriesEqual(prevQuery, this.props.location.query)) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  }\n\n  fetchIssuesPage = (p: number) => {\n    return this.fetchIssues({ p });\n  };\n\n  fetchIssuesUntil = (\n    p: number,\n    done: (pageIssues: T.Issue[], paging: T.Paging) => boolean\n  ): Promise<FetchIssuesPromise> => {\n    const recursiveFetch = (p: number, prevIssues: T.Issue[]): Promise<FetchIssuesPromise> => {\n      return this.fetchIssuesPage(p).then(({ issues: pageIssues, paging, ...other }) => {\n        const issues = [...prevIssues, ...pageIssues];\n        return done(pageIssues, paging)\n          ? { issues, paging, ...other }\n          : recursiveFetch(p + 1, issues);\n      });\n    };\n\n    return recursiveFetch(p, []);\n  };\n\n  fetchMoreIssues = () => {\n    const { paging } = this.state;\n\n    if (!paging) {\n      return Promise.reject();\n    }\n\n    const p = paging.pageIndex + 1;\n\n    this.setState({ checkAll: false, loadingMore: true });\n    return this.fetchIssuesPage(p).then(\n      response => {\n        if (this.mounted) {\n          this.setState(state => ({\n            loadingMore: false,\n            issues: [...state.issues, ...response.issues],\n            paging: response.paging\n          }));\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loadingMore: false });\n        }\n      }\n    );\n  };\n\n  fetchIssuesForComponent = (_component: string, _from: number, to: number) => {\n    const { issues, openIssue, paging } = this.state;\n\n    if (!openIssue || !paging) {\n      return Promise.reject(undefined);\n    }\n\n    const isSameComponent = (issue: T.Issue) => issue.component === openIssue.component;\n\n    const done = (pageIssues: T.Issue[], paging: T.Paging) => {\n      const lastIssue = pageIssues[pageIssues.length - 1];\n      if (paging.total <= paging.pageIndex * paging.pageSize) {\n        return true;\n      }\n      if (lastIssue.component !== openIssue.component) {\n        return true;\n      }\n      return lastIssue.textRange !== undefined && lastIssue.textRange.endLine > to;\n    };\n\n    if (done(issues, paging)) {\n      return Promise.resolve(issues.filter(isSameComponent));\n    }\n\n    this.setState({ loading: true });\n    return this.fetchIssuesUntil(paging.pageIndex + 1, done).then(\n      response => {\n        const nextIssues = [...issues, ...response.issues];\n        if (this.mounted) {\n          this.setState({\n            issues: nextIssues,\n            loading: false,\n            paging: response.paging\n          });\n        }\n        return nextIssues.filter(isSameComponent);\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  };\n\n  fetchFacet = (facet: string) => {\n    return this.fetchIssues({ ps: 1, facets: facet }, false).then(\n      ({ facets, ...other }) => {\n        if (this.mounted) {\n          this.setState(state => ({\n            facets: { ...state.facets, ...parseFacets(facets) },\n            loadingFacets: omit(state.loadingFacets, facet),\n            referencedComponentsById: {\n              ...state.referencedComponentsById,\n              ...keyBy(other.components, 'uuid')\n            },\n            referencedComponentsByKey: {\n              ...state.referencedComponentsByKey,\n              ...keyBy(other.components, 'key')\n            },\n            referencedLanguages: {\n              ...state.referencedLanguages,\n              ...keyBy(other.languages, 'key')\n            },\n            referencedRules: { ...state.referencedRules, ...keyBy(other.rules, 'key') },\n            referencedUsers: { ...state.referencedUsers, ...keyBy(other.users, 'login') }\n          }));\n        }\n      },\n      () => {\n        /* Do nothing */\n      }\n    );\n  };\n\n  isFiltered = () => {\n    const serialized = serializeQuery(this.state.query);\n    return !areQueriesEqual(serialized, DEFAULT_QUERY);\n  };\n\n  getCheckedIssues = () => {\n    const issues = this.state.checked\n      .map(checked => this.state.issues.find(issue => issue.key === checked))\n      .filter((issue): issue is T.Issue => issue !== undefined);\n    const paging = { pageIndex: 1, pageSize: issues.length, total: issues.length };\n    return Promise.resolve({ issues, paging });\n  };\n\n  getButtonLabel = (checked: string[], checkAll?: boolean, paging?: T.Paging) => {\n    if (checked.length > 0) {\n      let count;\n      if (checkAll && paging) {\n        count = paging.total > MAX_PAGE_SIZE ? MAX_PAGE_SIZE : paging.total;\n      } else {\n        count = Math.min(checked.length, MAX_PAGE_SIZE);\n      }\n\n      return translateWithParameters('issues.bulk_change_X_issues', count);\n    } else {\n      return translate('bulk_change');\n    }\n  };\n\n  handleFilterChange = (changes: Partial<Query>) => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, ...changes }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n    this.setState(({ openFacets }) => ({\n      openFacets: {\n        ...openFacets,\n        sonarsourceSecurity: shouldOpenSonarSourceSecurityFacet(openFacets, changes),\n        standards: shouldOpenStandardsFacet(openFacets, changes)\n      }\n    }));\n  };\n\n  handleMyIssuesChange = (myIssues: boolean) => {\n    this.closeFacet('assignees');\n    if (!this.props.component) {\n      saveMyIssues(myIssues);\n    }\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, assigned: true, assignees: [] }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  loadSearchResultCount = (property: string, changes: Partial<Query>) => {\n    const { component } = this.props;\n    const { myIssues, query } = this.state;\n\n    const parameters = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      componentKeys: component && component.key,\n      facets: property,\n      s: 'FILE_LINE',\n      ...serializeQuery({ ...query, ...changes }),\n      ps: 1\n    };\n\n    if (myIssues) {\n      Object.assign(parameters, { assignees: '__me__' });\n    }\n\n    return this.props.fetchIssues(parameters).then(({ facets }) => parseFacets(facets)[property]);\n  };\n\n  closeFacet = (property: string) => {\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [property]: false }\n    }));\n  };\n\n  handleFacetToggle = (property: string) => {\n    this.setState(state => {\n      const willOpenProperty = !state.openFacets[property];\n      const newState = {\n        loadingFacets: state.loadingFacets,\n        openFacets: { ...state.openFacets, [property]: willOpenProperty }\n      };\n\n      // Try to open sonarsource security \"subfacet\" by default if the standard facet is open\n      if (willOpenProperty && property === STANDARDS) {\n        newState.openFacets.sonarsourceSecurity = shouldOpenSonarSourceSecurityFacet(\n          newState.openFacets,\n          state.query\n        );\n        // Force loading of sonarsource security facet data\n        property = newState.openFacets.sonarsourceSecurity ? 'sonarsourceSecurity' : property;\n      }\n\n      // No need to load facets data for standard facet\n      if (property !== STANDARDS && !state.facets[property]) {\n        newState.loadingFacets[property] = true;\n        this.fetchFacet(property);\n      }\n\n      return newState;\n    });\n  };\n\n  handleReset = () => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...DEFAULT_QUERY,\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  handlePopupToggle = (issue: string, popupName: string, open?: boolean) => {\n    this.setState((state: State) => {\n      const { openPopup } = state;\n      const samePopup = openPopup && openPopup.name === popupName && openPopup.issue === issue;\n\n      if (open !== false && !samePopup) {\n        return { ...state, openPopup: { issue, name: popupName } };\n      } else if (open !== true && samePopup) {\n        return { ...state, openPopup: undefined };\n      }\n\n      return state;\n    });\n  };\n\n  handleIssueCheck = (issue: string) => {\n    this.setState(state => ({\n      checkAll: false,\n      checked: state.checked.includes(issue)\n        ? without(state.checked, issue)\n        : [...state.checked, issue]\n    }));\n  };\n\n  handleIssueChange = (issue: T.Issue) => {\n    this.refreshBranchStatus();\n    this.setState(state => ({\n      issues: state.issues.map(candidate => (candidate.key === issue.key ? issue : candidate)),\n      openIssue: state.openIssue && state.openIssue.key === issue.key ? issue : state.openIssue\n    }));\n  };\n\n  handleOpenBulkChange = () => {\n    key.setScope('issues-bulk-change');\n    this.setState({ bulkChangeModal: true });\n  };\n\n  handleCloseBulkChange = () => {\n    key.setScope('issues');\n    this.setState({ bulkChangeModal: false });\n  };\n\n  handleBulkChangeDone = () => {\n    this.setState({ checkAll: false });\n    this.refreshBranchStatus();\n    this.fetchFirstIssues();\n    this.handleCloseBulkChange();\n  };\n\n  selectLocation = (index: number) => {\n    this.setState(actions.selectLocation(index));\n  };\n\n  selectNextLocation = () => {\n    this.setState(actions.selectNextLocation);\n  };\n\n  selectPreviousLocation = () => {\n    this.setState(actions.selectPreviousLocation);\n  };\n\n  handleCheckAll = (checked: boolean) => {\n    if (checked) {\n      this.setState(state => ({\n        checkAll: true,\n        checked: state.issues.map(issue => issue.key)\n      }));\n    } else {\n      this.setState({ checkAll: false, checked: [] });\n    }\n  };\n\n  selectFlow = (index?: number) => {\n    this.setState(actions.selectFlow(index));\n  };\n\n  selectNextFlow = () => {\n    this.setState(actions.selectNextFlow);\n  };\n\n  selectPreviousFlow = () => {\n    this.setState(actions.selectPreviousFlow);\n  };\n\n  refreshBranchStatus = () => {\n    const { branchLike, component } = this.props;\n    if (branchLike && component && isPullRequest(branchLike)) {\n      this.props.fetchBranchStatus(branchLike, component.key);\n    }\n  };\n\n  renderBulkChange() {\n    const { component, currentUser } = this.props;\n    const { checkAll, bulkChangeModal, checked, issues, paging } = this.state;\n\n    const isAllChecked = checked.length > 0 && issues.length === checked.length;\n    const thirdState = checked.length > 0 && !isAllChecked;\n    const isChecked = isAllChecked || thirdState;\n\n    if (!currentUser.isLoggedIn) {\n      return null;\n    }\n\n    return (\n      <div className=\"pull-left\">\n        <Checkbox\n          checked={isChecked}\n          className=\"spacer-right text-middle\"\n          disabled={issues.length === 0}\n          id=\"issues-selection\"\n          onCheck={this.handleCheckAll}\n          thirdState={thirdState}\n          title={translate('issues.select_all_issues')}\n        />\n        <Button\n          disabled={checked.length === 0}\n          id=\"issues-bulk-change\"\n          onClick={this.handleOpenBulkChange}>\n          {this.getButtonLabel(checked, checkAll, paging)}\n        </Button>\n\n        {bulkChangeModal && (\n          <BulkChangeModal\n            component={component}\n            currentUser={currentUser}\n            fetchIssues={checkAll ? this.fetchIssues : this.getCheckedIssues}\n            onClose={this.handleCloseBulkChange}\n            onDone={this.handleBulkChangeDone}\n          />\n        )}\n      </div>\n    );\n  }\n\n  renderFacets() {\n    const { component, currentUser, branchLike } = this.props;\n    const { query } = this.state;\n\n    return (\n      <div className=\"layout-page-filters\">\n        {currentUser.isLoggedIn && !isSonarCloud() && (\n          <MyIssuesFilter\n            myIssues={this.state.myIssues}\n            onMyIssuesChange={this.handleMyIssuesChange}\n          />\n        )}\n        <FiltersHeader displayReset={this.isFiltered()} onReset={this.handleReset} />\n        <Sidebar\n          branchLike={branchLike}\n          component={component}\n          createdAfterIncludesTime={this.createdAfterIncludesTime()}\n          facets={this.state.facets}\n          loadSearchResultCount={this.loadSearchResultCount}\n          loadingFacets={this.state.loadingFacets}\n          myIssues={this.state.myIssues}\n          onFacetToggle={this.handleFacetToggle}\n          onFilterChange={this.handleFilterChange}\n          openFacets={this.state.openFacets}\n          query={query}\n          referencedComponentsById={this.state.referencedComponentsById}\n          referencedComponentsByKey={this.state.referencedComponentsByKey}\n          referencedLanguages={this.state.referencedLanguages}\n          referencedRules={this.state.referencedRules}\n          referencedUsers={this.state.referencedUsers}\n        />\n      </div>\n    );\n  }\n\n  renderConciseIssuesList() {\n    const { issues, loadingMore, paging, query } = this.state;\n\n    return (\n      <div className=\"layout-page-filters\">\n        <ConciseIssuesListHeader\n          displayBackButton={query.issues.length !== 1}\n          loading={this.state.loading}\n          onBackClick={this.closeIssue}\n        />\n        <ConciseIssuesList\n          issues={issues}\n          onFlowSelect={this.selectFlow}\n          onIssueSelect={this.openIssue}\n          onLocationSelect={this.selectLocation}\n          selected={this.state.selected}\n          selectedFlowIndex={this.state.selectedFlowIndex}\n          selectedLocationIndex={this.state.selectedLocationIndex}\n        />\n        {paging && paging.total > 0 && (\n          <ListFooter\n            count={issues.length}\n            loadMore={this.fetchMoreIssues}\n            loading={loadingMore}\n            total={paging.total}\n          />\n        )}\n      </div>\n    );\n  }\n\n  renderSide(openIssue: T.Issue | undefined) {\n    return (\n      <ScreenPositionHelper className=\"layout-page-side-outer\">\n        {({ top }) => (\n          <section\n            aria-label={openIssue ? translate('list_of_issues') : translate('filters')}\n            className=\"layout-page-side\"\n            style={{ top }}>\n            <div className=\"layout-page-side-inner\">\n              <A11ySkipTarget\n                anchor=\"issues_sidebar\"\n                label={\n                  openIssue ? translate('issues.skip_to_list') : translate('issues.skip_to_filters')\n                }\n                weight={10}\n              />\n              {openIssue ? this.renderConciseIssuesList() : this.renderFacets()}\n            </div>\n          </section>\n        )}\n      </ScreenPositionHelper>\n    );\n  }\n\n  renderList() {\n    const { branchLike, component, currentUser } = this.props;\n    const { issues, loading, loadingMore, openIssue, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    const selectedIssue = selectedIndex !== undefined ? issues[selectedIndex] : undefined;\n\n    if (!paging || openIssue) {\n      return null;\n    }\n\n    let noIssuesMessage = null;\n    if (paging.total === 0 && !loading) {\n      if (this.isFiltered()) {\n        noIssuesMessage = <EmptySearch />;\n      } else if (this.state.myIssues) {\n        noIssuesMessage = <NoMyIssues />;\n      } else {\n        noIssuesMessage = <NoIssues />;\n      }\n    }\n\n    return (\n      <div>\n        <h2 className=\"a11y-hidden\">{translate('list_of_issues')}</h2>\n        {paging.total > 0 && (\n          <IssuesList\n            branchLike={branchLike}\n            checked={this.state.checked}\n            component={component}\n            issues={issues}\n            onFilterChange={this.handleFilterChange}\n            onIssueChange={this.handleIssueChange}\n            onIssueCheck={currentUser.isLoggedIn ? this.handleIssueCheck : undefined}\n            onIssueClick={this.openIssue}\n            onPopupToggle={this.handlePopupToggle}\n            openPopup={this.state.openPopup}\n            selectedIssue={selectedIssue}\n          />\n        )}\n\n        {paging.total > 0 && (\n          <ListFooter\n            count={issues.length}\n            loadMore={this.fetchMoreIssues}\n            loading={loadingMore}\n            total={paging.total}\n          />\n        )}\n\n        {noIssuesMessage}\n      </div>\n    );\n  }\n\n  renderHeader({\n    openIssue,\n    paging,\n    selectedIndex\n  }: {\n    openIssue: T.Issue | undefined;\n    paging: T.Paging | undefined;\n    selectedIndex: number | undefined;\n  }) {\n    return openIssue ? (\n      <A11ySkipTarget anchor=\"issues_main\" />\n    ) : (\n      <div className=\"layout-page-header-panel layout-page-main-header issues-main-header\">\n        <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n          <div className=\"layout-page-main-inner\">\n            <A11ySkipTarget anchor=\"issues_main\" />\n\n            {this.renderBulkChange()}\n            <PageActions\n              canSetHome={!this.props.component}\n              effortTotal={this.state.effortTotal}\n              paging={paging}\n              selectedIndex={selectedIndex}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderPage() {\n    const { cannotShowOpenIssue, checkAll, issues, loading, openIssue, paging } = this.state;\n    return (\n      <div className=\"layout-page-main-inner\">\n        {openIssue ? (\n          <IssuesSourceViewer\n            branchLike={fillBranchLike(openIssue.branch, openIssue.pullRequest)}\n            issues={issues}\n            loadIssues={this.fetchIssuesForComponent}\n            locationsNavigator={this.state.locationsNavigator}\n            onIssueChange={this.handleIssueChange}\n            onIssueSelect={this.openIssue}\n            onLocationSelect={this.selectLocation}\n            openIssue={openIssue}\n            selectedFlowIndex={this.state.selectedFlowIndex}\n            selectedLocationIndex={this.state.selectedLocationIndex}\n          />\n        ) : (\n          <DeferredSpinner loading={loading}>\n            {checkAll && paging && paging.total > MAX_PAGE_SIZE && (\n              <Alert className=\"big-spacer-bottom\" variant=\"warning\">\n                <FormattedMessage\n                  defaultMessage={translate('issue_bulk_change.max_issues_reached')}\n                  id=\"issue_bulk_change.max_issues_reached\"\n                  values={{ max: <strong>{MAX_PAGE_SIZE}</strong> }}\n                />\n              </Alert>\n            )}\n            {cannotShowOpenIssue && (!paging || paging.total > 0) && (\n              <Alert className=\"big-spacer-bottom\" variant=\"warning\">\n                {translateWithParameters(\n                  'issues.cannot_open_issue_max_initial_X_fetched',\n                  MAX_INITAL_FETCH\n                )}\n              </Alert>\n            )}\n            {this.renderList()}\n          </DeferredSpinner>\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    const { openIssue, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    return (\n      <div className=\"layout-page issues\" id=\"issues-page\">\n        <Suggestions suggestions=\"issues\" />\n        <Helmet defer={false} title={openIssue ? openIssue.message : translate('issues.page')} />\n\n        <h1 className=\"a11y-hidden\">{translate('issues.page')}</h1>\n\n        {this.renderSide(openIssue)}\n\n        <div role=\"main\" className=\"layout-page-main\">\n          {this.renderHeader({ openIssue, paging, selectedIndex })}\n\n          {this.renderPage()}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport getHistory from './getHistory';\n\nexport default function handleRequiredAuthentication() {\n  const history = getHistory();\n  const returnTo = window.location.pathname + window.location.search + window.location.hash;\n  // eslint-disable-next-line camelcase\n  history.replace({ pathname: '/sessions/new', query: { return_to: returnTo } });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ReactSelectClass, {\n  ReactAsyncSelectProps,\n  ReactCreatableSelectProps,\n  ReactSelectProps\n} from 'react-select';\nimport { lazyLoadComponent } from '../lazyLoadComponent';\nimport { ClearButton } from './buttons';\nimport './Select.css';\n\nconst ReactSelectLib = import('react-select');\nconst ReactSelect = lazyLoadComponent(() => ReactSelectLib);\nconst ReactCreatable = lazyLoadComponent(() =>\n  ReactSelectLib.then(lib => ({ default: lib.Creatable }))\n);\nconst ReactAsync = lazyLoadComponent(() => ReactSelectLib.then(lib => ({ default: lib.Async })));\n\nfunction renderInput() {\n  return <ClearButton className=\"button-tiny spacer-left text-middle\" iconProps={{ size: 12 }} />;\n}\n\nexport interface WithInnerRef {\n  innerRef?: React.Ref<ReactSelectClass<unknown>>;\n}\n\nexport default function Select({ innerRef, ...props }: WithInnerRef & ReactSelectProps) {\n  // hide the \"x\" icon when select is empty\n  const clearable = props.clearable ? Boolean(props.value) : false;\n  return (\n    <ReactSelect {...props} clearable={clearable} clearRenderer={renderInput} ref={innerRef} />\n  );\n}\n\nexport function Creatable(props: ReactCreatableSelectProps) {\n  return <ReactCreatable {...props} clearRenderer={renderInput} />;\n}\n\nexport function AsyncSelect(props: ReactAsyncSelectProps & WithInnerRef) {\n  return <ReactAsync {...props} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { colors } from '../../app/theme';\nimport Icon, { IconProps } from './Icon';\n\nconst qualifierIcons: T.Dict<(props: IconProps) => React.ReactElement> = {\n  app: ApplicationIcon,\n  brc: SubProjectIcon,\n  dev: DeveloperIcon,\n  dir: DirectoryIcon,\n  fil: FileIcon,\n  svw: SubPortfolioIcon,\n  trk: ProjectIcon,\n  uts: UnitTestIcon,\n  vw: PortfolioIcon,\n\n  // deprecated:\n  cla: UnitTestIcon,\n  dev_prj: ProjectIcon,\n  lib: LibraryIcon,\n  pac: DirectoryIcon\n};\n\ninterface QualifierIconProps {\n  className?: string;\n  fill?: string;\n  qualifier: string | null | undefined;\n}\n\nexport default function QualifierIcon(props: QualifierIconProps) {\n  if (!props.qualifier) {\n    return null;\n  }\n\n  const qualifier = props.qualifier.toLowerCase();\n  const FoundIcon = qualifierIcons[qualifier];\n  return FoundIcon ? <FoundIcon className={props.className} fill={props.fill} /> : null;\n}\n\nfunction ApplicationIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction DeveloperIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction DirectoryIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\"\n        style={{ fill: fill || colors.orange }}\n      />\n    </Icon>\n  );\n}\n\nfunction FileIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction LibraryIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction PortfolioIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ProjectIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubPortfolioIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubProjectIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction UnitTestIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport const formatterOption = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric'\n};\n\nexport default function DateTimeFormatter({ children, date }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...formatterOption}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\nimport DeferredSpinner from '../ui/DeferredSpinner';\nimport { Button } from './buttons';\n\nexport interface ListFooterProps {\n  count: number;\n  className?: string;\n  loading?: boolean;\n  loadMore?: () => void;\n  needReload?: boolean;\n  reload?: () => void;\n  ready?: boolean;\n  total?: number;\n}\n\nexport default function ListFooter(props: ListFooterProps) {\n  const { className, count, loading, needReload, total, ready = true } = props;\n  const hasMore = total && total > count;\n\n  let button;\n  if (needReload && props.reload) {\n    button = (\n      <Button className=\"spacer-left\" data-test=\"reload\" disabled={loading} onClick={props.reload}>\n        {translate('reload')}\n      </Button>\n    );\n  } else if (hasMore && props.loadMore) {\n    button = (\n      <Button\n        className=\"spacer-left\"\n        disabled={loading}\n        data-test=\"show-more\"\n        onClick={props.loadMore}>\n        {translate('show_more')}\n      </Button>\n    );\n  }\n\n  return (\n    <footer\n      className={classNames('spacer-top note text-center', { 'new-loading': !ready }, className)}>\n      {translateWithParameters(\n        'x_of_y_shown',\n        formatMeasure(count, 'INT', null),\n        formatMeasure(total, 'INT', null)\n      )}\n      {button}\n      {loading && <DeferredSpinner className=\"text-bottom spacer-left position-absolute\" />}\n    </footer>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Select.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Select{position:relative;display:inline-block;vertical-align:middle;font-size:12px;text-align:left}.Select,.Select div,.Select input,.Select span{box-sizing:border-box}.Select.is-disabled>.Select-control{background-color:#ebebeb!important;border-color:#ddd!important}.Select.is-disabled>.Select-control:hover{box-shadow:none!important}.Select.is-disabled .Select-arrow-zone{cursor:not-allowed!important;pointer-events:none!important}.Select.is-disabled .Select-placeholder,.Select.is-disabled .Select-value{color:#bbb!important}.Select-control{position:relative;display:table;width:100%;height:24px;line-height:22px;border:1px solid #cdcdcd;border-collapse:separate;border-radius:2px;background-color:#fff;color:#333;cursor:default;outline:none;overflow:hidden}.is-searchable.is-open>.Select-control{cursor:text}.is-open>.Select-control{border-bottom-right-radius:0;border-bottom-left-radius:0;background:#fff}.is-open>.Select-control>.Select-arrow{border-color:transparent transparent #999;border-width:0 5px 5px}.is-searchable.is-focused:not(.is-open)>.Select-control{cursor:text}.is-focused:not(.is-open)>.Select-control{border-color:#4b9fd5}.Select-placeholder{color:#666}.Select-placeholder,:not(.Select--multi)>.Select-control .Select-value{bottom:0;left:0;line-height:23px;padding-left:8px;padding-right:24px;position:absolute;right:0;top:0;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Select-value [class^=icon-]{padding-top:5px}.Select-value img,.Select-value svg{padding-top:3px}.Select-option [class^=icon-],.Select-option img,.Select-option svg{padding-top:2px}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value .Select-value-label,.has-value:not(.Select--multi)>.Select-control>.Select-value .Select-value-label{color:#333}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label{cursor:pointer;text-decoration:none}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:focus,.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:hover,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:focus,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:hover{color:#007eff;outline:none;text-decoration:underline}.Select-input{vertical-align:top;height:22px;padding-left:8px;padding-right:8px;outline:none}.Select-input>input{background:none transparent;border:0;cursor:default;display:inline-block;font-family:inherit;font-size:12px;height:22px;margin:0;outline:none;padding:0;box-shadow:none;-webkit-appearance:none}.is-focused .Select-input>input{cursor:text}.has-value.is-pseudo-focused .Select-input{opacity:0}.Select-control:not(.is-searchable)>.Select-input{outline:none}.Select-loading-zone{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:16px}.Select-loading{animation:Select-animation-spin .4s linear infinite;box-sizing:border-box;border-radius:50%;border:2px solid #ccc;border-right-color:#333;display:inline-block}.Select-clear-zone,.Select-loading{width:16px;height:16px;position:relative;vertical-align:middle}.Select-clear-zone{animation:Select-animation-fadeIn .2s;color:#999;cursor:pointer;display:table-cell;text-align:center;padding-right:4px}.Select-clear-zone:hover .Select-clear{background-image:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxLjQxNCI+PHBhdGggZD0iTTEzLjk2OSAxLjQwNkw4LjM5IDYuOTg0bDUuNTc4IDUuNTc5LTEuNDA2IDEuNDA2TDYuOTg0IDguMzlsLTUuNTc4IDUuNTc4TDAgMTIuNTYzbDUuNTc4LTUuNTc5TDAgMS40MDYgMS40MDYgMGw1LjU3OCA1LjU3OEwxMi41NjMgMGwxLjQwNiAxLjQwNnoiIGZpbGw9IiNlNzE0MzgiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==)}.Select-clear{display:block;width:9px;height:9px;background-image:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxLjQxNCI+PHBhdGggZD0iTTEzLjk2OSAxLjQwNkw4LjM5IDYuOTg0bDUuNTc4IDUuNTc5LTEuNDA2IDEuNDA2TDYuOTg0IDguMzlsLTUuNTc4IDUuNTc4TDAgMTIuNTYzbDUuNTc4LTUuNTc5TDAgMS40MDYgMS40MDYgMGw1LjU3OCA1LjU3OEwxMi41NjMgMGwxLjQwNiAxLjQwNnoiIGZpbGw9IiM5OTkiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==);background-size:9px 9px;text-indent:-9999px}.Select--multi .Select-clear-zone{width:17px}.Select-arrow-zone{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:20px;padding-right:5px}.Select-arrow{border-color:#999 transparent transparent;border-style:solid;border-width:4px 4px 2px;display:inline-block;height:0;width:0}.is-open .Select-arrow,.Select-arrow-zone:hover>.Select-arrow{border-top-color:#666}@keyframes Select-animation-fadeIn{0%{opacity:0}to{opacity:1}}.Select-menu-outer{border-bottom-right-radius:4px;border-bottom-left-radius:4px;background-color:#fff;border:1px solid #ccc;border-top-color:#e6e6e6;box-sizing:border-box;margin-top:-1px;max-height:200px;position:absolute;top:100%;width:100%;z-index:7500;-webkit-overflow-scrolling:touch;box-shadow:0 6px 12px rgba(0,0,0,.175)}.Select-menu{max-height:198px;padding:5px 0;overflow-y:auto}.Select-option{display:block;line-height:20px;padding:0 8px;box-sizing:border-box;color:#333;font-size:12px;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.Select-option:last-child{border-bottom-right-radius:2px;border-bottom-left-radius:2px}.Select-option.is-focused{background-color:#f3f3f3}.Select-option.is-disabled{cursor:default;opacity:.4;font-style:italic}.Select-noresults{box-sizing:border-box;color:#999;cursor:default;display:block;padding:8px 10px}.Select--multi .Select-value{background-color:rgba(0,126,255,.08);border-radius:2px;border:1px solid rgba(0,126,255,.24);color:#333;display:inline-block;font-size:12px;line-height:14px;margin:1px 4px 1px 1px;vertical-align:top}.Select-value-label{font-size:12px}.is-searchable.is-open .Select-value-label{opacity:.5}.Select-big .Select-control{padding-top:4px;padding-bottom:4px}.Select-big .Select-placeholder{margin-top:4px;margin-bottom:4px}.Select-big .Select-value-label{display:inline-block;margin-top:7px;line-height:16px}.Select-big .Select-option{padding:7px 8px;line-height:16px}.Select-big img,.Select-big svg{padding-top:0}.Select--multi .Select-value-icon,.Select--multi .Select-value-label{display:inline-block;vertical-align:middle}.Select--multi .Select-value-label{display:inline-block;max-width:200px;border-bottom-right-radius:2px;border-top-right-radius:2px;cursor:default;padding:2px 5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Select--multi a.Select-value-label{color:#007eff;cursor:pointer;text-decoration:none}.Select--multi a.Select-value-label:hover{text-decoration:underline}.Select--multi .Select-value-icon{cursor:pointer;border-bottom-left-radius:2px;border-top-left-radius:2px;border-right:1px solid rgba(0,126,255,.24);padding:1px 5px}.Select--multi .Select-value-icon:focus,.Select--multi .Select-value-icon:hover{background-color:rgba(0,113,230,.08);color:#0071e6}.Select--multi .Select-value-icon:active{background-color:rgba(0,126,255,.24)}.Select--multi.is-disabled .Select-value{background-color:#fcfcfc;border:1px solid #e3e3e3;color:#333}.Select--multi.is-disabled .Select-value-icon{cursor:not-allowed;border-right:1px solid #e3e3e3}.Select--multi.is-disabled .Select-value-icon:active,.Select--multi.is-disabled .Select-value-icon:focus,.Select--multi.is-disabled .Select-value-icon:hover{background-color:#fcfcfc}.Select-aria-only{display:none}@keyframes Select-animation-spin{to{transform:rotate(1turn)}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { differenceInHours } from 'date-fns';\nimport * as React from 'react';\nimport { DateSource, FormattedRelative } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\nimport { translate } from '../../helpers/l10n';\nimport DateTimeFormatter from './DateTimeFormatter';\n\nexport interface DateFromNowProps {\n  children?: (formattedDate: string) => React.ReactNode;\n  date?: DateSource;\n  hourPrecision?: boolean;\n}\n\nexport default function DateFromNow(props: DateFromNowProps) {\n  const { children: originalChildren = (f: string) => f, date, hourPrecision } = props;\n  let children = originalChildren;\n\n  if (!date) {\n    /*\n     * We return a JSX.Element to bypass typescript issue with functional components return type\n     * (https://github.com/DefinitelyTyped/DefinitelyTyped/issues/20544)\n     */\n    // eslint-disable-next-line react/jsx-no-useless-fragment\n    return <>{originalChildren(translate('never'))}</>;\n  }\n\n  if (date && hourPrecision && differenceInHours(Date.now(), date) < 1) {\n    children = () => originalChildren(translate('less_than_1_hour_ago'));\n  }\n\n  const parsedDate = parseDate(date);\n\n  return (\n    <DateTimeFormatter date={parsedDate}>\n      {formattedDate => (\n        <span title={formattedDate}>\n          <FormattedRelative value={parsedDate}>{children}</FormattedRelative>\n        </span>\n      )}\n    </DateTimeFormatter>\n  );\n}\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function DetachIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M12 9.25v2.5A2.25 2.25 0 0 1 9.75 14h-6.5A2.25 2.25 0 0 1 1 11.75v-6.5A2.25 2.25 0 0 1 3.25 3h5.5c.14 0 .25.11.25.25v.5c0 .14-.11.25-.25.25h-5.5C2.562 4 2 4.563 2 5.25v6.5c0 .688.563 1.25 1.25 1.25h6.5c.688 0 1.25-.563 1.25-1.25v-2.5c0-.14.11-.25.25-.25h.5c.14 0 .25.11.25.25zm3-6.75v4c0 .273-.227.5-.5.5a.497.497 0 0 1-.352-.148l-1.375-1.375L7.68 10.57a.27.27 0 0 1-.18.078.27.27 0 0 1-.18-.078l-.89-.89a.27.27 0 0 1-.078-.18.27.27 0 0 1 .078-.18l5.093-5.093-1.375-1.375A.497.497 0 0 1 10 2.5c0-.273.227-.5.5-.5h4c.273 0 .5.227.5.5z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './Radio.css';\n\ninterface Props {\n  checked: boolean;\n  className?: string;\n  disabled?: boolean;\n  onCheck: (value: string) => void;\n  value: string;\n}\n\nexport default class Radio extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n\n    if (!this.props.disabled) {\n      this.props.onCheck(this.props.value);\n    }\n  };\n\n  render() {\n    const { className, checked, children, disabled } = this.props;\n\n    return (\n      <a\n        aria-checked={checked}\n        className={classNames('display-inline-flex-center link-radio', className, { disabled })}\n        href=\"#\"\n        onClick={this.handleClick}\n        role=\"radio\">\n        <i className={classNames('icon-radio', 'spacer-right', { 'is-checked': checked })} />\n        {children}\n      </a>\n    );\n  }\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Radio.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".icon-radio{position:relative;display:inline-block;vertical-align:top;width:14px;height:14px;margin:1px;border:1px solid #cdcdcd;border-radius:12px;box-sizing:border-box;transition:border-color .3s ease;flex-shrink:0}.icon-radio:after{position:absolute;top:2px;left:2px;display:block;width:8px;height:8px;border-radius:8px;background-color:#236a97;content:\\\"\\\";opacity:0;transition:opacity .3s ease}.link-radio .icon-radio.is-checked:after{opacity:1}.link-radio{border-bottom:none}.link-radio,.link-radio:not(.disabled):active,.link-radio:not(.disabled):focus,.link-radio:not(.disabled):hover{color:inherit}.link-radio:not(.disabled):hover>.icon-radio{border-color:#4b9fd5}.link-radio.disabled,.link-radio.disabled:hover,.link-radio.disabled label{color:#bbb;cursor:not-allowed}.link-radio.disabled .icon-radio:after{background-color:#ebebeb}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronDownIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nconst CLASS_SIDEBAR_PAGE = 'sidebar-page';\nconst CLASS_WHITE_PAGE = 'white-page';\nconst CLASS_NO_FOOTER_PAGE = 'no-footer-page';\n\nexport function addSideBarClass() {\n  toggleBodyClass(CLASS_SIDEBAR_PAGE, true);\n}\n\nexport function addWhitePageClass() {\n  toggleBodyClass(CLASS_WHITE_PAGE, true);\n}\n\nexport function addNoFooterPageClass() {\n  /* eslint-disable-next-line no-console */\n  console.warn('DEPRECATED: addNoFooterPageClass() was deprecated.');\n  toggleBodyClass(CLASS_NO_FOOTER_PAGE, true);\n}\n\nexport function removeSideBarClass() {\n  toggleBodyClass(CLASS_SIDEBAR_PAGE, false);\n}\n\nexport function removeWhitePageClass() {\n  toggleBodyClass(CLASS_WHITE_PAGE, false);\n}\n\nexport function removeNoFooterPageClass() {\n  /* eslint-disable-next-line no-console */\n  console.warn('DEPRECATED: removeNoFooterPageClass() was deprecated.');\n  toggleBodyClass(CLASS_NO_FOOTER_PAGE, false);\n}\n\nfunction toggleBodyClass(className: string, force: boolean) {\n  document.body.classList.toggle(className, force);\n  if (document.documentElement) {\n    document.documentElement.classList.toggle(className, force);\n  }\n}\n","(function(module) {\n    'use strict';\n\n    module.exports.is_uri = is_iri;\n    module.exports.is_http_uri = is_http_iri;\n    module.exports.is_https_uri = is_https_iri;\n    module.exports.is_web_uri = is_web_iri;\n    // Create aliases\n    module.exports.isUri = is_iri;\n    module.exports.isHttpUri = is_http_iri;\n    module.exports.isHttpsUri = is_https_iri;\n    module.exports.isWebUri = is_web_iri;\n\n\n    // private function\n    // internal URI spitter method - direct from RFC 3986\n    var splitUri = function(uri) {\n        var splitted = uri.match(/(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?/);\n        return splitted;\n    };\n\n    function is_iri(value) {\n        if (!value) {\n            return;\n        }\n\n        // check for illegal characters\n        if (/[^a-z0-9\\:\\/\\?\\#\\[\\]\\@\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=\\.\\-\\_\\~\\%]/i.test(value)) return;\n\n        // check for hex escapes that aren't complete\n        if (/%[^0-9a-f]/i.test(value)) return;\n        if (/%[0-9a-f](:?[^0-9a-f]|$)/i.test(value)) return;\n\n        var splitted = [];\n        var scheme = '';\n        var authority = '';\n        var path = '';\n        var query = '';\n        var fragment = '';\n        var out = '';\n\n        // from RFC 3986\n        splitted = splitUri(value);\n        scheme = splitted[1]; \n        authority = splitted[2];\n        path = splitted[3];\n        query = splitted[4];\n        fragment = splitted[5];\n\n        // scheme and path are required, though the path can be empty\n        if (!(scheme && scheme.length && path.length >= 0)) return;\n\n        // if authority is present, the path must be empty or begin with a /\n        if (authority && authority.length) {\n            if (!(path.length === 0 || /^\\//.test(path))) return;\n        } else {\n            // if authority is not present, the path must not start with //\n            if (/^\\/\\//.test(path)) return;\n        }\n\n        // scheme must begin with a letter, then consist of letters, digits, +, ., or -\n        if (!/^[a-z][a-z0-9\\+\\-\\.]*$/.test(scheme.toLowerCase()))  return;\n\n        // re-assemble the URL per section 5.3 in RFC 3986\n        out += scheme + ':';\n        if (authority && authority.length) {\n            out += '//' + authority;\n        }\n\n        out += path;\n\n        if (query && query.length) {\n            out += '?' + query;\n        }\n\n        if (fragment && fragment.length) {\n            out += '#' + fragment;\n        }\n\n        return out;\n    }\n\n    function is_http_iri(value, allowHttps) {\n        if (!is_iri(value)) {\n            return;\n        }\n\n        var splitted = [];\n        var scheme = '';\n        var authority = '';\n        var path = '';\n        var port = '';\n        var query = '';\n        var fragment = '';\n        var out = '';\n\n        // from RFC 3986\n        splitted = splitUri(value);\n        scheme = splitted[1]; \n        authority = splitted[2];\n        path = splitted[3];\n        query = splitted[4];\n        fragment = splitted[5];\n\n        if (!scheme)  return;\n\n        if(allowHttps) {\n            if (scheme.toLowerCase() != 'https') return;\n        } else {\n            if (scheme.toLowerCase() != 'http') return;\n        }\n\n        // fully-qualified URIs must have an authority section that is\n        // a valid host\n        if (!authority) {\n            return;\n        }\n\n        // enable port component\n        if (/:(\\d+)$/.test(authority)) {\n            port = authority.match(/:(\\d+)$/)[0];\n            authority = authority.replace(/:\\d+$/, '');\n        }\n\n        out += scheme + ':';\n        out += '//' + authority;\n        \n        if (port) {\n            out += port;\n        }\n        \n        out += path;\n        \n        if(query && query.length){\n            out += '?' + query;\n        }\n\n        if(fragment && fragment.length){\n            out += '#' + fragment;\n        }\n        \n        return out;\n    }\n\n    function is_https_iri(value) {\n        return is_http_iri(value, true);\n    }\n\n    function is_web_iri(value) {\n        return (is_http_iri(value) || is_https_iri(value));\n    }\n\n})(module);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ChevronDownIcon from './ChevronDownIcon';\nimport ChevronRightIcon from './ChevronRightIcon';\nimport { IconProps } from './Icon';\n\ninterface Props extends IconProps {\n  open: boolean;\n}\n\nexport default function OpenCloseIcon({ open, ...iconProps }: Props) {\n  return open ? <ChevronDownIcon {...iconProps} /> : <ChevronRightIcon {...iconProps} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce } from 'lodash';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../../components/controls/buttons';\nimport HelpTooltip from '../../components/controls/HelpTooltip';\nimport OpenCloseIcon from '../../components/icons/OpenCloseIcon';\nimport DeferredSpinner from '../../components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  fetching?: boolean;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (!values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper display-flex-center\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {this.props.fetching && (\n          <span className=\"little-spacer-right\">\n            <DeferredSpinner />\n          </span>\n        )}\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate('clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  /** Textual version of `name` */\n  tooltip?: string;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  renderValue() {\n    if (this.props.stat == null) {\n      return null;\n    }\n\n    return <span className=\"facet-stat\">{this.props.stat}</span>;\n  }\n\n  render() {\n    const { name } = this.props;\n    const className = classNames('search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    return this.props.disabled ? (\n      <span className={className} data-facet={this.props.value} title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </span>\n    ) : (\n      <a\n        className={className}\n        data-facet={this.props.value}\n        href=\"#\"\n        onClick={this.handleClick}\n        title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n  title?: string;\n}\n\nexport default function FacetItemsList({ children, title }: Props) {\n  return (\n    <div className=\"search-navigator-facet-list\">\n      {title && <div className=\"search-navigator-facet-list-title\">{title}</div>}\n      {children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  count: number;\n  showMore: () => void;\n  showLess: (() => void) | undefined;\n  total: number;\n}\n\nexport default class ListStyleFacetFooter extends React.PureComponent<Props> {\n  handleShowMoreClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.showMore();\n  };\n\n  handleShowLessClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.showLess) {\n      this.props.showLess();\n    }\n  };\n\n  render() {\n    const { count, total } = this.props;\n    const hasMore = total > count;\n    const allShown = Boolean(total && total === count);\n\n    return (\n      <footer className=\"note spacer-top spacer-bottom text-center\">\n        {translateWithParameters('x_show', formatMeasure(count, 'INT', null))}\n\n        {hasMore && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowMoreClick}>\n            {translate('show_more')}\n          </a>\n        )}\n\n        {this.props.showLess && allShown && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowLessClick}>\n            {translate('show_less')}\n          </a>\n        )}\n      </footer>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport ListFooter from '../../components/controls/ListFooter';\nimport SearchBox from '../../components/controls/SearchBox';\nimport Tooltip from '../../components/controls/Tooltip';\nimport { Alert } from '../../components/ui/Alert';\nimport { translate } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\nimport { queriesEqual } from '../../helpers/query';\nimport FacetBox from './FacetBox';\nimport FacetHeader from './FacetHeader';\nimport FacetItem from './FacetItem';\nimport FacetItemsList from './FacetItemsList';\nimport ListStyleFacetFooter from './ListStyleFacetFooter';\nimport MultipleSelectionHint from './MultipleSelectionHint';\n\ninterface SearchResponse<S> {\n  maxResults?: boolean;\n  results: S[];\n  paging?: T.Paging;\n}\n\nexport interface Props<S> {\n  className?: string;\n  disabled?: boolean;\n  disabledHelper?: string;\n  facetHeader: string;\n  fetching: boolean;\n  getFacetItemText: (item: string) => string;\n  getSearchResultKey: (result: S) => string;\n  getSearchResultText: (result: S) => string;\n  loadSearchResultCount?: (result: S[]) => Promise<T.Dict<number>>;\n  maxInitialItems: number;\n  maxItems: number;\n  minSearchLength: number;\n  onChange: (changes: T.Dict<string | string[]>) => void;\n  onClear?: () => void;\n  onItemClick?: (itemValue: string, multiple: boolean) => void;\n  onSearch: (query: string, page?: number) => Promise<SearchResponse<S>>;\n  onToggle: (property: string) => void;\n  open: boolean;\n  property: string;\n  query?: T.RawQuery;\n  renderFacetItem: (item: string) => React.ReactNode;\n  renderSearchResult: (result: S, query: string) => React.ReactNode;\n  searchPlaceholder: string;\n  getSortedItems?: () => string[];\n  stats: T.Dict<number> | undefined;\n  values: string[];\n}\n\ninterface State<S> {\n  autoFocus: boolean;\n  query: string;\n  searching: boolean;\n  searchMaxResults?: boolean;\n  searchPaging?: T.Paging;\n  searchResults?: S[];\n  searchResultsCounts: T.Dict<number>;\n  showFullList: boolean;\n}\n\nexport default class ListStyleFacet<S> extends React.Component<Props<S>, State<S>> {\n  mounted = false;\n\n  static defaultProps = {\n    maxInitialItems: 15,\n    maxItems: 100,\n    minSearchLength: 2\n  };\n\n  state: State<S> = {\n    autoFocus: false,\n    query: '',\n    searching: false,\n    searchResultsCounts: {},\n    showFullList: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(prevProps: Props<S>) {\n    if (!prevProps.open && this.props.open) {\n      // focus search field *only* if it was manually open\n      this.setState({ autoFocus: true });\n    } else if (\n      (prevProps.open && !this.props.open) ||\n      !queriesEqual(prevProps.query || {}, this.props.query || {})\n    ) {\n      // reset state when closing the facet, or when query changes\n      this.setState({\n        query: '',\n        searchMaxResults: undefined,\n        searchResults: undefined,\n        searching: false,\n        searchResultsCounts: {},\n        showFullList: false\n      });\n    } else if (\n      prevProps.stats !== this.props.stats &&\n      Object.keys(this.props.stats || {}).length < this.props.maxInitialItems\n    ) {\n      // show limited list if `stats` changed and there are less than 15 items\n      this.setState({ showFullList: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    if (this.props.onItemClick) {\n      this.props.onItemClick(itemValue, multiple);\n    } else {\n      const { values } = this.props;\n      if (multiple) {\n        const newValue = sortBy(\n          values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n        );\n        this.props.onChange({ [this.props.property]: newValue });\n      } else {\n        this.props.onChange({\n          [this.props.property]: values.includes(itemValue) && values.length < 2 ? [] : [itemValue]\n        });\n      }\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.props.property);\n  };\n\n  handleClear = () => {\n    if (this.props.onClear) {\n      this.props.onClear();\n    } else {\n      this.props.onChange({ [this.props.property]: [] });\n    }\n  };\n\n  stopSearching = () => {\n    if (this.mounted) {\n      this.setState({ searching: false });\n    }\n  };\n\n  search = (query: string) => {\n    if (query.length >= this.props.minSearchLength) {\n      this.setState({ query, searching: true });\n      this.props\n        .onSearch(query)\n        .then(this.loadCountsForSearchResults)\n        .then(({ maxResults, paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchMaxResults: maxResults,\n              searchResults: results,\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    } else {\n      this.setState({ query, searching: false, searchResults: [] });\n    }\n  };\n\n  searchMore = () => {\n    const { query, searchPaging, searchResults } = this.state;\n    if (query && searchResults && searchPaging) {\n      this.setState({ searching: true });\n      this.props\n        .onSearch(query, searchPaging.pageIndex + 1)\n        .then(this.loadCountsForSearchResults)\n        .then(({ paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchResults: [...searchResults, ...results],\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    }\n  };\n\n  loadCountsForSearchResults = (response: SearchResponse<S>) => {\n    const { loadSearchResultCount = () => Promise.resolve({}) } = this.props;\n    const resultsToLoad = response.results.filter(result => {\n      const key = this.props.getSearchResultKey(result);\n      return this.getStat(key) === undefined && this.state.searchResultsCounts[key] === undefined;\n    });\n    if (resultsToLoad.length > 0) {\n      return loadSearchResultCount(resultsToLoad).then(stats => ({ ...response, stats }));\n    } else {\n      return { ...response, stats: {} };\n    }\n  };\n\n  getStat(item: string) {\n    const { stats } = this.props;\n    return stats && stats[item] !== undefined ? stats && stats[item] : undefined;\n  }\n\n  showFullList = () => {\n    this.setState({ showFullList: true });\n  };\n\n  hideFullList = () => {\n    this.setState({ showFullList: false });\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const sortedItems = this.props.getSortedItems\n      ? this.props.getSortedItems()\n      : sortBy(\n          Object.keys(stats),\n          key => -stats[key],\n          key => this.props.getFacetItemText(key)\n        );\n\n    const limitedList = this.state.showFullList\n      ? sortedItems\n      : sortedItems.slice(0, this.props.maxInitialItems);\n\n    // make sure all selected items are displayed\n    const selectedBelowLimit = this.state.showFullList\n      ? []\n      : sortedItems\n          .slice(this.props.maxInitialItems)\n          .filter(item => this.props.values.includes(item));\n\n    const mightHaveMoreResults = sortedItems.length >= this.props.maxItems;\n\n    return (\n      <>\n        <FacetItemsList>\n          {limitedList.map(item => (\n            <FacetItem\n              active={this.props.values.includes(item)}\n              key={item}\n              name={this.props.renderFacetItem(item)}\n              onClick={this.handleItemClick}\n              stat={formatFacetStat(this.getStat(item))}\n              tooltip={this.props.getFacetItemText(item)}\n              value={item}\n            />\n          ))}\n        </FacetItemsList>\n        {selectedBelowLimit.length > 0 && (\n          <>\n            <div className=\"note spacer-bottom text-center\"></div>\n            <FacetItemsList>\n              {selectedBelowLimit.map(item => (\n                <FacetItem\n                  active={true}\n                  key={item}\n                  name={this.props.renderFacetItem(item)}\n                  onClick={this.handleItemClick}\n                  stat={formatFacetStat(this.getStat(item))}\n                  tooltip={this.props.getFacetItemText(item)}\n                  value={item}\n                />\n              ))}\n            </FacetItemsList>\n          </>\n        )}\n        <ListStyleFacetFooter\n          count={limitedList.length + selectedBelowLimit.length}\n          showLess={this.state.showFullList ? this.hideFullList : undefined}\n          showMore={this.showFullList}\n          total={sortedItems.length}\n        />\n        {mightHaveMoreResults && this.state.showFullList && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n      </>\n    );\n  }\n\n  renderSearch() {\n    return (\n      <SearchBox\n        autoFocus={this.state.autoFocus}\n        className=\"little-spacer-top spacer-bottom\"\n        loading={this.state.searching}\n        minLength={this.props.minSearchLength}\n        onChange={this.search}\n        placeholder={this.props.searchPlaceholder}\n        value={this.state.query}\n      />\n    );\n  }\n\n  renderSearchResults() {\n    const { searching, searchMaxResults, searchResults, searchPaging } = this.state;\n\n    if (!searching && (!searchResults || !searchResults.length)) {\n      return <div className=\"note spacer-bottom\">{translate('no_results')}</div>;\n    }\n\n    if (!searchResults) {\n      // initial search\n      return null;\n    }\n\n    return (\n      <>\n        <FacetItemsList>\n          {searchResults.map(result => this.renderSearchResult(result))}\n        </FacetItemsList>\n        {searchMaxResults && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n        {searchPaging && (\n          <ListFooter\n            className=\"spacer-bottom\"\n            count={searchResults.length}\n            loadMore={this.searchMore}\n            ready={!searching}\n            total={searchPaging.total}\n          />\n        )}\n      </>\n    );\n  }\n\n  renderSearchResult(result: S) {\n    const key = this.props.getSearchResultKey(result);\n    const active = this.props.values.includes(key);\n    const stat = this.getStat(key) || this.state.searchResultsCounts[key];\n    return (\n      <FacetItem\n        active={active}\n        key={key}\n        name={this.props.renderSearchResult(result, this.state.query)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.props.getSearchResultText(result)}\n        value={key}\n      />\n    );\n  }\n\n  render() {\n    const { disabled, stats = {} } = this.props;\n    const { query, searching, searchResults } = this.state;\n    const values = this.props.values.map(item => this.props.getFacetItemText(item));\n    const loadingResults =\n      query !== '' && searching && (searchResults === undefined || searchResults.length === 0);\n    const showList = !query || loadingResults;\n    return (\n      <FacetBox\n        className={classNames(this.props.className, {\n          'search-navigator-facet-box-forbidden': disabled\n        })}\n        property={this.props.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={\n            <Tooltip overlay={disabled ? this.props.disabledHelper : undefined}>\n              <span>{this.props.facetHeader}</span>\n            </Tooltip>\n          }\n          onClear={this.handleClear}\n          onClick={disabled ? undefined : this.handleHeaderClick}\n          open={this.props.open && !disabled}\n          values={values}\n        />\n\n        {this.props.open && !disabled && (\n          <>\n            {this.renderSearch()}\n            {showList ? this.renderList() : this.renderSearchResults()}\n            <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n\nfunction formatFacetStat(stat: number | undefined) {\n  return stat && formatMeasure(stat, 'SHORT_INT');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { isWebUri } from 'valid-url';\nimport HelpTooltip from '../../components/controls/HelpTooltip';\nimport DetachIcon from '../../components/icons/DetachIcon';\n\nexport interface DocumentationTooltipProps {\n  children?: React.ReactNode;\n  className?: string;\n  content?: React.ReactNode;\n  links?: Array<{ href: string; label: string; inPlace?: boolean }>;\n  title?: string;\n}\n\nexport default function DocumentationTooltip(props: DocumentationTooltipProps) {\n  const { className, content, links, title } = props;\n\n  return (\n    <HelpTooltip\n      className={className}\n      overlay={\n        <div className=\"big-padded-top big-padded-bottom\">\n          {title && (\n            <div className=\"spacer-bottom\">\n              <strong>{title}</strong>\n            </div>\n          )}\n\n          {content && <p>{content}</p>}\n\n          {links && (\n            <>\n              <hr className=\"big-spacer-top big-spacer-bottom\" />\n\n              {links.map(({ href, label, inPlace }) => (\n                <div className=\"little-spacer-bottom\" key={label}>\n                  {inPlace ? (\n                    <Link to={href}>\n                      <span>{label}</span>\n                    </Link>\n                  ) : (\n                    <a\n                      className=\"display-inline-flex-center link-with-icon\"\n                      href={href}\n                      rel=\"noopener noreferrer\"\n                      target=\"_blank\">\n                      {isWebUri(href) && <DetachIcon size={14} className=\"spacer-right\" />}\n                      <span>{label}</span>\n                    </a>\n                  )}\n                </div>\n              ))}\n            </>\n          )}\n        </div>\n      }>\n      {props.children}\n    </HelpTooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport function highlightTerm(str: string, term: string) {\n  const pos = str.toLowerCase().indexOf(term.toLowerCase());\n  return pos !== -1 ? (\n    <>\n      {pos > 0 && str.substring(0, pos)}\n      <mark>{str.substr(pos, term.length)}</mark>\n      {pos + term.length < str.length && str.substring(pos + term.length)}\n    </>\n  ) : (\n    str\n  );\n}\n","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronLeftIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M4.404 8.28l4.604 4.602a.382.382 0 0 0 .279.118c.108 0 .2-.04.279-.118l1.03-1.03a.382.382 0 0 0 .117-.278.382.382 0 0 0-.117-.28L7.3 8l3.295-3.294a.382.382 0 0 0 .117-.28.382.382 0 0 0-.117-.279l-1.03-1.03A.382.382 0 0 0 9.286 3a.382.382 0 0 0-.278.118L4.404 7.72A.382.382 0 0 0 4.287 8c0 .108.04.201.117.28z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './LocationIndex.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  leading?: boolean;\n  onClick?: () => void;\n  selected?: boolean;\n  [x: string]: any;\n}\n\nexport default function LocationIndex(props: Props) {\n  const { children, leading, onClick, selected, ...other } = props;\n  const clickAttributes = onClick ? { onClick, role: 'button', tabIndex: 0 } : {};\n  // put {...others} because Tooltip sets some event handlers\n  return (\n    <div\n      className={classNames('location-index', {\n        'is-leading': leading,\n        selected\n      })}\n      {...clickAttributes}\n      {...other}>\n      {children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\nimport './MultipleSelectionHint.css';\n\ninterface Props {\n  options: number;\n  values: number;\n}\n\nexport default function MultipleSelectionHint({ options, values }: Props) {\n  // do not render if nothing is selected or there are less than 2 possible options\n  if (values === 0 || options < 2) {\n    return null;\n  }\n\n  return (\n    <div className=\"multiple-selection-hint\">\n      <div className=\"multiple-selection-hint-inner\">\n        {translate(\n          isOnMac()\n            ? 'shortcuts.section.global.facets.multiselection.mac'\n            : 'shortcuts.section.global.facets.multiselection'\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction isOnMac() {\n  return navigator.userAgent.indexOf('Mac OS X') !== -1;\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DayPicker.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none;padding-bottom:8px;flex-direction:row}.DayPicker-Months{display:flex;flex-wrap:wrap;justify-content:center}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;margin:8px 8px 0}.DayPicker-Weekdays{display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:8px;font-size:12px;text-align:center;color:#999}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day{display:table-cell;line-height:15px;padding:8px;text-align:center;cursor:pointer;vertical-align:top;outline:none}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:8px}.DayPicker-Day--today{font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#cdcdcd;cursor:not-allowed}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#4b9fd5;color:#fff}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--highlighted):not(.DayPicker-Day--outside):hover{background-color:#f3f3f3}.DayPicker-Day--highlighted:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside){background-color:#cae3f2}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".date-input-control{position:relative;display:inline-block;cursor:pointer}.date-input-control-input{width:130px;padding-left:24px!important;cursor:pointer}.date-input-control-input.is-filled{padding-right:16px!important}.date-input-control-icon{position:absolute;top:4px;left:4px}.date-input-control-icon path{fill:#cdcdcd;transition:fill .3s ease}.date-input-control-input:focus+.date-input-control-icon path{fill:#4b9fd5}.date-input-control-reset{position:absolute;top:4px;right:4px;border:none}.date-input-calendar{position:absolute;z-index:7500;top:100%;left:0;border:1px solid #e6e6e6;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.date-input-calendar-nav{display:flex;justify-content:space-between;align-items:center;padding-top:8px;padding-left:8px;padding-right:8px}.date-input-calender-month-select{width:70px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".search-navigator.sticky .search-navigator-workspace-header{position:fixed;z-index:50;top:0;left:300px;right:0}.search-navigator.sticky .search-navigator-workspace-details,.search-navigator.sticky .search-navigator-workspace-list{padding-top:43px}.search-navigator-facet-box{background-color:#f3f3f3;font-size:13px}.search-navigator-facet-box.leak-facet-box{background-color:#fbf3d5;border:1px solid #f1e8cb}.search-navigator-facet-box.is-inner{margin-left:8px;padding-left:12px;border-left:1px solid #e6e6e6}.search-navigator-facet-box.is-inner .search-navigator-facet-header{padding-top:6px;padding-bottom:6px}.leak-facet-box:not(.hidden)+.leak-facet-box{border-top:none}.search-navigator-facet-box-forbidden{background-color:transparent;opacity:.5}.search-navigator-facet-box-forbidden .search-navigator-facet-container,.search-navigator-facet-box-forbidden .search-navigator-facet-empty,.search-navigator-facet-box-forbidden .search-navigator-facet-list{display:none}.search-navigator-facet-box-forbidden .search-navigator-facet-header{color:#666}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#4b9fd5}.search-navigator-facet-box-forbidden .search-navigator-facet-header{cursor:default}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#666}.search-navigator-facet{position:relative;display:inline-flex;justify-content:space-between;align-items:center;width:100%;height:24px;margin:0 0 1px;padding:0 6px;border:1px solid transparent;border-radius:2px;box-sizing:border-box;white-space:normal;opacity:.3;cursor:not-allowed;transition:none}a.search-navigator-facet{opacity:1;cursor:pointer}a.search-navigator-facet .facet-name{color:#333}.search-navigator-facet.active,a.search-navigator-facet:focus,a.search-navigator-facet:hover{border-color:#4b9fd5}.search-navigator-facet.facet-category{opacity:1;cursor:default}.search-navigator-facet.facet-category .facet-name{color:#666}.search-navigator-facet .facet-name{flex:1 1 auto;min-width:0;line-height:16px;padding:1px 0;color:#666;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-navigator-facet .facet-stat{display:flex;align-items:center;margin-left:8px;color:#666;font-size:12px}.search-navigator-facet .facet-toggle{display:none;float:left;height:16px;line-height:16px;margin-top:-1px;padding:0 5px;border-radius:2px;font-size:11px;text-transform:lowercase}.search-navigator-facet .facet-toggle:hover{color:#333}.search-navigator-facet .facet-toggle-active.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet .facet-toggle-active.facet-toggle-red{background-color:#d4333f;color:#fff}.leak-facet-box .search-navigator-facet .facet-name,.leak-facet-box .search-navigator-facet .facet-stat{background-color:#fbf3d5}.leak-facet-box .search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,rgba(251,243,213,0),#fbf3d5 75%)}.search-navigator-facet.active{background-color:#cae3f2;text-decoration:none}.search-navigator-facet.active .facet-toggle{display:inline}.search-navigator-facet.compare .facet-toggle{cursor:not-allowed;opacity:.5}.search-navigator-facet.compare .facet-toggle.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet.compare .facet-toggle.facet-toggle-red{background-color:transparent;color:#666}.search-navigator-facet-half{width:45%}.search-navigator-facet-half:nth-child(odd){margin-right:10%}.search-navigator-facet-highlight-under-container{margin-bottom:1px}.search-navigator-facet-highlight-under-container .search-navigator-facet{margin-bottom:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover{border-bottom:none;padding-bottom:1px;border-radius:2px 2px 0 0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet{border-top:none;border-bottom:none;border-left-color:#4b9fd5;border-right-color:#4b9fd5;border-radius:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:0 0 2px 2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet{background-color:#cae3f2;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet.active{border-top:1px solid #4b9fd5}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet{background-color:#a1cde8;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-toggle,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-header{display:block;flex-shrink:0;padding:8px 0;color:#333;font-weight:600;overflow:hidden;white-space:nowrap}.search-navigator-facet-header>a{border-bottom:none;color:#333}.search-navigator-facet-header>a:focus,.search-navigator-facet-header>a:hover{color:#4b9fd5}.search-navigator-facet-header>.note{font-weight:400}.search-navigator-facet-header>h3,.search-navigator-facet-header>h4{line-height:inherit;display:inline}.search-navigator-facet-header-value{display:block;overflow:hidden}.search-navigator-facet-header-value>.badge{display:block}.search-navigator-facet-header-button{flex-shrink:0;margin-left:auto}.search-navigator-facet-header-wrapper{display:flex;align-items:center}.search-navigator-facet-list{padding-bottom:8px;font-size:0}.search-navigator-facet-list-title{margin:0 8px 4px;font-size:12px;font-weight:700}.search-navigator-facet-list+.search-navigator-facet-list>.search-navigator-facet-list-title{border-top:1px solid #e6e6e6;padding-top:8px}.search-navigator-facet-empty{margin:0;padding:0 10px 10px;color:#333;font-size:12px;white-space:nowrap}.search-navigator-facet-footer{display:block;padding-bottom:8px;border-bottom:none}.search-navigator-facet-container{margin-top:6px;padding:0 10px 16px}.search-navigator-date-facet-selection{position:relative;padding-left:8px;font-size:12px}.search-navigator-date-facet-selection:after,.search-navigator-date-facet-selection:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-date-facet-selection:after{clear:both}.search-navigator-date-facet-selection .date-input-control-input{width:115px!important}.search-navigator-date-facet-selection-dropdown-left{float:left;border-bottom:none}.search-navigator-date-facet-selection-dropdown-right{float:right;border-bottom:none}.search-navigator-date-facet-selection-input-left{position:absolute;left:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection-input-right{position:absolute;right:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection .date-input-control:not(:first-of-type) .date-input-calendar{left:auto;right:0}.search-navigator-filters{position:relative;padding:5px 10px;background-color:#f3f3f3}.search-navigator-filters:after,.search-navigator-filters:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-filters:after{clear:both}.search-navigator-filters-header{margin-bottom:12px;padding-bottom:11px;border-bottom:1px solid #e6e6e6}.search-navigator-intro{width:500px;margin:0 auto;padding-top:100px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function CalendarIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M2 14h2.25v-2.25H2V14zm2.75 0h2.5v-2.25h-2.5V14zM2 11.25h2.25v-2.5H2v2.5zm2.75 0h2.5v-2.5h-2.5v2.5zM2 8.25h2.25V6H2v2.25zM7.75 14h2.5v-2.25h-2.5V14zm-3-5.75h2.5V6h-2.5v2.25zm6 5.75H13v-2.25h-2.25V14zm-3-2.75h2.5v-2.5h-2.5v2.5zM5 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 4.75 2h-.5a.24.24 0 0 0-.176.074A.24.24 0 0 0 4 2.25V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 5 4.5zm5.75 6.75H13v-2.5h-2.25v2.5zm-3-3h2.5V6h-2.5v2.25zm3 0H13V6h-2.25v2.25zM11 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 10.75 2h-.5a.24.24 0 0 0-.176.074.24.24 0 0 0-.074.176V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 11 4.5zm3-.5v10c0 .27-.099.505-.297.703A.961.961 0 0 1 13 15H2a.961.961 0 0 1-.703-.297A.961.961 0 0 1 1 14V4c0-.27.099-.505.297-.703A.961.961 0 0 1 2 3h1v-.75c0-.344.122-.638.367-.883S3.907 1 4.25 1h.5c.344 0 .638.122.883.367S6 1.907 6 2.25V3h3v-.75c0-.344.122-.638.367-.883S9.907 1 10.25 1h.5c.344 0 .638.122.883.367s.367.54.367.883V3h1c.27 0 .505.099.703.297A.961.961 0 0 1 14 4z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as addMonths from 'date-fns/add_months';\nimport * as setMonth from 'date-fns/set_month';\nimport * as setYear from 'date-fns/set_year';\nimport * as subMonths from 'date-fns/sub_months';\nimport { range } from 'lodash';\nimport * as React from 'react';\nimport { DayModifiers, Modifier, Modifiers } from 'react-day-picker';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport { ButtonIcon, ClearButton } from '../../components/controls/buttons';\nimport OutsideClickHandler from '../../components/controls/OutsideClickHandler';\nimport Select from '../../components/controls/Select';\nimport CalendarIcon from '../../components/icons/CalendarIcon';\nimport ChevronLeftIcon from '../../components/icons/ChevronLeftIcon';\nimport ChevronRightIcon from '../../components/icons/ChevronRightIcon';\nimport { getShortMonthName, getShortWeekDayName, getWeekDayName } from '../../helpers/l10n';\nimport { lazyLoadComponent } from '../lazyLoadComponent';\nimport './DayPicker.css';\nimport './styles.css';\n\nconst DayPicker = lazyLoadComponent(() => import('react-day-picker'), 'DayPicker');\n\ninterface Props {\n  className?: string;\n  currentMonth?: Date;\n  highlightFrom?: Date;\n  highlightTo?: Date;\n  inputClassName?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  name?: string;\n  onChange: (date: Date | undefined) => void;\n  placeholder: string;\n  value?: Date;\n}\n\ninterface State {\n  currentMonth: Date;\n  open: boolean;\n  lastHovered?: Date;\n}\n\ntype Week = [string, string, string, string, string, string, string];\n\nexport default class DateInput extends React.PureComponent<Props, State> {\n  input?: HTMLInputElement | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { currentMonth: props.value || props.currentMonth || new Date(), open: false };\n  }\n\n  focus = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n    this.openCalendar();\n  };\n\n  handleResetClick = () => {\n    this.closeCalendar();\n    this.props.onChange(undefined);\n  };\n\n  openCalendar = () => {\n    this.setState({\n      currentMonth: this.props.value || this.props.currentMonth || new Date(),\n      lastHovered: undefined,\n      open: true\n    });\n  };\n\n  closeCalendar = () => {\n    this.setState({ open: false });\n  };\n\n  handleDayClick = (day: Date, modifiers: DayModifiers) => {\n    if (!modifiers.disabled) {\n      this.closeCalendar();\n      this.props.onChange(day);\n    }\n  };\n\n  handleDayMouseEnter = (day: Date, modifiers: DayModifiers) => {\n    this.setState({ lastHovered: modifiers.disabled ? undefined : day });\n  };\n\n  handleCurrentMonthChange = ({ value }: { value: number }) => {\n    this.setState((state: State) => ({ currentMonth: setMonth(state.currentMonth, value) }));\n  };\n\n  handleCurrentYearChange = ({ value }: { value: number }) => {\n    this.setState(state => ({ currentMonth: setYear(state.currentMonth, value) }));\n  };\n\n  handlePreviousMonthClick = () => {\n    this.setState(state => ({ currentMonth: subMonths(state.currentMonth, 1) }));\n  };\n\n  handleNextMonthClick = () => {\n    this.setState(state => ({ currentMonth: addMonths(state.currentMonth, 1) }));\n  };\n\n  render() {\n    const { highlightFrom, highlightTo, minDate, value } = this.props;\n    const { lastHovered } = this.state;\n\n    const after = this.props.maxDate || new Date();\n\n    const months = range(12);\n    const years = range(new Date().getFullYear() - 10, new Date().getFullYear() + 1);\n\n    const selectedDays: Modifier[] = value ? [value] : [];\n    let modifiers: Partial<Modifiers> | undefined;\n    const lastHoveredOrValue = lastHovered || value;\n\n    if (highlightFrom && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: highlightFrom, to: lastHoveredOrValue } };\n      selectedDays.push(highlightFrom);\n    }\n    if (highlightTo && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: lastHoveredOrValue, to: highlightTo } };\n      selectedDays.push(highlightTo);\n    }\n\n    const weekdaysLong = range(7).map(getWeekDayName) as Week;\n    const weekdaysShort = range(7).map(getShortWeekDayName) as Week;\n\n    return (\n      <OutsideClickHandler onClickOutside={this.closeCalendar}>\n        <span className={classNames('date-input-control', this.props.className)}>\n          <InputWrapper\n            className={classNames('date-input-control-input', this.props.inputClassName, {\n              'is-filled': this.props.value !== undefined\n            })}\n            innerRef={node => (this.input = node)}\n            name={this.props.name}\n            onFocus={this.openCalendar}\n            placeholder={this.props.placeholder}\n            readOnly={true}\n            type=\"text\"\n            value={value}\n          />\n          <CalendarIcon className=\"date-input-control-icon\" fill=\"\" />\n          {this.props.value !== undefined && (\n            <ClearButton\n              className=\"button-tiny date-input-control-reset\"\n              iconProps={{ size: 12 }}\n              onClick={this.handleResetClick}\n            />\n          )}\n          {this.state.open && (\n            <div className=\"date-input-calendar\">\n              <nav className=\"date-input-calendar-nav\">\n                <ButtonIcon className=\"button-small\" onClick={this.handlePreviousMonthClick}>\n                  <ChevronLeftIcon />\n                </ButtonIcon>\n                <div className=\"date-input-calender-month\">\n                  <Select\n                    className=\"date-input-calender-month-select\"\n                    onChange={this.handleCurrentMonthChange}\n                    options={months.map(month => ({\n                      label: getShortMonthName(month),\n                      value: month\n                    }))}\n                    value={this.state.currentMonth.getMonth()}\n                  />\n                  <Select\n                    className=\"date-input-calender-month-select spacer-left\"\n                    onChange={this.handleCurrentYearChange}\n                    options={years.map(year => ({ label: String(year), value: year }))}\n                    value={this.state.currentMonth.getFullYear()}\n                  />\n                </div>\n                <ButtonIcon className=\"button-small\" onClick={this.handleNextMonthClick}>\n                  <ChevronRightIcon />\n                </ButtonIcon>\n              </nav>\n              <DayPicker\n                captionElement={<NullComponent />}\n                disabledDays={{ after, before: minDate }}\n                firstDayOfWeek={1}\n                modifiers={modifiers}\n                month={this.state.currentMonth}\n                navbarElement={<NullComponent />}\n                onDayClick={this.handleDayClick}\n                onDayMouseEnter={this.handleDayMouseEnter}\n                selectedDays={selectedDays}\n                weekdaysLong={weekdaysLong}\n                weekdaysShort={weekdaysShort}\n              />\n            </div>\n          )}\n        </span>\n      </OutsideClickHandler>\n    );\n  }\n}\n\nfunction NullComponent() {\n  return null;\n}\n\ntype InputWrapperProps = T.Omit<React.InputHTMLAttributes<HTMLInputElement>, 'value'> &\n  InjectedIntlProps & {\n    innerRef: React.Ref<HTMLInputElement>;\n    value: Date | undefined;\n  };\n\nconst InputWrapper = injectIntl(({ innerRef, intl, value, ...other }: InputWrapperProps) => {\n  const formattedValue =\n    value && intl.formatDate(value, { year: 'numeric', month: 'short', day: 'numeric' });\n  return <input {...other} ref={innerRef} value={formattedValue || ''} />;\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { colors } from '../../app/theme';\nimport Icon, { IconProps } from './Icon';\n\ninterface Props extends IconProps {\n  status: string;\n}\n\nconst statusIcons: T.Dict<(props: IconProps) => React.ReactElement> = {\n  open: OpenStatusIcon,\n  confirmed: ConfirmedStatusIcon,\n  reopened: ReopenedStatusIcon,\n  resolved: ResolvedStatusIcon,\n  closed: ClosedStatusIcon,\n  to_review: OpenStatusIcon,\n  in_review: ConfirmedStatusIcon,\n  reviewed: ResolvedStatusIcon\n};\n\nexport default function StatusIcon({ status, ...iconProps }: Props) {\n  const DesiredStatusIcon = statusIcons[status.toLowerCase()];\n  return DesiredStatusIcon ? <DesiredStatusIcon {...iconProps} /> : null;\n}\n\nfunction OpenStatusIcon(iconProps: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ConfirmedStatusIcon(iconProps: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M10 8c0 .552-.195 1.023-.586 1.414-.39.39-.862.586-1.414.586a1.926 1.926 0 0 1-1.414-.586A1.928 1.928 0 0 1 6 8c0-.552.195-1.023.586-1.414C6.976 6.196 7.448 6 8 6c.552 0 1.023.195 1.414.586.39.39.586.862.586 1.414zM8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ReopenedStatusIcon(iconProps: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M8 12.25v-8.5c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ResolvedStatusIcon(iconProps: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M12.03 6.734a.49.49 0 0 0-.14-.36l-.71-.702a.48.48 0 0 0-.352-.15.474.474 0 0 0-.35.15l-3.19 3.18-1.765-1.766a.479.479 0 0 0-.35-.15.479.479 0 0 0-.353.15l-.71.703a.482.482 0 0 0-.14.358c0 .14.046.258.14.352l2.828 2.828c.098.1.216.15.35.15.142 0 .26-.05.36-.15l4.243-4.242a.475.475 0 0 0 .14-.352l-.001.001zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: colors.baseFontColor }}\n      />\n    </Icon>\n  );\n}\n\nfunction ClosedStatusIcon(iconProps: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: colors.baseFontColor }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport StatusIcon from '../../components/icons/StatusIcon';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  resolution: string | undefined;\n  status: string;\n}\n\nexport default function StatusHelper(props: Props) {\n  const resolution = props.resolution && ` (${translate('issue.resolution', props.resolution)})`;\n  return (\n    <span className={props.className}>\n      <StatusIcon className=\"little-spacer-right\" status={props.status} />\n      {translate('issue.status', props.status)}\n      {resolution}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Standards } from '../types/security';\n\nexport function getStandards(): Promise<Standards> {\n  return import('./standards.json').then(x => x.default);\n}\n\nexport function renderCWECategory(standards: Standards, category: string): string {\n  const record = standards.cwe[category];\n  if (!record) {\n    return `CWE-${category}`;\n  } else if (category === 'unknown') {\n    return record.title;\n  } else {\n    return `CWE-${category} - ${record.title}`;\n  }\n}\n\nexport function renderOwaspTop10Category(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.owaspTop10[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'OWASP', withPrefix);\n  } else {\n    return addPrefix(`${category.toUpperCase()} - ${record.title}`, 'OWASP', withPrefix);\n  }\n}\n\nexport function renderSansTop25Category(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sansTop25[category];\n  return addPrefix(record ? record.title : category, 'SANS', withPrefix);\n}\n\nexport function renderSonarSourceSecurityCategory(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sonarsourceSecurity[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'SONAR', withPrefix);\n  } else if (category === 'others') {\n    return record.title;\n  } else {\n    return addPrefix(record.title, 'SONAR', withPrefix);\n  }\n}\n\nfunction addPrefix(title: string, prefix: string, withPrefix: boolean) {\n  return withPrefix ? `${prefix} ${title}` : title;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../lazyLoadComponent';\n\nconst SourceViewer = lazyLoadComponent(\n  () => import(/* webpackPrefetch: true */ './SourceViewerBase'),\n  'SourceViewer'\n);\nexport default SourceViewer;\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { max, min } from 'date-fns';\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\nimport DateInput from './DateInput';\n\ntype DateRange = { from?: Date; to?: Date };\n\ninterface Props {\n  className?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  onChange: (date: DateRange) => void;\n  value?: DateRange;\n}\n\nexport default class DateRangeInput extends React.PureComponent<Props> {\n  toDateInput?: DateInput | null;\n\n  get from() {\n    return this.props.value && this.props.value.from;\n  }\n\n  get to() {\n    return this.props.value && this.props.value.to;\n  }\n\n  handleFromChange = (from: Date | undefined) => {\n    this.props.onChange({ from, to: this.to });\n\n    // use `setTimeout` to work around the immediate closing of the `toDateInput`\n    setTimeout(() => {\n      if (from && !this.to && this.toDateInput) {\n        this.toDateInput.focus();\n      }\n    }, 0);\n  };\n\n  handleToChange = (to: Date | undefined) => {\n    this.props.onChange({ from: this.from, to });\n  };\n\n  render() {\n    const { minDate, maxDate } = this.props;\n\n    return (\n      <div className={classNames('display-inline-flex-center', this.props.className)}>\n        <DateInput\n          currentMonth={this.to}\n          data-test=\"from\"\n          highlightTo={this.to}\n          minDate={minDate}\n          maxDate={maxDate && this.to ? min(maxDate, this.to) : maxDate || this.to}\n          onChange={this.handleFromChange}\n          placeholder={translate('start_date')}\n          value={this.from}\n        />\n        <span className=\"note little-spacer-left little-spacer-right\">{translate('to_')}</span>\n        <DateInput\n          currentMonth={this.from}\n          data-test=\"to\"\n          highlightFrom={this.from}\n          minDate={minDate && this.from ? max(minDate, this.from) : minDate || this.from}\n          maxDate={maxDate}\n          onChange={this.handleToChange}\n          placeholder={translate('end_date')}\n          ref={element => (this.toDateInput = element)}\n          value={this.to}\n        />\n      </div>\n    );\n  }\n}\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce } from 'lodash';\nimport * as React from 'react';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport Select, { Creatable } from './Select';\n\ninterface Props<T> {\n  autofocus?: boolean;\n  canCreate?: boolean;\n  className?: string;\n  clearable?: boolean;\n  defaultOptions?: T[];\n  minimumQueryLength?: number;\n  multi?: boolean;\n  onSearch: (query: string) => Promise<T[]>;\n  onSelect?: (option: T) => void;\n  onMultiSelect?: (options: T[]) => void;\n  promptTextCreator?: (label: string) => string;\n  renderOption?: (option: T) => JSX.Element;\n  resetOnBlur?: boolean;\n  value?: T | T[];\n}\n\ninterface State<T> {\n  loading: boolean;\n  options: T[];\n  query: string;\n}\n\nexport default class SearchSelect<T extends { value: string }> extends React.PureComponent<\n  Props<T>,\n  State<T>\n> {\n  mounted = false;\n\n  constructor(props: Props<T>) {\n    super(props);\n    this.state = { loading: false, options: props.defaultOptions || [], query: '' };\n    this.handleSearch = debounce(this.handleSearch, 250);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  get autofocus() {\n    return this.props.autofocus !== undefined ? this.props.autofocus : true;\n  }\n\n  get minimumQueryLength() {\n    return this.props.minimumQueryLength !== undefined ? this.props.minimumQueryLength : 2;\n  }\n\n  get resetOnBlur() {\n    return this.props.resetOnBlur !== undefined ? this.props.resetOnBlur : true;\n  }\n\n  handleSearch = (query: string) => {\n    // Ignore the result if the query changed\n    const currentQuery = query;\n    this.props.onSearch(currentQuery).then(\n      options => {\n        if (this.mounted) {\n          this.setState(state => ({\n            loading: false,\n            options: state.query === currentQuery ? options : state.options\n          }));\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleChange = (option: T | T[]) => {\n    if (Array.isArray(option)) {\n      if (this.props.onMultiSelect) {\n        this.props.onMultiSelect(option);\n      }\n    } else if (this.props.onSelect) {\n      this.props.onSelect(option);\n    }\n  };\n\n  handleInputChange = (query: string) => {\n    if (query.length >= this.minimumQueryLength) {\n      this.setState({ loading: true, query });\n      this.handleSearch(query);\n    } else {\n      // `onInputChange` is called with an empty string after a user selects a value\n      // in this case we shouldn't reset `options`, because it also resets select value :(\n      const options = (query.length === 0 && this.props.defaultOptions) || [];\n      this.setState({ options, query });\n    }\n  };\n\n  // disable internal filtering\n  handleFilterOption = () => true;\n\n  render() {\n    const Component = this.props.canCreate ? Creatable : Select;\n    return (\n      <Component\n        autoFocus={this.autofocus}\n        className={this.props.className}\n        clearable={this.props.clearable}\n        escapeClearsValue={false}\n        filterOption={this.handleFilterOption}\n        isLoading={this.state.loading}\n        multi={this.props.multi}\n        noResultsText={\n          this.state.query.length < this.minimumQueryLength\n            ? translateWithParameters('select2.tooShort', this.minimumQueryLength)\n            : translate('select2.noMatches')\n        }\n        onBlurResetsInput={this.resetOnBlur}\n        onChange={this.handleChange}\n        onInputChange={this.handleInputChange}\n        optionRenderer={this.props.renderOption}\n        options={this.state.options}\n        placeholder={translate('search_verb')}\n        promptTextCreator={this.props.promptTextCreator}\n        searchable={true}\n        value={this.props.value}\n        valueRenderer={this.props.renderOption}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../../app/utils/throwGlobalError';\nimport { parseIssueFromResponse } from '../../helpers/issues';\nimport { IssueResponse } from '../../types/issues';\n\nexport const updateIssue = (\n  onChange: (issue: T.Issue) => void,\n  resultPromise: Promise<IssueResponse>,\n  oldIssue?: T.Issue,\n  newIssue?: T.Issue\n) => {\n  const optimisticUpdate = oldIssue !== undefined && newIssue !== undefined;\n  if (optimisticUpdate) {\n    onChange(newIssue!);\n  }\n\n  resultPromise.then(\n    response => {\n      if (!optimisticUpdate) {\n        const issue = parseIssueFromResponse(\n          response.issue,\n          response.components,\n          response.users,\n          response.rules\n        );\n        onChange(issue);\n      }\n    },\n    param => {\n      if (optimisticUpdate) {\n        onChange(oldIssue!);\n      }\n      throwGlobalError(param);\n    }\n  );\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from '../../components/controls/Tooltip';\n\ninterface Props {\n  active?: string;\n  className?: string;\n  item: string;\n  onHover?: (item: string) => void;\n  onSelect?: (item: string) => void;\n  title?: React.ReactNode;\n}\n\nexport default class SelectListItem extends React.PureComponent<Props> {\n  handleSelect = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    if (this.props.onSelect) {\n      this.props.onSelect(this.props.item);\n    }\n  };\n\n  handleHover = () => {\n    if (this.props.onHover) {\n      this.props.onHover(this.props.item);\n    }\n  };\n\n  renderLink() {\n    const children = this.props.children || this.props.item;\n    return (\n      <li>\n        <a\n          className={classNames(\n            { active: this.props.active === this.props.item },\n            this.props.className\n          )}\n          href=\"#\"\n          onClick={this.handleSelect}\n          onFocus={this.handleHover}\n          onMouseOver={this.handleHover}>\n          {children}\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    return (\n      <Tooltip overlay={this.props.title || undefined} placement=\"right\">\n        {this.renderLink()}\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as key from 'keymaster';\nimport { uniqueId } from 'lodash';\nimport * as React from 'react';\nimport SelectListItem from './SelectListItem';\n\ninterface Props {\n  className?: string;\n  items: string[];\n  currentItem: string;\n  onSelect: (item: string) => void;\n}\n\ninterface State {\n  active: string;\n}\n\nexport default class SelectList extends React.PureComponent<Props, State> {\n  currentKeyScope?: string;\n  previousFilter?: (event: any) => void;\n  previousKeyScope?: string;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      active: props.currentItem\n    };\n  }\n\n  componentDidMount() {\n    this.attachShortcuts();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.currentItem !== this.props.currentItem &&\n      !this.props.items.includes(this.state.active)\n    ) {\n      this.setState({ active: this.props.currentItem });\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    this.previousKeyScope = key.getScope();\n    this.previousFilter = key.filter;\n    this.currentKeyScope = uniqueId('key-scope');\n    key.setScope(this.currentKeyScope);\n\n    // sometimes there is a *focused* search field next to the SelectList component\n    // we need to allow shortcuts in this case, but only for the used keys\n    (key as any).filter = (event: KeyboardEvent & { target: HTMLElement }) => {\n      const { tagName } = event.target || event.srcElement;\n      const isInput = tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';\n      return [13, 38, 40].includes(event.keyCode) || !isInput;\n    };\n\n    key('down', this.currentKeyScope, () => {\n      this.setState(this.selectNextElement);\n      return false;\n    });\n\n    key('up', this.currentKeyScope, () => {\n      this.setState(this.selectPreviousElement);\n      return false;\n    });\n\n    key('return', this.currentKeyScope, () => {\n      if (this.state.active != null) {\n        this.handleSelect(this.state.active);\n      }\n      return false;\n    });\n  };\n\n  detachShortcuts = () => {\n    if (this.previousKeyScope) {\n      key.setScope(this.previousKeyScope);\n    }\n    if (this.currentKeyScope) {\n      key.deleteScope(this.currentKeyScope);\n    }\n    (key as any).filter = this.previousFilter;\n  };\n\n  handleSelect = (item: string) => {\n    this.props.onSelect(item);\n  };\n\n  handleHover = (item: string) => {\n    this.setState({ active: item });\n  };\n\n  selectNextElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx < 0) {\n      return { active: props.items[0] };\n    }\n    return { active: props.items[(idx + 1) % props.items.length] };\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx <= 0) {\n      return { active: props.items[props.items.length - 1] };\n    }\n    return { active: props.items[idx - 1] };\n  };\n\n  renderChild = (child: any) => {\n    if (child == null) {\n      return null;\n    }\n    // do not pass extra props to children like `<li className=\"divider\" />`\n    if (child.type !== SelectListItem) {\n      return child;\n    }\n    return React.cloneElement(child, {\n      active: this.state.active,\n      onHover: this.handleHover,\n      onSelect: this.handleSelect\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    const hasChildren = React.Children.count(children) > 0;\n    return (\n      <ul className={classNames('menu', this.props.className)}>\n        {hasChildren && React.Children.map(children, this.renderChild)}\n        {!hasChildren &&\n          this.props.items.map(item => (\n            <SelectListItem\n              active={this.state.active}\n              item={item}\n              key={item}\n              onHover={this.handleHover}\n              onSelect={this.handleSelect}\n            />\n          ))}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport * as React from 'react';\nimport { searchUsers } from '../../../api/users';\nimport { DropdownOverlay } from '../../../components/controls/Dropdown';\nimport SearchBox from '../../../components/controls/SearchBox';\nimport { translate } from '../../../helpers/l10n';\nimport { isLoggedIn, isUserActive } from '../../../helpers/users';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { withCurrentUser } from '../../hoc/withCurrentUser';\nimport Avatar from '../../ui/Avatar';\n\ninterface Props {\n  currentUser: T.CurrentUser;\n  onSelect: (login: string) => void;\n}\n\ninterface State {\n  currentUser: string;\n  query: string;\n  users: T.UserActive[];\n}\n\nconst LIST_SIZE = 10;\n\nexport class SetAssigneePopup extends React.PureComponent<Props, State> {\n  defaultUsersArray: T.UserActive[];\n\n  constructor(props: Props) {\n    super(props);\n    this.defaultUsersArray = [{ login: '', name: translate('unassigned') }];\n\n    if (isLoggedIn(props.currentUser)) {\n      this.defaultUsersArray = [props.currentUser, ...this.defaultUsersArray];\n    }\n\n    this.state = {\n      query: '',\n      users: this.defaultUsersArray,\n      currentUser: this.defaultUsersArray.length > 0 ? this.defaultUsersArray[0].login : ''\n    };\n  }\n\n  searchUsers = (query: string) => {\n    searchUsers({ q: query, ps: LIST_SIZE }).then(this.handleSearchResult, () => {});\n  };\n\n  handleSearchResult = ({ users }: { users: T.UserBase[] }) => {\n    const activeUsers = users.filter(isUserActive);\n    this.setState({\n      users: activeUsers,\n      currentUser: activeUsers.length > 0 ? activeUsers[0].login : ''\n    });\n  };\n\n  handleSearchChange = (query: string) => {\n    if (query.length === 0) {\n      this.setState({\n        query,\n        users: this.defaultUsersArray,\n        currentUser: this.defaultUsersArray[0].login\n      });\n    } else {\n      this.setState({ query });\n      this.searchUsers(query);\n    }\n  };\n\n  render() {\n    return (\n      <DropdownOverlay noPadding={true}>\n        <div className=\"multi-select\">\n          <div className=\"menu-search\">\n            <SearchBox\n              autoFocus={true}\n              className=\"little-spacer-top\"\n              minLength={2}\n              onChange={this.handleSearchChange}\n              placeholder={translate('search.search_for_users')}\n              value={this.state.query}\n            />\n          </div>\n          <SelectList\n            currentItem={this.state.currentUser}\n            items={map(this.state.users, 'login')}\n            onSelect={this.props.onSelect}>\n            {this.state.users.map(user => (\n              <SelectListItem item={user.login} key={user.login}>\n                {!!user.login && (\n                  <Avatar className=\"spacer-right\" hash={user.avatar} name={user.name} size={16} />\n                )}\n                <span className=\"text-middle\" style={{ marginLeft: user.login ? 24 : undefined }}>\n                  {user.name}\n                </span>\n              </SelectListItem>\n            ))}\n          </SelectList>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n\nexport default withCurrentUser(SetAssigneePopup);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from '../../../components/controls/buttons';\nimport Toggler from '../../../components/controls/Toggler';\nimport DropdownIcon from '../../../components/icons/DropdownIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport Avatar from '../../ui/Avatar';\nimport SetAssigneePopup from '../popups/SetAssigneePopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: T.Issue;\n  canAssign: boolean;\n  onAssign: (login: string) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueAssign extends React.PureComponent<Props> {\n  toggleAssign = (open?: boolean) => {\n    this.props.togglePopup('assign', open);\n  };\n\n  handleClose = () => {\n    this.toggleAssign(false);\n  };\n\n  renderAssignee() {\n    const { issue } = this.props;\n    const assigneeName = issue.assigneeName || issue.assignee;\n\n    if (assigneeName) {\n      return (\n        <>\n          <span className=\"text-top\">\n            <Avatar\n              className=\"little-spacer-right\"\n              hash={issue.assigneeAvatar}\n              name={assigneeName}\n              size={16}\n            />\n          </span>\n          <span className=\"issue-meta-label\">\n            {issue.assigneeActive === false\n              ? translateWithParameters('user.x_deleted', assigneeName)\n              : assigneeName}\n          </span>\n        </>\n      );\n    }\n\n    return <span className=\"issue-meta-label\">{translate('unassigned')}</span>;\n  }\n\n  render() {\n    const { canAssign, isOpen, issue } = this.props;\n    const assigneeName = issue.assigneeName || issue.assignee;\n\n    if (canAssign) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            closeOnEscape={true}\n            onRequestClose={this.handleClose}\n            open={isOpen}\n            overlay={<SetAssigneePopup onSelect={this.props.onAssign} />}>\n            <ButtonLink\n              aria-expanded={isOpen}\n              aria-label={\n                assigneeName\n                  ? translateWithParameters(\n                      'issue.assign.assigned_to_x_click_to_change',\n                      assigneeName\n                    )\n                  : translate('issue.assign.unassigned_click_to_assign')\n              }\n              className=\"issue-action issue-action-with-options js-issue-assign\"\n              onClick={this.toggleAssign}>\n              {this.renderAssignee()}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    }\n\n    return this.renderAssignee();\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button, ResetButtonLink } from '../../../components/controls/buttons';\nimport { DropdownOverlay } from '../../../components/controls/Dropdown';\nimport { PopupPlacement } from '../../../components/ui/popups';\nimport { translate } from '../../../helpers/l10n';\nimport FormattingTips from '../../common/FormattingTips';\n\ninterface Props {\n  comment?: Pick<T.IssueComment, 'markdown'>;\n  onComment: (text: string) => void;\n  toggleComment: (visible: boolean) => void;\n  placeholder: string;\n  placement?: PopupPlacement;\n  autoTriggered?: boolean;\n}\n\ninterface State {\n  textComment: string;\n}\n\nexport default class CommentPopup extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      textComment: props.comment ? props.comment.markdown : ''\n    };\n  }\n\n  handleCommentChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    this.setState({ textComment: event.target.value });\n  };\n\n  handleCommentClick = () => {\n    if (this.state.textComment.trim().length > 0) {\n      this.props.onComment(this.state.textComment);\n    }\n  };\n\n  handleCancelClick = () => {\n    this.props.toggleComment(false);\n  };\n\n  handleKeyboard = (event: React.KeyboardEvent) => {\n    if (event.keyCode === 13 && (event.metaKey || event.ctrlKey)) {\n      // Ctrl + Enter\n      this.handleCommentClick();\n    } else if ([37, 38, 39, 40].includes(event.keyCode)) {\n      // Arrow keys\n      event.stopPropagation();\n    }\n  };\n\n  render() {\n    const { comment, autoTriggered } = this.props;\n    return (\n      <DropdownOverlay placement={this.props.placement}>\n        <div className=\"issue-comment-bubble-popup\">\n          <div className=\"issue-comment-form-text\">\n            <textarea\n              autoFocus={true}\n              onChange={this.handleCommentChange}\n              onKeyDown={this.handleKeyboard}\n              placeholder={this.props.placeholder}\n              rows={2}\n              value={this.state.textComment}\n            />\n          </div>\n          <div className=\"issue-comment-form-footer\">\n            <div className=\"issue-comment-form-actions\">\n              <Button\n                className=\"js-issue-comment-submit little-spacer-right\"\n                disabled={this.state.textComment.trim().length < 1}\n                onClick={this.handleCommentClick}>\n                {comment && translate('save')}\n                {!comment && translate('issue.comment.submit')}\n              </Button>\n              <ResetButtonLink className=\"js-issue-comment-cancel\" onClick={this.handleCancelClick}>\n                {autoTriggered ? translate('skip') : translate('cancel')}\n              </ResetButtonLink>\n            </div>\n            <div className=\"issue-comment-form-tips\">\n              <FormattingTips />\n            </div>\n          </div>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { addIssueComment } from '../../../api/issues';\nimport { ButtonLink } from '../../../components/controls/buttons';\nimport Toggler from '../../../components/controls/Toggler';\nimport { translate } from '../../../helpers/l10n';\nimport { updateIssue } from '../actions';\nimport CommentPopup from '../popups/CommentPopup';\n\ninterface Props {\n  commentAutoTriggered?: boolean;\n  commentPlaceholder: string;\n  currentPopup?: string;\n  issueKey: string;\n  onChange: (issue: T.Issue) => void;\n  toggleComment: (open?: boolean, placeholder?: string, autoTriggered?: boolean) => void;\n}\n\nexport default class IssueCommentAction extends React.PureComponent<Props> {\n  addComment = (text: string) => {\n    updateIssue(this.props.onChange, addIssueComment({ issue: this.props.issueKey, text }));\n    this.props.toggleComment(false);\n  };\n\n  handleCommentClick = () => {\n    this.props.toggleComment();\n  };\n\n  handleClose = () => {\n    this.props.toggleComment(false);\n  };\n\n  render() {\n    return (\n      <li className=\"issue-meta dropdown\">\n        <Toggler\n          closeOnClickOutside={false}\n          onRequestClose={this.handleClose}\n          open={this.props.currentPopup === 'comment'}\n          overlay={\n            <CommentPopup\n              autoTriggered={this.props.commentAutoTriggered}\n              onComment={this.addComment}\n              placeholder={this.props.commentPlaceholder}\n              toggleComment={this.props.toggleComment}\n            />\n          }>\n          <ButtonLink\n            aria-expanded={this.props.currentPopup === 'comment'}\n            aria-label={translate('issue.comment.add_comment')}\n            className=\"issue-action js-issue-comment\"\n            onClick={this.handleCommentClick}>\n            <span className=\"issue-meta-label\">{translate('issue.comment.formlink')}</span>\n          </ButtonLink>\n        </Toggler>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from '../../../components/controls/Dropdown';\nimport SeverityIcon from '../../../components/icons/SeverityIcon';\nimport { translate } from '../../../helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\ntype Props = {\n  issue: Pick<T.Issue, 'severity'>;\n  onSelect: (severity: string) => void;\n};\n\nconst SEVERITY = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\nexport default function SetSeverityPopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.severity} items={SEVERITY} onSelect={onSelect}>\n        {SEVERITY.map(severity => (\n          <SelectListItem className=\"display-flex-center\" item={severity} key={severity}>\n            <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n            {translate('severity', severity)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { setIssueSeverity } from '../../../api/issues';\nimport { ButtonLink } from '../../../components/controls/buttons';\nimport Toggler from '../../../components/controls/Toggler';\nimport DropdownIcon from '../../../components/icons/DropdownIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { IssueResponse } from '../../../types/issues';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport SetSeverityPopup from '../popups/SetSeverityPopup';\n\ninterface Props {\n  canSetSeverity: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'severity'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueSeverity extends React.PureComponent<Props> {\n  toggleSetSeverity = (open?: boolean) => {\n    this.props.togglePopup('set-severity', open);\n  };\n\n  setSeverity = (severity: string) => {\n    this.props.setIssueProperty('severity', 'set-severity', setIssueSeverity, severity);\n  };\n\n  handleClose = () => {\n    this.toggleSetSeverity(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetSeverity) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetSeverity}\n            overlay={<SetSeverityPopup issue={issue} onSelect={this.setSeverity} />}>\n            <ButtonLink\n              aria-label={translateWithParameters(\n                'issue.severity.severity_x_click_to_change',\n                translate('severity', issue.severity)\n              )}\n              aria-expanded={this.props.isOpen}\n              className=\"issue-action issue-action-with-options js-issue-set-severity\"\n              onClick={this.toggleSetSeverity}>\n              <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    }\n\n    return <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { difference, without } from 'lodash';\nimport * as React from 'react';\nimport { searchIssueTags } from '../../../api/issues';\nimport { DropdownOverlay } from '../../../components/controls/Dropdown';\nimport { PopupPlacement } from '../../../components/ui/popups';\nimport TagsSelector from '../../tags/TagsSelector';\n\ninterface Props {\n  selectedTags: string[];\n  setTags: (tags: string[]) => void;\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\nconst MAX_LIST_SIZE = 100;\n\nexport default class SetIssueTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return searchIssueTags({\n      q: query,\n      ps: Math.min(this.props.selectedTags.length - 1 + LIST_SIZE, MAX_LIST_SIZE)\n    }).then(\n      (tags: string[]) => {\n        if (this.mounted) {\n          this.setState({ searchResult: tags });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags([...this.props.selectedTags, tag]);\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.selectedTags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.selectedTags);\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <TagsSelector\n          listSize={LIST_SIZE}\n          onSearch={this.onSearch}\n          onSelect={this.onSelect}\n          onUnselect={this.onUnselect}\n          selectedTags={this.props.selectedTags}\n          tags={availableTags}\n        />\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { setIssueTags } from '../../../api/issues';\nimport { ButtonLink } from '../../../components/controls/buttons';\nimport Toggler from '../../../components/controls/Toggler';\nimport { translate } from '../../../helpers/l10n';\nimport TagsList from '../../tags/TagsList';\nimport { updateIssue } from '../actions';\nimport SetIssueTagsPopup from '../popups/SetIssueTagsPopup';\n\ninterface Props {\n  canSetTags: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'key' | 'tags'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTags extends React.PureComponent<Props> {\n  toggleSetTags = (open?: boolean) => {\n    this.props.togglePopup('edit-tags', open);\n  };\n\n  setTags = (tags: string[]) => {\n    const { issue } = this.props;\n    const newIssue = { ...issue, tags };\n    updateIssue(\n      this.props.onChange,\n      setIssueTags({ issue: issue.key, tags: tags.join(',') }),\n      issue as T.Issue,\n      newIssue as T.Issue\n    );\n  };\n\n  handleClose = () => {\n    this.toggleSetTags(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    const { tags = [] } = issue;\n\n    if (this.props.canSetTags) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen}\n            overlay={<SetIssueTagsPopup selectedTags={tags} setTags={this.setTags} />}>\n            <ButtonLink\n              aria-expanded={this.props.isOpen}\n              className=\"issue-action issue-action-with-options js-issue-edit-tags\"\n              onClick={this.toggleSetTags}>\n              <TagsList\n                allowUpdate={this.props.canSetTags}\n                tags={\n                  issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]\n                }\n              />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    }\n\n    return (\n      <TagsList\n        allowUpdate={this.props.canSetTags}\n        className=\"note\"\n        tags={issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { DropdownOverlay } from '../../../components/controls/Dropdown';\nimport { hasMessage, translate } from '../../../helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\nexport interface Props {\n  fromHotspot: boolean;\n  onSelect: (transition: string) => void;\n  transitions: string[];\n  type: T.IssueType;\n}\n\nexport default function SetTransitionPopup({ fromHotspot, onSelect, transitions, type }: Props) {\n  const isManualVulnerability = fromHotspot && type === 'VULNERABILITY';\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={transitions[0]} items={transitions} onSelect={onSelect}>\n        {transitions.map(transition => {\n          const [name, description] = translateTransition(transition, isManualVulnerability);\n          return (\n            <SelectListItem item={transition} key={transition} title={description}>\n              {name}\n            </SelectListItem>\n          );\n        })}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n\nfunction translateTransition(transition: string, isManualVulnerability: boolean) {\n  return isManualVulnerability && hasMessage('vulnerability.transition', transition)\n    ? [\n        translate('vulnerability.transition', transition),\n        translate('vulnerability.transition', transition, 'description')\n      ]\n    : [\n        translate('issue.transition', transition),\n        <FormattedMessage\n          key=\"description\"\n          defaultMessage={translate('issue.transition', transition, 'description')}\n          id={`issue.transition.${transition}.description`}\n          values={{\n            community_plug_link: (\n              <a\n                href=\"https://community.sonarsource.com/\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\">\n                {translate('issue.transition.community_plug_link')}\n              </a>\n            )\n          }}\n        />\n      ];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { setIssueTransition } from '../../../api/issues';\nimport { ButtonLink } from '../../../components/controls/buttons';\nimport Toggler from '../../../components/controls/Toggler';\nimport DropdownIcon from '../../../components/icons/DropdownIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport StatusHelper from '../../shared/StatusHelper';\nimport { updateIssue } from '../actions';\nimport SetTransitionPopup from '../popups/SetTransitionPopup';\n\ninterface Props {\n  hasTransitions: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'fromHotspot' | 'key' | 'resolution' | 'status' | 'transitions' | 'type'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTransition extends React.PureComponent<Props> {\n  setTransition = (transition: string) => {\n    updateIssue(\n      this.props.onChange,\n      setIssueTransition({ issue: this.props.issue.key, transition })\n    );\n    this.toggleSetTransition();\n  };\n\n  toggleSetTransition = (open?: boolean) => {\n    this.props.togglePopup('transition', open);\n  };\n\n  handleClose = () => {\n    this.toggleSetTransition(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    if (this.props.hasTransitions) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.hasTransitions}\n            overlay={\n              <SetTransitionPopup\n                fromHotspot={issue.fromHotspot}\n                onSelect={this.setTransition}\n                transitions={issue.transitions}\n                type={issue.type}\n              />\n            }>\n            <ButtonLink\n              aria-label={translateWithParameters(\n                'issue.transition.status_x_click_to_change',\n                translate('issue.status', issue.status)\n              )}\n              aria-expanded={this.props.isOpen}\n              className=\"issue-action issue-action-with-options js-issue-transition\"\n              onClick={this.toggleSetTransition}>\n              <StatusHelper\n                className=\"issue-meta-label\"\n                resolution={issue.resolution}\n                status={issue.status}\n              />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    }\n\n    return (\n      <StatusHelper\n        className=\"issue-meta-label\"\n        resolution={issue.resolution}\n        status={issue.status}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from '../../../components/controls/Dropdown';\nimport IssueTypeIcon from '../../../components/icons/IssueTypeIcon';\nimport { translate } from '../../../helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\ninterface Props {\n  issue: Pick<T.Issue, 'type'>;\n  onSelect: (type: T.IssueType) => void;\n}\n\nconst TYPES = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n\nexport default function SetTypePopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.type} items={TYPES} onSelect={onSelect}>\n        {TYPES.map(type => (\n          <SelectListItem className=\"display-flex-center\" item={type} key={type}>\n            <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n            {translate('issue.type', type)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { setIssueType } from '../../../api/issues';\nimport { colors } from '../../../app/theme';\nimport { ButtonLink } from '../../../components/controls/buttons';\nimport Toggler from '../../../components/controls/Toggler';\nimport DropdownIcon from '../../../components/icons/DropdownIcon';\nimport IssueTypeIcon from '../../../components/icons/IssueTypeIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { IssueResponse } from '../../../types/issues';\nimport SetTypePopup from '../popups/SetTypePopup';\n\ninterface Props {\n  canSetType: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'type'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueType extends React.PureComponent<Props> {\n  toggleSetType = (open?: boolean) => {\n    this.props.togglePopup('set-type', open);\n  };\n\n  setType = (type: string) => {\n    this.props.setIssueProperty('type', 'set-type', setIssueType, type);\n  };\n\n  handleClose = () => {\n    this.toggleSetType(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetType) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetType}\n            overlay={<SetTypePopup issue={issue} onSelect={this.setType} />}>\n            <ButtonLink\n              aria-label={translateWithParameters(\n                'issue.type.type_x_click_to_change',\n                translate('issue.type', issue.type)\n              )}\n              aria-expanded={this.props.isOpen}\n              className=\"issue-action issue-action-with-options js-issue-set-type\"\n              onClick={this.toggleSetType}>\n              <IssueTypeIcon\n                className=\"little-spacer-right\"\n                fill={colors.baseFontColor}\n                query={issue.type}\n              />\n              {translate('issue.type', issue.type)}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    }\n\n    return (\n      <span>\n        <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n        {translate('issue.type', issue.type)}\n      </span>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { IssueResponse } from '../../../types/issues';\nimport { updateIssue } from '../actions';\nimport IssueAssign from './IssueAssign';\nimport IssueCommentAction from './IssueCommentAction';\nimport IssueSeverity from './IssueSeverity';\nimport IssueTags from './IssueTags';\nimport IssueTransition from './IssueTransition';\nimport IssueType from './IssueType';\n\ninterface Props {\n  issue: T.Issue;\n  currentPopup?: string;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\ninterface State {\n  commentAutoTriggered: boolean;\n  commentPlaceholder: string;\n}\n\nexport default class IssueActionsBar extends React.PureComponent<Props, State> {\n  state: State = {\n    commentAutoTriggered: false,\n    commentPlaceholder: ''\n  };\n\n  setIssueProperty = (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => {\n    const { issue } = this.props;\n    if (issue[property] !== value) {\n      const newIssue = { ...issue, [property]: value };\n      updateIssue(\n        this.props.onChange,\n        apiCall({ issue: issue.key, [property]: value }),\n        issue,\n        newIssue\n      );\n    }\n    this.props.togglePopup(popup, false);\n  };\n\n  toggleComment = (open: boolean | undefined, placeholder = '', autoTriggered = false) => {\n    this.setState({\n      commentPlaceholder: placeholder,\n      commentAutoTriggered: autoTriggered\n    });\n    this.props.togglePopup('comment', open);\n  };\n\n  handleTransition = (issue: T.Issue) => {\n    this.props.onChange(issue);\n    if (\n      issue.resolution === 'FALSE-POSITIVE' ||\n      (issue.resolution === 'WONTFIX' && issue.type !== 'SECURITY_HOTSPOT')\n    ) {\n      this.toggleComment(true, translate('issue.comment.explain_why'), true);\n    }\n  };\n\n  render() {\n    const { issue } = this.props;\n    const canAssign = issue.actions.includes('assign');\n    const canComment = issue.actions.includes('comment');\n    const canSetSeverity = issue.actions.includes('set_severity');\n    const canSetType = issue.actions.includes('set_type');\n    const canSetTags = issue.actions.includes('set_tags');\n    const hasTransitions = issue.transitions && issue.transitions.length > 0;\n    const isSecurityHotspot = issue.type === 'SECURITY_HOTSPOT';\n\n    return (\n      <div className=\"issue-actions\">\n        <div className=\"issue-meta-list\">\n          <div className=\"issue-meta\">\n            <IssueType\n              canSetType={canSetType}\n              isOpen={this.props.currentPopup === 'set-type' && canSetType}\n              issue={issue}\n              setIssueProperty={this.setIssueProperty}\n              togglePopup={this.props.togglePopup}\n            />\n          </div>\n          {!isSecurityHotspot && (\n            <div className=\"issue-meta\">\n              <IssueSeverity\n                canSetSeverity={canSetSeverity}\n                isOpen={this.props.currentPopup === 'set-severity' && canSetSeverity}\n                issue={issue}\n                setIssueProperty={this.setIssueProperty}\n                togglePopup={this.props.togglePopup}\n              />\n            </div>\n          )}\n          <div className=\"issue-meta\">\n            <IssueTransition\n              hasTransitions={hasTransitions}\n              isOpen={this.props.currentPopup === 'transition' && hasTransitions}\n              issue={issue}\n              onChange={this.handleTransition}\n              togglePopup={this.props.togglePopup}\n            />\n          </div>\n          <div className=\"issue-meta\">\n            <IssueAssign\n              canAssign={canAssign}\n              isOpen={this.props.currentPopup === 'assign' && canAssign}\n              issue={issue}\n              onAssign={this.props.onAssign}\n              togglePopup={this.props.togglePopup}\n            />\n          </div>\n          {!isSecurityHotspot && issue.effort && (\n            <div className=\"issue-meta\">\n              <span className=\"issue-meta-label\">\n                {translateWithParameters('issue.x_effort', issue.effort)}\n              </span>\n            </div>\n          )}\n          {canComment && (\n            <IssueCommentAction\n              commentAutoTriggered={this.state.commentAutoTriggered}\n              commentPlaceholder={this.state.commentPlaceholder}\n              currentPopup={this.props.currentPopup}\n              issueKey={issue.key}\n              onChange={this.props.onChange}\n              toggleComment={this.toggleComment}\n            />\n          )}\n        </div>\n        <div className=\"list-inline\">\n          <div className=\"issue-meta js-issue-tags\">\n            <IssueTags\n              canSetTags={canSetTags}\n              isOpen={this.props.currentPopup === 'edit-tags' && canSetTags}\n              issue={issue}\n              onChange={this.props.onChange}\n              togglePopup={this.props.togglePopup}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../../../components/controls/buttons';\nimport { DropdownOverlay } from '../../../components/controls/Dropdown';\nimport { PopupPlacement } from '../../../components/ui/popups';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  onDelete: () => void;\n}\n\nexport default function CommentDeletePopup({ onDelete }: Props) {\n  return (\n    <DropdownOverlay placement={PopupPlacement.BottomRight}>\n      <div className=\"menu is-container\">\n        <div className=\"spacer-bottom\">{translate('issue.comment.delete_confirm_message')}</div>\n        <Button className=\"button-red\" onClick={onDelete}>\n          {translate('delete')}\n        </Button>\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DeleteButton, EditButton } from '../../../components/controls/buttons';\nimport Toggler from '../../../components/controls/Toggler';\nimport { PopupPlacement } from '../../../components/ui/popups';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { sanitizeString } from '../../../helpers/sanitize';\nimport DateFromNow from '../../intl/DateFromNow';\nimport Avatar from '../../ui/Avatar';\nimport CommentDeletePopup from '../popups/CommentDeletePopup';\nimport CommentPopup from '../popups/CommentPopup';\n\ninterface Props {\n  comment: T.IssueComment;\n  onDelete: (comment: string) => void;\n  onEdit: (comment: string, text: string) => void;\n}\n\ninterface State {\n  openPopup: string;\n}\n\nexport default class IssueCommentLine extends React.PureComponent<Props, State> {\n  state: State = {\n    openPopup: ''\n  };\n\n  handleEdit = (text: string) => {\n    this.props.onEdit(this.props.comment.key, text);\n    this.toggleEditPopup(false);\n  };\n\n  handleDelete = () => {\n    this.props.onDelete(this.props.comment.key);\n    this.toggleDeletePopup(false);\n  };\n\n  togglePopup = (popupName: string, force?: boolean) => {\n    this.setState(prevState => {\n      if (prevState.openPopup !== popupName && force !== false) {\n        return { openPopup: popupName };\n      } else if (prevState.openPopup === popupName && force !== true) {\n        return { openPopup: '' };\n      }\n      return prevState;\n    });\n  };\n\n  toggleDeletePopup = (force?: boolean) => {\n    this.togglePopup('delete', force);\n  };\n\n  toggleEditPopup = (force?: boolean) => {\n    this.togglePopup('edit', force);\n  };\n\n  closePopups = () => {\n    this.setState({ openPopup: '' });\n  };\n\n  render() {\n    const { comment } = this.props;\n    const author = comment.authorName || comment.author;\n    const displayName =\n      comment.authorActive === false && author\n        ? translateWithParameters('user.x_deleted', author)\n        : author;\n    return (\n      <div className=\"issue-comment\">\n        <div className=\"issue-comment-author\" title={displayName}>\n          <Avatar\n            className=\"little-spacer-right\"\n            hash={comment.authorAvatar}\n            name={author}\n            size={16}\n          />\n          {displayName}\n        </div>\n        <div\n          className=\"issue-comment-text markdown\"\n          // eslint-disable-next-line react/no-danger\n          dangerouslySetInnerHTML={{ __html: sanitizeString(comment.htmlText) }}\n        />\n        <div className=\"issue-comment-age\">\n          <span className=\"a11y-hidden\">{translate('issue.comment.posted_on')}</span>\n          <DateFromNow date={comment.createdAt} />\n        </div>\n        <div className=\"issue-comment-actions\">\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                closeOnClickOutside={false}\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'edit'}\n                overlay={\n                  <CommentPopup\n                    comment={comment}\n                    onComment={this.handleEdit}\n                    placeholder=\"\"\n                    placement={PopupPlacement.BottomRight}\n                    toggleComment={this.toggleEditPopup}\n                  />\n                }>\n                <EditButton\n                  aria-label={translate('issue.comment.edit')}\n                  className=\"js-issue-comment-edit button-small\"\n                  onClick={this.toggleEditPopup}\n                />\n              </Toggler>\n            </div>\n          )}\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'delete'}\n                overlay={<CommentDeletePopup onDelete={this.handleDelete} />}>\n                <DeleteButton\n                  aria-label={translate('issue.comment.delete')}\n                  className=\"js-issue-comment-delete button-small\"\n                  onClick={this.toggleDeletePopup}\n                />\n              </Toggler>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum RuleStatus {\n  Ready = 'READY',\n  Beta = 'BETA',\n  Deprecated = 'DEPRECATED',\n  Removed = 'REMOVED'\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getIssueChangelog } from '../../../api/issues';\nimport { DropdownOverlay } from '../../../components/controls/Dropdown';\nimport { PopupPlacement } from '../../../components/ui/popups';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport DateTimeFormatter from '../../intl/DateTimeFormatter';\nimport Avatar from '../../ui/Avatar';\nimport IssueChangelogDiff from '../components/IssueChangelogDiff';\n\ninterface Props {\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n}\n\ninterface State {\n  changelog: T.IssueChangelog[];\n}\n\nexport default class ChangelogPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { changelog: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadChangelog();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadChangelog() {\n    getIssueChangelog(this.props.issue.key).then(\n      ({ changelog }) => {\n        if (this.mounted) {\n          this.setState({ changelog });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const { issue } = this.props;\n    const { author } = issue;\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <div className=\"menu is-container issue-changelog\">\n          <table className=\"spaced\">\n            <tbody>\n              <tr>\n                <td className=\"thin text-left text-top nowrap\">\n                  <DateTimeFormatter date={issue.creationDate} />\n                </td>\n                <td className=\"text-left text-top\">\n                  {author ? `${translate('created_by')} ${author}` : translate('created')}\n                </td>\n              </tr>\n\n              {this.state.changelog.map((item, idx) => {\n                const userName = item.userName || item.user;\n\n                return (\n                  <tr key={idx}>\n                    <td className=\"thin text-left text-top nowrap\">\n                      <DateTimeFormatter date={item.creationDate} />\n                    </td>\n                    <td className=\"text-left text-top\">\n                      {userName && (\n                        <p>\n                          <Avatar\n                            className=\"little-spacer-right\"\n                            hash={item.avatar}\n                            name={userName}\n                            size={16}\n                          />\n                          {item.isUserActive\n                            ? userName\n                            : translateWithParameters('user.x_deleted', userName)}\n                        </p>\n                      )}\n                      {item.diffs.map(diff => (\n                        <IssueChangelogDiff diff={diff} key={diff.key} />\n                      ))}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from '../../../components/controls/buttons';\nimport Toggler from '../../../components/controls/Toggler';\nimport DropdownIcon from '../../../components/icons/DropdownIcon';\nimport DateFromNow from '../../intl/DateFromNow';\nimport ChangelogPopup from '../popups/ChangelogPopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n  creationDate: string;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueChangelog extends React.PureComponent<Props> {\n  toggleChangelog = (open?: boolean) => {\n    this.props.togglePopup('changelog', open);\n  };\n\n  handleClick = () => {\n    this.toggleChangelog();\n  };\n\n  handleClose = () => {\n    this.toggleChangelog(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<ChangelogPopup issue={this.props.issue} />}>\n          <ButtonLink\n            aria-expanded={this.props.isOpen}\n            className=\"issue-action issue-action-with-options js-issue-show-changelog\"\n            onClick={this.handleClick}>\n            <span className=\"issue-meta-label\">\n              <DateFromNow date={this.props.creationDate} />\n            </span>\n            <DropdownIcon className=\"little-spacer-left\" />\n          </ButtonLink>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from '../../../components/controls/buttons';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { RuleStatus } from '../../../types/rules';\nimport DocumentationTooltip from '../../common/DocumentationTooltip';\nimport { WorkspaceContextShape } from '../../workspace/context';\n\nexport interface IssueMessageProps {\n  engine?: string;\n  engineName?: string;\n  manualVulnerability: boolean;\n  message: string;\n  onOpenRule: WorkspaceContextShape['openRule'];\n  ruleKey: string;\n  ruleStatus?: RuleStatus;\n}\n\nexport default function IssueMessage(props: IssueMessageProps) {\n  const { engine, engineName, manualVulnerability, message, ruleKey, ruleStatus } = props;\n  const ruleEngine = engineName ? engineName : engine;\n\n  return (\n    <div className=\"issue-message break-word\">\n      <span className=\"spacer-right\">{message}</span>\n      <ButtonLink\n        aria-label={translate('issue.why_this_issue.long')}\n        className=\"issue-see-rule spacer-right text-baseline\"\n        onClick={() =>\n          props.onOpenRule({\n            key: ruleKey\n          })\n        }>\n        {translate('issue.why_this_issue')}\n      </ButtonLink>\n\n      {ruleStatus && (ruleStatus === RuleStatus.Deprecated || ruleStatus === RuleStatus.Removed) && (\n        <DocumentationTooltip\n          className=\"spacer-left\"\n          content={translate('rules.status', ruleStatus, 'help')}\n          links={[\n            {\n              href: '/documentation/user-guide/rules/',\n              label: translateWithParameters('see_x', translate('rules'))\n            }\n          ]}>\n          <span className=\"spacer-right badge badge-error\">\n            {translate('rules.status', ruleStatus)}\n          </span>\n        </DocumentationTooltip>\n      )}\n\n      {ruleEngine && (\n        <Tooltip overlay={translateWithParameters('issue.from_external_rule_engine', ruleEngine)}>\n          <div className=\"badge spacer-right text-baseline\">{ruleEngine}</div>\n        </Tooltip>\n      )}\n      {manualVulnerability && (\n        <Tooltip overlay={translate('issue.manual_vulnerability.description')}>\n          <div className=\"badge spacer-right text-baseline\">\n            {translate('issue.manual_vulnerability')}\n          </div>\n        </Tooltip>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from '../../../components/controls/Dropdown';\nimport IssueTypeIcon from '../../../components/icons/IssueTypeIcon';\nimport QualifierIcon from '../../../components/icons/QualifierIcon';\nimport TagsIcon from '../../../components/icons/TagsIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { fileFromPath, limitComponentName } from '../../../helpers/path';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport StatusHelper from '../../shared/StatusHelper';\nimport Avatar from '../../ui/Avatar';\n\ninterface Props {\n  issue: T.Issue;\n  onFilter: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesPopup extends React.PureComponent<Props> {\n  handleSelect = (property: string) => {\n    this.props.onFilter(property, this.props.issue);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const items = [\n      'type',\n      'severity',\n      'status',\n      'resolution',\n      'assignee',\n      'rule',\n      ...(issue.tags || []).map(tag => `tag###${tag}`),\n      'project',\n      issue.subProject ? 'module' : undefined,\n      'file'\n    ].filter(item => item) as string[];\n\n    const assignee = issue.assigneeName || issue.assignee;\n\n    return (\n      <DropdownOverlay noPadding={true}>\n        <header className=\"menu-search\">\n          <h6>{translate('issue.filter_similar_issues')}</h6>\n        </header>\n\n        <SelectList\n          className=\"issues-similar-issues-menu\"\n          currentItem={items[0]}\n          items={items}\n          onSelect={this.handleSelect}>\n          <SelectListItem className=\"display-flex-center\" item=\"type\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n            {translate('issue.type', issue.type)}\n          </SelectListItem>\n\n          <SelectListItem item=\"severity\">\n            <SeverityHelper className=\"display-flex-center\" severity={issue.severity} />\n          </SelectListItem>\n\n          <SelectListItem item=\"status\">\n            <StatusHelper\n              className=\"display-flex-center\"\n              resolution={undefined}\n              status={issue.status}\n            />\n          </SelectListItem>\n\n          <SelectListItem item=\"resolution\">\n            {issue.resolution != null\n              ? translate('issue.resolution', issue.resolution)\n              : translate('unresolved')}\n          </SelectListItem>\n\n          <SelectListItem item=\"assignee\">\n            {assignee ? (\n              <span>\n                {translate('assigned_to')}\n                <Avatar\n                  className=\"little-spacer-left little-spacer-right\"\n                  hash={issue.assigneeAvatar}\n                  name={assignee}\n                  size={16}\n                />\n                {issue.assigneeActive === false\n                  ? translateWithParameters('user.x_deleted', assignee)\n                  : assignee}\n              </span>\n            ) : (\n              translate('unassigned')\n            )}\n          </SelectListItem>\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"rule\">{limitComponentName(issue.ruleName)}</SelectListItem>\n\n          {issue.tags != null &&\n            issue.tags.map(tag => (\n              <SelectListItem item={`tag###${tag}`} key={`tag###${tag}`}>\n                <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                <span className=\"text-middle\">{tag}</span>\n              </SelectListItem>\n            ))}\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"project\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n            {issue.projectName}\n          </SelectListItem>\n\n          {issue.subProject != null && (\n            <SelectListItem item=\"module\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n              {issue.subProjectName}\n            </SelectListItem>\n          )}\n\n          <SelectListItem item=\"file\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier={issue.componentQualifier} />\n            {fileFromPath(issue.componentLongName)}\n          </SelectListItem>\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from '../../../components/controls/buttons';\nimport Toggler from '../../../components/controls/Toggler';\nimport DropdownIcon from '../../../components/icons/DropdownIcon';\nimport FilterIcon from '../../../components/icons/FilterIcon';\nimport { translate } from '../../../helpers/l10n';\nimport SimilarIssuesPopup from '../popups/SimilarIssuesPopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: T.Issue;\n  togglePopup: (popup: string, show?: boolean) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesFilter extends React.PureComponent<Props> {\n  handleFilter = (property: string, issue: T.Issue) => {\n    this.togglePopup(false);\n    if (this.props.onFilter) {\n      this.props.onFilter(property, issue);\n    }\n  };\n\n  togglePopup = (open?: boolean) => {\n    this.props.togglePopup('similarIssues', open);\n  };\n\n  handleClose = () => {\n    this.togglePopup(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<SimilarIssuesPopup issue={this.props.issue} onFilter={this.handleFilter} />}>\n          <ButtonLink\n            aria-label={translate('issue.filter_similar_issues')}\n            aria-expanded={this.props.isOpen}\n            className=\"issue-action issue-action-with-options js-issue-filter\"\n            onClick={this.togglePopup}\n            title={translate('issue.filter_similar_issues')}>\n            <FilterIcon className=\"icon-half-transparent\" />\n            <DropdownIcon className=\"icon-half-transparent\" />\n          </ButtonLink>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport LinkIcon from '../../../components/icons/LinkIcon';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { getComponentIssuesUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { RuleStatus } from '../../../types/rules';\nimport LocationIndex from '../../common/LocationIndex';\nimport { WorkspaceContext } from '../../workspace/context';\nimport IssueChangelog from './IssueChangelog';\nimport IssueMessage from './IssueMessage';\nimport SimilarIssuesFilter from './SimilarIssuesFilter';\n\nexport interface IssueTitleBarProps {\n  branchLike?: BranchLike;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default function IssueTitleBar(props: IssueTitleBarProps) {\n  const { issue } = props;\n  const hasSimilarIssuesFilter = props.onFilter != null;\n\n  const locationsCount =\n    issue.secondaryLocations.length +\n    issue.flows.reduce((sum, locations) => sum + locations.length, 0);\n\n  const locationsBadge = (\n    <Tooltip\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(locationsCount, 'INT')\n      )}>\n      <LocationIndex>{locationsCount}</LocationIndex>\n    </Tooltip>\n  );\n\n  const displayLocations = props.displayLocationsCount && locationsCount > 0;\n\n  const issueUrl = getComponentIssuesUrl(issue.project, {\n    ...getBranchLikeQuery(props.branchLike),\n    issues: issue.key,\n    open: issue.key,\n    types: issue.type === 'SECURITY_HOTSPOT' ? issue.type : undefined\n  });\n\n  return (\n    <div className=\"issue-row\">\n      <WorkspaceContext.Consumer>\n        {({ externalRulesRepoNames, openRule }) => (\n          <IssueMessage\n            engine={issue.externalRuleEngine}\n            engineName={\n              issue.externalRuleEngine &&\n              externalRulesRepoNames &&\n              externalRulesRepoNames[issue.externalRuleEngine]\n            }\n            manualVulnerability={issue.fromHotspot && issue.type === 'VULNERABILITY'}\n            message={issue.message}\n            onOpenRule={openRule}\n            ruleKey={issue.rule}\n            ruleStatus={issue.ruleStatus as RuleStatus | undefined}\n          />\n        )}\n      </WorkspaceContext.Consumer>\n\n      <div className=\"issue-row-meta\">\n        <div className=\"issue-meta-list\">\n          <div className=\"issue-meta\">\n            <IssueChangelog\n              creationDate={issue.creationDate}\n              isOpen={props.currentPopup === 'changelog'}\n              issue={issue}\n              togglePopup={props.togglePopup}\n            />\n          </div>\n          {issue.textRange != null && (\n            <div className=\"issue-meta\">\n              <span className=\"issue-meta-label\" title={translate('line_number')}>\n                L{issue.textRange.endLine}\n              </span>\n            </div>\n          )}\n          {displayLocations && (\n            <div className=\"issue-meta\">\n              {props.displayLocationsLink ? (\n                <Link target=\"_blank\" to={issueUrl}>\n                  {locationsBadge}\n                </Link>\n              ) : (\n                locationsBadge\n              )}\n            </div>\n          )}\n          <div className=\"issue-meta\">\n            <Link\n              className=\"js-issue-permalink link-no-underline\"\n              target=\"_blank\"\n              title={translate('permalink')}\n              to={issueUrl}>\n              <LinkIcon />\n            </Link>\n          </div>\n          {hasSimilarIssuesFilter && (\n            <div className=\"issue-meta\">\n              <SimilarIssuesFilter\n                isOpen={props.currentPopup === 'similarIssues'}\n                issue={issue}\n                onFilter={props.onFilter}\n                togglePopup={props.togglePopup}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { deleteIssueComment, editIssueComment } from '../../api/issues';\nimport Checkbox from '../../components/controls/Checkbox';\nimport { BranchLike } from '../../types/branch-like';\nimport { updateIssue } from './actions';\nimport IssueActionsBar from './components/IssueActionsBar';\nimport IssueCommentLine from './components/IssueCommentLine';\nimport IssueTitleBar from './components/IssueTitleBar';\n\ninterface Props {\n  branchLike?: BranchLike;\n  checked?: boolean;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  selected: boolean;\n  togglePopup: (popup: string, show: boolean | void) => void;\n}\n\nexport default class IssueView extends React.PureComponent<Props> {\n  handleCheck = () => {\n    if (this.props.onCheck) {\n      this.props.onCheck(this.props.issue.key);\n    }\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    if (!isClickable(event.target as HTMLElement) && this.props.onClick) {\n      event.preventDefault();\n      this.props.onClick(this.props.issue.key);\n    }\n  };\n\n  editComment = (comment: string, text: string) => {\n    updateIssue(this.props.onChange, editIssueComment({ comment, text }));\n  };\n\n  deleteComment = (comment: string) => {\n    updateIssue(this.props.onChange, deleteIssueComment({ comment }));\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const hasCheckbox = this.props.onCheck != null;\n\n    const issueClass = classNames('issue', {\n      hotspot: issue.type === 'SECURITY_HOTSPOT',\n      'issue-with-checkbox': hasCheckbox,\n      selected: this.props.selected\n    });\n\n    return (\n      <div className={issueClass} data-issue={issue.key} onClick={this.handleClick} role=\"group\">\n        <IssueTitleBar\n          branchLike={this.props.branchLike}\n          currentPopup={this.props.currentPopup}\n          displayLocationsCount={this.props.displayLocationsCount}\n          displayLocationsLink={this.props.displayLocationsLink}\n          issue={issue}\n          onFilter={this.props.onFilter}\n          togglePopup={this.props.togglePopup}\n        />\n        <IssueActionsBar\n          currentPopup={this.props.currentPopup}\n          issue={issue}\n          onAssign={this.props.onAssign}\n          onChange={this.props.onChange}\n          togglePopup={this.props.togglePopup}\n        />\n        {issue.comments && issue.comments.length > 0 && (\n          <div className=\"issue-comments\">\n            {issue.comments.map(comment => (\n              <IssueCommentLine\n                comment={comment}\n                key={comment.key}\n                onDelete={this.deleteComment}\n                onEdit={this.editComment}\n              />\n            ))}\n          </div>\n        )}\n        {hasCheckbox && (\n          <>\n            <Checkbox\n              checked={this.props.checked || false}\n              className=\"issue-checkbox-container\"\n              onCheck={this.handleCheck}\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction isClickable(node: HTMLElement | undefined | null): boolean {\n  if (!node) {\n    return false;\n  }\n  const clickableTags = ['A', 'BUTTON', 'INPUT', 'TEXTAREA'];\n  const tagName = (node.tagName || '').toUpperCase();\n  return clickableTags.includes(tagName) || isClickable(node.parentElement);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport * as React from 'react';\nimport { setIssueAssignee } from '../../api/issues';\nimport { BranchLike } from '../../types/branch-like';\nimport { updateIssue } from './actions';\nimport './Issue.css';\nimport IssueView from './IssueView';\n\ninterface Props {\n  branchLike?: BranchLike;\n  checked?: boolean;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup?: string;\n  selected: boolean;\n}\n\nexport default class Issue extends React.PureComponent<Props> {\n  static defaultProps = {\n    selected: false\n  };\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUpdate(nextProps: Props) {\n    if (!nextProps.selected && this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.selected && this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  bindShortcuts() {\n    key('f', 'issues', () => {\n      this.togglePopup('transition');\n      return false;\n    });\n    key('a', 'issues', () => {\n      this.togglePopup('assign');\n      return false;\n    });\n    key('m', 'issues', () => {\n      if (this.props.issue.actions.includes('assign')) {\n        this.handleAssignement('_me');\n      }\n      return false;\n    });\n    key('i', 'issues', () => {\n      this.togglePopup('set-severity');\n      return false;\n    });\n    key('c', 'issues', () => {\n      this.togglePopup('comment');\n      return false;\n    });\n    key('t', 'issues', () => {\n      this.togglePopup('edit-tags');\n      return false;\n    });\n    key('space', 'issues', () => {\n      if (this.props.onCheck) {\n        this.props.onCheck(this.props.issue.key);\n        return false;\n      }\n      return undefined;\n    });\n  }\n\n  unbindShortcuts() {\n    key.unbind('f', 'issues');\n    key.unbind('a', 'issues');\n    key.unbind('m', 'issues');\n    key.unbind('i', 'issues');\n    key.unbind('c', 'issues');\n    key.unbind('space', 'issues');\n    key.unbind('t', 'issues');\n  }\n\n  togglePopup = (popupName: string, open?: boolean) => {\n    this.props.onPopupToggle(this.props.issue.key, popupName, open);\n  };\n\n  handleAssignement = (login: string) => {\n    const { issue } = this.props;\n    if (issue.assignee !== login) {\n      updateIssue(this.props.onChange, setIssueAssignee({ issue: issue.key, assignee: login }));\n    }\n    this.togglePopup('assign', false);\n  };\n\n  render() {\n    return (\n      <IssueView\n        branchLike={this.props.branchLike}\n        checked={this.props.checked}\n        currentPopup={this.props.openPopup}\n        displayLocationsCount={this.props.displayLocationsCount}\n        displayLocationsLink={this.props.displayLocationsLink}\n        issue={this.props.issue}\n        onAssign={this.handleAssignement}\n        onChange={this.props.onChange}\n        onCheck={this.props.onCheck}\n        onClick={this.props.onClick}\n        onFilter={this.props.onFilter}\n        selected={this.props.selected}\n        togglePopup={this.togglePopup}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\ninterface Props {\n  diff: T.IssueChangelogDiff;\n}\n\nexport default function IssueChangelogDiff({ diff }: Props) {\n  if (diff.key === 'file') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.file_move',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (['from_long_branch', 'from_branch'].includes(diff.key)) {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'from_short_branch') {\n    // Applies to both legacy short lived branch and pull request\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_non_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'line') {\n    return <p>{translateWithParameters('issue.changelog.line_removed_X', diff.oldValue || '')}</p>;\n  }\n\n  let message;\n  if (diff.newValue != null) {\n    let { newValue } = diff;\n    if (diff.key === 'effort') {\n      newValue = formatMeasure(diff.newValue, 'WORK_DUR');\n    }\n    message = translateWithParameters(\n      'issue.changelog.changed_to',\n      translate('issue.changelog.field', diff.key),\n      newValue\n    );\n  } else {\n    message = translateWithParameters(\n      'issue.changelog.removed',\n      translate('issue.changelog.field', diff.key)\n    );\n  }\n\n  if (diff.oldValue != null) {\n    let { oldValue } = diff;\n    if (diff.key === 'effort') {\n      oldValue = formatMeasure(diff.oldValue, 'WORK_DUR');\n    }\n    message += ` (${translateWithParameters('issue.changelog.was', oldValue)})`;\n  }\n  return <p>{message}</p>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './LocationMessage.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  selected: boolean;\n}\n\nexport default function LocationMessage(props: Props) {\n  return (\n    <div className={classNames('location-message', { selected: props.selected })}>\n      {props.children}\n    </div>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./EmptySearch.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { colors } from '../../app/theme';\nimport Icon, { IconProps } from './Icon';\n\ninterface Props extends IconProps {\n  filled?: boolean;\n}\n\nexport default function HomeIcon({ className, fill, filled = false, ...iconProps }: Props) {\n  return (\n    <Icon\n      className={classNames(className, 'icon-outline', { 'is-filled': filled })}\n      style={{ color: fill || colors.orange }}\n      {...iconProps}>\n      <g transform=\"matrix(0.870918,0,0,0.870918,0.978227,0.978227)\">\n        <path d=\"M15.9,7.8L8.2,0.1C8.1,0 7.9,0 7.8,0.1L0.1,7.8C0,7.9 0,8.1 0.1,8.2C0.2,8.3 0.2,8.3 0.3,8.3L2.2,8.3L2.2,15.8C2.2,15.9 2.2,15.9 2.3,16C2.3,16 2.4,16.1 2.5,16.1L6.2,16.1C6.3,16.1 6.5,16 6.5,15.8L6.5,10.5L9.7,10.5L9.7,15.8C9.7,15.9 9.8,16.1 10,16.1L13.7,16.1C13.8,16.1 14,16 14,15.8L14,8.2L15.9,8.2C16,8.2 16,8.2 16.1,8.1C16,8 16.1,7.9 15.9,7.8Z\" />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { ButtonLink } from '../../components/controls/buttons';\nimport Tooltip from '../../components/controls/Tooltip';\nimport HomeIcon from '../../components/icons/HomeIcon';\nimport { translate } from '../../helpers/l10n';\nimport { isLoggedIn } from '../../helpers/users';\nimport { getCurrentUser, Store } from '../../store/rootReducer';\nimport { setHomePage } from '../../store/users';\n\ninterface StateProps {\n  currentUser: T.CurrentUser;\n}\n\ninterface DispatchProps {\n  setHomePage: (homepage: T.HomePage) => void;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  className?: string;\n  currentPage: T.HomePage;\n}\n\nexport const DEFAULT_HOMEPAGE: T.HomePage = { type: 'PROJECTS' };\n\nexport class HomePageSelect extends React.PureComponent<Props> {\n  handleClick = () => {\n    this.props.setHomePage(this.props.currentPage);\n  };\n\n  handleReset = () => {\n    this.props.setHomePage(DEFAULT_HOMEPAGE);\n  };\n\n  render() {\n    const { currentPage, currentUser } = this.props;\n\n    if (!isLoggedIn(currentUser)) {\n      return null;\n    }\n\n    const { homepage } = currentUser;\n    const isChecked = homepage !== undefined && isSameHomePage(homepage, currentPage);\n    const isDefault = isChecked && isSameHomePage(currentPage, DEFAULT_HOMEPAGE);\n    const tooltip = isChecked\n      ? translate(isDefault ? 'homepage.current.is_default' : 'homepage.current')\n      : translate('homepage.check');\n\n    return (\n      <Tooltip overlay={tooltip}>\n        {isDefault ? (\n          <span\n            aria-label={tooltip}\n            className={classNames('display-inline-block', this.props.className)}>\n            <HomeIcon filled={isChecked} />\n          </span>\n        ) : (\n          <ButtonLink\n            aria-label={tooltip}\n            className={classNames('link-no-underline', 'set-homepage-link', this.props.className)}\n            onClick={isChecked ? this.handleReset : this.handleClick}>\n            <HomeIcon filled={isChecked} />\n          </ButtonLink>\n        )}\n      </Tooltip>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  currentUser: getCurrentUser(state)\n});\n\nconst mapDispatchToProps: DispatchProps = { setHomePage };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePageSelect);\n\nfunction isSameHomePage(a: T.HomePage, b: T.HomePage) {\n  return (\n    a.type === b.type &&\n    (a as any).branch === (b as any).branch &&\n    (a as any).component === (b as any).component\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".location-index{position:relative;display:inline-block;vertical-align:top;line-height:16px;padding-left:6px;padding-right:6px;border-radius:2px;background-color:#d18582;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;transition:background-color .3s ease;-webkit-user-select:none;-ms-user-select:none;user-select:none}.location-index.selected{background-color:#a4030f}.location-index.muted{background-color:#cdcdcd}.location-index.is-leading:first-child{margin-left:0}.location-index.is-leading:not(:first-child){margin-left:-22px}.location-index[tabindex]{cursor:pointer}.location-index[tabindex]:hover,a:hover>.location-index{background-color:#a4030f}.location-index[tabindex]:focus{outline:none}.source-line-code-inner .location-index{line-height:16px;margin:1px 4px}.source-line-code-inner .location-index+.location-index{margin-left:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".location-message{display:inline-block;vertical-align:top;line-height:16px;padding:0 6px;border-radius:2px;background-color:#9e9e9e;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;text-overflow:ellipsis;overflow:hidden;transition:background-color .3s ease}.location-message.selected{background-color:#475760}.location-index+.location-message{margin-left:4px}.location-index>.location-message{display:none;position:absolute;bottom:calc(100% + 4px);left:0}.location-index:hover>.location-message{display:block}.location-index>.location-message:after{position:absolute;bottom:-5px;left:4px;width:0;height:0;border-top:5px solid #475760;border-left:5px solid transparent;border-right:5px solid transparent;content:\\\"\\\"}.source-line-code .location-message{padding-top:2px;padding-bottom:2px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".issue{position:relative;padding-top:8px;padding-bottom:8px;background-color:#f2dede;transition:all .3s ease,border 0s ease}.issue.hotspot{background-color:#eeeff4}.issue.selected{box-shadow:none;outline:none;border:2px solid #4b9fd5!important}.issue+.issue,.issue-container+.issue-container{margin-top:5px}.issue.selected+.issue{border-top-color:transparent}.issue-row{display:flex;margin-bottom:5px}.issue-row-meta{flex-grow:0;padding-right:5px;white-space:nowrap}.issue-message{flex-grow:1;padding-left:8px;padding-right:8px;line-height:18px;font-size:13px;font-weight:600;text-overflow:ellipsis}.issue-actions{justify-content:space-between;flex-wrap:wrap;padding-left:8px}.issue-actions,.issue-meta-list{display:flex;align-items:center}.issue-meta{line-height:16px;font-size:12px}.issue-meta+.issue-meta{margin-left:8px}.issue-meta-label{display:inline-block;vertical-align:top;max-width:180px;line-height:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.issue-see-rule{border-bottom:none;font-size:12px}.issue-changelog{width:450px;max-height:320px;overflow:auto;white-space:normal}.issue-comments{margin-top:5px;padding-left:8px;font-size:12px}.issue-comment{display:flex}.issue-comment+.issue-comment{margin-top:4px}.issue-comment-author{max-width:130px;font-weight:600;overflow:hidden;text-overflow:ellipsis}.issue-comment-age,.issue-comment-author{flex-shrink:0;line-height:18px;color:#666;white-space:nowrap}.issue-comment-text{flex:1;min-width:0;margin-left:5px;margin-right:5px;line-height:18px;line-height:1.5;overflow:hidden;outline:none}.issue-comment-text.markdown pre{float:none;height:auto;margin:0;padding:8px;background-color:#e6e6e6;border:none;border-radius:3px}.issue-comment-text.markdown br~pre{margin-top:8px}.issue-comment-actions{flex-shrink:0;padding-left:5px;line-height:18px;white-space:nowrap}.issue-comment-bubble-popup{width:440px;font-size:12px}.issue-comment-form-text textarea{width:100%;max-width:100%}.issue-comment-form-footer{margin-top:5px;line-height:22px}.issue-comment-form-footer:after,.issue-comment-form-footer:before{display:table;content:\\\"\\\";line-height:0}.issue-comment-form-footer:after{clear:both}.issue-comment-form-actions{float:right}.issue-comment-form-tips{float:left}.issue-with-checkbox{padding-left:24px}.issue-with-checkbox .issue-checkbox-container{display:flex;justify-content:center;align-items:center}.issue-checkbox-container{display:none;position:absolute;width:28px;top:0;bottom:0;left:0;border:none}.issue-checkbox-container:hover{background-color:rgba(0,0,0,.05)}.issue:not(.selected) .location-index{background-color:#999}.issue .menu:not(.issues-similar-issues-menu):not(.issue-changelog){max-height:120px;overflow:auto}.issue .badge-error{background-color:#eec8c8}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from '../../components/controls/Tooltip';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n\nexport interface PageShortcutsTooltipProps {\n  className?: string;\n  leftAndRightLabel?: string;\n  leftLabel?: string;\n  upAndDownLabel?: string;\n  metaModifierLabel?: string;\n}\n\nexport default function PageShortcutsTooltip(props: PageShortcutsTooltipProps) {\n  const { className, leftAndRightLabel, leftLabel, upAndDownLabel, metaModifierLabel } = props;\n  return (\n    <Tooltip\n      overlay={\n        <div className=\"small nowrap\">\n          <div>\n            {upAndDownLabel && (\n              <span>\n                <span className=\"shortcut-button little-spacer-right\"></span>\n                <span className=\"shortcut-button spacer-right\"></span>\n                {upAndDownLabel}\n              </span>\n            )}\n            {leftAndRightLabel && (\n              <span className={classNames({ 'big-spacer-left': upAndDownLabel })}>\n                <span className=\"shortcut-button little-spacer-right\"></span>\n                <span className=\"shortcut-button spacer-right\"></span>\n                {leftAndRightLabel}\n              </span>\n            )}\n            {leftLabel && (\n              <span className={classNames({ 'big-spacer-left': upAndDownLabel })}>\n                <span className=\"shortcut-button spacer-right\"></span>\n                {leftLabel}\n              </span>\n            )}\n          </div>\n          {metaModifierLabel && (\n            <div className=\"big-spacer-top big-padded-top bordered-top\">\n              <span className=\"shortcut-button little-spacer-right\">alt</span>\n              <span className=\"little-spacer-right\">+</span>\n              <span className=\"shortcut-button little-spacer-right\"></span>\n              <span className=\"shortcut-button spacer-right\"></span>\n              <span className=\"shortcut-button little-spacer-right\"></span>\n              <span className=\"shortcut-button spacer-right\"></span>\n              {metaModifierLabel}\n            </div>\n          )}\n        </div>\n      }>\n      <div\n        aria-label={`\n        ${translate('shortcuts.on_page.intro')}\n        ${\n          upAndDownLabel\n            ? translateWithParameters('shortcuts.on_page.up_down_x', upAndDownLabel)\n            : ''\n        }\n        ${\n          leftAndRightLabel\n            ? translateWithParameters('shortcuts.on_page.left_right_x', leftAndRightLabel)\n            : ''\n        }\n        ${leftLabel ? translateWithParameters('shortcuts.on_page.left_x', leftLabel) : ''}\n        ${\n          metaModifierLabel\n            ? translateWithParameters('shortcuts.on_page.meta_x', metaModifierLabel)\n            : ''\n        }\n      `}\n        className={classNames(\n          className,\n          'page-shortcuts-tooltip note text-center display-inline-block'\n        )}>\n        <div>\n          <span className=\"shortcut-button shortcut-button-tiny\"></span>\n        </div>\n        <div>\n          <span className=\"shortcut-button shortcut-button-tiny\"></span>\n          <span className=\"shortcut-button shortcut-button-tiny\"></span>\n          <span className=\"shortcut-button shortcut-button-tiny\"></span>\n        </div>\n      </div>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../../components/controls/buttons';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  displayReset: boolean;\n  onReset: () => void;\n}\n\nexport default function FiltersHeader({ displayReset, onReset }: Props) {\n  return (\n    <div className=\"search-navigator-filters-header\">\n      {displayReset && (\n        <div className=\"pull-right\">\n          <Button className=\"button-red\" id=\"coding-rules-clear-all-filters\" onClick={onReset}>\n            {translate('clear_all_filters')}\n          </Button>\n        </div>\n      )}\n\n      <h2 className=\"h3\">{translate('filters')}</h2>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\nimport {\n  getStandards,\n  renderCWECategory,\n  renderOwaspTop10Category,\n  renderSansTop25Category,\n  renderSonarSourceSecurityCategory\n} from '../../../helpers/security-standard';\nimport { Facet } from '../../../types/issues';\nimport { SecurityStandard, Standards, StandardType } from '../../../types/security';\nimport { formatFacetStat, Query, STANDARDS } from '../utils';\n\ninterface Props {\n  cwe: string[];\n  cweOpen: boolean;\n  cweStats: T.Dict<number> | undefined;\n  fetchingCwe: boolean;\n  fetchingOwaspTop10: boolean;\n  fetchingSansTop25: boolean;\n  fetchingSonarSourceSecurity: boolean;\n  loadSearchResultCount?: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  owaspTop10: string[];\n  owaspTop10Open: boolean;\n  owaspTop10Stats: T.Dict<number> | undefined;\n  query: Partial<Query>;\n  sansTop25: string[];\n  sansTop25Open: boolean;\n  sansTop25Stats: T.Dict<number> | undefined;\n  sonarsourceSecurity: string[];\n  sonarsourceSecurityOpen: boolean;\n  sonarsourceSecurityStats: T.Dict<number> | undefined;\n}\n\ninterface State {\n  standards: Standards;\n}\n\ntype StatsProp = 'owaspTop10Stats' | 'cweStats' | 'sansTop25Stats' | 'sonarsourceSecurityStats';\ntype ValuesProp = StandardType;\n\nexport default class StandardFacet extends React.PureComponent<Props, State> {\n  mounted = false;\n  property = STANDARDS;\n  state: State = {\n    standards: { owaspTop10: {}, sansTop25: {}, cwe: {}, sonarsourceSecurity: {} }\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n\n    // load standards.json only if the facet is open, or there is a selected value\n    if (\n      this.props.open ||\n      this.props.owaspTop10.length > 0 ||\n      this.props.cwe.length > 0 ||\n      this.props.sansTop25.length > 0 ||\n      this.props.sonarsourceSecurity.length > 0\n    ) {\n      this.loadStandards();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.open && this.props.open) {\n      this.loadStandards();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStandards = () => {\n    getStandards().then(\n      ({ owaspTop10, sansTop25, cwe, sonarsourceSecurity }: Standards) => {\n        if (this.mounted) {\n          this.setState({ standards: { owaspTop10, sansTop25, cwe, sonarsourceSecurity } });\n        }\n      },\n      () => {}\n    );\n  };\n\n  getValues = () => {\n    return [\n      ...this.props.sonarsourceSecurity.map(item =>\n        renderSonarSourceSecurityCategory(this.state.standards, item, true)\n      ),\n      ...this.props.owaspTop10.map(item =>\n        renderOwaspTop10Category(this.state.standards, item, true)\n      ),\n      ...this.props.sansTop25.map(item =>\n        renderSansTop25Category(this.state.standards, item, true)\n      ),\n      ...this.props.cwe.map(item => renderCWECategory(this.state.standards, item))\n    ];\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleOwaspTop10HeaderClick = () => {\n    this.props.onToggle('owaspTop10');\n  };\n\n  handleSansTop25HeaderClick = () => {\n    this.props.onToggle('sansTop25');\n  };\n\n  handleSonarSourceSecurityHeaderClick = () => {\n    this.props.onToggle('sonarsourceSecurity');\n  };\n\n  handleClear = () => {\n    this.props.onChange({\n      [this.property]: [],\n      owaspTop10: [],\n      sansTop25: [],\n      cwe: [],\n      sonarsourceSecurity: []\n    });\n  };\n\n  handleItemClick = (prop: ValuesProp, itemValue: string, multiple: boolean) => {\n    const items = this.props[prop];\n    if (multiple) {\n      const newValue = sortBy(\n        items.includes(itemValue) ? without(items, itemValue) : [...items, itemValue]\n      );\n      this.props.onChange({ [prop]: newValue });\n    } else {\n      this.props.onChange({\n        [prop]: items.includes(itemValue) && items.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleOwaspTop10ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick(SecurityStandard.OWASP_TOP10, itemValue, multiple);\n  };\n\n  handleSansTop25ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick(SecurityStandard.SANS_TOP25, itemValue, multiple);\n  };\n\n  handleSonarSourceSecurityItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick(SecurityStandard.SONARSOURCE, itemValue, multiple);\n  };\n\n  handleCWESearch = (query: string) => {\n    return Promise.resolve({\n      results: Object.keys(this.state.standards.cwe).filter(cwe =>\n        renderCWECategory(this.state.standards, cwe)\n          .toLowerCase()\n          .includes(query.toLowerCase())\n      )\n    });\n  };\n\n  loadCWESearchResultCount = (categories: string[]) => {\n    const { loadSearchResultCount } = this.props;\n    return loadSearchResultCount\n      ? loadSearchResultCount('cwe', { cwe: categories })\n      : Promise.resolve({});\n  };\n\n  renderList = (\n    statsProp: StatsProp,\n    valuesProp: ValuesProp,\n    renderName: (standards: Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    const stats = this.props[statsProp];\n    const values = this.props[valuesProp];\n    if (!stats) {\n      return null;\n    }\n    const categories = sortBy(Object.keys(stats), key => -stats[key]);\n    return this.renderFacetItemsList(stats, values, categories, renderName, renderName, onClick);\n  };\n\n  // eslint-disable-next-line max-params\n  renderFacetItemsList = (\n    stats: any,\n    values: string[],\n    categories: string[],\n    renderName: (standards: Standards, category: string) => React.ReactNode,\n    renderTooltip: (standards: Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    if (!categories.length) {\n      return (\n        <div className=\"search-navigator-facet-empty little-spacer-top\">\n          {translate('no_results')}\n        </div>\n      );\n    }\n\n    const getStat = (category: string) => {\n      return stats ? stats[category] : undefined;\n    };\n\n    return (\n      <FacetItemsList>\n        {categories.map(category => (\n          <FacetItem\n            active={values.includes(category)}\n            key={category}\n            name={renderName(this.state.standards, category)}\n            onClick={onClick}\n            stat={formatFacetStat(getStat(category))}\n            tooltip={renderTooltip(this.state.standards, category)}\n            value={category}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  };\n\n  renderHint = (statsProp: StatsProp, valuesProp: ValuesProp) => {\n    const stats = this.props[statsProp] || {};\n    const values = this.props[valuesProp];\n    return <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />;\n  };\n\n  renderOwaspTop10List() {\n    return this.renderList(\n      'owaspTop10Stats',\n      SecurityStandard.OWASP_TOP10,\n      renderOwaspTop10Category,\n      this.handleOwaspTop10ItemClick\n    );\n  }\n\n  renderOwaspTop10Hint() {\n    return this.renderHint('owaspTop10Stats', SecurityStandard.OWASP_TOP10);\n  }\n\n  renderSansTop25List() {\n    return this.renderList(\n      'sansTop25Stats',\n      SecurityStandard.SANS_TOP25,\n      renderSansTop25Category,\n      this.handleSansTop25ItemClick\n    );\n  }\n\n  renderSansTop25Hint() {\n    return this.renderHint('sansTop25Stats', SecurityStandard.SANS_TOP25);\n  }\n\n  renderSonarSourceSecurityList() {\n    return this.renderList(\n      'sonarsourceSecurityStats',\n      SecurityStandard.SONARSOURCE,\n      renderSonarSourceSecurityCategory,\n      this.handleSonarSourceSecurityItemClick\n    );\n  }\n\n  renderSonarSourceSecurityHint() {\n    return this.renderHint('sonarsourceSecurityStats', SecurityStandard.SONARSOURCE);\n  }\n\n  renderSubFacets() {\n    return (\n      <>\n        <FacetBox className=\"is-inner\" property={SecurityStandard.SONARSOURCE}>\n          <FacetHeader\n            fetching={this.props.fetchingSonarSourceSecurity}\n            name={translate('issues.facet.sonarsourceSecurity')}\n            onClick={this.handleSonarSourceSecurityHeaderClick}\n            open={this.props.sonarsourceSecurityOpen}\n            values={this.props.sonarsourceSecurity.map(item =>\n              renderSonarSourceSecurityCategory(this.state.standards, item)\n            )}\n          />\n          {this.props.sonarsourceSecurityOpen && (\n            <>\n              {this.renderSonarSourceSecurityList()}\n              {this.renderSonarSourceSecurityHint()}\n            </>\n          )}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property={SecurityStandard.OWASP_TOP10}>\n          <FacetHeader\n            fetching={this.props.fetchingOwaspTop10}\n            name={translate('issues.facet.owaspTop10')}\n            onClick={this.handleOwaspTop10HeaderClick}\n            open={this.props.owaspTop10Open}\n            values={this.props.owaspTop10.map(item =>\n              renderOwaspTop10Category(this.state.standards, item)\n            )}\n          />\n          {this.props.owaspTop10Open && (\n            <>\n              {this.renderOwaspTop10List()}\n              {this.renderOwaspTop10Hint()}\n            </>\n          )}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property={SecurityStandard.SANS_TOP25}>\n          <FacetHeader\n            fetching={this.props.fetchingSansTop25}\n            name={translate('issues.facet.sansTop25')}\n            onClick={this.handleSansTop25HeaderClick}\n            open={this.props.sansTop25Open}\n            values={this.props.sansTop25.map(item =>\n              renderSansTop25Category(this.state.standards, item)\n            )}\n          />\n          {this.props.sansTop25Open && (\n            <>\n              {this.renderSansTop25List()}\n              {this.renderSansTop25Hint()}\n            </>\n          )}\n        </FacetBox>\n        <ListStyleFacet<string>\n          className=\"is-inner\"\n          facetHeader={translate('issues.facet.cwe')}\n          fetching={this.props.fetchingCwe}\n          getFacetItemText={item => renderCWECategory(this.state.standards, item)}\n          getSearchResultKey={item => item}\n          getSearchResultText={item => renderCWECategory(this.state.standards, item)}\n          loadSearchResultCount={this.loadCWESearchResultCount}\n          onChange={this.props.onChange}\n          onSearch={this.handleCWESearch}\n          onToggle={this.props.onToggle}\n          open={this.props.cweOpen}\n          property={SecurityStandard.CWE}\n          query={omit(this.props.query, 'cwe')}\n          renderFacetItem={item => renderCWECategory(this.state.standards, item)}\n          renderSearchResult={(item, query) =>\n            highlightTerm(renderCWECategory(this.state.standards, item), query)\n          }\n          searchPlaceholder={translate('search.search_for_cwe')}\n          stats={this.props.cweStats}\n          values={this.props.cwe}\n        />\n      </>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && this.renderSubFacets()}\n      </FacetBox>\n    );\n  }\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".multiple-selection-hint{margin-top:8px;margin-bottom:8px;text-align:center}.multiple-selection-hint-inner{display:inline-block;height:24px;line-height:24px;border-radius:24px;background-color:#e6e6e6;text-align:center;padding:0 8px;font-size:12px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { formatMeasure } from '../../helpers/measures';\n\nexport interface PageCounterProps {\n  className?: string;\n  current?: number;\n  label: string;\n  total: number;\n}\n\nexport default function PageCounter({ className, current, label, total }: PageCounterProps) {\n  return (\n    <div className={classNames('display-inline-block', className)}>\n      <strong className=\"little-spacer-right\">\n        {current !== undefined && formatMeasure(current + 1, 'INT') + ' / '}\n        <span className=\"it__page-counter-total\">{formatMeasure(total, 'INT')}</span>\n      </strong>\n      {label}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from '../../components/icons/IssueTypeIcon';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  type: T.IssueType | T.RuleType;\n}\n\nexport default function TypeHelper(props: Props) {\n  return (\n    <span className={props.className}>\n      <IssueTypeIcon className=\"little-spacer-right\" query={props.type} />\n      {translate('issue.type', props.type)}\n    </span>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./BarChart.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".bar-chart-bar{fill:#4b9fd5}.bar-chart-tick{fill:#666;font-size:12px;text-anchor:middle}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\nimport './EmptySearch.css';\n\nexport default function EmptySearch() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('no_results_search')}</h3>\n      <p className=\"big-spacer-top\">{translate('no_results_search.2')}</p>\n    </div>\n  );\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".empty-search{padding:60px 0;border:1px solid #e6e6e6;border-radius:2px;color:#666;text-align:center}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n"],"sourceRoot":""}