{"version":3,"sources":["webpack:///./src/main/js/components/ui/DeferredSpinner.css?d888","webpack:///./src/main/js/components/ui/DeferredSpinner.css","webpack:///./src/main/js/components/controls/buttons.css?654a","webpack:///./src/main/js/components/controls/buttons.css","webpack:///./src/main/js/components/controls/Tooltip.css?cc11","webpack:///./src/main/js/components/controls/Tooltip.css","webpack:///./src/main/js/components/controls/Modal.css?c4fe","webpack:///./src/main/js/components/controls/Modal.css","webpack:///./src/main/js/components/workspace/styles.css?fbff","webpack:///./src/main/js/components/workspace/styles.css","webpack:///./src/main/js/app/components/a11y/A11ySkipLinks.css?0925","webpack:///./src/main/js/app/components/a11y/A11ySkipLinks.css","webpack:///./src/main/js/app/components/indexation/IndexationNotification.css?9ebc","webpack:///./src/main/js/app/components/indexation/IndexationNotification.css","webpack:///./src/main/js/components/ui/NavBar.css?2ae5","webpack:///./src/main/js/components/ui/NavBar.css","webpack:///./src/main/js/components/ui/popups.css?79f9","webpack:///./src/main/js/components/ui/popups.css","webpack:///./src/main/js/components/controls/Dropdown.css?ba31","webpack:///./src/main/js/components/controls/Dropdown.css","webpack:///./src/main/js/components/controls/SearchBox.css?1df6","webpack:///./src/main/js/components/controls/SearchBox.css","webpack:///./src/main/js/app/components/search/Search.css?68ff","webpack:///./src/main/js/app/components/search/Search.css","webpack:///./src/main/js/app/components/nav/global/GlobalNav.css?9f79","webpack:///./src/main/js/app/components/nav/global/GlobalNav.css","webpack:///./src/main/js/apps/about/routes.ts","webpack:///./src/main/js/apps/account/routes.ts","webpack:///./src/main/js/apps/application-console/routes.ts","webpack:///./src/main/js/apps/application-settings/routes.ts","webpack:///./src/main/js/apps/audit-logs/routes.ts","webpack:///./src/main/js/apps/background-tasks/routes.ts","webpack:///./src/main/js/apps/code/routes.ts","webpack:///./src/main/js/apps/coding-rules/routes.ts","webpack:///./src/main/js/apps/component-measures/routes.ts","webpack:///./src/main/js/apps/documentation/routes.ts","webpack:///./src/main/js/apps/groups/routes.ts","webpack:///./src/main/js/apps/issues/components/AppContainer.tsx","webpack:///./src/main/js/apps/maintenance/routes.tsx","webpack:///./src/main/js/apps/marketplace/routes.ts","webpack:///./src/main/js/apps/overview/routes.ts","webpack:///./src/main/js/apps/permission-templates/routes.ts","webpack:///./src/main/js/apps/permissions/routes.ts","webpack:///./src/main/js/apps/portfolio/routes.ts","webpack:///./src/main/js/apps/projectActivity/routes.ts","webpack:///./src/main/js/apps/projectBaseline/routes.ts","webpack:///./src/main/js/apps/projectBranches/routes.ts","webpack:///./src/main/js/apps/projectQualityGate/routes.ts","webpack:///./src/main/js/apps/projectQualityProfiles/routes.ts","webpack:///./src/main/js/apps/projects/routes.ts","webpack:///./src/main/js/apps/projectsManagement/routes.ts","webpack:///./src/main/js/apps/quality-gates/routes.ts","webpack:///./src/main/js/apps/quality-profiles/routes.ts","webpack:///./src/main/js/apps/sessions/routes.ts","webpack:///./src/main/js/apps/settings/routes.ts","webpack:///./src/main/js/apps/system/routes.ts","webpack:///./src/main/js/apps/tutorials/routes.ts","webpack:///./src/main/js/apps/users/routes.ts","webpack:///./src/main/js/apps/web-api/routes.ts","webpack:///./src/main/js/apps/webhooks/routes.ts","webpack:///./src/main/js/app/components/KeyboardShortcutsModal.tsx","webpack:///./src/main/js/app/components/App.tsx","webpack:///./src/main/js/components/workspace/WorkspacePortal.tsx","webpack:///./src/main/js/components/workspace/Workspace.tsx","webpack:///./src/main/js/app/components/a11y/A11yProvider.tsx","webpack:///./src/main/js/app/components/a11y/A11ySkipLinks.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/SuggestionsProvider.tsx","webpack:///./src/main/js/app/components/indexation/IndexationNotificationHelper.ts","webpack:///./src/main/js/app/components/indexation/IndexationContextProvider.tsx","webpack:///./src/main/js/types/indexation.ts","webpack:///./src/main/js/app/components/indexation/IndexationNotificationRenderer.tsx","webpack:///./src/main/js/app/components/indexation/IndexationNotification.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/EmbedDocsPopupHelper.tsx","webpack:///./src/main/js/app/components/search/Search.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNavBranding.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNavMenu.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNavUser.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNav.tsx","webpack:///./src/main/js/app/components/StartupModal.tsx","webpack:///./src/main/js/app/components/GlobalContainer.tsx","webpack:///./src/main/js/app/components/MigrationContainer.tsx","webpack:///./src/main/js/app/utils/startReactApp.tsx","webpack:///./src/main/js/components/controls/buttons.tsx","webpack:///./src/main/js/components/icons/Icon.tsx","webpack:///./src/main/js/components/controls/Tooltip.tsx","webpack:///./src/main/js/app/theme.js","webpack:///./src/main/js/components/ui/DeferredSpinner.tsx","webpack:///./src/main/js/helpers/measures.ts","webpack:///./src/main/js/helpers/urls.ts","webpack:///./src/main/js/components/icons/InfoIcon.tsx","webpack:///./src/main/js/components/ui/Alert.tsx","webpack:///./src/main/js/components/lazyLoadComponent.tsx","webpack:///./src/main/js/app/utils/throwGlobalError.ts","webpack:///./src/main/js/components/controls/Dropdown.tsx","webpack:///./src/main/js/apps/settings/store/rootReducer.ts","webpack:///./src/main/js/store/rootReducer.ts","webpack:///./src/main/js/helpers/branch-like.ts","webpack:///./src/main/js/components/controls/Modal.tsx","webpack:///./src/main/js/types/component.ts","webpack:///./src/main/js/components/icons/DropdownIcon.tsx","webpack:///./src/main/js/helpers/users.ts","webpack:///./src/main/js/types/alm-settings.ts","webpack:///./src/main/js/components/controls/DocumentClickHandler.tsx","webpack:///./src/main/js/components/controls/Toggler.tsx","webpack:///./src/main/js/components/hoc/withRouter.tsx","webpack:///./src/main/js/components/icons/SearchIcon.tsx","webpack:///./src/main/js/components/controls/SearchBox.tsx","webpack:///./src/main/js/api/issues.ts","webpack:///./src/main/js/components/ui/popups.tsx","webpack:///./src/main/js/api/components.ts","webpack:///./src/main/js/helpers/constants.ts","webpack:///./src/main/js/types/metrics.ts","webpack:///./src/main/js/app/components/embed-docs-modal/SuggestionsContext.ts","webpack:///./src/main/js/components/icons/HelpIcon.tsx","webpack:///./src/main/js/components/hoc/withCurrentUser.tsx","webpack:///./src/main/js/components/ui/GenericAvatar.tsx","webpack:///./src/main/js/components/ui/Avatar.tsx","webpack:///./src/main/js/store/globalMessages.ts","webpack:///./src/main/js/apps/settings/utils.ts","webpack:///./src/main/js/helpers/types.ts","webpack:///./src/main/js/helpers/path.ts","webpack:///./src/main/js/store/utils/configureStore.ts","webpack:///./src/main/js/app/utils/getStore.ts","webpack:///./src/main/js/components/icons/ChevronRightIcon.tsx","webpack:///./src/main/js/components/hoc/withAppState.tsx","webpack:///./src/main/js/helpers/scrolling.ts","webpack:///./src/main/js/app/components/a11y/A11yContext.tsx","webpack:///./src/main/js/components/controls/ClickEventBoundary.tsx","webpack:///./src/main/js/api/users.ts","webpack:///./src/main/js/helpers/getHistory.ts","webpack:///./src/main/js/api/rules.ts","webpack:///./src/main/js/apps/issues/utils.ts","webpack:///./src/main/js/components/icons/AlertSuccessIcon.tsx","webpack:///./src/main/js/helpers/query.ts","webpack:///./src/main/js/apps/quality-profiles/utils.ts","webpack:///./src/main/js/components/common/InstanceMessage.tsx","webpack:///./src/main/js/api/quality-gates.ts","webpack:///./src/main/js/api/auth.ts","webpack:///./src/main/js/store/rootActions.ts","webpack:///./src/main/js/api/languages.ts","webpack:///./src/main/js/components/icons/AlertErrorIcon.tsx","webpack:///./src/main/js/components/hoc/utils.ts","webpack:///./src/main/js/components/ui/NavBar.tsx","webpack:///./src/main/js/components/icons/SecurityHotspotIcon.tsx","webpack:///./src/main/js/components/icons/VulnerabilityIcon.tsx","webpack:///./src/main/js/app/components/GlobalFooterBranding.tsx","webpack:///./src/main/js/app/components/GlobalFooterContainer.tsx","webpack:///./src/main/js/app/components/GlobalFooter.tsx","webpack:///./src/main/js/helpers/issues.ts","webpack:///./src/main/js/components/icons/BugIcon.tsx","webpack:///./src/main/js/components/icons/CodeSmellIcon.tsx","webpack:///./src/main/js/components/controls/OutsideClickHandler.tsx","webpack:///./src/main/js/store/appState.ts","webpack:///./src/main/js/types/security.ts","webpack:///./src/main/js/apps/projects/utils.ts","webpack:///./src/main/js/api/measures.ts","webpack:///./src/main/js/types/tasks.ts","webpack:///./src/main/js/types/editions.ts","webpack:///./src/main/js/api/ce.ts","webpack:///./src/main/js/store/users.ts","webpack:///./src/main/js/types/issues.ts","webpack:///./src/main/js/components/workspace/context.ts","webpack:///./src/main/js/types/permissions.ts","webpack:///./src/main/js/helpers/editions.ts","webpack:///./src/main/js/components/controls/GlobalMessages.tsx","webpack:///./src/main/js/app/components/GlobalMessagesContainer.tsx","webpack:///./src/main/js/components/icons/AlertWarnIcon.tsx","webpack:///./src/main/js/apps/settings/store/settingsPage.ts","webpack:///./src/main/js/apps/settings/store/values.ts","webpack:///./src/main/js/api/metrics.ts","webpack:///./src/main/js/app/components/indexation/PageUnavailableDueToIndexation.tsx","webpack:///./src/main/js/components/icons/ClearIcon.tsx","webpack:///./src/main/js/helpers/keycodes.ts","webpack:///./src/main/js/app/components/RecentHistory.ts","webpack:///./src/main/js/helpers/colors.ts","webpack:///./src/main/js/apps/coding-rules/query.ts","webpack:///./src/main/js/apps/settings/store/definitions.ts","webpack:///./src/main/js/store/languages.ts","webpack:///./src/main/js/components/SourceViewer/helpers/getCoverageStatus.ts","webpack:///./src/main/js/apps/projects/query.ts","webpack:///./src/main/js/app/components/indexation/IndexationContext.ts","webpack:///./src/main/js/components/hoc/withIndexationContext.tsx","webpack:///./src/main/js/components/icons/EditIcon.tsx","webpack:///./src/main/js/components/controls/ScreenPositionFixer.tsx","webpack:///./src/main/js/components/controls/EscKeydownHandler.tsx","webpack:///./src/main/js/store/branches.ts","webpack:///./src/main/js/store/metrics.ts","webpack:///./src/main/js/helpers/qualityGates.ts","webpack:///./src/main/js/components/hoc/withIndexationGuard.tsx","webpack:///./src/main/js/components/icons/DeleteIcon.tsx","webpack:///./src/main/js/components/icons/ClockIcon.tsx","webpack:///./src/main/js/app/components/search/utils.ts","webpack:///./src/main/js/api/marketplace.ts"],"names":["api","content","__esModule","default","module","i","options","exported","locals","exports","___CSS_LOADER_API_IMPORT___","push","indexRoute","component","lazyLoadComponent","childRoutes","path","onEnter","nextState","replace","hash","window","location","length","query","split","forEach","part","tokens","decodeURIComponent","parseHash","substr","normalizedQuery","open","pathname","metric","params","domainName","view","id","graph","custom_metrics","metricKey","IssuesAppContainer","fetchIssues","additionalFields","timeZone","Intl","DateTimeFormat","resolvedOptions","then","response","parsedIssues","issues","map","issue","components","users","rules","mapDispatchToProps","fetchBranchStatus","withRouter","state","currentUser","maintenanceRoutes","setupRoutes","globalPermissionsRoutes","projectPermissionsRoutes","_","CATEGORIES","category","shortcuts","keys","action","renderShortcuts","list","key","className","k","KeyboardShortcutsModal","display","setDisplay","handleKeyPress","event","tagName","target","includes","d","addEventListener","removeEventListener","title","Modal","contentLabel","onRequestClose","size","onClick","PageTracker","mounted","setScrollbarWidth","outer","document","createElement","style","visibility","width","setProperty","body","appendChild","widthNoScroll","offsetWidth","overflow","inner","widthWithScroll","parentNode","removeChild","renderPreconnectLink","parser","href","this","props","gravatarServerUrl","hostname","origin","rel","fetchLanguages","enableGravatar","children","Boolean","value","super","el","classList","add","WorkspaceNav","WorkspaceRuleViewer","WorkspaceComponentViewer","WorkspaceTypes","fetchRuleNames","async","repositories","externalRulesRepoNames","filter","startsWith","name","setState","loadWorkspace","data","JSON","parse","x","Component","Rule","saveWorkspace","stringify","handleOpenComponent","c","handleComponentReopen","componentKey","handleOpenRule","rule","r","handleRuleReopen","ruleKey","handleComponentClose","undefined","handleRuleClose","handleComponentLoad","details","qualifier","handleRuleLoad","handleCollapse","handleMaximize","maximized","handleMinimize","handleResize","deltaY","minHeight","innerHeight","maxHeight","height","Math","min","max","prevState","openComponent","find","openRule","actualHeight","Provider","onComponentClose","onComponentOpen","onRuleClose","onRuleOpen","onClose","onCollapse","onLoad","onMaximize","onMinimize","onResize","links","addA11ySkipLink","link","weight","removeA11ySkipLink","l","A11yContext","Consumer","label","suggestions","fetchSuggestions","jsonList","suggestion","scope","addSuggestions","newKey","removeSuggestions","oldKey","SuggestionsContext","onNewStatus","stopPolling","poll","status","isCompleted","interval","setInterval","clearInterval","toString","handleNewStatus","newIndexationStatus","appState","needIssueSync","startPolling","percentCompleted","hasFailures","IndexationContext","IndexationNotificationType","withAppState","NOTIFICATION_VARIANTS","InProgress","InProgressWithFailure","Completed","CompletedWithFailure","IndexationNotificationRenderer","type","Alert","variant","isSystemAdmin","defaultMessage","values","renderBackgroundTasksPageLink","renderCompletedWithFailureBanner","renderInProgressBanner","renderInProgressWithFailureBanner","hasError","text","to","taskType","IssueSync","Failed","Admin","refreshNotification","prevProps","indexationContext","notificationType","shouldDisplayCompletedNotification","markCompletedNotificationAsDisplayed","markCompletedNotificationAsToDisplay","withCurrentUser","withIndexationContext","EmbedDocsPopup","helpOpen","setHelpDisplay","handleClick","toggleHelp","closeHelp","Toggler","overlay","HelpIcon","SearchResults","SearchResult","focusInput","input","focus","handleClickOutside","closeSearch","handleFocus","documentElement","click","openSearch","search","clear","blur","more","projects","results","selected","shortQuery","getPlainComponentsList","Object","reduce","next","stopLoading","loading","recentlyBrowsed","RecentHistory","get","group","q","items","item","warning","searchMore","loadingMore","moreResults","handleQueryChange","selectPrevious","index","indexOf","selectNext","openSelected","Project","Portfolio","SubPortfolio","router","scrollToSelected","node","nodes","topOffset","bottomOffset","parent","handleKeyDown","keyCode","preventDefault","handleSelect","innerRef","searchInputRef","renderResult","onSelect","renderNoResults","_prevProps","DeferredSpinner","SearchBox","autoFocus","minLength","onChange","onFocus","onKeyDown","placeholder","Dropdown","noPadding","ref","allowMore","onMoreClick","ClockIcon","shortcut","OutsideClickHandler","onClickOutside","GlobalNavBranding","customLogoUrl","customLogoWidth","url","alt","src","renderGlobalPageLink","active","activeClassName","isLoggedIn","resolved","myIssues","canAdmin","globalPages","withoutPortfolios","page","onToggleClick","role","DropdownIcon","governanceInstalled","qualifiers","renderProjects","renderPortfolios","renderIssuesLink","renderRulesLink","renderProfilesLink","renderQualityGatesLink","renderAdministrationLink","renderMore","handleLogin","returnTo","encodeURIComponent","handleLogout","email","Avatar","avatar","globalNavContentHeightRaw","renderAuthenticated","renderAnonymous","NavBar","globalNavHeightRaw","LicensePromptModal","closeLicense","tryAutoOpenLicense","currentEdition","hasLicenseManager","hasLicensedEdition","community","lastPrompt","login","Date","license","isValidEdition","catch","edition","GlobalContainer","footer","GlobalFooterContainer","GlobalMessagesContainer","return_to","handleUpdate","scrollTo","RouteWithChildRoutes","startReactApp","lang","getElementById","history","getHistory","store","getStore","defaultLocale","locale","onUpdate","from","withIndexationGuard","Issues","types","assignedToMe","join","Button","disabled","stopPropagation","currentTarget","ButtonLink","SubmitButton","ResetButtonLink","ButtonIcon","color","tooltip","tooltipProps","other","mouseEnterDelay","darkBlue","ClearButton","iconProps","gray60","DeleteButton","red","EditButton","Icon","viewBox","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","version","xmlnsXlink","xmlSpace","FLIP_MAP","left","right","top","bottom","isMeasured","Tooltip","TooltipInner","mouseIn","addEventListeners","throttledPositionTooltip","removeEventListeners","clearTimeouts","clearTimeout","mouseEnterTimeout","mouseLeaveTimeout","isVisible","visible","getPlacement","placement","tooltipNodeRef","tooltipNode","adjustArrowPosition","leftFix","topFix","marginTop","marginLeft","positionTooltip","toggleNode","Element","toggleRect","getBoundingClientRect","tooltipRect","pageXOffset","pageYOffset","clearPosition","flipped","handleMouseEnter","setTimeout","onShow","handleMouseLeave","mouseLeaveDelay","onHide","handleOverlayMouseEnter","handleOverlayMouseLeave","needsFlipping","threshold","grid","abs","renderActual","classNameSpace","currentPlacement","onMouseEnter","onMouseLeave","TooltipPortal","ready","defaultProps","colors","blue","veryLightBlue","lightBlue","veryDarkBlue","green","lightGreen","veryLightGreen","yellow","orange","purple","white","gray94","gray80","gray71","gray67","gray40","transparentWhite","transparentGray","transparentBlack","disableGrayText","disableGrayBorder","disableGrayBg","barBackgroundColor","barBackgroundColorHighlight","barBorderColor","globalNavBarBg","rowHoverHighlight","baseFontColor","secondFontColor","mandatoryFieldColor","leakPrimaryColor","leakSecondaryColor","issueBgColor","hotspotBgColor","issueLocationSelected","issueLocationHighlighted","conciseIssueRed","conciseIssueRedSelected","lineCoverageRed","lineCoverageGreen","warningIconColor","alertBorderError","alertBackgroundError","alertTextError","alertIconError","alertBorderWarning","alertBackgroundWarning","alertTextWarning","alertIconWarning","alertBorderSuccess","alertBackgroundSuccess","alertTextSuccess","alertIconSuccess","alertBorderInfo","alertBackgroundInfo","alertTextInfo","alertIconInfo","badgeBlueBackground","badgeBlueColor","badgeRedBackgroundOnIssue","azure","bitbucket","github","codeBackground","sonarcloudOrange500","sonarcloudOrange600","sonarcloudOrange700","sonarcloudBlack100","sonarcloudBlack200","sonarcloudBlack250","sonarcloudBlack300","sonarcloudBlack500","sonarcloudBlack700","sonarcloudBlack800","sonarcloudBlack900","sonarcloudBlue500","sonarcloudBlue600","sonarcloudBlue900","sonarcloudBorderGray","sizes","gridSize","baseFontSize","verySmallFontSize","smallFontSize","mediumFontSize","bigFontSize","hugeFontSize","giganticFontSize","hugeControlHeight","largeControlHeight","controlHeight","smallControlHeight","tinyControlHeight","globalNavHeight","globalNavContentHeight","maxPageWidth","minPageWidth","pagePadding","rawSizes","baseFontSizeRaw","contextNavHeightRaw","fonts","baseFontFamily","systemFontFamily","sourceCodeFontFamily","zIndexes","aboveNormalZIndex","normalZIndex","belowNormalZIndex","pageMainZIndex","pageSideZIndex","pageHeaderZIndex","globalBannerZIndex","contextbarZIndex","tooltipZIndex","dropdownMenuZIndex","processContainerZIndex","modalZIndex","modalOverlayZIndex","popupZIndex","others","defaultShadow","showSpinner","startTimer","timer","timeout","stopTimer","customSpinner","enhanceMeasuresWithMetrics","measures","metrics","measure","enhanceConditionWithMeasure","condition","m","period","isPeriodBestValue","bestValue","isDiffMetric","maintainabilityRatingGrid","getMaintainabilityRatingGrid","numbers","getGlobalSettingValue","settingValue","getState","getRatingGrid","s","parseFloat","n","isNaN","getRatingTooltip","ratingLetter","formatMeasure","finalMetricKey","rating","maintainabilityGrid","maintainabilityRatingThreshold","floor","getMaintainabilityRatingTooltip","Number","getDisplayMetrics","hidden","findMeasure","formatter","useFormatter","INT","intFormatter","SHORT_INT","shortIntFormatter","FLOAT","floatFormatter","PERCENT","percentFormatter","WORK_DUR","durationFormatter","SHORT_WORK_DUR","shortDurationFormatter","RATING","ratingFormatter","LEVEL","levelFormatter","MILLISEC","millisecondsFormatter","noFormatter","getFormatter","localizeMetric","getShortType","getMinDecimalsCountToBeDistinctFromThreshold","delta","log10","numberFormatter","minimumFractionDigits","maximumFractionDigits","format","NumberFormat","shortIntFormats","unit","formatUnit","fraction","suffix","option","roundingFunc","numberRound","pow","round","decimals","omitExtraDecimalZeros","parseInt","String","fromCharCode","toUpperCase","l10nKey","result","minutes","seconds","addSpaceIfNeeded","isNegative","absValue","days","remainingValue","hours","formatted","shouldDisplayDays","shouldDisplayHours","shouldDisplayMinutes","formatDuration","shouldDisplayDaysInShortFormat","roundedDays","formattedDays","shouldDisplayHoursInShortFormat","roundedHours","formattedHours","formattedMinutes","formatDurationShort","getComponentOverviewUrl","componentQualifier","branchParameters","getPortfolioUrl","getProjectQueryUrl","getComponentAdminUrl","getApplicationAdminUrl","getProjectUrl","project","branch","getComponentBackgroundTaskUrl","getBranchLikeUrl","branchLike","getPullRequestUrl","getBranchUrl","pullRequest","getIssuesUrl","getComponentIssuesUrl","getComponentSecurityHotspotsUrl","sinceLeakPeriod","hotspots","file","SONARSOURCE","OWASP_TOP10","SANS_TOP25","CWE","getComponentDrilldownUrl","selectionKey","treemapView","listView","getComponentDrilldownUrlWithSelection","getMeasureTreemapUrl","getActivityUrl","getMeasureHistoryUrl","getComponentPermissionsUrl","getQualityProfileUrl","language","getQualityGateUrl","getQualityGatesUrl","getGlobalSettingsUrl","getProjectSettingsUrl","getRulesUrl","getDeprecatedActiveRulesUrl","activation","statuses","getRuleUrl","rule_key","getFormattingHelpUrl","getCodeUrl","line","toFixed","getHomePageUrl","homepage","convertGithubApiUrlToLink","stripTrailingSlash","getHostUrl","Error","getPathUrlAsString","internal","getReturnUrl","regex","RegExp","test","isRelativeUrl","InfoIcon","fill","StyledAlertIcon","div","isBanner","variantInfo","borderColor","StyledAlertContent","alertInnerIsBannerMixin","StyledAlertInner","StyledAlert","backGroundColor","isInline","domProps","error","icon","AlertErrorIcon","AlertWarnIcon","success","AlertSuccessIcon","info","getAlertVariantInfo","factory","displayName","LazyComponent","slowThreshold","LazyComponentWrapper","LazyErrorBoundary","fallback","throwGlobalError","param","Response","console","warn","message","dispatch","Promise","reject","closeDropdown","handleToggleClick","onOpen","a11yAttrs","child","closeOnClick","closeOnClickOutside","toggler","DropdownOverlay","noOverlayPadding","overlayPlacement","renderPopup","arrowStyle","transform","Bottom","definitions","settingsPage","globalMessages","getValue","getSettingsForCategory","definition","hasValue","inherited","branches","languages","settingsApp","getAppState","getLanguages","getCurrentUserSetting","getCurrentUser","getMetrics","getMetricsKey","getMetricByKey","getSettingsAppAllDefinitions","getSettingsAppDefinition","getSettingsAppAllCategories","getSettingsAppDefaultCategory","getSettingsAppSettingsForCategory","getSettingsAppChangedValue","isSettingsAppLoading","getSettingsAppValidationMessage","getBranchStatusByBranchLike","isBranch","isMain","isMainBranch","sortBranches","b","isPullRequest","sortPullRequests","pullRequests","pr","getPullRequestDisplayName","getBranchLikeDisplayName","getBranchLikeKey","isSameBranchLike","a","getBrancheLikesAsTree","branchLikes","mainBranch","parentlessPullRequests","isOrphan","base","orphanPullRequests","tree","branchTree","getPullRequests","mainBranchTree","getBranchLikeQuery","fillBranchLike","isOpen","overlayClassName","noBackdrop","Visibility","ComponentQualifier","ProjectKeyValidationResult","isPortfolioLike","isApplication","Application","isProject","turned","hasGlobalPermission","user","permission","permissions","global","isUserActive","AlmKeys","AlmSettingsBindingStatusType","ProjectAlmBindingConfigurationErrorScope","isBitbucketCloudBindingDefinition","binding","clientId","workspace","addClickHandler","handleDocumentClick","removeClickHandler","closeOnEscape","renderedOverlay","EscKeydownHandler","onKeydown","renderOverlay","WrappedComponent","SearchIcon","DEFAULT_MAX_LENGTH","changeValue","debounced","debouncedOnChange","cancel","handleInputChange","handleInputKeyDown","handleResetClick","maxLength","inputClassName","touched","tooShort","autoComplete","searchIssues","getFacets","facets","ps","getFacet","facet","searchIssueTags","tags","getIssueChangelog","addIssueComment","deleteIssueComment","editIssueComment","setIssueAssignee","setIssueSeverity","setIssueTags","setIssueTransition","setIssueType","bulkChangeIssues","issueKeys","searchIssueAuthors","authors","getIssueFlowSnippets","issueKey","sources","lineMap","coverageStatus","PopupPlacement","PopupWithRef","PopupArrow","Popup","getComponents","parameters","bulkDeleteProjects","deleteProject","deletePortfolio","portfolio","createProject","searchProjectTags","setApplicationTags","setProjectTags","getComponentTree","strategy","additional","metricKeys","getChildren","getComponentLeaves","getComponent","getTree","getFiles","getDirectories","getComponentData","doesComponentExists","getComponentShow","getParents","ancestors","getBreadcrumbs","reverse","getMyProjects","searchProjects","changeKey","getSuggestions","getComponentForSourceViewer","getSources","getDuplications","SEVERITIES","ISSUE_TYPES","Bug","Vulnerability","CodeSmell","SecurityHotspot","SOURCE_SCOPES","Main","File","Test","TestFile","RULE_TYPES","RULE_STATUSES","RATING_COLORS","PROJECT_KEY_MAX_LEN","ALM_DOCUMENTATION_PATHS","Azure","BitbucketServer","BitbucketCloud","GitHub","GitLab","IMPORT_COMPATIBLE_ALMS","IMPORT_COMPATIBLE_ALM_COUNT","MetricKey","isMetricKey","fillInner","Wrapper","GenericAvatar","words","word","backgroundColor","borderRadius","fontSize","fontWeight","lineHeight","textAlign","verticalAlign","MessageLevel","closeGlobalMessage","closeAllGlobalMessages","addGlobalMessage","level","addGlobalMessageActionCreator","addGlobalErrorMessage","addGlobalSuccessMessage","Success","getGlobalMessages","DEFAULT_CATEGORY","getPropertyName","getPropertyDescription","description","getCategoryName","getSubCategoryName","subCategory","getSubCategoryDescription","getUniqueName","indexSuffix","getSettingValue","fieldValues","isCategoryDefinition","multiValues","isEmptyValue","isSecuredDefinition","endsWith","fields","getEmptyValue","field","isDefaultOrInherited","setting","getDefaultValue","parentFieldValues","parentValue","parentValues","defaultValue","isRealSettingKey","buildSettingLink","alm","pop","escape","ADDITIONAL_SETTING_DEFINITIONS","isDefined","collapsePath","limit","head","tail","middle","slice","cut","shift","collapsedDirFromPath","fileFromPath","splitPath","cutLongWords","str","limitComponentName","middlewares","finalCreateStore","createStore","rootReducer","initialState","configureStore","ChevronRightIcon","isWindow","element","getScroll","y","scrollLeft","scrollTop","scrollElement","resolve","smoothScroll","current","scroll","positiveDirection","step","ceil","SCROLLING_DURATION","stepsDone","goal","smoothScrollTop","position","smoothScrollLeft","scrollToElement","opts","smooth","parentTop","addToScrollQueue","scrollHorizontally","leftOffset","rightOffset","parentLeft","innerWidth","queue","queueRunning","fn","processQueue","ClickEventBoundary","e","changePassword","getUserGroups","getIdentityProviders","searchUsers","createUser","updateUser","scmAccount","deactivateUser","setHomePage","setUserSetting","basename","getRulesApp","searchRules","takeFacet","property","f","getRuleDetails","getRuleTags","createRule","deleteRule","updateRule","STANDARDS","STANDARD_TYPES","parseQuery","assigned","assignees","author","createdAfter","createdAt","createdBefore","createdInLast","cwe","directories","files","owaspTop10","resolutions","sansTop25","scopes","severities","sonarsourceSecurity","sort","getOpen","areMyIssuesSelected","serializeQuery","areQueriesEqual","parseFacets","val","count","formatFacetStat","stat","searchAssignees","p","paging","isMySet","saveMyIssues","getLocations","flows","secondaryLocations","selectedFlowIndex","getSelectedLocation","selectedLocationIndex","locations","scrollToIssue","querySelector","shouldOpenStandardsFacet","openFacets","isFilteredBySecurityIssueTypes","isOneStandardChildFacetOpen","shouldOpenStandardsChildFacet","standardType","shouldOpenSonarSourceSecurityFacet","some","queriesEqual","keysA","keysB","every","cleanQuery","parseAsBoolean","parseAsOptionalBoolean","parseAsDate","date","parseAsString","parseAsOptionalString","parseAsArray","itemParser","serializeDate","serializer","toISOString","serializeDateShort","serializeString","serializeStringArray","serializeOptionalBoolean","sortProfiles","profiles","sorted","putProfile","profile","depth","parentKey","childrenCount","isStagnant","rulesUpdatedAt","updateDate","PROFILE_PATH","getProfilesForLanguagePath","getProfilePath","getProfileComparePath","withKey","assign","getProfileChangelogPath","since","InstanceMessage","transformedMessage","fetchQualityGates","fetchQualityGate","createQualityGate","deleteQualityGate","renameQualityGate","copyQualityGate","setQualityGateAsDefault","createCondition","updateCondition","deleteCondition","getGateForProject","qualityGate","isDefault","associateGateWithProject","dissociateGateWithProject","getApplicationQualityGate","getQualityGateProjectStatus","projectStatus","basicCheckStatus","fetchMetrics","projectKey","ignoredConditions","conditions","doLogin","password","request","setMethod","setData","submit","doLogout","requireAuthorization","registerBranchStatus","getWrappedDisplayName","hocName","wrappedDisplayName","followHorizontalScroll","throttledFollowHorizontalScroll","limited","notif","SecurityHotspotIcon","VulnerabilityIcon","GlobalFooterBranding","productionDatabase","sonarqubeEdition","sonarqubeVersion","hideLoggedInInfo","sortByType","injectRelational","source","baseField","lookupField","newFields","baseValue","lookupValue","candidate","charAt","reverseLocations","parseIssueFromResponse","parsedFlows","flow","textRange","componentName","startLine","startOffset","splitFlows","comments","comment","commentWithAuthor","injectCommentsRelational","prepareClosed","endLine","endOffset","ensureTextRange","ISSUETYPE_METRIC_KEYS_MAP","code_smells","newMetric","new_code_smells","sqale_rating","newRating","new_maintainability_rating","ratingName","iconClass","vulnerabilities","new_vulnerabilities","security_rating","new_security_rating","bugs","new_bugs","reliability_rating","new_reliability_rating","security_hotspots","new_security_hotspots","security_review_rating","new_security_review_rating","BugIcon","CodeSmellIcon","handleWindowClick","contains","Actions","setAppState","SetAppState","setAdminPages","adminPages","SetAdminPages","RequireAuthorization","authenticationError","authorizationError","settings","SecurityStandard","PROJECTS_DEFAULT_FILTER","PROJECTS_FAVORITE","PROJECTS_ALL","SORTING_METRICS","SORTING_LEAK_METRICS","class","SORTING_SWITCH","analysis_date","reliability","security","security_review","maintainability","coverage","duplications","new_reliability","new_security","new_security_review","new_maintainability","new_coverage","new_duplications","new_lines","VIEWS","VISUALIZATIONS","METRICS","alert_status","security_hotspots_reviewed","duplicated_lines_density","ncloc","ncloc_language_distribution","LEAK_METRICS","new_security_hotspots_reviewed","new_duplicated_lines_density","METRICS_BY_VISUALIZATION","risk","sqale_index","reliability_remediation_effort","security_remediation_effort","complexity","uncovered_lines","duplicated_blocks","FACETS","LEAK_FACETS","REVERSED_FACETS","localizeSorting","parseSorting","desc","sortValue","sortDesc","fetchProjects","isFavorite","pageIndex","defaultData","propertyToMetricMap","asc","convertToSorting","convertToQueryData","defineFacets","all","fetchProjectMeasures","getFacetsMap","componentMeasures","total","projectKeys","visualization","defineMetrics","gate","metricToPropertyMap","mapFacetValues","ms","years","months","periods","lastId","COMPONENT_URL","getMeasures","getMeasuresWithMetrics","getMeasuresWithPeriod","getMeasuresWithPeriodAndMetrics","getMeasuresForProjects","TaskTypes","TaskStatuses","EditionKey","getAnalysisStatus","getActivity","getStatus","getTask","task","cancelTask","cancelAllTasks","getTasksForComponent","getTypes","taskTypes","getWorkers","setWorkerCount","getIndexationStatus","dismissAnalysisWarning","receiveCurrentUser","ReceiveCurrentUser","setCurrentUserSettingAction","SetCurrentUserSetting","SetHomePageAction","setHomePageAction","setCurrentUserSetting","oldSetting","usersByLogin","userLogins","findIndex","IssueType","IssueScope","WorkspaceContext","Permissions","EDITIONS","homeUrl","downloadProperty","developer","enterprise","datacenter","getEdition","editionKey","getAllEditionsAbove","editions","currentEditionIdx","getEditionUrl","getEditionDownloadUrl","lastUpgrade","downloadUrl","getEditionDownloadFilename","MessagesContainer","handleClose","Message","CloseButton","appearAnim","messages","cancelChange","CancelChange","ChangeValue","failValidation","FailValidation","passValidation","PassValidation","startLoading","StartLoading","StopLoading","getChangedValue","changedValues","getValidationMessage","validationMessages","isLoading","receiveValues","updateKeys","settingsByKey","getAllMetrics","prev","concat","PageContext","PageUnavailableDueToIndexation","reload","pageContext","messageKey","ClearIcon","thin","KeyCodes","newHistory","sonarHistory","newEntry","entry","unshift","set","stringToColor","charCodeAt","isDarkColor","rgb","getTextColor","background","dark","light","activationSeverities","active_severities","availableSince","available_since","compareToProfile","inheritance","parseAsInheritance","qprofile","searchQuery","template","is_template","shouldRequestFacet","getServerFacet","getAppFacet","serverFacet","hasRuleKey","receiveDefinitions","ReceiveDefinitions","getDefinition","getAllDefinitions","getDefinitionsForCategory","toLowerCase","getAllCategories","getDefaultCategory","categories","receiveLanguages","getLanguageByKey","getCoverageStatus","lineHits","coveredConditions","parseUrlQuery","urlQuery","getAsLevel","getAsNumericRating","getAsStringArray","getAsString","getView","getVisualization","convertToFilter","mapPropertyToMetric","pushMetricToArray","convertCoverage","convertDuplications","convertSize","convertIssuesRating","convertArrayMetric","visualizationParams","hasFilterParams","hasVisualizationParams","num","conditionsArray","convertFunction","Array","isArray","EditIcon","EDGE_MARGIN","ScreenPositionFixer","throttledPosition","reset","clientHeight","clientWidth","Escape","registerBranchStatusAction","RegisterBranchStatus","branchLikeKey","byComponent","receiveMetrics","byKey","extractStatusConditionsFromProjectStatus","actual","actualValue","errorThreshold","op","comparator","periodIndex","extractStatusConditionsFromApplicationStatusChildProject","context","DeleteIcon","stroke","cx","cy","ORDER","Developper","SubProject","sortQualifiers","isValidLicense","showLicense"],"mappings":"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C,QAIGE,EAA8BD,EAAuBv5B,OAChEqwB,GAAKA,IAAM,IAAQ+I,gBACnB1gC,Q,iCCjEF,IAAY+gC,EAiIL,SAASC,EAAY39B,GAC1B,OAAQ8N,OAAOlD,OAAO8yB,GAAwBh9B,SAASV,GArJzD,oEAmBA,SAAY09B,GACV,8BACA,0CACA,oCACA,cACA,gCACA,kCACA,sCACA,oBACA,4BACA,8CACA,gCACA,0CACA,gDACA,0BACA,gDACA,oDACA,4CACA,sCACA,sBACA,4CACA,sCACA,4BACA,wCACA,sCACA,sCACA,sDACA,wCACA,sFACA,gDACA,gDACA,oCACA,8DACA,gCACA,8CACA,gBACA,4CACA,sEACA,wBACA,oCACA,oCACA,oCACA,gFACA,4EACA,wEACA,kEACA,gFACA,sCACA,gCACA,gCACA,gBACA,kCACA,gEACA,sCACA,sCACA,gBACA,0BACA,4DACA,kDACA,4CACA,sBACA,oCACA,oDACA,8BACA,oDACA,8CACA,gDACA,8CACA,8DACA,4CACA,wCACA,wBACA,0CACA,0DACA,8CACA,8CACA,kDACA,0EACA,gDACA,kEACA,4CACA,oEACA,0DACA,8CACA,0CACA,sDACA,4CACA,kCACA,4CACA,4BACA,sBACA,0BACA,gEACA,oDACA,8CACA,sCACA,8CACA,8CACA,0CACA,wDACA,kEACA,oCACA,wCACA,0DACA,oCACA,kDACA,4DACA,kDACA,gEACA,gCACA,0CACA,sCACA,4BACA,8BACA,0BACA,4CACA,wBACA,4BACA,4CACA,gCACA,8CACA,gBACA,8CACA,oCACA,0BACA,oCACA,oCA9HF,CAAYA,MAAS,M,iCCnBrB,+CA2BO,MAAM70B,EAAqB,wBAAuC,CACvEJ,eAAgB,OAChBE,kBAAmB,OACnBP,YAAa,M,6cCJA,SAASqE,EAAV,GAA4E,IAAzD,KAAEiiB,EAAO,eAAT,UAAyBkP,GAAgC,EAAlBrmB,EAAkB,0BACxF,OACE,gBAAC,IAAI,iBAAKA,GACR,wBACE5W,EAAE,8pCACF+tB,KAAMA,IAEPkP,GACC,wBACEj9B,EAAE,s2BACF+tB,KAAMkP,O,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","file":"js/app.m.e6247a1a.chunk.js","sourcesContent":["var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DeferredSpinner.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".deferred-spinner{position:relative;vertical-align:middle;width:16px;height:16px;border:2px solid #4b9fd5;border-radius:50%;animation:spin .75s linear infinite}.deferred-spinner:after,.deferred-spinner:before{left:-2px;top:-2px;display:none;position:absolute;content:\\\"\\\";width:inherit;height:inherit;border:inherit;border-radius:inherit}.deferred-spinner,.deferred-spinner:after,.deferred-spinner:before{display:inline-block;box-sizing:border-box;border-color:#4b9fd5 transparent transparent;animation-duration:1.2s}.deferred-spinner:before{transform:rotate(120deg)}.deferred-spinner:after{transform:rotate(240deg)}.deferred-spinner-placeholder{position:relative;display:inline-block;vertical-align:middle;width:16px;height:16px;visibility:hidden}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./buttons.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".button{display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;height:24px;line-height:22px;padding:0 8px;border:1px solid #236a97;border-radius:2px;box-sizing:border-box;background:transparent;color:#236a97;font-weight:600;font-size:12px;text-decoration:none;cursor:pointer;outline:none;transition:border-color .2s ease,box-shadow .2s ease,background-color .2s ease}.button.button-active,.button:hover{background:#236a97;color:#fff}.button:active{box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.button:focus{box-shadow:0 0 0 3px rgba(35,106,151,.25)}.button-primary{background:#236a97;border-color:#236a97;color:#fff}.button-primary:hover{background:#0e516f;border-color:#0e516f}.button-primary.button-light{background:#4b9fd5;border-color:#4b9fd5;color:#fff}.button-primary.button-light:hover{background:#236a97;border-color:#236a97}.button.disabled{color:#bbb!important;border-color:#ddd!important;background:#ebebeb!important;cursor:not-allowed!important;box-shadow:none!important}.button-red{border-color:#d4333f;color:#d4333f}.button-red.active,.button-red:hover{background:#d4333f;color:#fff}.button-red:focus{box-shadow:0 0 0 3px rgba(212,51,63,.25)}.button-success{border-color:#0a0;color:#0a0}.button-success.active,.button-success:hover{background:#0a0;color:#fff}.button-success:focus{box-shadow:0 0 0 3px rgba(0,170,0,.25)}.button-link{display:inline-flex;height:auto;line-height:1;margin:0;padding:0;border-radius:0;background:transparent;color:#236a97;border:none;border-bottom:1px solid #cae3f2;font-weight:400;font-size:inherit;transition:border-color .2s ease,box-shadow .2s ease,color .2s ease,border-bottom .2s ease}.dropdown .button-link{border-bottom:none}.button-link:hover{background:transparent;color:#4b9fd5}.button-link:active,.button-link:focus{box-shadow:none;outline:1px dotted #4b9fd5}.button-link.disabled{color:#666;background:transparent!important;cursor:default}.button-small{height:20px;line-height:18px;padding:0 6px;font-size:11px}.button-tiny{height:16px;line-height:16px;padding:0 4px}.button-large{height:32px;padding:0 16px;font-size:14px}.button-huge{flex-direction:column;padding:16px 8px;width:180px;height:180px;background-color:#fff;border:1px solid #fff;border-radius:3px;transition:all .2s ease;box-shadow:0 1px 1px 1px #e6e6e6}.button-huge:active,.button-huge:focus,.button-huge:hover{background-color:#fff;color:#236a97;box-shadow:0 6px 12px rgba(0,0,0,.175);transform:translateY(-2px)}.button-group{display:inline-block;vertical-align:middle;font-size:0;white-space:nowrap}.button-group>.button,.button-group>button{position:relative;z-index:2;display:inline-block;vertical-align:middle;margin:0;cursor:pointer}.button-group>.button.active:not(.disabled),.button-group>.button:active:not(.disabled),.button-group>.button:focus:not(.disabled),.button-group>.button:hover:not(.disabled){z-index:3}.button-group>.button.disabled{z-index:1}.button-group>.button:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.button-group>.button:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.button-group>.button+.button{margin-left:-1px}.button-group>a:not(.button){vertical-align:middle;margin:0 8px;font-size:12px}.button-icon{display:inline-flex;justify-content:center;align-items:center;vertical-align:middle;width:24px;height:24px;padding:0;border:none;color:inherit}.button-icon.button-small{width:20px;height:20px;padding:0}.button-icon.button-small svg{margin-top:0}.button-icon.button-tiny{width:16px;height:16px;padding:0}.button-icon.button-tiny svg{margin-top:0}.button-icon:focus,.button-icon:hover{background-color:currentColor}.button-icon:not(.disabled):focus svg,.button-icon:not(.disabled):hover svg{color:#fff}.button.button-icon.disabled{background:transparent!important}.button-list{display:inline-flex;justify-content:space-between;height:auto;border:1px solid #e6e6e6;padding:8px;margin:4px;color:#666;font-weight:400}.button-list:hover{background-color:#fff;border-color:#4b9fd5;color:#236a97}.no-select{-webkit-user-select:none!important;-ms-user-select:none!important;user-select:none!important}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Tooltip.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".tooltip{position:absolute;z-index:8000;display:block;height:auto;box-sizing:border-box;font-size:13px;font-weight:300;line-height:1.5;animation:fadeIn .3s forwards}.tooltip.top{padding:5px 0;margin-top:-3px}.tooltip.right{padding:0 5px;margin-left:3px}.tooltip.bottom{padding:5px 0;margin-top:3px}.tooltip.left{padding:0 5px;margin-left:-3px}.tooltip-inner{max-width:300px;text-align:left;text-decoration:none;border-radius:4px;overflow:hidden;word-break:break-word;padding:12px 17px;color:#fff;background-color:#475760;letter-spacing:.04em}.tooltip-inner .alert{margin-bottom:5px;border-radius:4px}.tooltip-inner a{border-bottom-color:#8da6b3;color:#a5d0ea}.tooltip-inner hr{background-color:#5d6d75}.tooltip-arrow{position:absolute;width:0;height:0;border:solid transparent}.tooltip.top .tooltip-arrow{bottom:0;left:50%;border-width:5px 5px 0;transform:translateX(-5px);border-top-color:#475760}.tooltip.right .tooltip-arrow{top:50%;left:0;transform:translateY(-5px);border-width:5px 5px 5px 0;border-right-color:#475760}.tooltip.left .tooltip-arrow{top:50%;right:0;transform:translateY(-5px);border-width:5px 0 5px 5px;border-left-color:#475760}.tooltip.bottom .tooltip-arrow{top:0;left:50%;transform:translateX(-5px);border-width:0 5px 5px;border-bottom-color:#475760}.tooltip button[disabled]{pointer-events:none}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Modal.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".modal,.ReactModal__Content{position:fixed;z-index:6001;top:0;left:50%;margin-left:-270px;width:540px;background-color:#fff;opacity:0;transition:all .2s ease;border-radius:3px}.modal:focus,.ReactModal__Content:focus{outline:none}.modal.in,.ReactModal__Content--after-open{top:15%;opacity:1}.modal-small{width:450px;margin-left:-225px}.modal-medium{width:830px;margin-left:-415px}.modal-large{width:calc(100% - 40px);max-width:1280px;min-width:1040px;margin-left:0;transform:translateX(-50%)}.modal-overlay,.ReactModal__Overlay{position:fixed;z-index:6000;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.7);opacity:0;transition:all .2s ease}.modal-overlay.in,.ReactModal__Overlay--after-open{opacity:1}.modal-no-backdrop{background-color:transparent}.modal-open,.ReactModal__Body--open{overflow:hidden;margin-right:var(--sbw)}.modal-head{padding:32px 32px 0}.modal-head h1,.modal-head h2{margin:0;font-size:16px;font-weight:700;line-height:normal;overflow-wrap:break-word}.modal-body{padding:20px 32px}.modal-container{max-height:60vh;box-sizing:border-box;overflow-y:auto;border-top:1px solid #e6e6e6;margin-top:20px;padding-right:32px}.modal-container>:last-child{margin-bottom:20px}.modal-field,.modal-validation-field{clear:both;display:block;padding:0;margin-bottom:16px}.modal-field label,.modal-validation-field label{display:block;font-weight:700;padding-bottom:4px}.modal-field .Select,.modal-field a.icon-checkbox,.modal-field input,.modal-field select,.modal-field textarea{margin-right:5px}.modal-field a.icon-checkbox{height:24px}.modal-field input[type=checkbox],.modal-field input[type=radio]{margin-top:5px;margin-bottom:4px}.modal-field>.icon-checkbox{padding-top:6px;padding-right:8px}.modal-field .Select,.modal-field input[type=email],.modal-field input[type=password],.modal-field input[type=text],.modal-field select,.modal-field textarea{width:100%}.modal-validation-field .Select,.modal-validation-field input,.modal-validation-field textarea{margin-right:8px;margin-bottom:2px;width:calc(100% - 24px)}.modal-field textarea,.modal-validation-field textarea{max-width:100%;min-width:100%;max-height:50vh;min-height:24px}.modal-validation-field .Select:not(.is-invalid),.modal-validation-field input:not(.is-invalid){margin-bottom:18px}.modal-field-description{line-height:1.4;color:#666;font-size:12px;overflow:hidden;text-overflow:ellipsis;margin-top:2px}.modal-foot{padding:20px 32px;border-top:1px solid #e6e6e6;background-color:#f3f3f3;border-radius:3px;text-align:right}.modal-foot .button,.modal-foot button,.modal-foot input[type=button],.modal-foot input[type=submit]{margin-left:8px}.modal-foot .button:first-of-type,.modal-foot button:first-of-type,.modal-foot input[type=button]:first-of-type,.modal-foot input[type=submit]:first-of-type{margin-left:0}.modal-foot-clear{border-top:0;background-color:transparent}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".workspace-nav{position:fixed;z-index:451;bottom:0;right:0;height:28px}.workspace-nav-list{float:right}.workspace-nav-item{position:relative;display:inline-flex;align-items:center;margin-right:8px}.workspace-nav-item-link{display:inline-flex;align-items:center;height:28px;padding:0 28px 0 8px;border:none;background-color:#404040;color:#fff;font-size:12px}.workspace-nav-item-link:focus,.workspace-nav-item-link:hover{color:#fff;opacity:.9}.workspace-nav-item-close{position:absolute;right:4px;top:4px}.workspace-viewer{position:fixed;z-index:450;bottom:0;left:0;right:0;box-sizing:border-box;background-color:#fff;box-shadow:0 -6px 12px rgba(0,0,0,.175)}.workspace-viewer-header{position:relative;height:30px;padding:3px 10px;box-sizing:border-box;background-color:#404040;color:#fff;font-weight:300}.workspace-viewer-name{float:left;line-height:24px;color:#fff;font-weight:400}.workspace-viewer-name i{margin-top:3px}.workspace-viewer-resize{position:absolute;top:3px;left:50%;width:30px;height:5px;margin-left:-15px;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iNSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEuNDE0Ij48cGF0aCBmaWxsPSIjNzc3IiBmaWxsLW9wYWNpdHk9Ii41IiBkPSJNMCAwaDJ2Mkgwek00IDBoMnYySDR6TTggMGgydjJIOHpNMTIgMGgydjJoLTJ6TTE2IDBoMnYyaC0yek0yMCAwaDJ2MmgtMnpNMjQgMGgydjJoLTJ6TTI4IDBoMnYyaC0yek0wIDNoMnYySDB6TTQgM2gydjJINHpNOCAzaDJ2Mkg4ek0xMiAzaDJ2MmgtMnpNMTYgM2gydjJoLTJ6TTIwIDNoMnYyaC0yek0yNCAzaDJ2MmgtMnpNMjggM2gydjJoLTJ6Ii8+PHBhdGggZmlsbD0iIzc3NyIgZmlsbC1vcGFjaXR5PSIuNSIgZD0iTTAgMGgydjJIMHpNNCAwaDJ2Mkg0ek04IDBoMnYySDh6TTEyIDBoMnYyaC0yek0xNiAwaDJ2MmgtMnpNMjAgMGgydjJoLTJ6TTI0IDBoMnYyaC0yek0yOCAwaDJ2MmgtMnoiLz48L3N2Zz4=);cursor:ns-resize}.workspace-viewer-actions{float:right}.workspace-viewer-actions a{color:inherit}.workspace-header-icon:focus path,.workspace-header-icon:hover path{color:#404040}.workspace-viewer-container{height:calc(40vh - 30px);min-height:100px;max-height:calc(95vh - 30px);padding:5px 10px;overflow-y:scroll;overflow-x:auto;box-sizing:border-box}.with-workspace .source-viewer{padding-bottom:40vh}.with-workspace .workspace-viewer .source-viewer{padding-bottom:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./A11ySkipLinks.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".a11y-skip-link{width:0;height:0;padding:8px;position:absolute;left:-9999px;top:-9999px;border:0;font-size:1rem;text-align:center;z-index:999}.a11y-skip-link:focus{width:auto;height:auto;left:6px;top:6px;color:#fff;background-color:#262626;text-decoration:underline}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./IndexationNotification.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".indexation-notification-wrapper{height:34px}.indexation-notification-banner{position:fixed;width:100%;z-index:60;margin-bottom:0!important}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./NavBar.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".navbar,[class*=\\\" navbar-\\\"],[class^=navbar-]{box-sizing:border-box}.navbar-inner{position:fixed;left:0;right:0}.navbar-inner>div{position:relative;min-width:1080px;padding-left:20px;padding-right:20px}.navbar-limited{max-width:1320px;margin-left:auto;margin-right:auto}.ReactModal__Body--open .navbar-inner{padding-right:var(--sbw)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./popups.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".popup{position:absolute;z-index:5000;margin-top:-16px;margin-left:8px;padding:8px;border:1px solid #e6e6e6;border-radius:3px;box-sizing:border-box;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175);cursor:default}.popup.no-padding{padding:0}.popup-arrow,.popup-arrow:after{position:absolute;display:block;width:0;height:0;border:6px solid transparent}.popup-arrow{top:15px;left:-6px;border-left-width:0;border-right-color:#e6e6e6}.popup-arrow:after{content:\\\" \\\";left:1px;bottom:-6px;border-left-width:0;border-right-color:#fff}.popup.is-bottom{top:100%;left:0;margin:0 0 0 50%;transform:translate(-50%,6px)}.popup.is-bottom .popup-arrow{top:-6px;left:calc(50% - 6px);border-left-width:6px;border-top-width:0;border-right-color:transparent;border-bottom-color:#e6e6e6}.popup.is-bottom .popup-arrow.is-left{left:8px}.popup.is-bottom .popup-arrow:after{left:-6px;bottom:-7px;border-left-width:6px;border-top-width:0;border-right-color:transparent;border-bottom-color:#fff}.popup.is-bottom-right{top:100%;right:0;margin:0;transform:translateY(6px)}.popup.is-bottom-right .popup-arrow{top:-6px;left:auto;right:8px;border-left-width:6px;border-top-width:0;border-right-color:transparent;border-bottom-color:#e6e6e6}.popup.is-bottom-right .popup-arrow:after{left:-6px;bottom:-7px;border-left-width:6px;border-top-width:0;border-right-color:transparent;border-bottom-color:#fff}.popup.is-bottom-left{top:100%;left:0;margin:0;transform:translate(-8px,6px)}.popup.is-bottom-left .popup-arrow{top:-6px;right:auto;left:8px;border-left-width:6px;border-top-width:0;border-right-color:transparent;border-bottom-color:#e6e6e6}.popup.is-bottom-left .popup-arrow:after{left:-6px;bottom:-7px;border-left-width:6px;border-top-width:0;border-right-color:transparent;border-bottom-color:#fff}.popup.is-left-top{top:-4px;right:100%;margin:0;transform:translateX(-6px)}.popup.is-left-top .popup-arrow{right:-6px;left:auto;top:8px;border-left-color:#e6e6e6}.popup.is-left-top .popup-arrow,.popup.is-left-top .popup-arrow:after{border-right-width:0;border-left-width:6px;border-right-color:transparent}.popup.is-left-top .popup-arrow:after{top:-6px;left:-7px;border-left-color:#fff}.popup.is-right-top{top:-4px;left:100%;margin:0;transform:translateX(6px)}.popup.is-right-top .popup-arrow{left:-6px;right:auto;top:8px;border-right-color:#e6e6e6}.popup.is-right-top .popup-arrow,.popup.is-right-top .popup-arrow:after{border-left-width:0;border-right-width:6px;border-left-color:transparent}.popup.is-right-top .popup-arrow:after{top:-6px;right:-7px;border-right-color:#fff}.popup.is-right-bottom{bottom:4px;left:100%;margin:0;transform:translateX(6px)}.popup.is-right-bottom .popup-arrow{left:-6px;right:auto;top:calc(100% - 15px);border-left-width:0;border-right-width:6px;border-right-color:#e6e6e6;border-left-color:transparent}.popup.is-right-bottom .popup-arrow:after{top:-6px;right:-7px;border-left-width:0;border-right-width:6px;border-right-color:#fff;border-left-color:transparent}.popup.is-top-left{bottom:calc(100% + 8px);left:0;margin:0;transform:translateX(-8px)}.popup.is-top-left .popup-arrow{bottom:-6px;top:auto;left:8px;border-color:#e6e6e6 transparent transparent;border-width:6px 6px 0}.popup.is-top-left .popup-arrow:after{left:-6px;top:-7px;border-width:6px 6px 0;border-color:#fff transparent transparent}.popup:not(.no-padding)>.menu,.popup:not(.no-padding)>.multi-select{margin:-8px}.popup-portal .popup.is-bottom{top:unset;left:unset;transform:unset;margin:0}.popup-portal .popup.is-bottom-left,.popup-portal .popup.is-bottom-right,.popup-portal .popup.is-left-top,.popup-portal .popup.is-right-bottom,.popup-portal .popup.is-right-top,.popup-portal .popup.is-top-left{top:unset;right:unset;bottom:unset;left:unset}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Dropdown.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".dropdown{position:relative;display:inline-block;vertical-align:middle}.dropdown-bottom-hint{line-height:16px;margin-bottom:-5px;padding:5px 10px;border-top:1px solid #e6e6e6;background-color:#f3f3f3;color:#666;font-size:11px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./SearchBox.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".search-box{position:relative;display:inline-block;vertical-align:middle;font-size:0;white-space:nowrap}.search-box,.search-box-input{width:100%;max-width:300px}.search-box-input{padding-left:24px!important;padding-right:24px!important;font-size:13px}.search-box-input::-webkit-search-cancel-button,.search-box-input::-webkit-search-decoration,.search-box-input::-webkit-search-results-button,.search-box-input::-webkit-search-results-decoration{-webkit-appearance:none;display:none}.search-box-input::-ms-clear,.search-box-input::-ms-reveal{display:none;width:0;height:0}.search-box-note{position:absolute;top:1px;left:40px;right:24px;line-height:24px;color:#666;font-size:12px;text-align:right;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;pointer-events:none}.search-box-input:focus~.search-box-magnifier{color:#4b9fd5}.search-box-magnifier{position:absolute;top:4px;left:4px;color:#999;transition:color .3s ease}.search-box>.deferred-spinner{position:absolute;top:4px;left:5px}.search-box-clear{position:absolute;top:4px;right:4px}.search-box-input-note{position:absolute;top:100%;left:0;line-height:1;color:#666;font-size:12px;white-space:nowrap}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Search.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".navbar-search{position:relative;padding:8px 0}.navbar-search .search-box,.navbar-search .search-box-input{width:26vw;max-width:310px;min-width:260px;height:32px}.navbar-search .search-box-input{border-color:#fff}.navbar-search .search-box-note{line-height:30px}.navbar-search .search-box-clear,.navbar-search .search-box-magnifier{top:8px}.navbar-search-input{vertical-align:middle;width:310px;margin-top:3px;margin-bottom:3px;padding-left:26px!important}.navbar-search-input-hint{position:absolute;top:1px;right:27px;line-height:24px;font-size:12px;color:#666}.navbar-search-icon{position:relative;z-index:3;vertical-align:middle;width:16px;margin-left:4px;margin-right:-20px;background-color:#fff;color:#666}.navbar-search-icon:before{font-size:14px}.navbar-search-item-link{display:flex!important}.navbar-search-item-match{flex-grow:5;overflow:hidden;text-overflow:ellipsis}.navbar-search-item-right{flex-grow:1;padding-left:10px;text-align:right}.navbar-search-item-icons{position:relative;flex-shrink:0;width:16px;height:16px}.navbar-search-item-icons>*{position:absolute;z-index:5;top:0;left:0}.navbar-search-item-icons>.icon-clock,.navbar-search-item-icons>.icon-outline{z-index:6;top:-4px;left:-5px}.navbar-search-no-results{margin-top:4px;padding:5px 10px}.global-navbar-search-dropdown{top:100%!important;max-height:80vh;width:440px;padding:0!important;overflow-y:auto;overflow-x:hidden}.global-navbar-search-dropdown .dropdown-bottom-hint{margin-bottom:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./GlobalNav.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".navbar-global,.navbar-global .navbar-inner{background-color:#262626;z-index:421}.navbar-global .navbar-limited{display:flex}.navbar-brand{display:flex;justify-content:center;align-items:center;height:48px;margin-left:-8px;padding-top:4px;padding-left:8px;padding-right:8px;border-bottom:4px solid transparent}.navbar-login{margin-right:-10px;white-space:nowrap}.navbar-avatar{margin-right:-8px;padding:8px!important;border:none!important}.navbar-icon{display:inline-block;height:48px;padding:16px 12px!important;border-bottom:none!important;color:#fff!important}.navbar-plus{margin-right:-8px;position:relative;z-index:3}.global-navbar-menu{display:flex;align-items:center;height:48px}.global-navbar-menu>li>a{display:block;height:48px;padding:8px 10px;line-height:32px;border-bottom:4px solid transparent;box-sizing:border-box;color:#ccc;font-size:13px;letter-spacing:.05em;white-space:nowrap}.global-navbar-menu>.dropdown.open>a,.global-navbar-menu>li>a.active,.global-navbar-menu>li>a:focus,.global-navbar-menu>li>a:hover,.navbar-brand:focus,.navbar-brand:hover{background-color:#020202}.global-navbar-menu>li>a.active{border-bottom-color:#646464}.global-navbar-menu-right{flex:1;justify-content:flex-end;margin-left:40px}.global-navbar-menu-right .navbar-search{flex:0 1 240px;min-width:0}.global-navbar-menu-right .navbar-search .search-box,.global-navbar-menu-right .navbar-search .search-box-input{min-width:0;width:100%}@media print{.navbar-global{display:none!important}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  { indexRoute: { component: lazyLoadComponent(() => import('./components/AboutApp')) } }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    component: lazyLoadComponent(() => import('./components/Account')),\n    childRoutes: [\n      {\n        indexRoute: { component: lazyLoadComponent(() => import('./profile/Profile')) }\n      },\n      {\n        path: 'security',\n        component: lazyLoadComponent(() => import('./components/Security'))\n      },\n      {\n        path: 'projects',\n        component: lazyLoadComponent(() => import('./projects/ProjectsContainer'))\n      },\n      {\n        path: 'notifications',\n        component: lazyLoadComponent(() => import('./notifications/Notifications'))\n      }\n    ]\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./ApplicationConsoleApp')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./ApplicationSettingsApp')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./components/AuditApp')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./components/BackgroundTasksApp')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./components/CodeApp')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { RedirectFunction, RouterState } from 'react-router';\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\nimport { parseQuery, serializeQuery } from './query';\n\nfunction parseHash(hash: string): T.RawQuery {\n  const query: T.RawQuery = {};\n  const parts = hash.split('|');\n  parts.forEach(part => {\n    const tokens = part.split('=');\n    if (tokens.length === 2) {\n      query[decodeURIComponent(tokens[0])] = decodeURIComponent(tokens[1]);\n    }\n  });\n  return query;\n}\n\nconst routes = [\n  {\n    indexRoute: {\n      onEnter: (nextState: RouterState, replace: RedirectFunction) => {\n        const { hash } = window.location;\n        if (hash.length > 1) {\n          const query = parseHash(hash.substr(1));\n          const normalizedQuery = {\n            ...serializeQuery(parseQuery(query)),\n            open: query.open\n          };\n          replace({ pathname: nextState.location.pathname, query: normalizedQuery });\n        }\n      },\n      component: lazyLoadComponent(() => import('./components/App'))\n    }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { RedirectFunction, RouterState } from 'react-router';\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./components/App')) }\n  },\n  {\n    path: 'domain/:domainName',\n    onEnter(nextState: RouterState, replace: RedirectFunction) {\n      replace({\n        pathname: '/component_measures',\n        query: {\n          ...nextState.location.query,\n          metric: nextState.params.domainName\n        }\n      });\n    }\n  },\n  {\n    path: 'metric/:metricKey(/:view)',\n    onEnter(nextState: RouterState, replace: RedirectFunction) {\n      if (nextState.params.view === 'history') {\n        replace({\n          pathname: '/project/activity',\n          query: {\n            id: nextState.location.query.id,\n            graph: 'custom',\n            custom_metrics: nextState.params.metricKey\n          }\n        });\n      } else {\n        replace({\n          pathname: '/component_measures',\n          query: {\n            ...nextState.location.query,\n            metric: nextState.params.metricKey,\n            view: nextState.params.view\n          }\n        });\n      }\n    }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst App = lazyLoadComponent(() => import(/* webpackChunkName: \"docs\" */ './components/App'));\n\nconst routes = [{ indexRoute: { component: App } }, { path: '**', indexRoute: { component: App } }];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { searchIssues } from '../../../api/issues';\nimport { withRouter } from '../../../components/hoc/withRouter';\nimport { lazyLoadComponent } from '../../../components/lazyLoadComponent';\nimport { parseIssueFromResponse } from '../../../helpers/issues';\nimport { fetchBranchStatus } from '../../../store/rootActions';\nimport { getCurrentUser, Store } from '../../../store/rootReducer';\nimport { FetchIssuesPromise } from '../../../types/issues';\n\nconst IssuesAppContainer = lazyLoadComponent(() => import('./App'), 'IssuesAppContainer');\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state),\n  fetchIssues\n});\n\nconst fetchIssues = (query: T.RawQuery) => {\n  return searchIssues({\n    ...query,\n    additionalFields: '_all',\n    timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone\n  }).then(response => {\n    const parsedIssues = response.issues.map(issue =>\n      parseIssueFromResponse(issue, response.components, response.users, response.rules)\n    );\n    return { ...response, issues: parsedIssues } as FetchIssuesPromise;\n  });\n};\n\nconst mapDispatchToProps = { fetchBranchStatus };\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(IssuesAppContainer));\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IndexRoute } from 'react-router';\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nexport const maintenanceRoutes = (\n  <IndexRoute component={lazyLoadComponent(() => import('./components/MaintenanceAppContainer'))} />\n);\n\nexport const setupRoutes = (\n  <IndexRoute component={lazyLoadComponent(() => import('./components/SetupAppContainer'))} />\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./AppContainer')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nexport const globalPermissionsRoutes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./global/components/App')) }\n  }\n];\n\nexport const projectPermissionsRoutes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./project/components/AppContainer')) }\n  }\n];\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: {\n      component: lazyLoadComponent(() => import('./components/ProjectActivityAppContainer'))\n    }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./components/AppContainer')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./ProjectQualityGateApp')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: {\n      component: lazyLoadComponent(() => import('./ProjectQualityProfilesApp'))\n    }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { RedirectFunction, RouterState } from 'react-router';\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\nimport { save } from '../../helpers/storage';\nimport { PROJECTS_ALL, PROJECTS_DEFAULT_FILTER } from './utils';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./components/DefaultPageSelector')) }\n  },\n  {\n    path: 'all',\n    onEnter(_: RouterState, replace: RedirectFunction) {\n      save(PROJECTS_DEFAULT_FILTER, PROJECTS_ALL);\n      replace('/projects');\n    }\n  },\n  {\n    path: 'favorite',\n    component: lazyLoadComponent(() => import('./components/FavoriteProjectsContainer'))\n  },\n  {\n    path: 'create',\n    component: lazyLoadComponent(() => import('../create/project/CreateProjectPage'))\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst App = lazyLoadComponent(() => import('./components/App'));\n\nconst routes = [{ indexRoute: { component: App } }, { path: 'show/:id', component: App }];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    component: lazyLoadComponent(() => import('./components/AppContainer')),\n    indexRoute: { component: lazyLoadComponent(() => import('./home/HomeContainer')) },\n    childRoutes: [\n      {\n        component: lazyLoadComponent(() => import('./components/ProfileContainer')),\n        childRoutes: [\n          {\n            path: 'show',\n            component: lazyLoadComponent(() => import('./details/ProfileDetails'))\n          },\n          {\n            path: 'changelog',\n            component: lazyLoadComponent(() => import('./changelog/ChangelogContainer'))\n          },\n          {\n            path: 'compare',\n            component: lazyLoadComponent(() => import('./compare/ComparisonContainer'))\n          }\n        ]\n      }\n    ]\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    path: 'new',\n    component: lazyLoadComponent(() => import('./components/LoginContainer'))\n  },\n  {\n    path: 'logout',\n    component: lazyLoadComponent(() => import('./components/Logout'))\n  },\n  {\n    path: 'unauthorized',\n    component: lazyLoadComponent(() => import('./components/Unauthorized'))\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./components/SettingsApp')) }\n  },\n  {\n    path: 'encryption',\n    component: lazyLoadComponent(() => import('./encryption/EncryptionApp'))\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./components/TutorialsApp')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./UsersApp')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./components/WebApiApp')) }\n  },\n  {\n    path: '**',\n    component: lazyLoadComponent(() => import('./components/WebApiApp'))\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoadComponent(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../../components/controls/buttons';\nimport Modal from '../../components/controls/Modal';\nimport { translate } from '../../helpers/l10n';\n\ntype Shortcuts = Array<{\n  category: string;\n  shortcuts: Array<{\n    keys: string[];\n    action: string;\n  }>;\n}>;\n\nconst CATEGORIES: { left: Shortcuts; right: Shortcuts } = {\n  left: [\n    {\n      category: 'global',\n      shortcuts: [\n        { keys: ['s'], action: 'search' },\n        { keys: ['?'], action: 'open_shortcuts' }\n      ]\n    },\n    {\n      category: 'issues_page',\n      shortcuts: [\n        { keys: ['', ''], action: 'navigate' },\n        { keys: [''], action: 'source_code' },\n        { keys: [''], action: 'back' },\n        { keys: ['alt', '+', '', ''], action: 'navigate_locations' },\n        { keys: ['alt', '+', '', ''], action: 'switch_flows' },\n        { keys: ['f'], action: 'transition' },\n        { keys: ['a'], action: 'assign' },\n        { keys: ['m'], action: 'assign_to_me' },\n        { keys: ['i'], action: 'severity' },\n        { keys: ['c'], action: 'comment' },\n        { keys: ['ctrl', '+', 'enter'], action: 'submit_comment' },\n        { keys: ['t'], action: 'tags' }\n      ]\n    }\n  ],\n  right: [\n    {\n      category: 'code_page',\n      shortcuts: [\n        { keys: ['', ''], action: 'select_files' },\n        { keys: [''], action: 'open_file' },\n        { keys: [''], action: 'back' }\n      ]\n    },\n    {\n      category: 'measures_page',\n      shortcuts: [\n        { keys: ['', ''], action: 'select_files' },\n        { keys: [''], action: 'open_file' },\n        { keys: [''], action: 'back' }\n      ]\n    },\n    {\n      category: 'rules_page',\n      shortcuts: [\n        { keys: ['', ''], action: 'navigate' },\n        { keys: [''], action: 'rule_details' },\n        { keys: [''], action: 'back' }\n      ]\n    }\n  ]\n};\n\nfunction renderShortcuts(list: Shortcuts) {\n  return (\n    <>\n      {list.map(({ category, shortcuts }) => (\n        <div key={category} className=\"spacer-bottom\">\n          <h3 className=\"null-spacer-top\">{translate('keyboard_shortcuts', category, 'title')}</h3>\n          <table>\n            <thead>\n              <tr>\n                <th>{translate('keyboard_shortcuts.shortcut')}</th>\n                <th>{translate('keyboard_shortcuts.action')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {shortcuts.map(({ action, keys }) => (\n                <tr key={action}>\n                  <td>\n                    {keys.map(k =>\n                      k === '+' ? (\n                        <span key={k} className=\"little-spacer-right\">\n                          {k}\n                        </span>\n                      ) : (\n                        <code key={k} className=\"little-spacer-right\">\n                          {k}\n                        </code>\n                      )\n                    )}\n                  </td>\n                  <td>{translate('keyboard_shortcuts', category, action)}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      ))}\n    </>\n  );\n}\n\nexport default function KeyboardShortcutsModal() {\n  const [display, setDisplay] = React.useState(false);\n\n  React.useEffect(() => {\n    const handleKeyPress = (event: KeyboardEvent) => {\n      const { tagName } = event.target as HTMLElement;\n\n      if (['INPUT', 'SELECT', 'TEXTAREA'].includes(tagName)) {\n        return; // Ignore keys when typed in an input\n      }\n\n      if (event.key === '?') {\n        setDisplay(d => !d);\n      }\n    };\n\n    window.addEventListener('keypress', handleKeyPress);\n\n    return () => {\n      window.removeEventListener('keypress', handleKeyPress);\n    };\n  }, [setDisplay]);\n\n  if (!display) {\n    return null;\n  }\n\n  const title = translate('keyboard_shortcuts.title');\n\n  return (\n    <Modal contentLabel={title} onRequestClose={() => setDisplay(false)} size=\"medium\">\n      <div className=\"modal-head\">\n        <h2>{title}</h2>\n      </div>\n\n      <div className=\"modal-body modal-container markdown display-flex-start shortcuts-modal\">\n        <div className=\"flex-1\">{renderShortcuts(CATEGORIES.left)}</div>\n        <div className=\"flex-1 huge-spacer-left\">{renderShortcuts(CATEGORIES.right)}</div>\n      </div>\n\n      <div className=\"modal-foot\">\n        <Button onClick={() => setDisplay(false)}>{translate('close')}</Button>\n      </div>\n    </Modal>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\nimport { fetchLanguages } from '../../store/rootActions';\nimport { getGlobalSettingValue, Store } from '../../store/rootReducer';\nimport KeyboardShortcutsModal from './KeyboardShortcutsModal';\n\nconst PageTracker = lazyLoadComponent(() => import('./PageTracker'));\n\ninterface Props {\n  fetchLanguages: () => void;\n  enableGravatar: boolean;\n  gravatarServerUrl: string;\n}\n\nexport class App extends React.PureComponent<Props> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.fetchLanguages();\n    this.setScrollbarWidth();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  setScrollbarWidth = () => {\n    // See https://stackoverflow.com/questions/13382516/getting-scroll-bar-width-using-javascript\n    const outer = document.createElement('div');\n    outer.style.visibility = 'hidden';\n    outer.style.width = '100px';\n    outer.style.setProperty('msOverflowStyle', 'scrollbar');\n\n    document.body.appendChild(outer);\n\n    const widthNoScroll = outer.offsetWidth;\n    outer.style.overflow = 'scroll';\n\n    const inner = document.createElement('div');\n    inner.style.width = '100%';\n    outer.appendChild(inner);\n\n    const widthWithScroll = inner.offsetWidth;\n\n    if (outer.parentNode) {\n      outer.parentNode.removeChild(outer);\n    }\n\n    document.body.style.setProperty('--sbw', `${widthNoScroll - widthWithScroll}px`);\n  };\n\n  renderPreconnectLink = () => {\n    const parser = document.createElement('a');\n    parser.href = this.props.gravatarServerUrl;\n    if (parser.hostname !== window.location.hostname) {\n      return <link href={parser.origin} rel=\"preconnect\" />;\n    } else {\n      return null;\n    }\n  };\n\n  render() {\n    return (\n      <>\n        <PageTracker>{this.props.enableGravatar && this.renderPreconnectLink()}</PageTracker>\n        {this.props.children}\n        <KeyboardShortcutsModal />\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => {\n  const enableGravatar = getGlobalSettingValue(state, 'sonar.lf.enableGravatar');\n  const gravatarServerUrl = getGlobalSettingValue(state, 'sonar.lf.gravatarServerUrl');\n  return {\n    enableGravatar: Boolean(enableGravatar && enableGravatar.value === 'true'),\n    gravatarServerUrl: (gravatarServerUrl && gravatarServerUrl.value) || ''\n  };\n};\n\nconst mapDispatchToProps = { fetchLanguages };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\n\nexport default class WorkspacePortal extends React.PureComponent {\n  el: HTMLElement;\n\n  constructor(props: {}) {\n    super(props);\n    this.el = document.createElement('div');\n    this.el.classList.add('workspace');\n  }\n\n  componentDidMount() {\n    document.body.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    document.body.removeChild(this.el);\n  }\n\n  render() {\n    return createPortal(this.props.children, this.el);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, uniqBy } from 'lodash';\nimport * as React from 'react';\nimport { getRulesApp } from '../../api/rules';\nimport { get, save } from '../../helpers/storage';\nimport { lazyLoadComponent } from '../lazyLoadComponent';\nimport { ComponentDescriptor, RuleDescriptor, WorkspaceContext } from './context';\nimport './styles.css';\nimport WorkspacePortal from './WorkspacePortal';\n\nconst WORKSPACE = 'sonarqube-workspace';\nconst WorkspaceNav = lazyLoadComponent(() => import('./WorkspaceNav'), 'WorkspaceNav');\nconst WorkspaceRuleViewer = lazyLoadComponent(\n  () => import('./WorkspaceRuleViewer'),\n  'WorkspaceRuleViewer'\n);\nconst WorkspaceComponentViewer = lazyLoadComponent(\n  () => import('./WorkspaceComponentViewer'),\n  'WorkspaceComponentViewer'\n);\n\ninterface State {\n  components: ComponentDescriptor[];\n  externalRulesRepoNames: T.Dict<string>;\n  height: number;\n  maximized?: boolean;\n  open: { component?: string; rule?: string };\n  rules: RuleDescriptor[];\n}\n\nexport const MIN_HEIGHT = 0.05;\nexport const MAX_HEIGHT = 0.85;\nexport const INITIAL_HEIGHT = 300;\n\nexport const TYPE_KEY = '__type__';\nexport enum WorkspaceTypes {\n  Rule = 'rule',\n  Component = 'component'\n}\n\nexport default class Workspace extends React.PureComponent<{}, State> {\n  mounted = false;\n\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      externalRulesRepoNames: {},\n      height: INITIAL_HEIGHT,\n      open: {},\n      ...this.loadWorkspace()\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchRuleNames();\n  }\n\n  componentDidUpdate(_: {}, prevState: State) {\n    if (prevState.components !== this.state.components || prevState.rules !== this.state.rules) {\n      this.saveWorkspace();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchRuleNames = async () => {\n    const { repositories } = await getRulesApp();\n    const externalRulesRepoNames: T.Dict<string> = {};\n    repositories\n      .filter(({ key }) => key.startsWith('external_'))\n      .forEach(({ key, name }) => {\n        externalRulesRepoNames[key.replace('external_', '')] = name;\n      });\n    this.setState({ externalRulesRepoNames });\n  };\n\n  loadWorkspace = () => {\n    try {\n      const data: any[] = JSON.parse(get(WORKSPACE) || '');\n      const components: ComponentDescriptor[] = data.filter(\n        x => x[TYPE_KEY] === WorkspaceTypes.Component\n      );\n      const rules: RuleDescriptor[] = data.filter(x => x[TYPE_KEY] === WorkspaceTypes.Rule);\n      return { components, rules };\n    } catch {\n      // Fail silently.\n      return { components: [], rules: [] };\n    }\n  };\n\n  saveWorkspace = () => {\n    const data = [\n      // Do not save line number, next time the file is open, it should be open\n      // on the first line.\n      ...this.state.components.map(x =>\n        omit({ ...x, [TYPE_KEY]: WorkspaceTypes.Component }, 'line')\n      ),\n      ...this.state.rules.map(x => ({ ...x, [TYPE_KEY]: WorkspaceTypes.Rule }))\n    ];\n    save(WORKSPACE, JSON.stringify(data));\n  };\n\n  handleOpenComponent = (component: ComponentDescriptor) => {\n    this.setState((state: State) => ({\n      components: uniqBy([...state.components, component], c => c.key),\n      open: { component: component.key }\n    }));\n  };\n\n  handleComponentReopen = (componentKey: string) => {\n    this.setState({ open: { component: componentKey } });\n  };\n\n  handleOpenRule = (rule: RuleDescriptor) => {\n    this.setState((state: State) => ({\n      open: { rule: rule.key },\n      rules: uniqBy([...state.rules, rule], r => r.key)\n    }));\n  };\n\n  handleRuleReopen = (ruleKey: string) => {\n    this.setState({ open: { rule: ruleKey } });\n  };\n\n  handleComponentClose = (componentKey: string) => {\n    this.setState((state: State) => ({\n      components: state.components.filter(x => x.key !== componentKey),\n      open: {\n        ...state.open,\n        component: state.open.component === componentKey ? undefined : state.open.component\n      }\n    }));\n  };\n\n  handleRuleClose = (ruleKey: string) => {\n    this.setState((state: State) => ({\n      rules: state.rules.filter(x => x.key !== ruleKey),\n      open: {\n        ...state.open,\n        rule: state.open.rule === ruleKey ? undefined : state.open.rule\n      }\n    }));\n  };\n\n  handleComponentLoad = (details: { key: string; name: string; qualifier: string }) => {\n    if (this.mounted) {\n      const { key, name, qualifier } = details;\n      this.setState((state: State) => ({\n        components: state.components.map(component =>\n          component.key === key ? { ...component, name, qualifier } : component\n        )\n      }));\n    }\n  };\n\n  handleRuleLoad = (details: { key: string; name: string }) => {\n    if (this.mounted) {\n      const { key, name } = details;\n      this.setState((state: State) => ({\n        rules: state.rules.map(rule => (rule.key === key ? { ...rule, name } : rule))\n      }));\n    }\n  };\n\n  handleCollapse = () => {\n    this.setState({ open: {} });\n  };\n\n  handleMaximize = () => {\n    this.setState({ maximized: true });\n  };\n\n  handleMinimize = () => {\n    this.setState({ maximized: false });\n  };\n\n  handleResize = (deltaY: number) => {\n    const minHeight = window.innerHeight * MIN_HEIGHT;\n    const maxHeight = window.innerHeight * MAX_HEIGHT;\n    this.setState((state: State) => ({\n      height: Math.min(maxHeight, Math.max(minHeight, state.height - deltaY))\n    }));\n  };\n\n  render() {\n    const { components, externalRulesRepoNames, height, maximized, open, rules } = this.state;\n\n    const openComponent = open.component && components.find(x => x.key === open.component);\n    const openRule = open.rule && rules.find(x => x.key === open.rule);\n\n    const actualHeight = maximized ? window.innerHeight * MAX_HEIGHT : height;\n\n    return (\n      <WorkspaceContext.Provider\n        value={{\n          externalRulesRepoNames,\n          openComponent: this.handleOpenComponent,\n          openRule: this.handleOpenRule\n        }}>\n        {this.props.children}\n        <WorkspacePortal>\n          {(components.length > 0 || rules.length > 0) && (\n            <WorkspaceNav\n              components={components}\n              onComponentClose={this.handleComponentClose}\n              onComponentOpen={this.handleComponentReopen}\n              onRuleClose={this.handleRuleClose}\n              onRuleOpen={this.handleRuleReopen}\n              open={open}\n              rules={rules}\n            />\n          )}\n          {openComponent && (\n            <WorkspaceComponentViewer\n              component={openComponent}\n              height={actualHeight}\n              maximized={maximized}\n              onClose={this.handleComponentClose}\n              onCollapse={this.handleCollapse}\n              onLoad={this.handleComponentLoad}\n              onMaximize={this.handleMaximize}\n              onMinimize={this.handleMinimize}\n              onResize={this.handleResize}\n            />\n          )}\n          {openRule && (\n            <WorkspaceRuleViewer\n              height={actualHeight}\n              maximized={maximized}\n              onClose={this.handleRuleClose}\n              onCollapse={this.handleCollapse}\n              onLoad={this.handleRuleLoad}\n              onMaximize={this.handleMaximize}\n              onMinimize={this.handleMinimize}\n              onResize={this.handleResize}\n              rule={openRule}\n            />\n          )}\n        </WorkspacePortal>\n      </WorkspaceContext.Provider>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { A11yContext } from './A11yContext';\n\ninterface State {\n  links: T.A11ySkipLink[];\n}\n\nexport default class A11yProvider extends React.Component<{}, State> {\n  keys: string[] = [];\n  state: State = { links: [] };\n\n  addA11ySkipLink = (link: T.A11ySkipLink) => {\n    this.setState(prevState => {\n      const links = [...prevState.links];\n      links.push({ ...link, weight: link.weight || 0 });\n      return { links };\n    });\n  };\n\n  removeA11ySkipLink = (link: T.A11ySkipLink) => {\n    this.setState(prevState => {\n      const links = prevState.links.filter(l => l.key !== link.key);\n      return { links };\n    });\n  };\n\n  render() {\n    const links = sortBy(this.state.links, 'weight');\n    return (\n      <A11yContext.Provider\n        value={{\n          addA11ySkipLink: this.addA11ySkipLink,\n          links,\n          removeA11ySkipLink: this.removeA11ySkipLink\n        }}>\n        {this.props.children}\n      </A11yContext.Provider>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { A11yContext } from './A11yContext';\nimport './A11ySkipLinks.css';\n\nexport default function A11ySkipLinks() {\n  return (\n    <A11yContext.Consumer>\n      {({ links }) =>\n        links.map(link => (\n          <a className=\"a11y-skip-link\" href={`#a11y_target__${link.key}`} key={link.key}>\n            {link.label}\n          </a>\n        ))\n      }\n    </A11yContext.Consumer>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport suggestionsJson from 'Docs/EmbedDocsSuggestions.json';\nimport * as React from 'react';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ntype SuggestionsJson = T.Dict<T.SuggestionLink[]>;\n\ninterface State {\n  suggestions: T.SuggestionLink[];\n}\n\nexport default class SuggestionsProvider extends React.Component<{}, State> {\n  keys: string[] = [];\n  state: State = { suggestions: [] };\n\n  fetchSuggestions = () => {\n    const jsonList = suggestionsJson as SuggestionsJson;\n    let suggestions: T.SuggestionLink[] = [];\n    this.keys.forEach(key => {\n      if (jsonList[key]) {\n        suggestions = [...jsonList[key], ...suggestions];\n      }\n    });\n    if (!isSonarCloud()) {\n      suggestions = suggestions.filter(suggestion => suggestion.scope !== 'sonarcloud');\n    }\n    this.setState({ suggestions });\n  };\n\n  addSuggestions = (newKey: string) => {\n    this.keys = [...this.keys, newKey];\n    this.fetchSuggestions();\n  };\n\n  removeSuggestions = (oldKey: string) => {\n    this.keys = this.keys.filter(key => key !== oldKey);\n    this.fetchSuggestions();\n  };\n\n  render() {\n    return (\n      <SuggestionsContext.Provider\n        value={{\n          addSuggestions: this.addSuggestions,\n          removeSuggestions: this.removeSuggestions,\n          suggestions: this.state.suggestions\n        }}>\n        {this.props.children}\n      </SuggestionsContext.Provider>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getIndexationStatus } from '../../../api/ce';\nimport { get, remove, save } from '../../../helpers/storage';\nimport { IndexationStatus } from '../../../types/indexation';\n\nconst POLLING_INTERVAL_MS = 5000;\nconst LS_INDEXATION_COMPLETED_NOTIFICATION_SHOULD_BE_DISPLAYED =\n  'display_indexation_completed_notification';\n\nexport default class IndexationNotificationHelper {\n  private static interval?: NodeJS.Timeout;\n\n  static startPolling(onNewStatus: (status: IndexationStatus) => void) {\n    this.stopPolling();\n\n    // eslint-disable-next-line promise/catch-or-return\n    this.poll(onNewStatus).then(status => {\n      if (!status.isCompleted) {\n        this.interval = setInterval(() => this.poll(onNewStatus), POLLING_INTERVAL_MS);\n      }\n    });\n  }\n\n  static stopPolling() {\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n  }\n\n  static async poll(onNewStatus: (status: IndexationStatus) => void) {\n    const status = await getIndexationStatus();\n\n    onNewStatus(status);\n\n    if (status.isCompleted) {\n      this.stopPolling();\n    }\n\n    return status;\n  }\n\n  static markCompletedNotificationAsToDisplay() {\n    save(LS_INDEXATION_COMPLETED_NOTIFICATION_SHOULD_BE_DISPLAYED, true.toString());\n  }\n\n  static markCompletedNotificationAsDisplayed() {\n    remove(LS_INDEXATION_COMPLETED_NOTIFICATION_SHOULD_BE_DISPLAYED);\n  }\n\n  static shouldDisplayCompletedNotification() {\n    return JSON.parse(\n      get(LS_INDEXATION_COMPLETED_NOTIFICATION_SHOULD_BE_DISPLAYED) || false.toString()\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/* eslint-disable react/no-unused-state */\nimport * as React from 'react';\nimport { withAppState } from '../../../components/hoc/withAppState';\nimport { IndexationContextInterface, IndexationStatus } from '../../../types/indexation';\nimport { IndexationContext } from './IndexationContext';\nimport IndexationNotificationHelper from './IndexationNotificationHelper';\n\ninterface Props {\n  appState: Pick<T.AppState, 'needIssueSync'>;\n}\n\nexport class IndexationContextProvider extends React.PureComponent<\n  React.PropsWithChildren<Props>,\n  IndexationContextInterface\n> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n\n    if (this.props.appState.needIssueSync) {\n      IndexationNotificationHelper.startPolling(this.handleNewStatus);\n    } else {\n      this.setState({ status: { isCompleted: true, percentCompleted: 100, hasFailures: false } });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n\n    IndexationNotificationHelper.stopPolling();\n  }\n\n  handleNewStatus = (newIndexationStatus: IndexationStatus) => {\n    if (this.mounted) {\n      this.setState({ status: newIndexationStatus });\n    }\n  };\n\n  render() {\n    return (\n      <IndexationContext.Provider value={this.state}>\n        {this.props.children}\n      </IndexationContext.Provider>\n    );\n  }\n}\n\nexport default withAppState(IndexationContextProvider);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport interface IndexationStatus {\n  isCompleted: boolean;\n  percentCompleted: number;\n  hasFailures: boolean;\n}\n\nexport interface IndexationContextInterface {\n  status: IndexationStatus;\n}\n\nexport enum IndexationNotificationType {\n  InProgress = 'InProgress',\n  InProgressWithFailure = 'InProgressWithFailure',\n  Completed = 'Completed',\n  CompletedWithFailure = 'CompletedWithFailure'\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { Alert, AlertProps } from '../../../components/ui/Alert';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { IndexationNotificationType } from '../../../types/indexation';\nimport { TaskStatuses, TaskTypes } from '../../../types/tasks';\n\nexport interface IndexationNotificationRendererProps {\n  type: IndexationNotificationType;\n  percentCompleted: number;\n  isSystemAdmin: boolean;\n}\n\nconst NOTIFICATION_VARIANTS: { [key in IndexationNotificationType]: AlertProps['variant'] } = {\n  [IndexationNotificationType.InProgress]: 'warning',\n  [IndexationNotificationType.InProgressWithFailure]: 'error',\n  [IndexationNotificationType.Completed]: 'success',\n  [IndexationNotificationType.CompletedWithFailure]: 'error'\n};\n\nexport default function IndexationNotificationRenderer(props: IndexationNotificationRendererProps) {\n  const { type } = props;\n\n  return (\n    <div className=\"indexation-notification-wrapper\">\n      <Alert\n        className=\"indexation-notification-banner\"\n        display=\"banner\"\n        variant={NOTIFICATION_VARIANTS[type]}>\n        <div className=\"display-flex-center\">\n          {type === IndexationNotificationType.Completed && renderCompletedBanner(props)}\n          {type === IndexationNotificationType.CompletedWithFailure &&\n            renderCompletedWithFailureBanner(props)}\n          {type === IndexationNotificationType.InProgress && renderInProgressBanner(props)}\n          {type === IndexationNotificationType.InProgressWithFailure &&\n            renderInProgressWithFailureBanner(props)}\n        </div>\n      </Alert>\n    </div>\n  );\n}\n\nfunction renderCompletedBanner(_props: IndexationNotificationRendererProps) {\n  return <span className=\"spacer-right\">{translate('indexation.completed')}</span>;\n}\n\nfunction renderCompletedWithFailureBanner(props: IndexationNotificationRendererProps) {\n  const { isSystemAdmin } = props;\n\n  return (\n    <span className=\"spacer-right\">\n      <FormattedMessage\n        id=\"indexation.completed_with_error\"\n        defaultMessage={translate('indexation.completed_with_error')}\n        values={{\n          link: isSystemAdmin\n            ? renderBackgroundTasksPageLink(true, translate('indexation.completed_with_error.link'))\n            : translate('indexation.completed_with_error.link')\n        }}\n      />\n    </span>\n  );\n}\n\nfunction renderInProgressBanner(props: IndexationNotificationRendererProps) {\n  const { percentCompleted, isSystemAdmin } = props;\n\n  return (\n    <>\n      <span className=\"spacer-right\">{translate('indexation.in_progress')}</span>\n      <i className=\"spinner spacer-right\" />\n      <span className=\"spacer-right\">\n        {translateWithParameters('indexation.progression', percentCompleted)}\n      </span>\n      {isSystemAdmin && (\n        <span className=\"spacer-right\">\n          <FormattedMessage\n            id=\"indexation.admin_link\"\n            defaultMessage={translate('indexation.admin_link')}\n            values={{\n              link: renderBackgroundTasksPageLink(false, translate('background_tasks.page'))\n            }}\n          />\n        </span>\n      )}\n    </>\n  );\n}\n\nfunction renderInProgressWithFailureBanner(props: IndexationNotificationRendererProps) {\n  const { percentCompleted, isSystemAdmin } = props;\n\n  return (\n    <>\n      <span className=\"spacer-right\">{translate('indexation.in_progress')}</span>\n      <i className=\"spinner spacer-right\" />\n      <span className=\"spacer-right\">\n        <FormattedMessage\n          id=\"indexation.progression_with_error\"\n          defaultMessage={translateWithParameters(\n            'indexation.progression_with_error',\n            percentCompleted\n          )}\n          values={{\n            link: isSystemAdmin\n              ? renderBackgroundTasksPageLink(\n                  true,\n                  translate('indexation.progression_with_error.link')\n                )\n              : translate('indexation.progression_with_error.link')\n          }}\n        />\n      </span>\n    </>\n  );\n}\n\nfunction renderBackgroundTasksPageLink(hasError: boolean, text: string) {\n  return (\n    <Link\n      to={{\n        pathname: '/admin/background_tasks',\n        query: {\n          taskType: TaskTypes.IssueSync,\n          status: hasError ? TaskStatuses.Failed : undefined\n        }\n      }}>\n      {text}\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { withCurrentUser } from '../../../components/hoc/withCurrentUser';\nimport withIndexationContext, {\n  WithIndexationContextProps\n} from '../../../components/hoc/withIndexationContext';\nimport { hasGlobalPermission, isLoggedIn } from '../../../helpers/users';\nimport { IndexationNotificationType } from '../../../types/indexation';\nimport { Permissions } from '../../../types/permissions';\nimport './IndexationNotification.css';\nimport IndexationNotificationHelper from './IndexationNotificationHelper';\nimport IndexationNotificationRenderer from './IndexationNotificationRenderer';\n\ninterface Props extends WithIndexationContextProps {\n  currentUser: T.CurrentUser;\n}\n\ninterface State {\n  notificationType?: IndexationNotificationType;\n}\n\nexport class IndexationNotification extends React.PureComponent<Props, State> {\n  state: State = {};\n  isSystemAdmin = false;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.isSystemAdmin =\n      isLoggedIn(this.props.currentUser) &&\n      hasGlobalPermission(this.props.currentUser, Permissions.Admin);\n  }\n\n  componentDidMount() {\n    this.refreshNotification();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.indexationContext.status !== this.props.indexationContext.status) {\n      this.refreshNotification();\n    }\n  }\n\n  refreshNotification() {\n    const { isCompleted, hasFailures } = this.props.indexationContext.status;\n\n    if (!isCompleted) {\n      IndexationNotificationHelper.markCompletedNotificationAsToDisplay();\n      this.setState({\n        notificationType: hasFailures\n          ? IndexationNotificationType.InProgressWithFailure\n          : IndexationNotificationType.InProgress\n      });\n    } else if (hasFailures) {\n      this.setState({ notificationType: IndexationNotificationType.CompletedWithFailure });\n    } else if (IndexationNotificationHelper.shouldDisplayCompletedNotification()) {\n      this.setState({\n        notificationType: IndexationNotificationType.Completed\n      });\n      IndexationNotificationHelper.markCompletedNotificationAsDisplayed();\n    } else {\n      this.setState({ notificationType: undefined });\n    }\n  }\n\n  render() {\n    const { notificationType } = this.state;\n    const {\n      indexationContext: {\n        status: { percentCompleted }\n      }\n    } = this.props;\n\n    if (notificationType === undefined) {\n      return null;\n    }\n\n    return (\n      <IndexationNotificationRenderer\n        type={notificationType}\n        percentCompleted={percentCompleted}\n        isSystemAdmin={this.isSystemAdmin}\n      />\n    );\n  }\n}\n\nexport default withCurrentUser(withIndexationContext(IndexationNotification));\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from '../../../components/controls/buttons';\nimport Toggler from '../../../components/controls/Toggler';\nimport HelpIcon from '../../../components/icons/HelpIcon';\nimport { lazyLoadComponent } from '../../../components/lazyLoadComponent';\nimport { translate } from '../../../helpers/l10n';\n\nconst EmbedDocsPopup = lazyLoadComponent(() => import('./EmbedDocsPopup'));\n\ninterface State {\n  helpOpen: boolean;\n}\n\nexport default class EmbedDocsPopupHelper extends React.PureComponent<{}, State> {\n  mounted = false;\n  state: State = { helpOpen: false };\n\n  setHelpDisplay = (helpOpen: boolean) => {\n    this.setState({ helpOpen });\n  };\n\n  handleClick = () => {\n    this.toggleHelp();\n  };\n\n  toggleHelp = () => {\n    this.setState(state => {\n      return { helpOpen: !state.helpOpen };\n    });\n  };\n\n  closeHelp = () => {\n    this.setState({ helpOpen: false });\n  };\n\n  render() {\n    return (\n      <li className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.closeHelp}\n          open={this.state.helpOpen}\n          overlay={<EmbedDocsPopup onClose={this.closeHelp} />}>\n          <ButtonLink\n            aria-expanded={this.state.helpOpen}\n            aria-haspopup={true}\n            className=\"navbar-help navbar-icon\"\n            onClick={this.handleClick}\n            title={translate('help')}>\n            <HelpIcon />\n          </ButtonLink>\n        </Toggler>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport { debounce, keyBy, uniqBy } from 'lodash';\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport { getSuggestions } from '../../../api/components';\nimport { DropdownOverlay } from '../../../components/controls/Dropdown';\nimport OutsideClickHandler from '../../../components/controls/OutsideClickHandler';\nimport SearchBox from '../../../components/controls/SearchBox';\nimport ClockIcon from '../../../components/icons/ClockIcon';\nimport { lazyLoadComponent } from '../../../components/lazyLoadComponent';\nimport DeferredSpinner from '../../../components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { scrollToElement } from '../../../helpers/scrolling';\nimport { getComponentOverviewUrl } from '../../../helpers/urls';\nimport { ComponentQualifier } from '../../../types/component';\nimport RecentHistory from '../RecentHistory';\nimport './Search.css';\nimport { ComponentResult, More, Results, sortQualifiers } from './utils';\n\nconst SearchResults = lazyLoadComponent(() => import('./SearchResults'));\nconst SearchResult = lazyLoadComponent(() => import('./SearchResult'));\n\ninterface OwnProps {\n  currentUser: T.CurrentUser;\n}\n\ntype Props = OwnProps & WithRouterProps;\n\ninterface State {\n  loading: boolean;\n  loadingMore?: string;\n  more: More;\n  open: boolean;\n  projects: T.Dict<{ name: string }>;\n  query: string;\n  results: Results;\n  selected?: string;\n  shortQuery: boolean;\n}\n\nexport class Search extends React.PureComponent<Props, State> {\n  input?: HTMLInputElement | null;\n  node?: HTMLElement | null;\n  nodes: T.Dict<HTMLElement>;\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.nodes = {};\n    this.search = debounce(this.search, 250);\n    this.state = {\n      loading: false,\n      more: {},\n      open: false,\n      projects: {},\n      query: '',\n      results: {},\n      shortQuery: false\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    key('s', () => {\n      this.focusInput();\n      this.openSearch();\n      return false;\n    });\n  }\n\n  componentWillUpdate() {\n    this.nodes = {};\n  }\n\n  componentDidUpdate(_prevProps: Props, prevState: State) {\n    if (prevState.selected !== this.state.selected) {\n      this.scrollToSelected();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    key.unbind('s');\n  }\n\n  focusInput = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n  };\n\n  handleClickOutside = () => {\n    this.closeSearch(false);\n  };\n\n  handleFocus = () => {\n    if (!this.state.open) {\n      // simulate click to close any other dropdowns\n      const body = document.documentElement;\n      if (body) {\n        body.click();\n      }\n    }\n    this.openSearch();\n  };\n\n  openSearch = () => {\n    if (!this.state.open && !this.state.query) {\n      this.search('');\n    }\n    this.setState({ open: true });\n  };\n\n  closeSearch = (clear = true) => {\n    if (this.input) {\n      this.input.blur();\n    }\n    if (clear) {\n      this.setState({\n        more: {},\n        open: false,\n        projects: {},\n        query: '',\n        results: {},\n        selected: undefined,\n        shortQuery: false\n      });\n    } else {\n      this.setState({ open: false });\n    }\n  };\n\n  getPlainComponentsList = (results: Results, more: More) =>\n    sortQualifiers(Object.keys(results)).reduce((components, qualifier) => {\n      const next = [...components, ...results[qualifier].map(component => component.key)];\n      if (more[qualifier]) {\n        next.push('qualifier###' + qualifier);\n      }\n      return next;\n    }, []);\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  search = (query: string) => {\n    if (query.length === 0 || query.length >= 2) {\n      this.setState({ loading: true });\n      const recentlyBrowsed = RecentHistory.get().map(component => component.key);\n      getSuggestions(query, recentlyBrowsed).then(response => {\n        // compare `this.state.query` and `query` to handle two request done almost at the same time\n        // in this case only the request that matches the current query should be taken\n        if (this.mounted && this.state.query === query) {\n          const results: Results = {};\n          const more: More = {};\n          response.results.forEach(group => {\n            results[group.q] = group.items.map(item => ({ ...item, qualifier: group.q }));\n            more[group.q] = group.more;\n          });\n          const list = this.getPlainComponentsList(results, more);\n          this.setState(state => ({\n            loading: false,\n            more,\n            projects: { ...state.projects, ...keyBy(response.projects, 'key') },\n            results,\n            selected: list.length > 0 ? list[0] : undefined,\n            shortQuery: query.length > 2 && response.warning === 'short_input'\n          }));\n        }\n      }, this.stopLoading);\n    } else {\n      this.setState({ loading: false });\n    }\n  };\n\n  searchMore = (qualifier: string) => {\n    const { query } = this.state;\n    if (query.length === 1) {\n      return;\n    }\n\n    this.setState({ loading: true, loadingMore: qualifier });\n    const recentlyBrowsed = RecentHistory.get().map(component => component.key);\n    getSuggestions(query, recentlyBrowsed, qualifier).then(response => {\n      if (this.mounted) {\n        const group = response.results.find(group => group.q === qualifier);\n        const moreResults = (group ? group.items : []).map(item => ({ ...item, qualifier }));\n        this.setState(state => ({\n          loading: false,\n          loadingMore: undefined,\n          more: { ...state.more, [qualifier]: 0 },\n          projects: { ...state.projects, ...keyBy(response.projects, 'key') },\n          results: {\n            ...state.results,\n            [qualifier]: uniqBy([...state.results[qualifier], ...moreResults], 'key')\n          },\n          selected: moreResults.length > 0 ? moreResults[0].key : state.selected\n        }));\n        this.focusInput();\n      }\n    }, this.stopLoading);\n  };\n\n  handleQueryChange = (query: string) => {\n    this.setState({ query, shortQuery: query.length === 1 });\n    this.search(query);\n  };\n\n  selectPrevious = () => {\n    this.setState(({ more, results, selected }) => {\n      if (selected) {\n        const list = this.getPlainComponentsList(results, more);\n        const index = list.indexOf(selected);\n        return index > 0 ? { selected: list[index - 1] } : null;\n      } else {\n        return null;\n      }\n    });\n  };\n\n  selectNext = () => {\n    this.setState(({ more, results, selected }) => {\n      if (selected) {\n        const list = this.getPlainComponentsList(results, more);\n        const index = list.indexOf(selected);\n        return index >= 0 && index < list.length - 1 ? { selected: list[index + 1] } : null;\n      } else {\n        return null;\n      }\n    });\n  };\n\n  openSelected = () => {\n    const { results, selected } = this.state;\n\n    if (!selected) {\n      return;\n    }\n\n    if (selected.startsWith('qualifier###')) {\n      this.searchMore(selected.substr(12));\n    } else {\n      let qualifier = ComponentQualifier.Project;\n\n      if ((results[ComponentQualifier.Portfolio] ?? []).find(r => r.key === selected)) {\n        qualifier = ComponentQualifier.Portfolio;\n      } else if ((results[ComponentQualifier.SubPortfolio] ?? []).find(r => r.key === selected)) {\n        qualifier = ComponentQualifier.SubPortfolio;\n      }\n\n      this.props.router.push(getComponentOverviewUrl(selected, qualifier));\n\n      this.closeSearch();\n    }\n  };\n\n  scrollToSelected = () => {\n    if (this.state.selected) {\n      const node = this.nodes[this.state.selected];\n      if (node && this.node) {\n        scrollToElement(node, { topOffset: 30, bottomOffset: 30, parent: this.node });\n      }\n    }\n  };\n\n  handleKeyDown = (event: React.KeyboardEvent) => {\n    switch (event.keyCode) {\n      case 13:\n        event.preventDefault();\n        this.openSelected();\n        return;\n      case 38:\n        event.preventDefault();\n        this.selectPrevious();\n        return;\n      case 40:\n        event.preventDefault();\n        this.selectNext();\n        // keep this return to prevent fall-through in case more cases will be adder later\n        // eslint-disable-next-line no-useless-return\n        return;\n    }\n  };\n\n  handleSelect = (selected: string) => {\n    this.setState({ selected });\n  };\n\n  innerRef = (component: string, node: HTMLElement | null) => {\n    if (node) {\n      this.nodes[component] = node;\n    }\n  };\n\n  searchInputRef = (node: HTMLInputElement | null) => {\n    this.input = node;\n  };\n\n  renderResult = (component: ComponentResult) => (\n    <SearchResult\n      component={component}\n      innerRef={this.innerRef}\n      key={component.key}\n      onClose={this.closeSearch}\n      onSelect={this.handleSelect}\n      projects={this.state.projects}\n      selected={this.state.selected === component.key}\n    />\n  );\n\n  renderNoResults = () => (\n    <div className=\"navbar-search-no-results\">\n      {translateWithParameters('no_results_for_x', this.state.query)}\n    </div>\n  );\n\n  render() {\n    const search = (\n      <li className=\"navbar-search dropdown\">\n        <DeferredSpinner className=\"navbar-search-icon\" loading={this.state.loading} />\n\n        <SearchBox\n          autoFocus={this.state.open}\n          innerRef={this.searchInputRef}\n          minLength={2}\n          onChange={this.handleQueryChange}\n          onFocus={this.handleFocus}\n          onKeyDown={this.handleKeyDown}\n          placeholder={translate('search.placeholder')}\n          value={this.state.query}\n        />\n\n        {this.state.shortQuery && (\n          <span className=\"navbar-search-input-hint\">\n            {translateWithParameters('select2.tooShort', 2)}\n          </span>\n        )}\n\n        {this.state.open && Object.keys(this.state.results).length > 0 && (\n          <DropdownOverlay noPadding={true}>\n            <div className=\"global-navbar-search-dropdown\" ref={node => (this.node = node)}>\n              <SearchResults\n                allowMore={this.state.query.length !== 1}\n                loadingMore={this.state.loadingMore}\n                more={this.state.more}\n                onMoreClick={this.searchMore}\n                onSelect={this.handleSelect}\n                renderNoResults={this.renderNoResults}\n                renderResult={this.renderResult}\n                results={this.state.results}\n                selected={this.state.selected}\n              />\n              <div className=\"dropdown-bottom-hint\">\n                <div className=\"pull-right\">\n                  <ClockIcon className=\"little-spacer-right\" size={12} />\n                  {translate('recently_browsed')}\n                </div>\n                <FormattedMessage\n                  defaultMessage={translate('search.shortcut_hint')}\n                  id=\"search.shortcut_hint\"\n                  values={{\n                    shortcut: <span className=\"shortcut-button shortcut-button-small\">s</span>\n                  }}\n                />\n              </div>\n            </div>\n          </DropdownOverlay>\n        )}\n      </li>\n    );\n\n    return this.state.open ? (\n      <OutsideClickHandler onClickOutside={this.handleClickOutside}>{search}</OutsideClickHandler>\n    ) : (\n      search\n    );\n  }\n}\n\nexport default withRouter<OwnProps>(Search);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router';\nimport { translate } from '../../../../helpers/l10n';\nimport { getBaseUrl } from '../../../../helpers/system';\nimport { getGlobalSettingValue, Store } from '../../../../store/rootReducer';\n\ninterface StateProps {\n  customLogoUrl?: string;\n  customLogoWidth?: string | number;\n}\n\nexport function GlobalNavBranding({ customLogoUrl, customLogoWidth }: StateProps) {\n  const title = translate('layout.sonar.slogan');\n  const url = customLogoUrl || `${getBaseUrl()}/images/logo.svg?v=6.6`;\n  const width = customLogoUrl ? customLogoWidth || 100 : 83;\n\n  return (\n    <Link className=\"navbar-brand\" to=\"/\">\n      <img alt={title} height={30} src={url} title={title} width={width} />\n    </Link>\n  );\n}\n\nexport function SonarCloudNavBranding() {\n  return (\n    <GlobalNavBranding\n      customLogoUrl={`${getBaseUrl()}/images/sonarcloud-logo.svg`}\n      customLogoWidth={105}\n    />\n  );\n}\n\nconst mapStateToProps = (state: Store): StateProps => {\n  const customLogoUrl = getGlobalSettingValue(state, 'sonar.lf.logoUrl');\n  const customLogoWidth = getGlobalSettingValue(state, 'sonar.lf.logoWidthPx');\n  return {\n    customLogoUrl: customLogoUrl && customLogoUrl.value,\n    customLogoWidth: customLogoWidth && customLogoWidth.value\n  };\n};\n\nexport default connect(mapStateToProps)(GlobalNavBranding);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { isMySet } from '../../../../apps/issues/utils';\nimport Dropdown from '../../../../components/controls/Dropdown';\nimport DropdownIcon from '../../../../components/icons/DropdownIcon';\nimport { translate } from '../../../../helpers/l10n';\nimport { getQualityGatesUrl } from '../../../../helpers/urls';\nimport { ComponentQualifier } from '../../../../types/component';\n\ninterface Props {\n  appState: Pick<T.AppState, 'canAdmin' | 'globalPages' | 'qualifiers'>;\n  currentUser: T.CurrentUser;\n  location: { pathname: string };\n}\n\nexport default class GlobalNavMenu extends React.PureComponent<Props> {\n  renderProjects() {\n    const active =\n      this.props.location.pathname.startsWith('/projects') &&\n      this.props.location.pathname !== '/projects/create';\n\n    return (\n      <li>\n        <Link className={classNames({ active })} to=\"/projects\">\n          {translate('projects.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderPortfolios() {\n    return (\n      <li>\n        <Link activeClassName=\"active\" to=\"/portfolios\">\n          {translate('portfolios.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderIssuesLink() {\n    const active = this.props.location.pathname.startsWith('/issues');\n\n    const query =\n      this.props.currentUser.isLoggedIn && isMySet()\n        ? { resolved: 'false', myIssues: 'true' }\n        : { resolved: 'false' };\n    return (\n      <li>\n        <Link className={classNames({ active })} to={{ pathname: '/issues', query }}>\n          {translate('issues.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderRulesLink() {\n    return (\n      <li>\n        <Link activeClassName=\"active\" to=\"/coding_rules\">\n          {translate('coding_rules.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderProfilesLink() {\n    return (\n      <li>\n        <Link activeClassName=\"active\" to=\"/profiles\">\n          {translate('quality_profiles.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderQualityGatesLink() {\n    return (\n      <li>\n        <Link activeClassName=\"active\" to={getQualityGatesUrl()}>\n          {translate('quality_gates.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderAdministrationLink() {\n    if (!this.props.appState.canAdmin) {\n      return null;\n    }\n\n    return (\n      <li>\n        <Link activeClassName=\"active\" to=\"/admin\">\n          {translate('layout.settings')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderGlobalPageLink = ({ key, name }: T.Extension) => {\n    return (\n      <li key={key}>\n        <Link to={`/extension/${key}`}>{name}</Link>\n      </li>\n    );\n  };\n\n  renderMore() {\n    const { globalPages = [] } = this.props.appState;\n    const withoutPortfolios = globalPages.filter(page => page.key !== 'governance/portfolios');\n    if (withoutPortfolios.length === 0) {\n      return null;\n    }\n    return (\n      <Dropdown\n        overlay={<ul className=\"menu\">{withoutPortfolios.map(this.renderGlobalPageLink)}</ul>}\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"menu\"\n            role=\"button\"\n            className={classNames('dropdown-toggle', { active: open })}\n            href=\"#\"\n            id=\"global-navigation-more\"\n            onClick={onToggleClick}>\n            {translate('more')}\n            <DropdownIcon className=\"little-spacer-left text-middle\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  render() {\n    const governanceInstalled = this.props.appState.qualifiers.includes(\n      ComponentQualifier.Portfolio\n    );\n\n    return (\n      <ul className=\"global-navbar-menu\">\n        {this.renderProjects()}\n        {governanceInstalled && this.renderPortfolios()}\n        {this.renderIssuesLink()}\n        {this.renderRulesLink()}\n        {this.renderProfilesLink()}\n        {this.renderQualityGatesLink()}\n        {this.renderAdministrationLink()}\n        {this.renderMore()}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Dropdown from '../../../../components/controls/Dropdown';\nimport { Router, withRouter } from '../../../../components/hoc/withRouter';\nimport Avatar from '../../../../components/ui/Avatar';\nimport { translate } from '../../../../helpers/l10n';\nimport { getBaseUrl } from '../../../../helpers/system';\nimport { isLoggedIn } from '../../../../helpers/users';\nimport { rawSizes } from '../../../theme';\n\ninterface Props {\n  currentUser: T.CurrentUser;\n  router: Pick<Router, 'push'>;\n}\n\nexport class GlobalNavUser extends React.PureComponent<Props> {\n  handleLogin = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    const shouldReturnToCurrentPage = window.location.pathname !== `${getBaseUrl()}/about`;\n    if (shouldReturnToCurrentPage) {\n      const returnTo = encodeURIComponent(window.location.pathname + window.location.search);\n      window.location.href =\n        getBaseUrl() + `/sessions/new?return_to=${returnTo}${window.location.hash}`;\n    } else {\n      window.location.href = `${getBaseUrl()}/sessions/new`;\n    }\n  };\n\n  handleLogout = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.props.router.push('/sessions/logout');\n  };\n\n  renderAuthenticated() {\n    const currentUser = this.props.currentUser as T.LoggedInUser;\n    return (\n      <Dropdown\n        className=\"js-user-authenticated\"\n        overlay={\n          <ul className=\"menu\">\n            <li className=\"menu-item\">\n              <div className=\"text-ellipsis text-muted\" title={currentUser.name}>\n                <strong>{currentUser.name}</strong>\n              </div>\n              {currentUser.email != null && (\n                <div\n                  className=\"little-spacer-top text-ellipsis text-muted\"\n                  title={currentUser.email}>\n                  {currentUser.email}\n                </div>\n              )}\n            </li>\n            <li className=\"divider\" />\n            <li>\n              <Link to=\"/account\">{translate('my_account.page')}</Link>\n            </li>\n            <li>\n              <a href=\"#\" onClick={this.handleLogout}>\n                {translate('layout.logout')}\n              </a>\n            </li>\n          </ul>\n        }\n        tagName=\"li\">\n        <a className=\"dropdown-toggle navbar-avatar\" href=\"#\" title={currentUser.name}>\n          <Avatar\n            hash={currentUser.avatar}\n            name={currentUser.name}\n            size={rawSizes.globalNavContentHeightRaw}\n          />\n        </a>\n      </Dropdown>\n    );\n  }\n\n  renderAnonymous() {\n    return (\n      <li>\n        <a className=\"navbar-login\" href=\"/sessions/new\" onClick={this.handleLogin}>\n          {translate('layout.login')}\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    return isLoggedIn(this.props.currentUser) ? this.renderAuthenticated() : this.renderAnonymous();\n  }\n}\n\nexport default withRouter(GlobalNavUser);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport NavBar from '../../../../components/ui/NavBar';\nimport { getAppState, getCurrentUser, Store } from '../../../../store/rootReducer';\nimport { rawSizes } from '../../../theme';\nimport EmbedDocsPopupHelper from '../../embed-docs-modal/EmbedDocsPopupHelper';\nimport Search from '../../search/Search';\nimport './GlobalNav.css';\nimport GlobalNavBranding from './GlobalNavBranding';\nimport GlobalNavMenu from './GlobalNavMenu';\nimport GlobalNavUser from './GlobalNavUser';\n\nexport interface GlobalNavProps {\n  appState: Pick<T.AppState, 'canAdmin' | 'globalPages' | 'qualifiers'>;\n  currentUser: T.CurrentUser;\n  location: { pathname: string };\n}\n\nexport function GlobalNav(props: GlobalNavProps) {\n  const { appState, currentUser, location } = props;\n  return (\n    <NavBar className=\"navbar-global\" height={rawSizes.globalNavHeightRaw} id=\"global-navigation\">\n      <GlobalNavBranding />\n\n      <GlobalNavMenu appState={appState} currentUser={currentUser} location={location} />\n\n      <ul className=\"global-navbar-menu global-navbar-menu-right\">\n        <EmbedDocsPopupHelper />\n        <Search currentUser={currentUser} />\n        <GlobalNavUser currentUser={currentUser} />\n      </ul>\n    </NavBar>\n  );\n}\n\nconst mapStateToProps = (state: Store) => {\n  return {\n    currentUser: getCurrentUser(state),\n    appState: getAppState(state)\n  };\n};\n\nexport default connect(mapStateToProps)(GlobalNav);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as differenceInDays from 'date-fns/difference_in_days';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { showLicense } from '../../api/marketplace';\nimport { Location, Router, withRouter } from '../../components/hoc/withRouter';\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\nimport { parseDate, toShortNotSoISOString } from '../../helpers/dates';\nimport { hasMessage } from '../../helpers/l10n';\nimport { get, save } from '../../helpers/storage';\nimport { isLoggedIn } from '../../helpers/users';\nimport { getAppState, getCurrentUser, Store } from '../../store/rootReducer';\nimport { EditionKey } from '../../types/editions';\n\nconst LicensePromptModal = lazyLoadComponent(\n  () => import('../../apps/marketplace/components/LicensePromptModal'),\n  'LicensePromptModal'\n);\n\ninterface StateProps {\n  canAdmin?: boolean;\n  currentEdition?: EditionKey;\n  currentUser: T.CurrentUser;\n}\n\ninterface OwnProps {\n  children?: React.ReactNode;\n}\n\ninterface WithRouterProps {\n  location: Pick<Location, 'pathname'>;\n  router: Pick<Router, 'push'>;\n}\n\ntype Props = StateProps & OwnProps & WithRouterProps;\n\ninterface State {\n  open?: boolean;\n}\n\nconst LICENSE_PROMPT = 'sonarqube.license.prompt';\n\nexport class StartupModal extends React.PureComponent<Props, State> {\n  state: State = {};\n\n  componentDidMount() {\n    this.tryAutoOpenLicense();\n  }\n\n  closeLicense = () => {\n    this.setState({ open: false });\n  };\n\n  tryAutoOpenLicense = () => {\n    const { canAdmin, currentEdition, currentUser } = this.props;\n    const hasLicenseManager = hasMessage('license.prompt.title');\n    const hasLicensedEdition = currentEdition && currentEdition !== EditionKey.community;\n\n    if (canAdmin && hasLicensedEdition && isLoggedIn(currentUser) && hasLicenseManager) {\n      const lastPrompt = get(LICENSE_PROMPT, currentUser.login);\n\n      if (!lastPrompt || differenceInDays(new Date(), parseDate(lastPrompt)) >= 1) {\n        showLicense()\n          .then(license => {\n            if (!license || !license.isValidEdition) {\n              save(LICENSE_PROMPT, toShortNotSoISOString(new Date()), currentUser.login);\n              this.setState({ open: true });\n            }\n          })\n          .catch(() => {});\n      }\n    }\n  };\n\n  render() {\n    const { open } = this.state;\n    return (\n      <>\n        {this.props.children}\n        {open && <LicensePromptModal onClose={this.closeLicense} />}\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  canAdmin: getAppState(state).canAdmin,\n  currentEdition: getAppState(state).edition as EditionKey, // TODO: Fix once AppState is no longer ambiant.\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(withRouter(StartupModal));\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Workspace from '../../components/workspace/Workspace';\nimport A11yProvider from './a11y/A11yProvider';\nimport A11ySkipLinks from './a11y/A11ySkipLinks';\nimport SuggestionsProvider from './embed-docs-modal/SuggestionsProvider';\nimport GlobalFooterContainer from './GlobalFooterContainer';\nimport GlobalMessagesContainer from './GlobalMessagesContainer';\nimport IndexationContextProvider from './indexation/IndexationContextProvider';\nimport IndexationNotification from './indexation/IndexationNotification';\nimport GlobalNav from './nav/global/GlobalNav';\nimport StartupModal from './StartupModal';\n\nexport interface Props {\n  children: React.ReactNode;\n  footer?: React.ReactNode;\n  location: { pathname: string };\n}\n\nexport default function GlobalContainer(props: Props) {\n  // it is important to pass `location` down to `GlobalNav` to trigger render on url change\n  const { footer = <GlobalFooterContainer /> } = props;\n  return (\n    <SuggestionsProvider>\n      <A11yProvider>\n        <StartupModal>\n          <A11ySkipLinks />\n\n          <div className=\"global-container\">\n            <div className=\"page-wrapper\" id=\"container\">\n              <div className=\"page-container\">\n                <Workspace>\n                  <IndexationContextProvider>\n                    <GlobalNav location={props.location} />\n                    <GlobalMessagesContainer />\n                    <IndexationNotification />\n                    {props.children}\n                  </IndexationContextProvider>\n                </Workspace>\n              </div>\n            </div>\n            {footer}\n          </div>\n        </StartupModal>\n      </A11yProvider>\n    </SuggestionsProvider>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { WithRouterProps } from 'react-router';\nimport { getSystemStatus } from '../../helpers/system';\n\nexport default class MigrationContainer extends React.PureComponent<WithRouterProps> {\n  componentDidMount() {\n    if (getSystemStatus() !== 'UP') {\n      this.props.router.push({\n        pathname: '/maintenance',\n        query: {\n          return_to: window.location.pathname + window.location.search + window.location.hash\n        }\n      });\n    }\n  }\n\n  render() {\n    if (getSystemStatus() !== 'UP') {\n      return null;\n    }\n    return this.props.children;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/* eslint-disable react/jsx-sort-props */\nimport { Location } from 'history';\nimport { pick } from 'lodash';\nimport * as React from 'react';\nimport { render } from 'react-dom';\nimport { HelmetProvider } from 'react-helmet-async';\nimport { IntlProvider } from 'react-intl';\nimport { Provider } from 'react-redux';\nimport { IndexRoute, Redirect, Route, RouteConfig, RouteProps, Router } from 'react-router';\nimport aboutRoutes from '../../apps/about/routes';\nimport accountRoutes from '../../apps/account/routes';\nimport applicationConsoleRoutes from '../../apps/application-console/routes';\nimport applicationSettingsRoutes from '../../apps/application-settings/routes';\nimport auditLogsRoutes from '../../apps/audit-logs/routes';\nimport backgroundTasksRoutes from '../../apps/background-tasks/routes';\nimport codeRoutes from '../../apps/code/routes';\nimport codingRulesRoutes from '../../apps/coding-rules/routes';\nimport componentMeasuresRoutes from '../../apps/component-measures/routes';\nimport documentationRoutes from '../../apps/documentation/routes';\nimport groupsRoutes from '../../apps/groups/routes';\nimport Issues from '../../apps/issues/components/AppContainer';\nimport { maintenanceRoutes, setupRoutes } from '../../apps/maintenance/routes';\nimport marketplaceRoutes from '../../apps/marketplace/routes';\nimport overviewRoutes from '../../apps/overview/routes';\nimport permissionTemplatesRoutes from '../../apps/permission-templates/routes';\nimport { globalPermissionsRoutes, projectPermissionsRoutes } from '../../apps/permissions/routes';\nimport portfolioRoutes from '../../apps/portfolio/routes';\nimport projectActivityRoutes from '../../apps/projectActivity/routes';\nimport projectBaselineRoutes from '../../apps/projectBaseline/routes';\nimport projectBranchesRoutes from '../../apps/projectBranches/routes';\nimport projectQualityGateRoutes from '../../apps/projectQualityGate/routes';\nimport projectQualityProfilesRoutes from '../../apps/projectQualityProfiles/routes';\nimport projectsRoutes from '../../apps/projects/routes';\nimport projectsManagementRoutes from '../../apps/projectsManagement/routes';\nimport qualityGatesRoutes from '../../apps/quality-gates/routes';\nimport qualityProfilesRoutes from '../../apps/quality-profiles/routes';\nimport sessionsRoutes from '../../apps/sessions/routes';\nimport settingsRoutes from '../../apps/settings/routes';\nimport systemRoutes from '../../apps/system/routes';\nimport tutorialsRoutes from '../../apps/tutorials/routes';\nimport usersRoutes from '../../apps/users/routes';\nimport webAPIRoutes from '../../apps/web-api/routes';\nimport webhooksRoutes from '../../apps/webhooks/routes';\nimport withIndexationGuard from '../../components/hoc/withIndexationGuard';\nimport { lazyLoadComponent } from '../../components/lazyLoadComponent';\nimport getHistory from '../../helpers/getHistory';\nimport App from '../components/App';\nimport GlobalContainer from '../components/GlobalContainer';\nimport { PageContext } from '../components/indexation/PageUnavailableDueToIndexation';\nimport MigrationContainer from '../components/MigrationContainer';\nimport getStore from './getStore';\n\nfunction handleUpdate(this: { state: { location: Location } }) {\n  const { action } = this.state.location;\n\n  if (action === 'PUSH') {\n    window.scrollTo(0, 0);\n  }\n}\n\n// this is not an official api\nconst RouteWithChildRoutes = Route as React.ComponentClass<\n  RouteProps & { childRoutes: RouteConfig }\n>;\n\nfunction renderRedirects() {\n  return (\n    <>\n      <Route\n        path=\"/account/issues\"\n        onEnter={(_, replace) => {\n          replace({ pathname: '/issues', query: { myIssues: 'true', resolved: 'false' } });\n        }}\n      />\n\n      <Route\n        path=\"/codingrules\"\n        onEnter={(_, replace) => {\n          replace(`/coding_rules${window.location.hash}`);\n        }}\n      />\n\n      <Route\n        path=\"/dashboard/index/:key\"\n        onEnter={(nextState, replace) => {\n          replace({ pathname: '/dashboard', query: { id: nextState.params.key } });\n        }}\n      />\n\n      <Route\n        path=\"/issues/search\"\n        onEnter={(_, replace) => {\n          replace(`/issues${window.location.hash}`);\n        }}\n      />\n\n      <Redirect from=\"/admin\" to=\"/admin/settings\" />\n      <Redirect from=\"/background_tasks\" to=\"/admin/background_tasks\" />\n      <Redirect from=\"/component/index\" to=\"/component\" />\n      <Redirect from=\"/component_issues\" to=\"/project/issues\" />\n      <Redirect from=\"/dashboard/index\" to=\"/dashboard\" />\n      <Redirect\n        from=\"/documentation/analysis/languages/vb\"\n        to=\"/documentation/analysis/languages/vbnet/\"\n      />\n      <Redirect from=\"/governance\" to=\"/portfolio\" />\n      <Redirect from=\"/groups\" to=\"/admin/groups\" />\n      <Redirect from=\"/extension/governance/portfolios\" to=\"/portfolios\" />\n      <Redirect from=\"/permission_templates\" to=\"/admin/permission_templates\" />\n      <Redirect from=\"/profiles/index\" to=\"/profiles\" />\n      <Redirect from=\"/projects_admin\" to=\"/admin/projects_management\" />\n      <Redirect from=\"/quality_gates/index\" to=\"/quality_gates\" />\n      <Redirect from=\"/roles/global\" to=\"/admin/permissions\" />\n      <Redirect from=\"/admin/roles/global\" to=\"/admin/permissions\" />\n      <Redirect from=\"/settings\" to=\"/admin/settings\" />\n      <Redirect from=\"/settings/encryption\" to=\"/admin/settings/encryption\" />\n      <Redirect from=\"/settings/index\" to=\"/admin/settings\" />\n      <Redirect from=\"/sessions/login\" to=\"/sessions/new\" />\n      <Redirect from=\"/system\" to=\"/admin/system\" />\n      <Redirect from=\"/system/index\" to=\"/admin/system\" />\n      <Redirect from=\"/view\" to=\"/portfolio\" />\n      <Redirect from=\"/users\" to=\"/admin/users\" />\n      <Redirect from=\"/onboarding\" to=\"/projects/create\" />\n      <Redirect from=\"markdown/help\" to=\"formatting/help\" />\n    </>\n  );\n}\n\nfunction renderComponentRoutes() {\n  return (\n    <Route component={lazyLoadComponent(() => import('../components/ComponentContainer'))}>\n      <RouteWithChildRoutes path=\"code\" childRoutes={codeRoutes} />\n      <RouteWithChildRoutes path=\"component_measures\" childRoutes={componentMeasuresRoutes} />\n      <RouteWithChildRoutes path=\"dashboard\" childRoutes={overviewRoutes} />\n      <RouteWithChildRoutes path=\"portfolio\" childRoutes={portfolioRoutes} />\n      <RouteWithChildRoutes path=\"project/activity\" childRoutes={projectActivityRoutes} />\n      <Route\n        path=\"project/extension/:pluginKey/:extensionKey\"\n        component={lazyLoadComponent(() => import('../components/extensions/ProjectPageExtension'))}\n      />\n      <Route\n        path=\"project/issues\"\n        component={Issues}\n        onEnter={({ location: { query } }, replace) => {\n          if (query.types) {\n            if (query.types === 'SECURITY_HOTSPOT') {\n              replace({\n                pathname: '/security_hotspots',\n                query: { ...pick(query, ['id', 'branch', 'pullRequest']), assignedToMe: false }\n              });\n            } else {\n              query.types = query.types\n                .split(',')\n                .filter((type: string) => type !== 'SECURITY_HOTSPOT')\n                .join(',');\n            }\n          }\n        }}\n      />\n      <Route\n        path=\"security_hotspots\"\n        component={lazyLoadComponent(() =>\n          import('../../apps/security-hotspots/SecurityHotspotsApp')\n        )}\n      />\n      <RouteWithChildRoutes path=\"project/quality_gate\" childRoutes={projectQualityGateRoutes} />\n      <RouteWithChildRoutes\n        path=\"project/quality_profiles\"\n        childRoutes={projectQualityProfilesRoutes}\n      />\n      <RouteWithChildRoutes path=\"tutorials\" childRoutes={tutorialsRoutes} />\n      <Route component={lazyLoadComponent(() => import('../components/ProjectAdminContainer'))}>\n        <Route\n          path=\"project/admin/extension/:pluginKey/:extensionKey\"\n          component={lazyLoadComponent(() =>\n            import('../components/extensions/ProjectAdminPageExtension')\n          )}\n        />\n        <RouteWithChildRoutes path=\"project/background_tasks\" childRoutes={backgroundTasksRoutes} />\n        <RouteWithChildRoutes path=\"project/baseline\" childRoutes={projectBaselineRoutes} />\n        <RouteWithChildRoutes path=\"project/branches\" childRoutes={projectBranchesRoutes} />\n        <RouteWithChildRoutes path=\"project/settings\" childRoutes={settingsRoutes} />\n        <RouteWithChildRoutes path=\"project_roles\" childRoutes={projectPermissionsRoutes} />\n        <RouteWithChildRoutes path=\"application/console\" childRoutes={applicationConsoleRoutes} />\n        <RouteWithChildRoutes path=\"application/settings\" childRoutes={applicationSettingsRoutes} />\n        <RouteWithChildRoutes path=\"project/webhooks\" childRoutes={webhooksRoutes} />\n        <Route\n          path=\"project/deletion\"\n          component={lazyLoadComponent(() => import('../../apps/projectDeletion/App'))}\n        />\n        <Route\n          path=\"project/links\"\n          component={lazyLoadComponent(() => import('../../apps/projectLinks/App'))}\n        />\n        <Route\n          path=\"project/key\"\n          component={lazyLoadComponent(() => import('../../apps/projectKey/Key'))}\n        />\n      </Route>\n    </Route>\n  );\n}\n\nfunction renderAdminRoutes() {\n  return (\n    <Route component={lazyLoadComponent(() => import('../components/AdminContainer'))} path=\"admin\">\n      <Route\n        path=\"extension/:pluginKey/:extensionKey\"\n        component={lazyLoadComponent(() =>\n          import('../components/extensions/GlobalAdminPageExtension')\n        )}\n      />\n      <RouteWithChildRoutes path=\"audit\" childRoutes={auditLogsRoutes} />\n      <RouteWithChildRoutes path=\"background_tasks\" childRoutes={backgroundTasksRoutes} />\n      <RouteWithChildRoutes path=\"groups\" childRoutes={groupsRoutes} />\n      <RouteWithChildRoutes path=\"permission_templates\" childRoutes={permissionTemplatesRoutes} />\n      <RouteWithChildRoutes path=\"permissions\" childRoutes={globalPermissionsRoutes} />\n      <RouteWithChildRoutes path=\"projects_management\" childRoutes={projectsManagementRoutes} />\n      <RouteWithChildRoutes path=\"settings\" childRoutes={settingsRoutes} />\n      <RouteWithChildRoutes path=\"system\" childRoutes={systemRoutes} />\n      <RouteWithChildRoutes path=\"marketplace\" childRoutes={marketplaceRoutes} />\n      <RouteWithChildRoutes path=\"users\" childRoutes={usersRoutes} />\n      <RouteWithChildRoutes path=\"webhooks\" childRoutes={webhooksRoutes} />\n    </Route>\n  );\n}\n\nexport default function startReactApp(\n  lang: string,\n  currentUser?: T.CurrentUser,\n  appState?: T.AppState\n) {\n  const el = document.getElementById('content');\n\n  const history = getHistory();\n  const store = getStore(currentUser, appState);\n\n  render(\n    <HelmetProvider>\n      <Provider store={store}>\n        <IntlProvider defaultLocale={lang} locale={lang}>\n          <Router history={history} onUpdate={handleUpdate}>\n            {renderRedirects()}\n\n            <Route\n              path=\"formatting/help\"\n              component={lazyLoadComponent(() => import('../components/FormattingHelp'))}\n            />\n\n            <Route component={lazyLoadComponent(() => import('../components/SimpleContainer'))}>\n              <Route path=\"maintenance\">{maintenanceRoutes}</Route>\n              <Route path=\"setup\">{setupRoutes}</Route>\n            </Route>\n\n            <Route component={MigrationContainer}>\n              <Route\n                component={lazyLoadComponent(() =>\n                  import('../components/SimpleSessionsContainer')\n                )}>\n                <RouteWithChildRoutes path=\"/sessions\" childRoutes={sessionsRoutes} />\n              </Route>\n\n              <Route path=\"/\" component={App}>\n                <IndexRoute component={lazyLoadComponent(() => import('../components/Landing'))} />\n\n                <Route component={GlobalContainer}>\n                  <RouteWithChildRoutes path=\"about\" childRoutes={aboutRoutes} />\n                  <RouteWithChildRoutes path=\"account\" childRoutes={accountRoutes} />\n                  <RouteWithChildRoutes path=\"coding_rules\" childRoutes={codingRulesRoutes} />\n                  <RouteWithChildRoutes path=\"documentation\" childRoutes={documentationRoutes} />\n                  <Route\n                    path=\"extension/:pluginKey/:extensionKey\"\n                    component={lazyLoadComponent(() =>\n                      import('../components/extensions/GlobalPageExtension')\n                    )}\n                  />\n                  <Route\n                    path=\"issues\"\n                    component={withIndexationGuard(Issues, PageContext.Issues)}\n                  />\n                  <RouteWithChildRoutes path=\"projects\" childRoutes={projectsRoutes} />\n                  <RouteWithChildRoutes path=\"quality_gates\" childRoutes={qualityGatesRoutes} />\n                  <Route\n                    path=\"portfolios\"\n                    component={lazyLoadComponent(() =>\n                      import('../components/extensions/PortfoliosPage')\n                    )}\n                  />\n                  <RouteWithChildRoutes path=\"profiles\" childRoutes={qualityProfilesRoutes} />\n                  <RouteWithChildRoutes path=\"web_api\" childRoutes={webAPIRoutes} />\n\n                  {renderComponentRoutes()}\n\n                  {renderAdminRoutes()}\n                </Route>\n                <Route\n                  // We don't want this route to have any menu.\n                  // That is why we can not have it under the accountRoutes\n                  path=\"account/reset_password\"\n                  component={lazyLoadComponent(() => import('../components/ResetPassword'))}\n                />\n                <Route\n                  // We don't want this route to have any menu. This is why we define it here\n                  // rather than under the admin routes.\n                  path=\"admin/change_admin_password\"\n                  component={lazyLoadComponent(() =>\n                    import('../../apps/change-admin-password/ChangeAdminPasswordApp')\n                  )}\n                />\n                <Route\n                  // We don't want this route to have any menu. This is why we define it here\n                  // rather than under the admin routes.\n                  path=\"admin/plugin_risk_consent\"\n                  component={lazyLoadComponent(() => import('../components/PluginRiskConsent'))}\n                />\n                <Route\n                  path=\"not_found\"\n                  component={lazyLoadComponent(() => import('../components/NotFound'))}\n                />\n                <Route\n                  path=\"*\"\n                  component={lazyLoadComponent(() => import('../components/NotFound'))}\n                />\n              </Route>\n            </Route>\n          </Router>\n        </IntlProvider>\n      </Provider>\n    </HelmetProvider>,\n    el\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { colors } from '../../app/theme';\nimport ChevronRightIcon from '../icons/ChevronRightIcon';\nimport ClearIcon, { ClearIconProps } from '../icons/ClearIcon';\nimport DeleteIcon from '../icons/DeleteIcon';\nimport EditIcon from '../icons/EditIcon';\nimport { IconProps } from '../icons/Icon';\nimport './buttons.css';\nimport Tooltip, { TooltipProps } from './Tooltip';\n\ntype AllowedButtonAttributes = Pick<\n  React.ButtonHTMLAttributes<HTMLButtonElement>,\n  'className' | 'disabled' | 'id' | 'style' | 'title'\n>;\n\ninterface ButtonProps extends AllowedButtonAttributes {\n  autoFocus?: boolean;\n  children?: React.ReactNode;\n  innerRef?: (node: HTMLElement | null) => void;\n  name?: string;\n  onClick?: () => void;\n  preventDefault?: boolean;\n  stopPropagation?: boolean;\n  type?: 'button' | 'submit' | 'reset';\n}\n\nexport class Button extends React.PureComponent<ButtonProps> {\n  handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    const { disabled, onClick, preventDefault = true, stopPropagation = false } = this.props;\n\n    event.currentTarget.blur();\n    if (preventDefault || disabled) {\n      event.preventDefault();\n    }\n    if (stopPropagation) {\n      event.stopPropagation();\n    }\n\n    if (onClick && !disabled) {\n      onClick();\n    }\n  };\n\n  render() {\n    const {\n      className,\n      disabled,\n      innerRef,\n      onClick,\n      preventDefault,\n      stopPropagation,\n      type = 'button',\n      ...props\n    } = this.props;\n    return (\n      <button\n        {...props}\n        aria-disabled={disabled}\n        className={classNames('button', className, { disabled })}\n        id={this.props.id}\n        onClick={this.handleClick}\n        ref={this.props.innerRef}\n        // eslint-disable-next-line react/button-has-type\n        type={type}\n      />\n    );\n  }\n}\n\nexport function ButtonLink({ className, ...props }: ButtonProps) {\n  return <Button {...props} className={classNames('button-link', className)} />;\n}\n\nexport function SubmitButton(props: T.Omit<ButtonProps, 'type'>) {\n  // do not prevent default to actually submit a form\n  return <Button {...props} preventDefault={false} type=\"submit\" />;\n}\n\nexport function ResetButtonLink(props: T.Omit<ButtonProps, 'type'>) {\n  return <ButtonLink {...props} type=\"reset\" />;\n}\n\nexport interface ButtonIconProps extends ButtonProps {\n  'aria-label'?: string;\n  'aria-labelledby'?: string;\n  className?: string;\n  color?: string;\n  onClick?: () => void;\n  tooltip?: React.ReactNode;\n  tooltipProps?: Partial<TooltipProps>;\n}\n\nexport function ButtonIcon(props: ButtonIconProps) {\n  const { className, color, tooltip, tooltipProps, ...other } = props;\n  return (\n    <Tooltip mouseEnterDelay={0.4} overlay={tooltip} {...tooltipProps}>\n      <Button\n        className={classNames(className, 'button-icon')}\n        stopPropagation={true}\n        style={{ color: color || colors.darkBlue }}\n        {...other}\n      />\n    </Tooltip>\n  );\n}\n\ninterface ClearButtonProps extends ButtonIconProps {\n  className?: string;\n  iconProps?: ClearIconProps;\n  onClick?: () => void;\n}\n\nexport function ClearButton({ color, iconProps = {}, ...props }: ClearButtonProps) {\n  return (\n    <ButtonIcon color={color || colors.gray60} {...props}>\n      <ClearIcon {...iconProps} />\n    </ButtonIcon>\n  );\n}\n\ninterface ActionButtonProps extends ButtonIconProps {\n  className?: string;\n  iconProps?: IconProps;\n  onClick?: () => void;\n}\n\nexport function DeleteButton({ iconProps = {}, ...props }: ActionButtonProps) {\n  return (\n    <ButtonIcon color={colors.red} {...props}>\n      <DeleteIcon {...iconProps} />\n    </ButtonIcon>\n  );\n}\n\nexport function EditButton({ iconProps = {}, ...props }: ActionButtonProps) {\n  return (\n    <ButtonIcon {...props}>\n      <EditIcon {...iconProps} />\n    </ButtonIcon>\n  );\n}\n\nexport function ListButton({ className, children, ...props }: ButtonProps) {\n  return (\n    <Button className={classNames('button-list', className)} {...props}>\n      {children}\n      <ChevronRightIcon />\n    </Button>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport interface IconProps extends React.AriaAttributes {\n  className?: string;\n  fill?: string;\n  size?: number;\n}\n\ninterface Props extends React.AriaAttributes {\n  children: React.ReactNode;\n  className?: string;\n  size?: number;\n  style?: React.CSSProperties;\n\n  // try to avoid using these:\n  width?: number;\n  height?: number;\n  viewBox?: string;\n}\n\nexport default function Icon({\n  children,\n  className,\n  size = 16,\n  style,\n  height = size,\n  width = size,\n  viewBox = '0 0 16 16',\n  ...iconProps\n}: Props) {\n  return (\n    <svg\n      className={className}\n      height={height}\n      style={{\n        fillRule: 'evenodd',\n        clipRule: 'evenodd',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: 1.41421,\n        ...style\n      }}\n      version=\"1.1\"\n      viewBox={viewBox}\n      width={width}\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      xmlSpace=\"preserve\"\n      {...iconProps}>\n      {children}\n    </svg>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { throttle } from 'lodash';\nimport * as React from 'react';\nimport { createPortal, findDOMNode } from 'react-dom';\nimport { rawSizes } from '../../app/theme';\nimport ScreenPositionFixer from './ScreenPositionFixer';\nimport './Tooltip.css';\n\nexport type Placement = 'bottom' | 'right' | 'left' | 'top';\n\nexport interface TooltipProps {\n  classNameSpace?: string;\n  children: React.ReactElement<{}>;\n  mouseEnterDelay?: number;\n  mouseLeaveDelay?: number;\n  onShow?: () => void;\n  onHide?: () => void;\n  overlay: React.ReactNode;\n  placement?: Placement;\n  visible?: boolean;\n}\n\ninterface Measurements {\n  height: number;\n  left: number;\n  top: number;\n  width: number;\n}\n\ninterface OwnState {\n  flipped: boolean;\n  placement?: Placement;\n  visible: boolean;\n}\n\ntype State = OwnState & Partial<Measurements>;\n\nconst FLIP_MAP: { [key in Placement]: Placement } = {\n  left: 'right',\n  right: 'left',\n  top: 'bottom',\n  bottom: 'top'\n};\n\nfunction isMeasured(state: State): state is OwnState & Measurements {\n  return state.height !== undefined;\n}\n\nexport default function Tooltip(props: TooltipProps) {\n  // overlay is a ReactNode, so it can be `undefined` or `null`\n  // this allows to easily render a tooltip conditionally\n  // more generaly we avoid rendering empty tooltips\n  return props.overlay != null && props.overlay !== '' ? (\n    <TooltipInner {...props} />\n  ) : (\n    props.children\n  );\n}\n\nexport class TooltipInner extends React.Component<TooltipProps, State> {\n  throttledPositionTooltip: () => void;\n  mouseEnterTimeout?: number;\n  mouseLeaveTimeout?: number;\n  tooltipNode?: HTMLElement | null;\n  mounted = false;\n  mouseIn = false;\n\n  static defaultProps = {\n    mouseEnterDelay: 0.1\n  };\n\n  constructor(props: TooltipProps) {\n    super(props);\n    this.state = {\n      flipped: false,\n      placement: props.placement,\n      visible: props.visible !== undefined ? props.visible : false\n    };\n    this.throttledPositionTooltip = throttle(this.positionTooltip, 10);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    if (this.props.visible === true) {\n      this.positionTooltip();\n      this.addEventListeners();\n    }\n  }\n\n  componentDidUpdate(prevProps: TooltipProps, prevState: State) {\n    if (this.props.placement !== prevProps.placement) {\n      this.setState({ placement: this.props.placement });\n      // Break. This will trigger a new componentDidUpdate() call, so the below\n      // positionTooltip() call will be correct. Otherwise, it might not use\n      // the new state.placement value.\n      return;\n    }\n\n    if (\n      // opens\n      (this.props.visible === true && !prevProps.visible) ||\n      (this.props.visible === undefined &&\n        this.state.visible === true &&\n        prevState.visible === false)\n    ) {\n      this.positionTooltip();\n      this.addEventListeners();\n    } else if (\n      // closes\n      (!this.props.visible && prevProps.visible === true) ||\n      (this.props.visible === undefined &&\n        this.state.visible === false &&\n        prevState.visible === true)\n    ) {\n      this.clearPosition();\n      this.removeEventListeners();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    this.removeEventListeners();\n    this.clearTimeouts();\n  }\n\n  addEventListeners = () => {\n    window.addEventListener('resize', this.throttledPositionTooltip);\n    window.addEventListener('scroll', this.throttledPositionTooltip);\n  };\n\n  removeEventListeners = () => {\n    window.removeEventListener('resize', this.throttledPositionTooltip);\n    window.removeEventListener('scroll', this.throttledPositionTooltip);\n  };\n\n  clearTimeouts = () => {\n    window.clearTimeout(this.mouseEnterTimeout);\n    window.clearTimeout(this.mouseLeaveTimeout);\n  };\n\n  isVisible = () => {\n    return this.props.visible !== undefined ? this.props.visible : this.state.visible;\n  };\n\n  getPlacement = (): Placement => {\n    return this.state.placement || 'bottom';\n  };\n\n  tooltipNodeRef = (node: HTMLElement | null) => {\n    this.tooltipNode = node;\n  };\n\n  adjustArrowPosition = (\n    placement: Placement,\n    { leftFix, topFix }: { leftFix: number; topFix: number }\n  ) => {\n    switch (placement) {\n      case 'left':\n      case 'right':\n        return { marginTop: -topFix };\n      default:\n        return { marginLeft: -leftFix };\n    }\n  };\n\n  positionTooltip = () => {\n    // `findDOMNode(this)` will search for the DOM node for the current component\n    // first it will find a React.Fragment (see `render`),\n    // so it will get the DOM node of the first child, i.e. DOM node of `this.props.children`\n    // docs: https://reactjs.org/docs/refs-and-the-dom.html#exposing-dom-refs-to-parent-components\n\n    // eslint-disable-next-line react/no-find-dom-node\n    const toggleNode = findDOMNode(this);\n\n    if (toggleNode && toggleNode instanceof Element && this.tooltipNode) {\n      const toggleRect = toggleNode.getBoundingClientRect();\n      const tooltipRect = this.tooltipNode.getBoundingClientRect();\n      const { width, height } = tooltipRect;\n\n      let left = 0;\n      let top = 0;\n\n      switch (this.getPlacement()) {\n        case 'bottom':\n          left = toggleRect.left + toggleRect.width / 2 - width / 2;\n          top = toggleRect.top + toggleRect.height;\n          break;\n        case 'top':\n          left = toggleRect.left + toggleRect.width / 2 - width / 2;\n          top = toggleRect.top - height;\n          break;\n        case 'right':\n          left = toggleRect.left + toggleRect.width;\n          top = toggleRect.top + toggleRect.height / 2 - height / 2;\n          break;\n        case 'left':\n          left = toggleRect.left - width;\n          top = toggleRect.top + toggleRect.height / 2 - height / 2;\n          break;\n      }\n\n      // save width and height (and later set in `render`) to avoid resizing the tooltip element,\n      // when it's placed close to the window edge\n      this.setState({\n        left: window.pageXOffset + left,\n        top: window.pageYOffset + top,\n        width,\n        height\n      });\n    }\n  };\n\n  clearPosition = () => {\n    this.setState({\n      flipped: false,\n      left: undefined,\n      top: undefined,\n      width: undefined,\n      height: undefined,\n      placement: this.props.placement\n    });\n  };\n\n  handleMouseEnter = () => {\n    this.mouseEnterTimeout = window.setTimeout(() => {\n      // for some reason even after the `this.mouseEnterTimeout` is cleared, it still triggers\n      // to workaround this issue, check that its value is not `undefined`\n      // (if it's `undefined`, it means the timer has been reset)\n      if (\n        this.mounted &&\n        this.props.visible === undefined &&\n        this.mouseEnterTimeout !== undefined\n      ) {\n        this.setState({ visible: true });\n      }\n    }, (this.props.mouseEnterDelay || 0) * 1000);\n\n    if (this.props.onShow) {\n      this.props.onShow();\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (this.mouseEnterTimeout !== undefined) {\n      window.clearTimeout(this.mouseEnterTimeout);\n      this.mouseEnterTimeout = undefined;\n    }\n\n    if (!this.mouseIn) {\n      this.mouseLeaveTimeout = window.setTimeout(() => {\n        if (this.mounted && this.props.visible === undefined && !this.mouseIn) {\n          this.setState({ visible: false });\n        }\n      }, (this.props.mouseLeaveDelay || 0) * 1000);\n\n      if (this.props.onHide) {\n        this.props.onHide();\n      }\n    }\n  };\n\n  handleOverlayMouseEnter = () => {\n    this.mouseIn = true;\n  };\n\n  handleOverlayMouseLeave = () => {\n    this.mouseIn = false;\n    this.handleMouseLeave();\n  };\n\n  needsFlipping = (leftFix: number, topFix: number) => {\n    // We can live with a tooltip that's slightly positioned over the toggle\n    // node. Only trigger if it really starts overlapping, as the re-positioning\n    // is quite expensive, needing 2 re-renders.\n    const threshold = rawSizes.grid;\n    switch (this.getPlacement()) {\n      case 'left':\n      case 'right':\n        return Math.abs(leftFix) > threshold;\n      case 'top':\n      case 'bottom':\n        return Math.abs(topFix) > threshold;\n    }\n    return false;\n  };\n\n  renderActual = ({ leftFix = 0, topFix = 0 }) => {\n    if (\n      !this.state.flipped &&\n      (leftFix !== 0 || topFix !== 0) &&\n      this.needsFlipping(leftFix, topFix)\n    ) {\n      // Update state in a render function... Not a good idea, but we need to\n      // render in order to know if we need to flip... To prevent React from\n      // complaining, we update the state using a setTimeout() call.\n      setTimeout(() => {\n        this.setState(\n          ({ placement = 'bottom' }) => ({\n            flipped: true,\n            // Set height to undefined to force ScreenPositionFixer to\n            // re-compute our positioning.\n            height: undefined,\n            placement: FLIP_MAP[placement]\n          }),\n          () => {\n            if (this.state.visible) {\n              // Force a re-positioning, as \"only\" updating the state doesn't\n              // recompute the position, only re-renders with the previous\n              // position (which is no longer correct).\n              this.positionTooltip();\n            }\n          }\n        );\n      }, 1);\n      return null;\n    }\n\n    const { classNameSpace = 'tooltip' } = this.props;\n    const currentPlacement = this.getPlacement();\n    const style = isMeasured(this.state)\n      ? {\n          left: this.state.left + leftFix,\n          top: this.state.top + topFix,\n          width: this.state.width,\n          height: this.state.height\n        }\n      : undefined;\n\n    return (\n      <div\n        className={`${classNameSpace} ${currentPlacement}`}\n        onMouseEnter={this.handleOverlayMouseEnter}\n        onMouseLeave={this.handleOverlayMouseLeave}\n        ref={this.tooltipNodeRef}\n        style={style}>\n        <div className={`${classNameSpace}-inner`}>{this.props.overlay}</div>\n        <div\n          className={`${classNameSpace}-arrow`}\n          style={\n            isMeasured(this.state)\n              ? this.adjustArrowPosition(currentPlacement, { leftFix, topFix })\n              : undefined\n          }\n        />\n      </div>\n    );\n  };\n\n  render() {\n    return (\n      <>\n        {React.cloneElement(this.props.children, {\n          onMouseEnter: this.handleMouseEnter,\n          onMouseLeave: this.handleMouseLeave\n        })}\n        {this.isVisible() && (\n          <TooltipPortal>\n            <ScreenPositionFixer ready={isMeasured(this.state)}>\n              {this.renderActual}\n            </ScreenPositionFixer>\n          </TooltipPortal>\n        )}\n      </>\n    );\n  }\n}\n\nclass TooltipPortal extends React.Component {\n  el: HTMLElement;\n\n  constructor(props: {}) {\n    super(props);\n    this.el = document.createElement('div');\n  }\n\n  componentDidMount() {\n    document.body.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    document.body.removeChild(this.el);\n  }\n\n  render() {\n    return createPortal(this.props.children, this.el);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// IMPORTANT: any change in this file requires restart of the dev server\nconst grid = 8;\nconst baseFontSizeRaw = 13;\n\nmodule.exports = {\n  colors: {\n    blue: '#4b9fd5',\n    veryLightBlue: '#f2faff',\n    lightBlue: '#cae3f2',\n    darkBlue: '#236a97',\n    veryDarkBlue: '#0E516F',\n    green: '#00aa00',\n    lightGreen: '#b0d513',\n    veryLightGreen: '#f5f9fc',\n    yellow: '#eabe06',\n    orange: '#ed7d20',\n    red: '#d4333f',\n    purple: '#9139d4',\n    white: '#ffffff',\n\n    gray94: '#efefef',\n    gray80: '#cdcdcd',\n    gray71: '#b4b4b4',\n    gray67: '#aaa',\n    gray60: '#999',\n    gray40: '#404040',\n\n    transparentWhite: 'rgba(255,255,255,0.62)',\n    transparentGray: 'rgba(200, 200, 200, 0.5)',\n    transparentBlack: 'rgba(0, 0, 0, 0.25)',\n\n    disableGrayText: '#bbb',\n    disableGrayBorder: '#ddd',\n    disableGrayBg: '#ebebeb',\n\n    barBackgroundColor: '#f3f3f3',\n    barBackgroundColorHighlight: '#f8f8f8',\n    barBorderColor: '#e6e6e6',\n\n    globalNavBarBg: '#262626',\n\n    // table\n    rowHoverHighlight: '#ecf6fe',\n\n    // fonts\n    baseFontColor: '#333',\n    secondFontColor: '#666',\n\n    // forms\n    mandatoryFieldColor: '#a4030f',\n\n    // leak\n    leakPrimaryColor: '#fbf3d5',\n    leakSecondaryColor: '#f1e8cb',\n\n    // issues\n    issueBgColor: '#f2dede',\n    hotspotBgColor: '#eeeff4',\n    issueLocationSelected: '#f4b1b0',\n    issueLocationHighlighted: '#e1e1f2',\n    conciseIssueRed: '#d18582',\n    conciseIssueRedSelected: '#a4030f',\n\n    // coverage\n    lineCoverageRed: '#a4030f',\n    lineCoverageGreen: '#b4dd78',\n\n    // alerts\n    warningIconColor: '#eabe06',\n\n    alertBorderError: '#f4b1b0',\n    alertBackgroundError: '#f2dede',\n    alertTextError: '#862422',\n    alertIconError: '#a4030f',\n\n    alertBorderWarning: '#faebcc',\n    alertBackgroundWarning: '#fcf8e3',\n    alertTextWarning: '#6f4f17',\n    alertIconWarning: '#db781a',\n\n    alertBorderSuccess: '#d6e9c6',\n    alertBackgroundSuccess: '#dff0d8',\n    alertTextSuccess: '#215821',\n    alertIconSuccess: '#6d9867',\n\n    alertBorderInfo: '#b1dff3',\n    alertBackgroundInfo: '#d9edf7',\n    alertTextInfo: '#0e516f',\n    alertIconInfo: '#0271b9',\n\n    // badge\n    badgeBlueBackground: '#2E7CB5',\n    badgeBlueColor: '#FFFFFF',\n    badgeRedBackgroundOnIssue: '#EEC8C8',\n\n    // alm\n    azure: '#0078d7',\n    bitbucket: '#0052CC',\n    github: '#e1e4e8',\n\n    // code/pre\n    codeBackground: '#e6e6e6',\n\n    // sonarcloud\n    sonarcloudOrange500: '#fd6a00',\n    sonarcloudOrange600: '#e26003',\n    sonarcloudOrange700: '#db5700',\n\n    sonarcloudBlack100: '#ffffff',\n    sonarcloudBlack200: '#f9f9fb',\n    sonarcloudBlack250: '#e6e8ea',\n    sonarcloudBlack300: '#cfd3d7',\n    sonarcloudBlack500: '#8a8c8f',\n    sonarcloudBlack700: '#434447',\n    sonarcloudBlack800: '#2d3032',\n    sonarcloudBlack900: '#070706',\n\n    sonarcloudBlue500: '#4c9bd6',\n    sonarcloudBlue600: '#327bb3',\n    sonarcloudBlue900: '#0b3c62',\n\n    sonarcloudBorderGray: 'rgba(207, 211, 215, 0.5)'\n  },\n\n  sizes: {\n    gridSize: `${grid}px`,\n\n    baseFontSize: `${baseFontSizeRaw}px`,\n    verySmallFontSize: '10px',\n    smallFontSize: '12px',\n    mediumFontSize: '14px',\n    bigFontSize: '16px',\n    hugeFontSize: '24px',\n    giganticFontSize: '36px',\n\n    hugeControlHeight: `${5 * grid}px`,\n    largeControlHeight: `${4 * grid}px`,\n    controlHeight: `${3 * grid}px`,\n    smallControlHeight: `${2.5 * grid}px`,\n    tinyControlHeight: `${2 * grid}px`,\n\n    globalNavHeight: `${6 * grid}px`,\n\n    globalNavContentHeight: `${4 * grid}px`,\n\n    maxPageWidth: '1320px',\n    minPageWidth: '1080px',\n    pagePadding: '20px'\n  },\n\n  rawSizes: {\n    grid,\n    baseFontSizeRaw,\n    globalNavHeightRaw: 6 * grid,\n    globalNavContentHeightRaw: 4 * grid,\n    contextNavHeightRaw: 9 * grid\n  },\n\n  fonts: {\n    baseFontFamily: \"'Helvetica Neue', Helvetica, Arial, sans-serif\",\n    systemFontFamily: \"-apple-system,'BlinkMacSystemFont','Helvetica','Arial',sans-serif\",\n    sourceCodeFontFamily: \"Consolas, 'Ubuntu Mono', 'Liberation Mono', Menlo, Courier, monospace\"\n  },\n\n  // z-index\n  // =======\n  //    1 -  100  for page elements (e.g. sidebars, panels)\n  //  101 -  500  for generic page fixed elements (e.g. navigation, workspace)\n  //  501 - 3000  for page ui elements\n  // 3001 - 8000  for generic ui elements (e.g. dropdowns, tooltips)\n  zIndexes: {\n    // common\n    aboveNormalZIndex: '3',\n    normalZIndex: '2',\n    belowNormalZIndex: '1',\n\n    // ui elements\n    pageMainZIndex: '50',\n    pageSideZIndex: '51',\n    pageHeaderZIndex: '55',\n\n    globalBannerZIndex: '60',\n\n    contextbarZIndex: '420',\n\n    tooltipZIndex: '8000',\n\n    dropdownMenuZIndex: '7500',\n\n    processContainerZIndex: '7000',\n\n    modalZIndex: '6001',\n    modalOverlayZIndex: '6000',\n\n    popupZIndex: '5000'\n  },\n\n  others: {\n    defaultShadow: '0 6px 12px rgba(0, 0, 0, 0.175)'\n  }\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './DeferredSpinner.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  className?: string;\n  customSpinner?: JSX.Element;\n  loading?: boolean;\n  placeholder?: boolean;\n  timeout?: number;\n}\n\ninterface State {\n  showSpinner: boolean;\n}\n\nconst DEFAULT_TIMEOUT = 100;\n\nexport default class DeferredSpinner extends React.PureComponent<Props, State> {\n  timer?: number;\n\n  state: State = { showSpinner: false };\n\n  componentDidMount() {\n    if (this.props.loading == null || this.props.loading === true) {\n      this.startTimer();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.loading === false && this.props.loading === true) {\n      this.stopTimer();\n      this.startTimer();\n    }\n    if (prevProps.loading === true && this.props.loading === false) {\n      this.stopTimer();\n      this.setState({ showSpinner: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.stopTimer();\n  }\n\n  startTimer = () => {\n    this.timer = window.setTimeout(\n      () => this.setState({ showSpinner: true }),\n      this.props.timeout || DEFAULT_TIMEOUT\n    );\n  };\n\n  stopTimer = () => {\n    window.clearTimeout(this.timer);\n  };\n\n  render() {\n    if (this.state.showSpinner) {\n      return (\n        this.props.customSpinner || (\n          <i className={classNames('deferred-spinner', this.props.className)} />\n        )\n      );\n    }\n    return (\n      this.props.children ||\n      (this.props.placeholder ? (\n        <i className={classNames('deferred-spinner-placeholder', this.props.className)} />\n      ) : null)\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { MetricKey } from '../types/metrics';\nimport {\n  QualityGateStatusCondition,\n  QualityGateStatusConditionEnhanced\n} from '../types/quality-gates';\nimport { getCurrentLocale, translate, translateWithParameters } from './l10n';\nimport { isDefined } from './types';\n\nexport function enhanceMeasuresWithMetrics(\n  measures: T.Measure[],\n  metrics: T.Metric[]\n): T.MeasureEnhanced[] {\n  return measures\n    .map(measure => {\n      const metric = metrics.find(metric => metric.key === measure.metric);\n      return metric && { ...measure, metric };\n    })\n    .filter(isDefined);\n}\n\nexport function enhanceConditionWithMeasure(\n  condition: QualityGateStatusCondition,\n  measures: T.MeasureEnhanced[]\n): QualityGateStatusConditionEnhanced | undefined {\n  const measure = measures.find(m => m.metric.key === condition.metric);\n\n  // Make sure we have a period index. This is necessary when dealing with\n  // applications.\n  let { period } = condition;\n  if (measure && measure.period && !period) {\n    period = measure.period.index;\n  }\n\n  return measure && { ...condition, period, measure };\n}\n\nexport function isPeriodBestValue(measure: T.Measure | T.MeasureEnhanced): boolean {\n  return measure.period?.bestValue || false;\n}\n\n/** Check if metric is differential */\nexport function isDiffMetric(metricKey: MetricKey | string): boolean {\n  return metricKey.indexOf('new_') === 0;\n}\n\nfunction getRatingGrid(): string {\n  // workaround cyclic dependencies\n  const getStore = require('../app/utils/getStore').default;\n  const { getGlobalSettingValue } = require('../store/rootReducer');\n\n  const store = getStore();\n  const settingValue = getGlobalSettingValue(store.getState(), 'sonar.technicalDebt.ratingGrid');\n  return settingValue ? settingValue.value : '';\n}\n\nlet maintainabilityRatingGrid: number[];\n\nfunction getMaintainabilityRatingGrid(): number[] {\n  if (maintainabilityRatingGrid) {\n    return maintainabilityRatingGrid;\n  }\n\n  const str = getRatingGrid();\n  const numbers = str\n    .split(',')\n    .map(s => parseFloat(s))\n    .filter(n => !isNaN(n));\n\n  if (numbers.length === 4) {\n    maintainabilityRatingGrid = numbers;\n  } else {\n    maintainabilityRatingGrid = [0, 0, 0, 0];\n  }\n\n  return maintainabilityRatingGrid;\n}\n\nfunction getMaintainabilityRatingTooltip(rating: number): string {\n  const maintainabilityGrid = getMaintainabilityRatingGrid();\n  const maintainabilityRatingThreshold = maintainabilityGrid[Math.floor(rating) - 2];\n\n  if (rating < 2) {\n    return translateWithParameters(\n      'metric.sqale_rating.tooltip.A',\n      formatMeasure(maintainabilityGrid[0] * 100, 'PERCENT')\n    );\n  }\n\n  const ratingLetter = formatMeasure(rating, 'RATING');\n\n  return translateWithParameters(\n    'metric.sqale_rating.tooltip',\n    ratingLetter,\n    formatMeasure(maintainabilityRatingThreshold * 100, 'PERCENT')\n  );\n}\n\nexport function getRatingTooltip(metricKey: MetricKey | string, value: number | string): string {\n  const ratingLetter = formatMeasure(value, 'RATING');\n\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n\n  return finalMetricKey === 'sqale_rating' || finalMetricKey === 'maintainability_rating'\n    ? getMaintainabilityRatingTooltip(Number(value))\n    : translate('metric', finalMetricKey, 'tooltip', ratingLetter);\n}\n\nexport function getDisplayMetrics(metrics: T.Metric[]) {\n  return metrics.filter(metric => !metric.hidden && !['DATA', 'DISTRIB'].includes(metric.type));\n}\n\nexport function findMeasure(measures: T.MeasureEnhanced[], metric: MetricKey | string) {\n  return measures.find(measure => measure.metric.key === metric);\n}\n\nconst HOURS_IN_DAY = 8;\n\ninterface Formatter {\n  (value: string | number, options?: any): string;\n}\n\n/** Format a measure value for a given type */\nexport function formatMeasure(\n  value: string | number | undefined,\n  type: string,\n  options?: any\n): string {\n  const formatter = getFormatter(type);\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  return useFormatter(value, formatter, options);\n}\n\n/** Return a localized metric name */\nexport function localizeMetric(metricKey: string): string {\n  return translate('metric', metricKey, 'name');\n}\n\n/** Return corresponding \"short\" for better display in UI */\nexport function getShortType(type: string): string {\n  if (type === 'INT') {\n    return 'SHORT_INT';\n  } else if (type === 'WORK_DUR') {\n    return 'SHORT_WORK_DUR';\n  }\n  return type;\n}\n\n/*\n * Conditional decimal count for QualityGate-impacting measures\n * (e.g. Coverage %)\n * Increase the number of decimals if the value is close to the threshold\n * We count the precision (number of 0's, i.e. log10 and round down) needed to show the difference\n * E.g. threshold 85, value 84.9993 -> delta = 0.0007, we need 4 decimals to see the difference\n * otherwise rounding will make it look like they are equal.\n */\nconst DEFAULT_DECIMALS = 1;\nexport function getMinDecimalsCountToBeDistinctFromThreshold(\n  value: number,\n  threshold: number | undefined\n): number {\n  if (!threshold) {\n    return DEFAULT_DECIMALS;\n  }\n  const delta = Math.abs(threshold - value);\n  if (delta < 0.1 && delta > 0) {\n    return -Math.floor(Math.log10(delta));\n  }\n  return DEFAULT_DECIMALS;\n}\n\nfunction useFormatter(\n  value: string | number | undefined,\n  formatter: Formatter,\n  options?: any\n): string {\n  return value !== undefined && value !== '' ? formatter(value, options) : '';\n}\n\nfunction getFormatter(type: string): Formatter {\n  const FORMATTERS: T.Dict<Formatter> = {\n    INT: intFormatter,\n    SHORT_INT: shortIntFormatter,\n    FLOAT: floatFormatter,\n    PERCENT: percentFormatter,\n    WORK_DUR: durationFormatter,\n    SHORT_WORK_DUR: shortDurationFormatter,\n    RATING: ratingFormatter,\n    LEVEL: levelFormatter,\n    MILLISEC: millisecondsFormatter\n  };\n  return FORMATTERS[type] || noFormatter;\n}\n\nfunction numberFormatter(\n  value: string | number,\n  minimumFractionDigits = 0,\n  maximumFractionDigits = minimumFractionDigits\n) {\n  const { format } = new Intl.NumberFormat(getCurrentLocale(), {\n    minimumFractionDigits,\n    maximumFractionDigits\n  });\n  if (typeof value === 'string') {\n    return format(parseFloat(value));\n  }\n  return format(value);\n}\n\nfunction noFormatter(value: string | number): string | number {\n  return value;\n}\n\nfunction intFormatter(value: string | number): string {\n  return numberFormatter(value);\n}\n\nconst shortIntFormats = [\n  { unit: 1e10, formatUnit: 1e9, fraction: 0, suffix: 'short_number_suffix.g' },\n  { unit: 1e9, formatUnit: 1e9, fraction: 1, suffix: 'short_number_suffix.g' },\n  { unit: 1e7, formatUnit: 1e6, fraction: 0, suffix: 'short_number_suffix.m' },\n  { unit: 1e6, formatUnit: 1e6, fraction: 1, suffix: 'short_number_suffix.m' },\n  { unit: 1e4, formatUnit: 1e3, fraction: 0, suffix: 'short_number_suffix.k' },\n  { unit: 1e3, formatUnit: 1e3, fraction: 1, suffix: 'short_number_suffix.k' }\n];\n\nfunction shortIntFormatter(\n  value: string | number,\n  option?: { roundingFunc?: (x: number) => number }\n): string {\n  const roundingFunc = (option && option.roundingFunc) || undefined;\n  if (typeof value === 'string') {\n    value = parseFloat(value);\n  }\n  for (let i = 0; i < shortIntFormats.length; i++) {\n    const { unit, formatUnit, fraction, suffix } = shortIntFormats[i];\n    const nextFraction = unit / (shortIntFormats[i + 1] ? shortIntFormats[i + 1].unit / 10 : 1);\n    const roundedValue = numberRound(value / unit, nextFraction, roundingFunc);\n    if (roundedValue >= 1) {\n      return (\n        numberFormatter(\n          numberRound(value / formatUnit, Math.pow(10, fraction), roundingFunc),\n          0,\n          fraction\n        ) + translate(suffix)\n      );\n    }\n  }\n\n  return numberFormatter(value);\n}\n\nfunction numberRound(\n  value: number,\n  fraction: number = 1000,\n  roundingFunc: (x: number) => number = Math.round\n) {\n  return roundingFunc(value * fraction) / fraction;\n}\n\nfunction floatFormatter(value: string | number): string {\n  return numberFormatter(value, 1, 5);\n}\n\nfunction percentFormatter(\n  value: string | number,\n  { decimals, omitExtraDecimalZeros }: { decimals?: number; omitExtraDecimalZeros?: boolean } = {}\n): string {\n  if (typeof value === 'string') {\n    value = parseFloat(value);\n  }\n  if (value === 100) {\n    return '100%';\n  } else if (omitExtraDecimalZeros && decimals) {\n    // If omitExtraDecimalZeros is true, all trailing decimal 0s will be removed,\n    // except for the first decimal.\n    // E.g. for decimals=3:\n    // - omitExtraDecimalZeros: false, value: 45.450 => 45.450\n    // - omitExtraDecimalZeros: true, value: 45.450 => 45.45\n    // - omitExtraDecimalZeros: false, value: 85 => 85.000\n    // - omitExtraDecimalZeros: true, value: 85 => 85.0\n    return `${numberFormatter(value, 1, decimals)}%`;\n  }\n  return `${numberFormatter(value, decimals || 1)}%`;\n}\n\nfunction ratingFormatter(value: string | number): string {\n  if (typeof value === 'string') {\n    value = parseInt(value, 10);\n  }\n  return String.fromCharCode(97 + value - 1).toUpperCase();\n}\n\nfunction levelFormatter(value: string | number): string {\n  if (typeof value === 'number') {\n    value = value.toString();\n  }\n  const l10nKey = `metric.level.${value}`;\n  const result = translate(l10nKey);\n\n  // if couldn't translate, return the initial value\n  return l10nKey !== result ? result : value;\n}\n\nfunction millisecondsFormatter(value: string | number): string {\n  if (typeof value === 'string') {\n    value = parseInt(value, 10);\n  }\n  const ONE_SECOND = 1000;\n  const ONE_MINUTE = 60 * ONE_SECOND;\n  if (value >= ONE_MINUTE) {\n    const minutes = Math.round(value / ONE_MINUTE);\n    return `${minutes}min`;\n  } else if (value >= ONE_SECOND) {\n    const seconds = Math.round(value / ONE_SECOND);\n    return `${seconds}s`;\n  }\n  return `${value}ms`;\n}\n\n/*\n * Debt Formatters\n */\n\nfunction shouldDisplayDays(days: number): boolean {\n  return days > 0;\n}\n\nfunction shouldDisplayDaysInShortFormat(days: number): boolean {\n  return days > 0.9;\n}\n\nfunction shouldDisplayHours(days: number, hours: number): boolean {\n  return hours > 0 && days < 10;\n}\n\nfunction shouldDisplayHoursInShortFormat(hours: number): boolean {\n  return hours > 0.9;\n}\n\nfunction shouldDisplayMinutes(days: number, hours: number, minutes: number): boolean {\n  return minutes > 0 && hours < 10 && days === 0;\n}\n\nfunction addSpaceIfNeeded(value: string): string {\n  return value.length > 0 ? `${value} ` : value;\n}\n\nfunction formatDuration(isNegative: boolean, days: number, hours: number, minutes: number): string {\n  let formatted = '';\n  if (shouldDisplayDays(days)) {\n    formatted += translateWithParameters('work_duration.x_days', isNegative ? -1 * days : days);\n  }\n  if (shouldDisplayHours(days, hours)) {\n    formatted = addSpaceIfNeeded(formatted);\n    formatted += translateWithParameters(\n      'work_duration.x_hours',\n      isNegative && formatted.length === 0 ? -1 * hours : hours\n    );\n  }\n  if (shouldDisplayMinutes(days, hours, minutes)) {\n    formatted = addSpaceIfNeeded(formatted);\n    formatted += translateWithParameters(\n      'work_duration.x_minutes',\n      isNegative && formatted.length === 0 ? -1 * minutes : minutes\n    );\n  }\n  return formatted;\n}\n\nfunction formatDurationShort(\n  isNegative: boolean,\n  days: number,\n  hours: number,\n  minutes: number\n): string {\n  if (shouldDisplayDaysInShortFormat(days)) {\n    const roundedDays = Math.round(days);\n    const formattedDays = formatMeasure(isNegative ? -1 * roundedDays : roundedDays, 'SHORT_INT');\n    return translateWithParameters('work_duration.x_days', formattedDays);\n  }\n\n  if (shouldDisplayHoursInShortFormat(hours)) {\n    const roundedHours = Math.round(hours);\n    const formattedHours = formatMeasure(\n      isNegative ? -1 * roundedHours : roundedHours,\n      'SHORT_INT'\n    );\n    return translateWithParameters('work_duration.x_hours', formattedHours);\n  }\n\n  const formattedMinutes = formatMeasure(isNegative ? -1 * minutes : minutes, 'SHORT_INT');\n  return translateWithParameters('work_duration.x_minutes', formattedMinutes);\n}\n\nfunction durationFormatter(value: string | number): string {\n  if (typeof value === 'string') {\n    value = parseInt(value, 10);\n  }\n  if (value === 0) {\n    return '0';\n  }\n  const hoursInDay = HOURS_IN_DAY;\n  const isNegative = value < 0;\n  const absValue = Math.abs(value);\n  const days = Math.floor(absValue / hoursInDay / 60);\n  let remainingValue = absValue - days * hoursInDay * 60;\n  const hours = Math.floor(remainingValue / 60);\n  remainingValue -= hours * 60;\n  return formatDuration(isNegative, days, hours, remainingValue);\n}\n\nfunction shortDurationFormatter(value: string | number): string {\n  if (typeof value === 'string') {\n    value = parseInt(value, 10);\n  }\n  if (value === 0) {\n    return '0';\n  }\n  const hoursInDay = HOURS_IN_DAY;\n  const isNegative = value < 0;\n  const absValue = Math.abs(value);\n  const days = absValue / hoursInDay / 60;\n  let remainingValue = absValue - Math.floor(days) * hoursInDay * 60;\n  const hours = remainingValue / 60;\n  remainingValue -= Math.floor(hours) * 60;\n  return formatDurationShort(isNegative, days, hours, remainingValue);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isNil, omitBy, pick } from 'lodash';\nimport { stringify } from 'querystring';\nimport { getProfilePath } from '../apps/quality-profiles/utils';\nimport { BranchLike, BranchParameters } from '../types/branch-like';\nimport { ComponentQualifier, isApplication, isPortfolioLike } from '../types/component';\nimport { MeasurePageView } from '../types/measures';\nimport { GraphType } from '../types/project-activity';\nimport { SecurityStandard } from '../types/security';\nimport { getBranchLikeQuery, isBranch, isMainBranch, isPullRequest } from './branch-like';\nimport { IS_SSR } from './browser';\nimport { getBaseUrl } from './system';\n\nexport interface Location {\n  pathname: string;\n  query?: T.Dict<string | undefined | number>;\n}\n\ntype Query = Location['query'];\n\nexport function getComponentOverviewUrl(\n  componentKey: string,\n  componentQualifier: ComponentQualifier | string,\n  branchParameters?: BranchParameters\n) {\n  return isPortfolioLike(componentQualifier)\n    ? getPortfolioUrl(componentKey)\n    : getProjectQueryUrl(componentKey, branchParameters);\n}\n\nexport function getComponentAdminUrl(\n  componentKey: string,\n  componentQualifier: ComponentQualifier | string\n) {\n  if (isPortfolioLike(componentQualifier)) {\n    return getPortfolioAdminUrl(componentKey);\n  } else if (isApplication(componentQualifier)) {\n    return getApplicationAdminUrl(componentKey);\n  } else {\n    return getProjectUrl(componentKey);\n  }\n}\n\nexport function getProjectUrl(project: string, branch?: string): Location {\n  return { pathname: '/dashboard', query: { id: project, branch } };\n}\n\nexport function getProjectQueryUrl(project: string, branchParameters?: BranchParameters): Location {\n  return { pathname: '/dashboard', query: { id: project, ...branchParameters } };\n}\n\nexport function getPortfolioUrl(key: string): Location {\n  return { pathname: '/portfolio', query: { id: key } };\n}\n\nexport function getPortfolioAdminUrl(key: string) {\n  return {\n    pathname: '/project/admin/extension/governance/console',\n    query: { id: key, qualifier: ComponentQualifier.Portfolio }\n  };\n}\n\nexport function getApplicationAdminUrl(key: string) {\n  return { pathname: '/application/console', query: { id: key } };\n}\n\nexport function getComponentBackgroundTaskUrl(componentKey: string, status?: string): Location {\n  return { pathname: '/project/background_tasks', query: { id: componentKey, status } };\n}\n\nexport function getBranchLikeUrl(project: string, branchLike?: BranchLike): Location {\n  if (isPullRequest(branchLike)) {\n    return getPullRequestUrl(project, branchLike.key);\n  } else if (isBranch(branchLike) && !isMainBranch(branchLike)) {\n    return getBranchUrl(project, branchLike.name);\n  } else {\n    return getProjectUrl(project);\n  }\n}\n\nexport function getBranchUrl(project: string, branch: string): Location {\n  return { pathname: '/dashboard', query: { branch, id: project } };\n}\n\nexport function getPullRequestUrl(project: string, pullRequest: string): Location {\n  return { pathname: '/dashboard', query: { id: project, pullRequest } };\n}\n\n/**\n * Generate URL for a global issues page\n */\nexport function getIssuesUrl(query: Query): Location {\n  const pathname = '/issues';\n  return { pathname, query };\n}\n\n/**\n * Generate URL for a component's issues page\n */\nexport function getComponentIssuesUrl(componentKey: string, query?: Query): Location {\n  return { pathname: '/project/issues', query: { ...(query || {}), id: componentKey } };\n}\n\n/**\n * Generate URL for a component's security hotspot page\n */\nexport function getComponentSecurityHotspotsUrl(componentKey: string, query: Query = {}): Location {\n  const { branch, pullRequest, sinceLeakPeriod, hotspots, assignedToMe, file } = query;\n  return {\n    pathname: '/security_hotspots',\n    query: {\n      id: componentKey,\n      branch,\n      pullRequest,\n      sinceLeakPeriod,\n      hotspots,\n      assignedToMe,\n      file,\n      ...pick(query, [\n        SecurityStandard.SONARSOURCE,\n        SecurityStandard.OWASP_TOP10,\n        SecurityStandard.SANS_TOP25,\n        SecurityStandard.CWE\n      ])\n    }\n  };\n}\n\n/**\n * Generate URL for a component's drilldown page\n */\nexport function getComponentDrilldownUrl(options: {\n  componentKey: string;\n  metric: string;\n  branchLike?: BranchLike;\n  selectionKey?: string;\n  treemapView?: boolean;\n  listView?: boolean;\n}): Location {\n  const { componentKey, metric, branchLike, selectionKey, treemapView, listView } = options;\n  const query: Query = { id: componentKey, metric, ...getBranchLikeQuery(branchLike) };\n  if (treemapView) {\n    query.view = 'treemap';\n  }\n  if (listView) {\n    query.view = 'list';\n  }\n  if (selectionKey) {\n    query.selected = selectionKey;\n  }\n  return { pathname: '/component_measures', query };\n}\n\nexport function getComponentDrilldownUrlWithSelection(\n  componentKey: string,\n  selectionKey: string,\n  metric: string,\n  branchLike?: BranchLike,\n  view?: MeasurePageView\n): Location {\n  return getComponentDrilldownUrl({\n    componentKey,\n    selectionKey,\n    metric,\n    branchLike,\n    treemapView: view === 'treemap',\n    listView: view === 'list'\n  });\n}\n\nexport function getMeasureTreemapUrl(componentKey: string, metric: string) {\n  return getComponentDrilldownUrl({ componentKey, metric, treemapView: true });\n}\n\nexport function getActivityUrl(component: string, branchLike?: BranchLike, graph?: GraphType) {\n  return {\n    pathname: '/project/activity',\n    query: { id: component, graph, ...getBranchLikeQuery(branchLike) }\n  };\n}\n\n/**\n * Generate URL for a component's measure history\n */\nexport function getMeasureHistoryUrl(component: string, metric: string, branchLike?: BranchLike) {\n  return {\n    pathname: '/project/activity',\n    query: {\n      id: component,\n      graph: 'custom',\n      custom_metrics: metric,\n      ...getBranchLikeQuery(branchLike)\n    }\n  };\n}\n\n/**\n * Generate URL for a component's permissions page\n */\nexport function getComponentPermissionsUrl(componentKey: string): Location {\n  return { pathname: '/project_roles', query: { id: componentKey } };\n}\n\n/**\n * Generate URL for a quality profile\n */\nexport function getQualityProfileUrl(name: string, language: string): Location {\n  return getProfilePath(name, language);\n}\n\nexport function getQualityGateUrl(key: string): Location {\n  return {\n    pathname: '/quality_gates/show/' + encodeURIComponent(key)\n  };\n}\n\nexport function getQualityGatesUrl(): Location {\n  return {\n    pathname: '/quality_gates'\n  };\n}\n\nexport function getGlobalSettingsUrl(\n  category?: string,\n  query?: T.Dict<string | undefined | number>\n): Location {\n  return {\n    pathname: '/admin/settings',\n    query: { category, ...query }\n  };\n}\n\nexport function getProjectSettingsUrl(id: string, category?: string): Location {\n  return {\n    pathname: '/project/settings',\n    query: { id, category }\n  };\n}\n\n/**\n * Generate URL for the rules page\n */\nexport function getRulesUrl(query: Query): Location {\n  return { pathname: '/coding_rules', query };\n}\n\n/**\n * Generate URL for the rules page filtering only active deprecated rules\n */\nexport function getDeprecatedActiveRulesUrl(query: Query = {}): Location {\n  const baseQuery = { activation: 'true', statuses: 'DEPRECATED' };\n  return getRulesUrl({ ...query, ...baseQuery });\n}\n\nexport function getRuleUrl(rule: string) {\n  return getRulesUrl({ open: rule, rule_key: rule });\n}\n\nexport function getFormattingHelpUrl(): string {\n  return getBaseUrl() + '/formatting/help';\n}\n\nexport function getCodeUrl(\n  project: string,\n  branchLike?: BranchLike,\n  selected?: string,\n  line?: number\n): Location {\n  return {\n    pathname: '/code',\n    query: { id: project, ...getBranchLikeQuery(branchLike), selected, line: line?.toFixed() }\n  };\n}\n\nexport function getHomePageUrl(homepage: T.HomePage) {\n  switch (homepage.type) {\n    case 'APPLICATION':\n      return homepage.branch\n        ? getProjectUrl(homepage.component, homepage.branch)\n        : getProjectUrl(homepage.component);\n    case 'PROJECT':\n      return homepage.branch\n        ? getBranchUrl(homepage.component, homepage.branch)\n        : getProjectUrl(homepage.component);\n    case 'PORTFOLIO':\n      return getPortfolioUrl(homepage.component);\n    case 'PORTFOLIOS':\n      return '/portfolios';\n    case 'MY_PROJECTS':\n      return '/projects';\n    case 'ISSUES':\n    case 'MY_ISSUES':\n      return { pathname: '/issues', query: { resolved: 'false' } };\n  }\n\n  // should never happen, but just in case...\n  return '/projects';\n}\n\nexport function convertGithubApiUrlToLink(url: string) {\n  return url\n    .replace(/^https?:\\/\\/api\\.github\\.com/, 'https://github.com') // GH.com\n    .replace(/\\/api\\/v\\d+\\/?$/, ''); // GH Enterprise\n}\n\nexport function stripTrailingSlash(url: string) {\n  return url.replace(/\\/$/, '');\n}\n\nexport function getHostUrl(): string {\n  if (IS_SSR) {\n    throw new Error('No host url available on server side.');\n  }\n  return window.location.origin + getBaseUrl();\n}\n\nexport function getPathUrlAsString(path: Location, internal = true): string {\n  return `${internal ? getBaseUrl() : getHostUrl()}${path.pathname}?${stringify(\n    omitBy(path.query, isNil)\n  )}`;\n}\n\nexport function getReturnUrl(location: { hash?: string; query?: { return_to?: string } }) {\n  const returnTo = location.query && location.query['return_to'];\n  if (isRelativeUrl(returnTo)) {\n    return returnTo + (location.hash ? location.hash : '');\n  }\n  return getBaseUrl() + '/';\n}\n\nexport function isRelativeUrl(url?: string): boolean {\n  const regex = new RegExp(/^\\/[^/\\\\]/);\n  return Boolean(url && regex.test(url));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function InfoIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M10.333 12.375v-1.458a.288.288 0 0 0-.291-.292h-.875V5.958a.288.288 0 0 0-.292-.291H5.958a.288.288 0 0 0-.291.291v1.459c0 .164.127.291.291.291h.875v2.917h-.875a.288.288 0 0 0-.291.292v1.458c0 .164.127.292.291.292h4.084a.288.288 0 0 0 .291-.292zM9.167 4.208V2.75a.288.288 0 0 0-.292-.292h-1.75a.288.288 0 0 0-.292.292v1.458c0 .164.128.292.292.292h1.75a.288.288 0 0 0 .292-.292zM15 8c0 3.865-3.135 7-7 7s-7-3.135-7-7 3.135-7 7-7 7 3.135 7 7z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { css } from '@emotion/core';\nimport styled from '@emotion/styled';\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { colors, sizes } from '../../app/theme';\nimport { translate } from '../../helpers/l10n';\nimport AlertErrorIcon from '../icons/AlertErrorIcon';\nimport AlertSuccessIcon from '../icons/AlertSuccessIcon';\nimport AlertWarnIcon from '../icons/AlertWarnIcon';\nimport InfoIcon from '../icons/InfoIcon';\nimport DeferredSpinner from './DeferredSpinner';\n\ntype AlertDisplay = 'banner' | 'inline' | 'block';\ntype AlertVariant = 'error' | 'warning' | 'success' | 'info' | 'loading';\n\nexport interface AlertProps {\n  display?: AlertDisplay;\n  variant: AlertVariant;\n}\n\ninterface AlertVariantInformation {\n  icon: JSX.Element;\n  color: string;\n  borderColor: string;\n  backGroundColor: string;\n}\n\nconst DOUBLE = 2;\nconst QUADRUPLE = 4;\n\nconst StyledAlertIcon = styled.div<{ isBanner: boolean; variantInfo: AlertVariantInformation }>`\n  flex: 0 0 auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: calc(${({ isBanner }) => (isBanner ? DOUBLE : QUADRUPLE)} * ${sizes.gridSize});\n  border-right: ${({ isBanner }) => (!isBanner ? '1px solid' : 'none')};\n  border-color: ${({ variantInfo }) => variantInfo.borderColor};\n`;\n\nconst StyledAlertContent = styled.div`\n  flex: 1 1 auto;\n  overflow: auto;\n  text-align: left;\n  padding: ${sizes.gridSize} calc(2 * ${sizes.gridSize});\n`;\n\nconst alertInnerIsBannerMixin = () => css`\n  min-width: ${sizes.minPageWidth};\n  max-width: ${sizes.maxPageWidth};\n  margin-left: auto;\n  margin-right: auto;\n  padding-left: ${sizes.pagePadding};\n  padding-right: ${sizes.pagePadding};\n  box-sizing: border-box;\n`;\n\nconst StyledAlertInner = styled.div<{ isBanner: boolean }>`\n  display: flex;\n  align-items: stretch;\n  ${({ isBanner }) => (isBanner ? alertInnerIsBannerMixin : null)}\n`;\n\nconst StyledAlert = styled.div<{ isInline: boolean; variantInfo: AlertVariantInformation }>`\n  border: 1px solid;\n  border-radius: 2px;\n  margin-bottom: ${sizes.gridSize};\n  border-color: ${({ variantInfo }) => variantInfo.borderColor};\n  background-color: ${({ variantInfo }) => variantInfo.backGroundColor};\n  color: ${({ variantInfo }) => variantInfo.color};\n  display: ${({ isInline }) => (isInline ? 'inline-block' : 'block')};\n\n  :empty {\n    display: none;\n  }\n\n  a,\n  .button-link {\n    border-color: ${colors.darkBlue};\n  }\n`;\n\nfunction getAlertVariantInfo(variant: AlertVariant): AlertVariantInformation {\n  const variantList: T.Dict<AlertVariantInformation> = {\n    error: {\n      icon: <AlertErrorIcon fill={colors.alertIconError} />,\n      color: colors.alertTextError,\n      borderColor: colors.alertBorderError,\n      backGroundColor: colors.alertBackgroundError\n    },\n    warning: {\n      icon: <AlertWarnIcon fill={colors.alertIconWarning} />,\n      color: colors.alertTextWarning,\n      borderColor: colors.alertBorderWarning,\n      backGroundColor: colors.alertBackgroundWarning\n    },\n    success: {\n      icon: <AlertSuccessIcon fill={colors.alertIconSuccess} />,\n      color: colors.alertTextSuccess,\n      borderColor: colors.alertBorderSuccess,\n      backGroundColor: colors.alertBackgroundSuccess\n    },\n    info: {\n      icon: <InfoIcon fill={colors.alertIconInfo} />,\n      color: colors.alertTextInfo,\n      borderColor: colors.alertBorderInfo,\n      backGroundColor: colors.alertBackgroundInfo\n    },\n    loading: {\n      icon: <DeferredSpinner timeout={0} />,\n      color: colors.alertTextInfo,\n      borderColor: colors.alertBorderInfo,\n      backGroundColor: colors.alertBackgroundInfo\n    }\n  };\n\n  return variantList[variant];\n}\n\nexport function Alert(props: AlertProps & React.HTMLAttributes<HTMLDivElement>) {\n  const { className, display, variant, ...domProps } = props;\n  const isInline = display === 'inline';\n  const isBanner = display === 'banner';\n  const variantInfo = getAlertVariantInfo(variant);\n\n  return (\n    <StyledAlert\n      className={classNames('alert', className)}\n      isInline={isInline}\n      role=\"alert\"\n      variantInfo={variantInfo}\n      {...domProps}>\n      <StyledAlertInner isBanner={isBanner}>\n        <StyledAlertIcon\n          aria-label={translate('alert.tooltip', variant)}\n          isBanner={isBanner}\n          variantInfo={variantInfo}>\n          {variantInfo.icon}\n        </StyledAlertIcon>\n        <StyledAlertContent className=\"alert-content\">{props.children}</StyledAlertContent>\n      </StyledAlertInner>\n    </StyledAlert>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Alert } from '../components/ui/Alert';\nimport { IS_SSR } from '../helpers/browser';\nimport { translate } from '../helpers/l10n';\nimport { requestTryAndRepeatUntil } from '../helpers/request';\n\nexport function lazyLoadComponent<T extends React.ComponentType<any>>(\n  factory: () => Promise<{ default: T }>,\n  displayName?: string\n) {\n  const LazyComponent = React.lazy(() =>\n    requestTryAndRepeatUntil(factory, { max: 2, slowThreshold: 2 }, () => true)\n  );\n\n  function LazyComponentWrapper(props: React.ComponentProps<T>) {\n    if (IS_SSR) {\n      return null;\n    }\n    return (\n      <LazyErrorBoundary>\n        <React.Suspense fallback={null}>\n          <LazyComponent {...props} />\n        </React.Suspense>\n      </LazyErrorBoundary>\n    );\n  }\n\n  LazyComponentWrapper.displayName = displayName;\n  return LazyComponentWrapper;\n}\n\ninterface ErrorBoundaryProps {\n  children: React.ReactNode;\n}\n\ninterface ErrorBoundaryState {\n  hasError: boolean;\n}\n\nexport class LazyErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\n  state: ErrorBoundaryState = { hasError: false };\n\n  static getDerivedStateFromError() {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <Alert variant=\"error\">{translate('default_error_message')}</Alert>;\n    }\n    return this.props.children;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { parseError } from '../../helpers/request';\nimport { addGlobalErrorMessage } from '../../store/globalMessages';\nimport getStore from './getStore';\n\nexport default function throwGlobalError(param: Response | any): Promise<Response | any> {\n  const store = getStore();\n\n  if (param.response instanceof Response) {\n    /* eslint-disable-next-line no-console */\n    console.warn('DEPRECATED: response should not be wrapped, pass it directly.');\n    param = param.response;\n  }\n\n  if (param instanceof Response) {\n    return parseError(param)\n      .then(\n        message => {\n          store.dispatch(addGlobalErrorMessage(message));\n        },\n        () => {}\n      )\n      .then(() => Promise.reject(param));\n  }\n\n  return Promise.reject(param);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Popup, PopupPlacement } from '../ui/popups';\nimport './Dropdown.css';\nimport ScreenPositionFixer from './ScreenPositionFixer';\nimport Toggler from './Toggler';\n\ninterface OnClickCallback {\n  (event?: React.SyntheticEvent<HTMLElement>): void;\n}\n\ninterface RenderProps {\n  closeDropdown: () => void;\n  onToggleClick: OnClickCallback;\n  open: boolean;\n}\n\ninterface Props {\n  children:\n    | ((renderProps: RenderProps) => JSX.Element)\n    | React.ReactElement<{ onClick: OnClickCallback }>;\n  className?: string;\n  closeOnClick?: boolean;\n  closeOnClickOutside?: boolean;\n  onOpen?: () => void;\n  overlay: React.ReactNode;\n  overlayPlacement?: PopupPlacement;\n  noOverlayPadding?: boolean;\n  tagName?: string;\n}\n\ninterface State {\n  open: boolean;\n}\n\nexport default class Dropdown extends React.PureComponent<Props, State> {\n  state: State = { open: false };\n\n  componentDidUpdate(_: Props, prevState: State) {\n    if (!prevState.open && this.state.open && this.props.onOpen) {\n      this.props.onOpen();\n    }\n  }\n\n  closeDropdown = () => this.setState({ open: false });\n\n  handleToggleClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.setState(state => ({ open: !state.open }));\n  };\n\n  render() {\n    const a11yAttrs = {\n      'aria-expanded': String(this.state.open),\n      'aria-haspopup': 'true'\n    };\n\n    const child = React.isValidElement(this.props.children)\n      ? React.cloneElement(this.props.children, { onClick: this.handleToggleClick, ...a11yAttrs })\n      : this.props.children({\n          closeDropdown: this.closeDropdown,\n          onToggleClick: this.handleToggleClick,\n          open: this.state.open\n        });\n\n    const { closeOnClick = true, closeOnClickOutside = false } = this.props;\n\n    const toggler = (\n      <Toggler\n        closeOnClick={closeOnClick}\n        closeOnClickOutside={closeOnClickOutside}\n        onRequestClose={this.closeDropdown}\n        open={this.state.open}\n        overlay={\n          <DropdownOverlay\n            noPadding={this.props.noOverlayPadding}\n            placement={this.props.overlayPlacement}>\n            {this.props.overlay}\n          </DropdownOverlay>\n        }>\n        {child}\n      </Toggler>\n    );\n\n    return React.createElement(\n      this.props.tagName || 'div',\n      { className: classNames('dropdown', this.props.className) },\n      toggler\n    );\n  }\n}\n\ninterface OverlayProps {\n  className?: string;\n  children: React.ReactNode;\n  noPadding?: boolean;\n  placement?: PopupPlacement;\n}\n\nexport class DropdownOverlay extends React.Component<OverlayProps> {\n  get placement() {\n    return this.props.placement || PopupPlacement.Bottom;\n  }\n\n  renderPopup = (leftFix?: number, topFix?: number) => (\n    <Popup\n      arrowStyle={\n        leftFix !== undefined && topFix !== undefined\n          ? { transform: `translate(${-leftFix}px, ${-topFix}px)` }\n          : undefined\n      }\n      className={this.props.className}\n      noPadding={this.props.noPadding}\n      placement={this.placement}\n      style={\n        leftFix !== undefined && topFix !== undefined\n          ? { marginLeft: `calc(50% + ${leftFix}px)` }\n          : undefined\n      }>\n      {this.props.children}\n    </Popup>\n  );\n\n  render() {\n    if (this.placement === PopupPlacement.Bottom) {\n      return (\n        <ScreenPositionFixer>\n          {({ leftFix, topFix }) => this.renderPopup(leftFix, topFix)}\n        </ScreenPositionFixer>\n      );\n    }\n    return this.renderPopup();\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { combineReducers } from 'redux';\nimport globalMessages, * as fromGlobalMessages from '../../../store/globalMessages';\nimport definitions, * as fromDefinitions from './definitions';\nimport settingsPage, * as fromSettingsPage from './settingsPage';\nimport values, * as fromValues from './values';\n\ninterface State {\n  definitions: fromDefinitions.State;\n  globalMessages: fromGlobalMessages.State;\n  settingsPage: fromSettingsPage.State;\n  values: fromValues.State;\n}\n\nexport default combineReducers({ definitions, values, settingsPage, globalMessages });\n\nexport function getDefinition(state: State, key: string) {\n  return fromDefinitions.getDefinition(state.definitions, key);\n}\n\nexport function getAllDefinitions(state: State) {\n  return fromDefinitions.getAllDefinitions(state.definitions);\n}\n\nexport function getAllCategories(state: State) {\n  return fromDefinitions.getAllCategories(state.definitions);\n}\n\nexport function getDefaultCategory(state: State) {\n  return fromDefinitions.getDefaultCategory(state.definitions);\n}\n\nexport function getValue(state: State, key: string, component?: string) {\n  return fromValues.getValue(state.values, key, component);\n}\n\nexport function getSettingsForCategory(state: State, category: string, component?: string) {\n  return fromDefinitions.getDefinitionsForCategory(state.definitions, category).map(definition => {\n    const value = getValue(state, definition.key, component);\n    const hasValue = value !== undefined && value.inherited !== true;\n    return {\n      key: definition.key,\n      hasValue,\n      ...value,\n      definition\n    };\n  });\n}\n\nexport function getChangedValue(state: State, key: string) {\n  return fromSettingsPage.getChangedValue(state.settingsPage, key);\n}\n\nexport function isLoading(state: State, key: string) {\n  return fromSettingsPage.isLoading(state.settingsPage, key);\n}\n\nexport function getValidationMessage(state: State, key: string) {\n  return fromSettingsPage.getValidationMessage(state.settingsPage, key);\n}\n\nexport function getGlobalMessages(state: State) {\n  return fromGlobalMessages.getGlobalMessages(state.globalMessages);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { combineReducers } from 'redux';\nimport settingsApp, * as fromSettingsApp from '../apps/settings/store/rootReducer';\nimport { BranchLike } from '../types/branch-like';\nimport appState from './appState';\nimport branches, * as fromBranches from './branches';\nimport globalMessages, * as fromGlobalMessages from './globalMessages';\nimport languages, * as fromLanguages from './languages';\nimport metrics, * as fromMetrics from './metrics';\nimport users, * as fromUsers from './users';\n\nexport type Store = {\n  appState: T.AppState;\n  branches: fromBranches.State;\n  globalMessages: fromGlobalMessages.State;\n  languages: T.Languages;\n  metrics: fromMetrics.State;\n  users: fromUsers.State;\n\n  // apps\n  settingsApp: any;\n};\n\nexport default combineReducers<Store>({\n  appState,\n  branches,\n  globalMessages,\n  languages,\n  metrics,\n  users,\n\n  // apps\n  settingsApp\n});\n\nexport function getAppState(state: Store) {\n  return state.appState;\n}\n\nexport function getGlobalMessages(state: Store) {\n  return fromGlobalMessages.getGlobalMessages(state.globalMessages);\n}\n\nexport function getLanguages(state: Store) {\n  return fromLanguages.getLanguages(state.languages);\n}\n\nexport function getCurrentUserSetting(state: Store, key: T.CurrentUserSettingNames) {\n  return fromUsers.getCurrentUserSetting(state.users, key);\n}\n\nexport function getCurrentUser(state: Store) {\n  return fromUsers.getCurrentUser(state.users);\n}\n\nexport function getMetrics(state: Store) {\n  return fromMetrics.getMetrics(state.metrics);\n}\n\nexport function getMetricsKey(state: Store) {\n  return fromMetrics.getMetricsKey(state.metrics);\n}\n\nexport function getMetricByKey(state: Store, key: string) {\n  return fromMetrics.getMetricByKey(state.metrics, key);\n}\n\nexport function getGlobalSettingValue(state: Store, key: string) {\n  return fromSettingsApp.getValue(state.settingsApp, key);\n}\n\nexport function getSettingsAppAllDefinitions(state: Store) {\n  return fromSettingsApp.getAllDefinitions(state.settingsApp);\n}\n\nexport function getSettingsAppDefinition(state: Store, key: string) {\n  return fromSettingsApp.getDefinition(state.settingsApp, key);\n}\n\nexport function getSettingsAppAllCategories(state: Store) {\n  return fromSettingsApp.getAllCategories(state.settingsApp);\n}\n\nexport function getSettingsAppDefaultCategory(state: Store) {\n  return fromSettingsApp.getDefaultCategory(state.settingsApp);\n}\n\nexport function getSettingsAppSettingsForCategory(\n  state: Store,\n  category: string,\n  component?: string\n) {\n  return fromSettingsApp.getSettingsForCategory(state.settingsApp, category, component);\n}\n\nexport function getSettingsAppChangedValue(state: Store, key: string) {\n  return fromSettingsApp.getChangedValue(state.settingsApp, key);\n}\n\nexport function isSettingsAppLoading(state: Store, key: string) {\n  return fromSettingsApp.isLoading(state.settingsApp, key);\n}\n\nexport function getSettingsAppValidationMessage(state: Store, key: string) {\n  return fromSettingsApp.getValidationMessage(state.settingsApp, key);\n}\n\nexport function getBranchStatusByBranchLike(\n  state: Store,\n  component: string,\n  branchLike: BranchLike\n) {\n  return fromBranches.getBranchStatusByBranchLike(state.branches, component, branchLike);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy } from 'lodash';\nimport {\n  Branch,\n  BranchLike,\n  BranchLikeTree,\n  BranchParameters,\n  MainBranch,\n  PullRequest\n} from '../types/branch-like';\n\nexport function isBranch(branchLike?: BranchLike): branchLike is Branch {\n  return branchLike !== undefined && (branchLike as Branch).isMain !== undefined;\n}\n\nexport function isMainBranch(branchLike?: BranchLike): branchLike is MainBranch {\n  return isBranch(branchLike) && branchLike.isMain;\n}\n\nexport function sortBranches(branches: Branch[]) {\n  return orderBy(branches, [b => b.isMain, b => b.name], ['desc', 'asc']);\n}\n\nexport function isPullRequest(branchLike?: BranchLike): branchLike is PullRequest {\n  return branchLike !== undefined && (branchLike as PullRequest).key !== undefined;\n}\n\nexport function sortPullRequests(pullRequests: PullRequest[]) {\n  return orderBy(pullRequests, pr => getPullRequestDisplayName(pr));\n}\n\nexport function getPullRequestDisplayName(pullRequest: PullRequest) {\n  return `${pullRequest.key}  ${pullRequest.title}`;\n}\n\nexport function getBranchLikeDisplayName(branchLike: BranchLike) {\n  return isPullRequest(branchLike) ? getPullRequestDisplayName(branchLike) : branchLike.name;\n}\n\nexport function getBranchLikeKey(branchLike: BranchLike) {\n  return isPullRequest(branchLike) ? `pull-request-${branchLike.key}` : `branch-${branchLike.name}`;\n}\n\nexport function isSameBranchLike(a: BranchLike | undefined, b: BranchLike | undefined) {\n  // main branches are always equal\n  if (isMainBranch(a) && isMainBranch(b)) {\n    return true;\n  }\n\n  // Branches are compared by name\n  if (isBranch(a) && isBranch(b)) {\n    return a.name === b.name;\n  }\n\n  // pull requests are compared by id\n  if (isPullRequest(a) && isPullRequest(b)) {\n    return a.key === b.key;\n  }\n\n  // finally if both parameters are `undefined`, consider them equal\n  return a === b;\n}\n\nexport function getBrancheLikesAsTree(branchLikes: BranchLike[]): BranchLikeTree {\n  const mainBranch = branchLikes.find(isMainBranch);\n  const branches = orderBy(\n    branchLikes.filter(isBranch).filter(b => !isMainBranch(b)),\n    b => b.name\n  );\n  const pullRequests = orderBy(branchLikes.filter(isPullRequest), b => b.key);\n  const parentlessPullRequests = pullRequests.filter(\n    pr => !pr.isOrphan && ![mainBranch, ...branches].find(b => !!b && b.name === pr.base)\n  );\n  const orphanPullRequests = pullRequests.filter(pr => pr.isOrphan);\n\n  const tree: BranchLikeTree = {\n    branchTree: branches.map(b => ({ branch: b, pullRequests: getPullRequests(b) })),\n    parentlessPullRequests,\n    orphanPullRequests\n  };\n\n  if (mainBranch) {\n    tree.mainBranchTree = {\n      branch: mainBranch,\n      pullRequests: getPullRequests(mainBranch)\n    };\n  }\n\n  return tree;\n\n  function getPullRequests(branch: Branch) {\n    return pullRequests.filter(pr => !pr.isOrphan && pr.base === branch.name);\n  }\n}\n\nexport function getBranchLikeQuery(branchLike?: BranchLike): BranchParameters {\n  if (isBranch(branchLike) && !isMainBranch(branchLike)) {\n    return { branch: branchLike.name };\n  } else if (isPullRequest(branchLike)) {\n    return { pullRequest: branchLike.key };\n  } else {\n    return {};\n  }\n}\n\n// Create branch object from branch name or pull request key\nexport function fillBranchLike(\n  branch?: string,\n  pullRequest?: string\n): Branch | PullRequest | undefined {\n  if (branch) {\n    return {\n      isMain: false,\n      name: branch\n    } as Branch;\n  } else if (pullRequest) {\n    return { base: '', branch: '', key: pullRequest, title: '' } as PullRequest;\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport * as ReactModal from 'react-modal';\nimport { getReactDomContainerSelector } from '../../helpers/system';\nimport './Modal.css';\n\nReactModal.setAppElement(getReactDomContainerSelector());\n\nexport interface ModalProps {\n  children: React.ReactNode;\n  size?: 'small' | 'medium' | 'large';\n  noBackdrop?: boolean;\n}\n\ninterface Props extends ModalProps {\n  /* String or object className to be applied to the modal content. */\n  className?: string;\n\n  /* String or object className to be applied to the overlay. */\n  overlayClassName?: string;\n\n  /* Function that will be run after the modal has opened. */\n  onAfterOpen?(): void;\n\n  /* Function that will be run after the modal has closed. */\n  onAfterClose?(): void;\n\n  /* Function that will be run when the modal is requested to be closed, prior to actually closing. */\n  onRequestClose?(event: React.MouseEvent | React.KeyboardEvent): void;\n\n  /* Boolean indicating if the modal should be focused after render */\n  shouldFocusAfterRender?: boolean;\n\n  /* Boolean indicating if the overlay should close the modal. Defaults to true. */\n  shouldCloseOnOverlayClick?: boolean;\n\n  /* Boolean indicating if pressing the esc key should close the modal */\n  shouldCloseOnEsc?: boolean;\n\n  /* String indicating how the content container should be announced to screenreaders. */\n  contentLabel: string;\n}\n\nexport default function Modal(props: Props) {\n  return (\n    <ReactModal\n      className={classNames('modal', {\n        'modal-small': props.size === 'small',\n        'modal-medium': props.size === 'medium',\n        'modal-large': props.size === 'large'\n      })}\n      isOpen={true}\n      overlayClassName={classNames('modal-overlay', { 'modal-no-backdrop': props.noBackdrop })}\n      {...props}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum Visibility {\n  Public = 'public',\n  Private = 'private'\n}\n\nexport enum ComponentQualifier {\n  Application = 'APP',\n  Directory = 'DIR',\n  Developper = 'DEV',\n  File = 'FIL',\n  Portfolio = 'VW',\n  Project = 'TRK',\n  SubPortfolio = 'SVW',\n  SubProject = 'BRC',\n  TestFile = 'UTS'\n}\n\nexport enum ProjectKeyValidationResult {\n  Valid = 'valid',\n  Empty = 'empty',\n  TooLong = 'too_long',\n  InvalidChar = 'invalid_char',\n  OnlyDigits = 'only_digits'\n}\n\nexport interface TreeComponent extends T.LightComponent {\n  id?: string;\n  name: string;\n  path?: string;\n  refId?: string;\n  refKey?: string;\n  tags?: string[];\n  visibility: T.Visibility;\n}\n\nexport interface TreeComponentWithPath extends TreeComponent {\n  path: string;\n}\n\nexport function isPortfolioLike(\n  componentQualifier?: string | ComponentQualifier\n): componentQualifier is ComponentQualifier.Portfolio | ComponentQualifier.SubPortfolio {\n  return Boolean(\n    componentQualifier &&\n      [\n        ComponentQualifier.Portfolio.toString(),\n        ComponentQualifier.SubPortfolio.toString()\n      ].includes(componentQualifier)\n  );\n}\n\nexport function isApplication(\n  componentQualifier?: string | ComponentQualifier\n): componentQualifier is ComponentQualifier.Application {\n  return componentQualifier === ComponentQualifier.Application;\n}\n\nexport function isProject(\n  componentQualifier?: string | ComponentQualifier\n): componentQualifier is ComponentQualifier.Project {\n  return componentQualifier === ComponentQualifier.Project;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\ninterface DropdownIconProps {\n  turned?: boolean;\n}\n\nexport default function DropdownIcon({\n  fill = 'currentColor',\n  size = 16,\n  turned = false,\n  ...iconProps\n}: IconProps & DropdownIconProps) {\n  return (\n    <Icon\n      height={size}\n      style={turned ? { transform: 'rotate(180deg)' } : undefined}\n      viewBox=\"0 0 7 16\"\n      width={(size / 16) * 7}\n      {...iconProps}>\n      <path\n        d=\"M7 6.469a.42.42 0 0 1-.13.307L3.808 9.84a.42.42 0 0 1-.308.13.42.42 0 0 1-.308-.13L.13 6.776A.42.42 0 0 1 0 6.47a.42.42 0 0 1 .13-.308.42.42 0 0 1 .307-.13h6.126a.42.42 0 0 1 .307.13.42.42 0 0 1 .13.308z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function hasGlobalPermission(user: T.CurrentUser, permission: string): boolean {\n  if (!user.permissions) {\n    return false;\n  }\n  return user.permissions.global.includes(permission);\n}\n\nexport function isLoggedIn(user: T.CurrentUser): user is T.LoggedInUser {\n  return user.isLoggedIn;\n}\n\nexport function isUserActive(user: T.UserBase): user is T.UserActive {\n  return user.active !== false && Boolean(user.name);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport const enum AlmKeys {\n  Azure = 'azure',\n  BitbucketServer = 'bitbucket',\n  BitbucketCloud = 'bitbucketcloud',\n  GitHub = 'github',\n  GitLab = 'gitlab'\n}\n\nexport type AlmBindingDefinition =\n  | AzureBindingDefinition\n  | GithubBindingDefinition\n  | GitlabBindingDefinition\n  | BitbucketServerBindingDefinition\n  | BitbucketCloudBindingDefinition;\n\nexport interface AlmBindingDefinitionBase {\n  key: string;\n  url?: string;\n}\n\nexport interface AzureBindingDefinition extends AlmBindingDefinitionBase {\n  personalAccessToken: string;\n  url?: string;\n}\n\nexport interface BitbucketServerBindingDefinition extends AlmBindingDefinitionBase {\n  personalAccessToken: string;\n  url: string;\n}\n\nexport interface BitbucketCloudBindingDefinition extends AlmBindingDefinitionBase {\n  clientId: string;\n  clientSecret: string;\n  workspace: string;\n}\n\nexport interface GithubBindingDefinition extends AlmBindingDefinitionBase {\n  appId: string;\n  clientId: string;\n  clientSecret: string;\n  privateKey: string;\n  url: string;\n}\n\nexport interface GitlabBindingDefinition extends AlmBindingDefinitionBase {\n  personalAccessToken: string;\n  url?: string;\n}\n\nexport interface ProjectAlmBindingResponse {\n  alm: AlmKeys;\n  key: string;\n  repository?: string;\n  slug?: string;\n  summaryCommentEnabled?: boolean;\n  monorepo: boolean;\n}\n\nexport interface ProjectAzureBindingResponse extends ProjectAlmBindingResponse {\n  alm: AlmKeys.Azure;\n  repository: string;\n  slug: string;\n  url: string;\n}\n\nexport interface ProjectBitbucketBindingResponse extends ProjectAlmBindingResponse {\n  alm: AlmKeys.BitbucketServer;\n  repository: string;\n  slug: string;\n}\n\nexport interface ProjectBitbucketCloudBindingResponse extends ProjectAlmBindingResponse {\n  alm: AlmKeys.BitbucketCloud;\n  repository: string;\n}\n\nexport interface ProjectGitHubBindingResponse extends ProjectAlmBindingResponse {\n  alm: AlmKeys.GitHub;\n  repository: string;\n}\n\nexport interface ProjectGitLabBindingResponse extends ProjectAlmBindingResponse {\n  alm: AlmKeys.GitLab;\n  repository: string;\n  url: string;\n}\n\nexport interface ProjectAlmBindingParams {\n  almSetting: string;\n  project: string;\n  monorepo: boolean;\n}\n\nexport interface AzureProjectAlmBindingParams extends ProjectAlmBindingParams {\n  projectName: string;\n  repositoryName: string;\n}\n\nexport interface BitbucketProjectAlmBindingParams extends ProjectAlmBindingParams {\n  repository: string;\n  slug: string;\n}\n\nexport interface BitbucketCloudProjectAlmBindingParams extends ProjectAlmBindingParams {\n  repository: string;\n}\n\nexport interface GithubProjectAlmBindingParams extends ProjectAlmBindingParams {\n  repository: string;\n  summaryCommentEnabled: boolean;\n}\n\nexport interface GitlabProjectAlmBindingParams extends ProjectAlmBindingParams {\n  repository?: string;\n}\n\nexport interface AlmSettingsInstance {\n  alm: AlmKeys;\n  key: string;\n  url?: string;\n}\n\nexport interface AlmSettingsBindingDefinitions {\n  [AlmKeys.Azure]: AzureBindingDefinition[];\n  [AlmKeys.BitbucketServer]: BitbucketServerBindingDefinition[];\n  [AlmKeys.BitbucketCloud]: BitbucketCloudBindingDefinition[];\n  [AlmKeys.GitHub]: GithubBindingDefinition[];\n  [AlmKeys.GitLab]: GitlabBindingDefinition[];\n}\n\nexport interface AlmSettingsBindingStatus {\n  alertSuccess: boolean;\n  failureMessage: string;\n  type: AlmSettingsBindingStatusType;\n}\n\nexport enum AlmSettingsBindingStatusType {\n  Validating,\n  Success,\n  Failure,\n  Warning\n}\n\nexport enum ProjectAlmBindingConfigurationErrorScope {\n  Global = 'GLOBAL',\n  Project = 'PROJECT',\n  Unknown = 'UNKNOWN'\n}\n\nexport interface ProjectAlmBindingConfigurationErrors {\n  scope: ProjectAlmBindingConfigurationErrorScope;\n  errors: { msg: string }[];\n}\n\nexport function isProjectBitbucketBindingResponse(\n  binding: ProjectAlmBindingResponse\n): binding is ProjectBitbucketBindingResponse {\n  return binding.alm === AlmKeys.BitbucketServer;\n}\n\nexport function isProjectBitbucketCloudBindingResponse(\n  binding: ProjectAlmBindingResponse\n): binding is ProjectBitbucketBindingResponse {\n  return binding.alm === AlmKeys.BitbucketCloud;\n}\n\nexport function isProjectGitHubBindingResponse(\n  binding: ProjectAlmBindingResponse\n): binding is ProjectGitHubBindingResponse {\n  return binding.alm === AlmKeys.GitHub;\n}\n\nexport function isProjectGitLabBindingResponse(\n  binding: ProjectAlmBindingResponse\n): binding is ProjectGitLabBindingResponse {\n  return binding.alm === AlmKeys.GitLab;\n}\n\nexport function isProjectAzureBindingResponse(\n  binding: ProjectAlmBindingResponse\n): binding is ProjectAzureBindingResponse {\n  return binding.alm === AlmKeys.Azure;\n}\n\nexport function isBitbucketBindingDefinition(\n  binding?: AlmBindingDefinitionBase & { url?: string }\n): binding is BitbucketServerBindingDefinition {\n  return binding !== undefined && binding.url !== undefined;\n}\n\nexport function isBitbucketCloudBindingDefinition(\n  binding?: AlmBindingDefinitionBase & { clientId?: string; workspace?: string }\n): binding is BitbucketCloudBindingDefinition {\n  return binding !== undefined && binding.clientId !== undefined && binding.workspace !== undefined;\n}\n\nexport function isGithubBindingDefinition(\n  binding?: AlmBindingDefinitionBase & { appId?: string; url?: string }\n): binding is GithubBindingDefinition {\n  return binding !== undefined && binding.appId !== undefined && binding.url !== undefined;\n}\n\nexport function isGitLabBindingDefinition(\n  binding?: AlmBindingDefinitionBase | GithubBindingDefinition | BitbucketCloudBindingDefinition\n): binding is GitlabBindingDefinition {\n  // There's too much overlap with the others. We must not only validate that certain fields are\n  // present, we must also validate that others are NOT present. And even so, we cannot be 100%\n  // sure, as right now, Azure, Bitbucket Server, and GitLab have the same signature.\n  return (\n    binding !== undefined &&\n    (binding as GithubBindingDefinition).appId === undefined &&\n    (binding as BitbucketCloudBindingDefinition).workspace === undefined\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children: React.ReactNode;\n  onClick: () => void;\n}\n\nexport default class DocumentClickHandler extends React.Component<Props> {\n  componentDidMount() {\n    setTimeout(() => {\n      this.addClickHandler();\n    }, 0);\n  }\n\n  componentWillUnmount() {\n    this.removeClickHandler();\n  }\n\n  addClickHandler = () => {\n    document.addEventListener('click', this.handleDocumentClick);\n  };\n\n  removeClickHandler = () => {\n    document.removeEventListener('click', this.handleDocumentClick);\n  };\n\n  handleDocumentClick = () => {\n    this.props.onClick();\n  };\n\n  render() {\n    return this.props.children;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DocumentClickHandler from './DocumentClickHandler';\nimport EscKeydownHandler from './EscKeydownHandler';\nimport OutsideClickHandler from './OutsideClickHandler';\n\ninterface Props {\n  children?: React.ReactNode;\n  closeOnClick?: boolean;\n  closeOnClickOutside?: boolean;\n  closeOnEscape?: boolean;\n  onRequestClose: () => void;\n  open: boolean;\n  overlay: React.ReactNode;\n}\n\nexport default class Toggler extends React.Component<Props> {\n  renderOverlay() {\n    const {\n      closeOnClick = false,\n      closeOnClickOutside = true,\n      closeOnEscape = true,\n      onRequestClose,\n      overlay\n    } = this.props;\n\n    let renderedOverlay;\n    if (closeOnEscape) {\n      renderedOverlay = <EscKeydownHandler onKeydown={onRequestClose}>{overlay}</EscKeydownHandler>;\n    } else {\n      renderedOverlay = overlay;\n    }\n\n    if (closeOnClick) {\n      return (\n        <DocumentClickHandler onClick={onRequestClose}>{renderedOverlay}</DocumentClickHandler>\n      );\n    } else if (closeOnClickOutside) {\n      return (\n        <OutsideClickHandler onClickOutside={onRequestClose}>{renderedOverlay}</OutsideClickHandler>\n      );\n    }\n    return renderedOverlay;\n  }\n\n  render() {\n    return (\n      <>\n        {this.props.children}\n        {this.props.open && this.renderOverlay()}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { withRouter as originalWithRouter, WithRouterProps } from 'react-router';\n\nexport type Location = WithRouterProps['location'];\nexport type Router = WithRouterProps['router'];\n\ninterface InjectedProps {\n  location?: Partial<Location>;\n  router?: Partial<Router>;\n}\n\nexport function withRouter<P extends InjectedProps>(\n  WrappedComponent: React.ComponentType<P & InjectedProps>\n): React.ComponentType<T.Omit<P, keyof InjectedProps>> {\n  return originalWithRouter(WrappedComponent as any);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function SearchIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M10.308 7.077c0-.89-.316-1.65-.949-2.283a3.111 3.111 0 0 0-2.282-.948c-.89 0-1.65.316-2.283.948a3.111 3.111 0 0 0-.948 2.283c0 .89.316 1.65.948 2.282a3.111 3.111 0 0 0 2.283.949c.89 0 1.65-.316 2.282-.949a3.111 3.111 0 0 0 .949-2.282zm3.692 6c0 .25-.091.466-.274.649a.887.887 0 0 1-.65.274.857.857 0 0 1-.648-.274L9.954 11.26c-.86.596-1.82.894-2.877.894a4.989 4.989 0 0 1-1.972-.4 5.076 5.076 0 0 1-1.623-1.082A5.076 5.076 0 0 1 2.4 9.049 4.989 4.989 0 0 1 2 7.077c0-.688.133-1.345.4-1.972a5.076 5.076 0 0 1 1.082-1.623A5.076 5.076 0 0 1 5.105 2.4 4.989 4.989 0 0 1 7.077 2c.687 0 1.345.133 1.972.4a5.076 5.076 0 0 1 1.623 1.082c.454.454.815.995 1.082 1.623.266.627.4 1.284.4 1.972a4.938 4.938 0 0 1-.894 2.877l2.473 2.474a.883.883 0 0 1 .267.649z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { Cancelable, debounce } from 'lodash';\nimport * as React from 'react';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport SearchIcon from '../icons/SearchIcon';\nimport DeferredSpinner from '../ui/DeferredSpinner';\nimport { ClearButton } from './buttons';\nimport './SearchBox.css';\n\ninterface Props {\n  autoFocus?: boolean;\n  className?: string;\n  id?: string;\n  innerRef?: (node: HTMLInputElement | null) => void;\n  loading?: boolean;\n  maxLength?: number;\n  minLength?: number;\n  onChange: (value: string) => void;\n  onClick?: React.MouseEventHandler<HTMLInputElement>;\n  onFocus?: React.FocusEventHandler<HTMLInputElement>;\n  onKeyDown?: React.KeyboardEventHandler<HTMLInputElement>;\n  placeholder: string;\n  value?: string;\n}\n\ninterface State {\n  value: string;\n}\n\nconst DEFAULT_MAX_LENGTH = 100;\n\nexport default class SearchBox extends React.PureComponent<Props, State> {\n  debouncedOnChange: ((query: string) => void) & Cancelable;\n  input?: HTMLInputElement | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { value: props.value || '' };\n    this.debouncedOnChange = debounce(this.props.onChange, 250);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      // input is controlled\n      this.props.value !== undefined &&\n      // parent is aware of last change\n      // can happen when previous value was less than min length\n      this.state.value === prevProps.value &&\n      this.state.value !== this.props.value\n    ) {\n      this.setState({ value: this.props.value });\n    }\n  }\n\n  changeValue = (value: string, debounced = true) => {\n    const { minLength } = this.props;\n    if (value.length === 0) {\n      // immediately notify when value is empty\n      this.props.onChange('');\n      // and cancel scheduled callback\n      this.debouncedOnChange.cancel();\n    } else if (!minLength || minLength <= value.length) {\n      if (debounced) {\n        this.debouncedOnChange(value);\n      } else {\n        this.props.onChange(value);\n      }\n    }\n  };\n\n  handleInputChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    const { value } = event.currentTarget;\n    this.setState({ value });\n    this.changeValue(value);\n  };\n\n  handleInputKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.keyCode === 27) {\n      // escape\n      event.preventDefault();\n      this.handleResetClick();\n    }\n    if (this.props.onKeyDown) {\n      this.props.onKeyDown(event);\n    }\n  };\n\n  handleResetClick = () => {\n    this.changeValue('', false);\n    if (this.props.value === undefined || this.props.value === '') {\n      this.setState({ value: '' });\n    }\n    if (this.input) {\n      this.input.focus();\n    }\n  };\n\n  ref = (node: HTMLInputElement | null) => {\n    this.input = node;\n    if (this.props.innerRef) {\n      this.props.innerRef(node);\n    }\n  };\n\n  render() {\n    const { loading, minLength, maxLength = DEFAULT_MAX_LENGTH } = this.props;\n    const { value } = this.state;\n\n    const inputClassName = classNames('search-box-input', {\n      touched: value.length > 0 && (!minLength || minLength > value.length)\n    });\n\n    const tooShort = minLength !== undefined && value.length > 0 && value.length < minLength;\n\n    return (\n      <div\n        className={classNames('search-box', this.props.className)}\n        id={this.props.id}\n        title={\n          tooShort && minLength !== undefined\n            ? translateWithParameters('select2.tooShort', minLength)\n            : ''\n        }>\n        <input\n          aria-label={translate('search_verb')}\n          autoComplete=\"off\"\n          autoFocus={this.props.autoFocus}\n          className={inputClassName}\n          maxLength={maxLength}\n          onChange={this.handleInputChange}\n          onClick={this.props.onClick}\n          onFocus={this.props.onFocus}\n          onKeyDown={this.handleInputKeyDown}\n          placeholder={this.props.placeholder}\n          ref={this.ref}\n          type=\"search\"\n          value={value}\n        />\n\n        <DeferredSpinner loading={loading !== undefined ? loading : false}>\n          <SearchIcon className=\"search-box-magnifier\" />\n        </DeferredSpinner>\n\n        {value && (\n          <ClearButton\n            aria-label={translate('clear')}\n            className=\"button-tiny search-box-clear\"\n            iconProps={{ size: 12 }}\n            onClick={this.handleResetClick}\n          />\n        )}\n\n        {tooShort && minLength !== undefined && (\n          <span className=\"search-box-note\">\n            {translateWithParameters('select2.tooShort', minLength)}\n          </span>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport getCoverageStatus from '../components/SourceViewer/helpers/getCoverageStatus';\nimport { getJSON, post, postJSON, RequestData } from '../helpers/request';\nimport { IssueResponse, RawIssuesResponse } from '../types/issues';\n\ntype FacetName =\n  | 'assigned_to_me'\n  | 'assignees'\n  | 'author'\n  | 'createdAt'\n  | 'cwe'\n  | 'directories'\n  | 'files'\n  | 'languages'\n  | 'owaspTop10'\n  | 'projects'\n  | 'reporters'\n  | 'resolutions'\n  | 'rules'\n  | 'sansTop25'\n  | 'severities'\n  | 'statuses'\n  | 'tags'\n  | 'types';\n\nexport function searchIssues(query: RequestData): Promise<RawIssuesResponse> {\n  return getJSON('/api/issues/search', query).catch(throwGlobalError);\n}\n\nexport function getFacets(\n  query: RequestData,\n  facets: FacetName[]\n): Promise<{\n  facets: Array<{ property: string; values: T.FacetValue[] }>;\n  response: RawIssuesResponse;\n}> {\n  const data = {\n    ...query,\n    facets: facets.join(),\n    ps: 1,\n    additionalFields: '_all'\n  };\n  return searchIssues(data).then(r => {\n    return { facets: r.facets, response: r };\n  });\n}\n\nexport function getFacet(\n  query: RequestData,\n  facet: FacetName\n): Promise<{ facet: { count: number; val: string }[]; response: RawIssuesResponse }> {\n  return getFacets(query, [facet]).then(r => {\n    return { facet: r.facets[0].values, response: r.response };\n  });\n}\n\nexport function searchIssueTags(data: {\n  project?: string;\n  ps?: number;\n  q?: string;\n}): Promise<string[]> {\n  return getJSON('/api/issues/tags', data)\n    .then(r => r.tags)\n    .catch(throwGlobalError);\n}\n\nexport function getIssueChangelog(issue: string): Promise<{ changelog: T.IssueChangelog[] }> {\n  return getJSON('/api/issues/changelog', { issue }).catch(throwGlobalError);\n}\n\nexport function getIssueFilters() {\n  return getJSON('/api/issue_filters/search').then(r => r.issueFilters);\n}\n\nexport function addIssueComment(data: { issue: string; text: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/add_comment', data);\n}\n\nexport function deleteIssueComment(data: { comment: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/delete_comment', data);\n}\n\nexport function editIssueComment(data: { comment: string; text: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/edit_comment', data);\n}\n\nexport function setIssueAssignee(data: {\n  issue: string;\n  assignee?: string;\n}): Promise<IssueResponse> {\n  return postJSON('/api/issues/assign', data);\n}\n\nexport function setIssueSeverity(data: { issue: string; severity: string }): Promise<any> {\n  return postJSON('/api/issues/set_severity', data);\n}\n\nexport function setIssueTags(data: { issue: string; tags: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/set_tags', data);\n}\n\nexport function setIssueTransition(data: {\n  issue: string;\n  transition: string;\n}): Promise<IssueResponse> {\n  return postJSON('/api/issues/do_transition', data);\n}\n\nexport function setIssueType(data: { issue: string; type: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/set_type', data);\n}\n\nexport function bulkChangeIssues(issueKeys: string[], query: RequestData): Promise<void> {\n  return post('/api/issues/bulk_change', { issues: issueKeys.join(), ...query });\n}\n\nexport function searchIssueAuthors(data: {\n  project?: string;\n  ps?: number;\n  q?: string;\n}): Promise<string[]> {\n  return getJSON('/api/issues/authors', data).then(r => r.authors, throwGlobalError);\n}\n\nexport function getIssueFlowSnippets(issueKey: string): Promise<T.Dict<T.SnippetsByComponent>> {\n  return getJSON('/api/sources/issue_snippets', { issueKey }).then(result => {\n    Object.keys(result).forEach(k => {\n      if (result[k].sources) {\n        result[k].sources = result[k].sources.reduce(\n          (lineMap: T.Dict<T.SourceLine>, line: T.SourceLine) => {\n            line.coverageStatus = getCoverageStatus(line);\n            lineMap[line.line] = line;\n            return lineMap;\n          },\n          {}\n        );\n      }\n    });\n    return result;\n  });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n/* eslint-disable prefer-destructuring */\n\nimport * as classNames from 'classnames';\nimport { throttle } from 'lodash';\nimport * as React from 'react';\nimport { createPortal, findDOMNode } from 'react-dom';\nimport ClickEventBoundary from '../controls/ClickEventBoundary';\nimport ScreenPositionFixer from '../controls/ScreenPositionFixer';\nimport './popups.css';\n\n/**\n * Positioning rules:\n * - Bottom = below the block, horizontally centered\n * - BottomLeft = below the block, horizontally left-aligned\n * - BottomRight = below the block, horizontally right-aligned\n * - LeftTop = on the left-side of the block, vertically top-aligned\n * - RightTop = on the right-side of the block, vertically top-aligned\n * - RightBottom = on the right-side of the block, vetically bottom-aligned\n * - TopLeft = above the block, horizontally left-aligned\n */\nexport enum PopupPlacement {\n  Bottom = 'bottom',\n  BottomLeft = 'bottom-left',\n  BottomRight = 'bottom-right',\n  LeftTop = 'left-top',\n  RightTop = 'right-top',\n  RightBottom = 'right-bottom',\n  TopLeft = 'top-left'\n}\n\ninterface PopupProps {\n  arrowStyle?: React.CSSProperties;\n  children?: React.ReactNode;\n  className?: string;\n  noPadding?: boolean;\n  placement?: PopupPlacement;\n  style?: React.CSSProperties;\n}\n\nfunction PopupBase(props: PopupProps, ref: React.Ref<HTMLDivElement>) {\n  const { placement = PopupPlacement.Bottom } = props;\n  return (\n    <ClickEventBoundary>\n      <div\n        className={classNames(\n          'popup',\n          `is-${placement}`,\n          { 'no-padding': props.noPadding },\n          props.className\n        )}\n        ref={ref || React.createRef()}\n        style={props.style}>\n        {props.children}\n        <PopupArrow style={props.arrowStyle} />\n      </div>\n    </ClickEventBoundary>\n  );\n}\n\nconst PopupWithRef = React.forwardRef(PopupBase);\nPopupWithRef.displayName = 'Popup';\n\nexport const Popup = PopupWithRef;\n\ninterface PopupArrowProps {\n  style?: React.CSSProperties;\n}\n\nexport function PopupArrow(props: PopupArrowProps) {\n  return <div className=\"popup-arrow\" style={props.style} />;\n}\n\ninterface PortalPopupProps extends Omit<PopupProps, 'arrowStyle' | 'style'> {\n  arrowOffset?: number;\n  children: React.ReactNode;\n  overlay: React.ReactNode;\n}\n\ninterface Measurements {\n  height: number;\n  left: number;\n  top: number;\n  width: number;\n}\n\ntype State = Partial<Measurements>;\n\nfunction isMeasured(state: State): state is Measurements {\n  return state.height !== undefined;\n}\n\nexport class PortalPopup extends React.Component<PortalPopupProps, State> {\n  mounted = false;\n  popupNode = React.createRef<HTMLDivElement>();\n  throttledPositionTooltip: () => void;\n\n  constructor(props: PortalPopupProps) {\n    super(props);\n    this.state = {};\n    this.throttledPositionTooltip = throttle(this.positionPopup, 10);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.positionPopup();\n    this.addEventListeners();\n  }\n\n  componentDidUpdate(prevProps: PortalPopupProps) {\n    if (this.props.placement !== prevProps.placement || this.props.overlay !== prevProps.overlay) {\n      this.positionPopup();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    this.removeEventListeners();\n  }\n\n  addEventListeners = () => {\n    window.addEventListener('resize', this.throttledPositionTooltip);\n    window.addEventListener('scroll', this.throttledPositionTooltip);\n  };\n\n  removeEventListeners = () => {\n    window.removeEventListener('resize', this.throttledPositionTooltip);\n    window.removeEventListener('scroll', this.throttledPositionTooltip);\n  };\n\n  getPlacement = (): PopupPlacement => {\n    return this.props.placement || PopupPlacement.Bottom;\n  };\n\n  adjustArrowPosition = (\n    placement: PopupPlacement,\n    { leftFix, topFix }: { leftFix: number; topFix: number }\n  ) => {\n    const { arrowOffset = 0 } = this.props;\n    switch (placement) {\n      case PopupPlacement.Bottom:\n      case PopupPlacement.BottomLeft:\n      case PopupPlacement.BottomRight:\n      case PopupPlacement.TopLeft:\n        return { marginLeft: -leftFix + arrowOffset };\n      default:\n        return { marginTop: -topFix + arrowOffset };\n    }\n  };\n\n  positionPopup = () => {\n    // `findDOMNode(this)` will search for the DOM node for the current component\n    // first it will find a React.Fragment (see `render`),\n    // so it will get the DOM node of the first child, i.e. DOM node of `this.props.children`\n    // docs: https://reactjs.org/docs/refs-and-the-dom.html#exposing-dom-refs-to-parent-components\n\n    // eslint-disable-next-line react/no-find-dom-node\n    const toggleNode = findDOMNode(this);\n\n    if (toggleNode && toggleNode instanceof Element && this.popupNode.current) {\n      const toggleRect = toggleNode.getBoundingClientRect();\n      const { width, height } = this.popupNode.current.getBoundingClientRect();\n      let left = 0;\n      let top = 0;\n\n      switch (this.getPlacement()) {\n        case PopupPlacement.Bottom:\n          left = toggleRect.left + toggleRect.width / 2 - width / 2;\n          top = toggleRect.top + toggleRect.height;\n          break;\n        case PopupPlacement.BottomLeft:\n          left = toggleRect.left;\n          top = toggleRect.top + toggleRect.height;\n          break;\n        case PopupPlacement.BottomRight:\n          left = toggleRect.left + toggleRect.width - width;\n          top = toggleRect.top + toggleRect.height;\n          break;\n        case PopupPlacement.LeftTop:\n          left = toggleRect.left - width;\n          top = toggleRect.top;\n          break;\n        case PopupPlacement.RightTop:\n          left = toggleRect.left + toggleRect.width;\n          top = toggleRect.top;\n          break;\n        case PopupPlacement.RightBottom:\n          left = toggleRect.left + toggleRect.width;\n          top = toggleRect.top + toggleRect.height - height;\n          break;\n        case PopupPlacement.TopLeft:\n          left = toggleRect.left;\n          top = toggleRect.top - height;\n          break;\n      }\n\n      // save width and height (and later set in `render`) to avoid resizing the popup element,\n      // when it's placed close to the window edge\n      this.setState({\n        left: window.pageXOffset + left,\n        top: window.pageYOffset + top,\n        width,\n        height\n      });\n    }\n  };\n\n  renderActual = ({ leftFix = 0, topFix = 0 }) => {\n    const { className, overlay, noPadding } = this.props;\n    const placement = this.getPlacement();\n    let arrowStyle;\n    let style;\n    if (isMeasured(this.state)) {\n      style = {\n        left: this.state.left + leftFix,\n        top: this.state.top + topFix,\n        width: this.state.width,\n        height: this.state.height\n      };\n      arrowStyle = this.adjustArrowPosition(placement, { leftFix, topFix });\n    }\n\n    return (\n      <Popup\n        arrowStyle={arrowStyle}\n        className={className}\n        noPadding={noPadding}\n        placement={placement}\n        ref={this.popupNode}\n        style={style}>\n        {overlay}\n      </Popup>\n    );\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.children}\n        {this.props.overlay && (\n          <PortalWrapper>\n            <ScreenPositionFixer ready={isMeasured(this.state)}>\n              {this.renderActual}\n            </ScreenPositionFixer>\n          </PortalWrapper>\n        )}\n      </>\n    );\n  }\n}\n\nclass PortalWrapper extends React.Component {\n  el: HTMLElement;\n\n  constructor(props: {}) {\n    super(props);\n    this.el = document.createElement('div');\n    this.el.classList.add('popup-portal');\n  }\n\n  componentDidMount() {\n    document.body.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    document.body.removeChild(this.el);\n  }\n\n  render() {\n    return createPortal(this.props.children, this.el);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON, post, postJSON, RequestData } from '../helpers/request';\nimport { BranchParameters } from '../types/branch-like';\nimport { ComponentQualifier, TreeComponent, TreeComponentWithPath } from '../types/component';\n\nexport interface BaseSearchProjectsParameters {\n  analyzedBefore?: string;\n  onProvisionedOnly?: boolean;\n  projects?: string;\n  q?: string;\n  qualifiers?: string;\n  visibility?: T.Visibility;\n}\n\nexport interface ProjectBase {\n  key: string;\n  name: string;\n  qualifier: string;\n  visibility: T.Visibility;\n}\n\nexport interface Project extends ProjectBase {\n  id: string;\n  lastAnalysisDate?: string;\n}\n\nexport interface SearchProjectsParameters extends BaseSearchProjectsParameters {\n  p?: number;\n  ps?: number;\n}\n\nexport function getComponents(\n  parameters: SearchProjectsParameters\n): Promise<{\n  components: Project[];\n  paging: T.Paging;\n}> {\n  return getJSON('/api/projects/search', parameters);\n}\n\nexport function bulkDeleteProjects(\n  parameters: BaseSearchProjectsParameters\n): Promise<void | Response> {\n  return post('/api/projects/bulk_delete', parameters).catch(throwGlobalError);\n}\n\nexport function deleteProject(project: string): Promise<void | Response> {\n  return post('/api/projects/delete', { project }).catch(throwGlobalError);\n}\n\nexport function deletePortfolio(portfolio: string): Promise<void | Response> {\n  return post('/api/views/delete', { key: portfolio }).catch(throwGlobalError);\n}\n\nexport function createProject(data: {\n  name: string;\n  project: string;\n  visibility?: T.Visibility;\n}): Promise<{ project: ProjectBase }> {\n  return postJSON('/api/projects/create', data).catch(throwGlobalError);\n}\n\nexport function searchProjectTags(data?: { ps?: number; q?: string }): Promise<any> {\n  return getJSON('/api/project_tags/search', data).catch(throwGlobalError);\n}\n\nexport function setApplicationTags(data: { application: string; tags: string }): Promise<void> {\n  return post('/api/applications/set_tags', data);\n}\n\nexport function setProjectTags(data: { project: string; tags: string }): Promise<void> {\n  return post('/api/project_tags/set', data);\n}\n\nexport function getComponentTree(\n  strategy: string,\n  component: string,\n  metrics: string[] = [],\n  additional: RequestData = {}\n): Promise<{\n  baseComponent: T.ComponentMeasure;\n  components: T.ComponentMeasure[];\n  metrics: T.Metric[];\n  paging: T.Paging;\n}> {\n  const url = '/api/measures/component_tree';\n  const data = { ...additional, component, metricKeys: metrics.join(','), strategy };\n  return getJSON(url, data).catch(throwGlobalError);\n}\n\nexport function getChildren(\n  component: string,\n  metrics: string[] = [],\n  additional: RequestData = {}\n) {\n  return getComponentTree('children', component, metrics, additional);\n}\n\nexport function getComponentLeaves(\n  component: string,\n  metrics: string[] = [],\n  additional: RequestData = {}\n) {\n  return getComponentTree('leaves', component, metrics, additional);\n}\n\nexport function getComponent(\n  data: { component: string; metricKeys: string } & BranchParameters\n): Promise<{ component: T.ComponentMeasure }> {\n  return getJSON('/api/measures/component', data);\n}\n\ntype GetTreeParams = {\n  asc?: boolean;\n  component: string;\n  p?: number;\n  ps?: number;\n  q?: string;\n  s?: string;\n  strategy?: 'all' | 'leaves' | 'children';\n} & BranchParameters;\n\nexport function getTree<T = TreeComponent>(\n  data: GetTreeParams & { qualifiers?: string }\n): Promise<{ baseComponent: TreeComponent; components: T[]; paging: T.Paging }> {\n  return getJSON('/api/components/tree', data).catch(throwGlobalError);\n}\n\nexport function getFiles(data: GetTreeParams) {\n  return getTree<TreeComponentWithPath>({ ...data, qualifiers: 'FIL' });\n}\n\nexport function getDirectories(data: GetTreeParams) {\n  return getTree<TreeComponentWithPath>({ ...data, qualifiers: 'DIR' });\n}\n\nexport function getComponentData(data: { component: string } & BranchParameters): Promise<any> {\n  return getJSON('/api/components/show', data);\n}\n\nexport function doesComponentExists(\n  data: { component: string } & BranchParameters\n): Promise<boolean> {\n  return getComponentData(data).then(\n    ({ component }) => component !== undefined,\n    () => false\n  );\n}\n\nexport function getComponentShow(data: { component: string } & BranchParameters): Promise<any> {\n  return getComponentData(data).catch(throwGlobalError);\n}\n\nexport function getParents(component: string): Promise<any> {\n  return getComponentShow({ component }).then(r => r.ancestors);\n}\n\nexport function getBreadcrumbs(data: { component: string } & BranchParameters): Promise<any> {\n  return getComponentShow(data).then(r => {\n    const reversedAncestors = [...r.ancestors].reverse();\n    return [...reversedAncestors, r.component];\n  });\n}\n\nexport function getMyProjects(data: {\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; projects: T.MyProject[] }> {\n  return getJSON('/api/projects/search_my_projects', data);\n}\n\nexport interface Component {\n  id: string;\n  key: string;\n  name: string;\n  isFavorite?: boolean;\n  analysisDate?: string;\n  qualifier: ComponentQualifier;\n  tags: string[];\n  visibility: T.Visibility;\n  leakPeriodDate?: string;\n  needIssueSync?: boolean;\n}\n\nexport interface Facet {\n  property: string;\n  values: Array<{ val: string; count: number }>;\n}\n\nexport function searchProjects(\n  data: RequestData\n): Promise<{\n  components: Component[];\n  facets: Facet[];\n  paging: T.Paging;\n}> {\n  const url = '/api/components/search_projects';\n  return getJSON(url, data);\n}\n\nexport function searchComponents(data?: {\n  q?: string;\n  qualifiers?: string;\n  ps?: number;\n}): Promise<any> {\n  return getJSON('/api/components/search', data);\n}\n\nexport function changeKey(data: { from: string; to: string }) {\n  return post('/api/projects/update_key', data).catch(throwGlobalError);\n}\n\nexport interface SuggestionsResponse {\n  projects: Array<{ key: string; name: string }>;\n  results: Array<{\n    items: Array<{\n      isFavorite: boolean;\n      isRecentlyBrowsed: boolean;\n      key: string;\n      match: string;\n      name: string;\n      project: string;\n    }>;\n    more: number;\n    q: string;\n  }>;\n  warning?: string;\n}\n\nexport function getSuggestions(\n  query?: string,\n  recentlyBrowsed?: string[],\n  more?: string\n): Promise<SuggestionsResponse> {\n  const data: RequestData = {};\n  if (query) {\n    data.s = query;\n  }\n  if (recentlyBrowsed) {\n    data.recentlyBrowsed = recentlyBrowsed.join();\n  }\n  if (more) {\n    data.more = more;\n  }\n  return getJSON('/api/components/suggestions', data).catch(throwGlobalError);\n}\n\nexport function getComponentForSourceViewer(\n  data: { component: string } & BranchParameters\n): Promise<T.SourceViewerFile> {\n  return getJSON('/api/components/app', data);\n}\n\nexport function getSources(\n  data: { key: string; from?: number; to?: number } & BranchParameters\n): Promise<T.SourceLine[]> {\n  return getJSON('/api/sources/lines', data).then(r => r.sources);\n}\n\nexport function getDuplications(\n  data: { key: string } & BranchParameters\n): Promise<{ duplications: T.Duplication[]; files: T.Dict<T.DuplicatedFile> }> {\n  return getJSON('/api/duplications/show', data).catch(throwGlobalError);\n}\n\nexport function getTests(\n  data: { sourceFileKey: string; sourceFileLineNumber: number | string } & BranchParameters\n): Promise<any> {\n  return getJSON('/api/tests/list', data).then(r => r.tests);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { colors } from '../app/theme';\nimport { AlmKeys } from '../types/alm-settings';\nimport { ComponentQualifier } from '../types/component';\nimport { IssueScope, IssueType } from '../types/issues';\n\nexport const SEVERITIES = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\nexport const STATUSES = ['OPEN', 'REOPENED', 'CONFIRMED', 'RESOLVED', 'CLOSED'];\nexport const ISSUE_TYPES: T.IssueType[] = [\n  IssueType.Bug,\n  IssueType.Vulnerability,\n  IssueType.CodeSmell,\n  IssueType.SecurityHotspot\n];\nexport const SOURCE_SCOPES = [\n  { scope: IssueScope.Main, qualifier: ComponentQualifier.File },\n  { scope: IssueScope.Test, qualifier: ComponentQualifier.TestFile }\n];\nexport const RULE_TYPES: T.RuleType[] = ['BUG', 'VULNERABILITY', 'CODE_SMELL', 'SECURITY_HOTSPOT'];\nexport const RULE_STATUSES = ['READY', 'BETA', 'DEPRECATED'];\n\nexport const CHART_COLORS_RANGE_PERCENT = [\n  colors.green,\n  colors.lightGreen,\n  colors.yellow,\n  colors.orange,\n  colors.red\n];\n\nexport const CHART_REVERSED_COLORS_RANGE_PERCENT = [\n  colors.red,\n  colors.orange,\n  colors.yellow,\n  colors.lightGreen,\n  colors.green\n];\n\nexport const RATING_COLORS = [\n  colors.green,\n  colors.lightGreen,\n  colors.yellow,\n  colors.orange,\n  colors.red\n];\n\nexport const PROJECT_KEY_MAX_LEN = 400;\n\nexport const ALM_DOCUMENTATION_PATHS = {\n  [AlmKeys.Azure]: '/documentation/analysis/azuredevops-integration/',\n  [AlmKeys.BitbucketServer]: '/documentation/analysis/bitbucket-integration/',\n  [AlmKeys.BitbucketCloud]: '/documentation/analysis/bitbucket-cloud-integration/',\n  [AlmKeys.GitHub]: '/documentation/analysis/github-integration/',\n  [AlmKeys.GitLab]: '/documentation/analysis/gitlab-integration/'\n};\n\nexport const IMPORT_COMPATIBLE_ALMS = [\n  AlmKeys.Azure,\n  AlmKeys.BitbucketServer,\n  AlmKeys.BitbucketCloud,\n  AlmKeys.GitHub,\n  AlmKeys.GitLab\n];\n\n// Count both Bitbuckets as a single ALM.\nexport const IMPORT_COMPATIBLE_ALM_COUNT = IMPORT_COMPATIBLE_ALMS.filter(\n  a => a !== AlmKeys.BitbucketCloud\n).length;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum MetricKey {\n  alert_status = 'alert_status',\n  blocker_violations = 'blocker_violations',\n  branch_coverage = 'branch_coverage',\n  bugs = 'bugs',\n  burned_budget = 'burned_budget',\n  business_value = 'business_value',\n  class_complexity = 'class_complexity',\n  classes = 'classes',\n  code_smells = 'code_smells',\n  cognitive_complexity = 'cognitive_complexity',\n  comment_lines = 'comment_lines',\n  comment_lines_data = 'comment_lines_data',\n  comment_lines_density = 'comment_lines_density',\n  complexity = 'complexity',\n  complexity_in_classes = 'complexity_in_classes',\n  complexity_in_functions = 'complexity_in_functions',\n  conditions_to_cover = 'conditions_to_cover',\n  confirmed_issues = 'confirmed_issues',\n  coverage = 'coverage',\n  critical_violations = 'critical_violations',\n  development_cost = 'development_cost',\n  directories = 'directories',\n  duplicated_blocks = 'duplicated_blocks',\n  duplicated_files = 'duplicated_files',\n  duplicated_lines = 'duplicated_lines',\n  duplicated_lines_density = 'duplicated_lines_density',\n  duplications_data = 'duplications_data',\n  effort_to_reach_maintainability_rating_a = 'effort_to_reach_maintainability_rating_a',\n  executable_lines_data = 'executable_lines_data',\n  false_positive_issues = 'false_positive_issues',\n  file_complexity = 'file_complexity',\n  file_complexity_distribution = 'file_complexity_distribution',\n  filename_size = 'filename_size',\n  filename_size_rating = 'filename_size_rating',\n  files = 'files',\n  function_complexity = 'function_complexity',\n  function_complexity_distribution = 'function_complexity_distribution',\n  functions = 'functions',\n  generated_lines = 'generated_lines',\n  generated_ncloc = 'generated_ncloc',\n  info_violations = 'info_violations',\n  last_change_on_maintainability_rating = 'last_change_on_maintainability_rating',\n  last_change_on_releasability_rating = 'last_change_on_releasability_rating',\n  last_change_on_reliability_rating = 'last_change_on_reliability_rating',\n  last_change_on_security_rating = 'last_change_on_security_rating',\n  last_change_on_security_review_rating = 'last_change_on_security_review_rating',\n  last_commit_date = 'last_commit_date',\n  leak_projects = 'leak_projects',\n  line_coverage = 'line_coverage',\n  lines = 'lines',\n  lines_to_cover = 'lines_to_cover',\n  maintainability_rating_effort = 'maintainability_rating_effort',\n  major_violations = 'major_violations',\n  minor_violations = 'minor_violations',\n  ncloc = 'ncloc',\n  ncloc_data = 'ncloc_data',\n  ncloc_language_distribution = 'ncloc_language_distribution',\n  new_blocker_violations = 'new_blocker_violations',\n  new_branch_coverage = 'new_branch_coverage',\n  new_bugs = 'new_bugs',\n  new_code_smells = 'new_code_smells',\n  new_conditions_to_cover = 'new_conditions_to_cover',\n  new_coverage = 'new_coverage',\n  new_critical_violations = 'new_critical_violations',\n  new_development_cost = 'new_development_cost',\n  new_duplicated_blocks = 'new_duplicated_blocks',\n  new_duplicated_lines = 'new_duplicated_lines',\n  new_duplicated_lines_density = 'new_duplicated_lines_density',\n  new_info_violations = 'new_info_violations',\n  new_line_coverage = 'new_line_coverage',\n  new_lines = 'new_lines',\n  new_lines_to_cover = 'new_lines_to_cover',\n  new_maintainability_rating = 'new_maintainability_rating',\n  new_major_violations = 'new_major_violations',\n  new_minor_violations = 'new_minor_violations',\n  new_reliability_rating = 'new_reliability_rating',\n  new_reliability_remediation_effort = 'new_reliability_remediation_effort',\n  new_security_hotspots = 'new_security_hotspots',\n  new_security_hotspots_reviewed = 'new_security_hotspots_reviewed',\n  new_security_rating = 'new_security_rating',\n  new_security_remediation_effort = 'new_security_remediation_effort',\n  new_security_review_rating = 'new_security_review_rating',\n  new_sqale_debt_ratio = 'new_sqale_debt_ratio',\n  new_technical_debt = 'new_technical_debt',\n  new_uncovered_conditions = 'new_uncovered_conditions',\n  new_uncovered_lines = 'new_uncovered_lines',\n  new_violations = 'new_violations',\n  new_vulnerabilities = 'new_vulnerabilities',\n  open_issues = 'open_issues',\n  projects = 'projects',\n  public_api = 'public_api',\n  public_documented_api_density = 'public_documented_api_density',\n  public_undocumented_api = 'public_undocumented_api',\n  quality_gate_details = 'quality_gate_details',\n  quality_profiles = 'quality_profiles',\n  releasability_effort = 'releasability_effort',\n  releasability_rating = 'releasability_rating',\n  reliability_rating = 'reliability_rating',\n  reliability_rating_effort = 'reliability_rating_effort',\n  reliability_remediation_effort = 'reliability_remediation_effort',\n  reopened_issues = 'reopened_issues',\n  security_hotspots = 'security_hotspots',\n  security_hotspots_reviewed = 'security_hotspots_reviewed',\n  security_rating = 'security_rating',\n  security_rating_effort = 'security_rating_effort',\n  security_remediation_effort = 'security_remediation_effort',\n  security_review_rating = 'security_review_rating',\n  security_review_rating_effort = 'security_review_rating_effort',\n  skipped_tests = 'skipped_tests',\n  sonarjava_feedback = 'sonarjava_feedback',\n  sqale_debt_ratio = 'sqale_debt_ratio',\n  sqale_index = 'sqale_index',\n  sqale_rating = 'sqale_rating',\n  statements = 'statements',\n  team_at_sonarsource = 'team_at_sonarsource',\n  team_size = 'team_size',\n  test_errors = 'test_errors',\n  test_execution_time = 'test_execution_time',\n  test_failures = 'test_failures',\n  test_success_density = 'test_success_density',\n  tests = 'tests',\n  uncovered_conditions = 'uncovered_conditions',\n  uncovered_lines = 'uncovered_lines',\n  violations = 'violations',\n  vulnerabilities = 'vulnerabilities',\n  wont_fix_issues = 'wont_fix_issues'\n}\n\nexport function isMetricKey(key: string): key is MetricKey {\n  return (Object.values(MetricKey) as string[]).includes(key);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createContext } from 'react';\n\ninterface SuggestionsContextShape {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: T.SuggestionLink[];\n}\n\nexport const SuggestionsContext = createContext<SuggestionsContextShape>({\n  addSuggestions: () => {},\n  removeSuggestions: () => {},\n  suggestions: []\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\ninterface Props extends IconProps {\n  fillInner?: string;\n}\n\nexport default function HelpIcon({ fill = 'currentColor', fillInner, ...iconProps }: Props) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M9.167 12.375v-1.75a.284.284 0 00-.082-.21.284.284 0 00-.21-.082h-1.75a.284.284 0 00-.21.082.284.284 0 00-.082.21v1.75c0 .085.028.155.082.21a.284.284 0 00.21.082h1.75a.284.284 0 00.21-.082.284.284 0 00.082-.21zM11.5 6.25c0-.535-.169-1.03-.506-1.486a3.452 3.452 0 00-1.262-1.057 3.462 3.462 0 00-1.55-.374c-1.476 0-2.603.647-3.381 1.942-.091.146-.067.273.073.383l1.203.911c.042.036.1.055.173.055a.269.269 0 00.228-.11c.322-.413.583-.692.784-.838.206-.146.468-.219.784-.219.291 0 .551.079.779.237.228.158.342.337.342.538 0 .23-.061.416-.183.556-.121.14-.328.276-.62.41a3.13 3.13 0 00-1.052.788c-.32.356-.479.737-.479 1.144v.328c0 .085.028.155.082.21a.284.284 0 00.21.082h1.75a.284.284 0 00.21-.082.284.284 0 00.082-.21c0-.115.065-.266.196-.45a1.54 1.54 0 01.496-.452c.195-.11.344-.196.447-.26a3.84 3.84 0 00.42-.319c.175-.149.31-.294.405-.437a2.407 2.407 0 00.369-1.29zM15 8c0 1.27-.313 2.441-.939 3.514a6.969 6.969 0 01-2.547 2.547A6.848 6.848 0 018 15a6.848 6.848 0 01-3.514-.939 6.969 6.969 0 01-2.547-2.547A6.848 6.848 0 011 8c0-1.27.313-2.441.939-3.514A6.969 6.969 0 014.486 1.94 6.848 6.848 0 018 1c1.27 0 2.441.313 3.514.939a6.969 6.969 0 012.547 2.547A6.848 6.848 0 0115 8z\"\n        fill={fill}\n      />\n      {fillInner && (\n        <path\n          d=\"M9.167 12.375v-1.75a.284.284 0 00-.082-.21.284.284 0 00-.21-.082h-1.75a.284.284 0 00-.21.082.284.284 0 00-.082.21v1.75c0 .085.028.155.082.21a.284.284 0 00.21.082h1.75a.284.284 0 00.21-.082.284.284 0 00.082-.21zM11.5 6.25c0-.535-.169-1.03-.506-1.486a3.452 3.452 0 00-1.262-1.057 3.462 3.462 0 00-1.55-.374c-1.476 0-2.603.647-3.381 1.942-.091.146-.067.273.073.383l1.203.911c.042.036.1.055.173.055a.269.269 0 00.228-.11c.322-.413.583-.692.784-.838.206-.146.468-.219.784-.219.291 0 .551.079.779.237.228.158.342.337.342.538 0 .23-.061.416-.183.556-.121.14-.328.276-.62.41a3.13 3.13 0 00-1.052.788c-.32.356-.479.737-.479 1.144v.328c0 .085.028.155.082.21a.284.284 0 00.21.082h1.75a.284.284 0 00.21-.082.284.284 0 00.082-.21c0-.115.065-.266.196-.45a1.54 1.54 0 01.496-.452c.195-.11.344-.196.447-.26a3.84 3.84 0 00.42-.319c.175-.149.31-.294.405-.437a2.407 2.407 0 00.369-1.29z\"\n          fill={fillInner}\n        />\n      )}\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getCurrentUser, Store } from '../../store/rootReducer';\nimport { getWrappedDisplayName } from './utils';\n\nexport function withCurrentUser<P>(\n  WrappedComponent: React.ComponentType<P & { currentUser: T.CurrentUser }>\n) {\n  class Wrapper extends React.Component<P & { currentUser: T.CurrentUser }> {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withCurrentUser');\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: Store) {\n    return { currentUser: getCurrentUser(state) };\n  }\n\n  return connect(mapStateToProps)(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { getTextColor, stringToColor } from '../../helpers/colors';\n\ninterface Props {\n  className?: string;\n  name: string;\n  round?: boolean;\n  size: number;\n}\n\nexport default function GenericAvatar({ className, name, round, size }: Props) {\n  const color = stringToColor(name);\n\n  let text = '';\n  const words = name.split(/\\s+/).filter(word => word.length > 0);\n  if (words.length >= 2) {\n    text = words[0][0] + words[1][0];\n  } else if (name.length > 0) {\n    text = name[0];\n  }\n\n  return (\n    <div\n      className={classNames(className, 'rounded')}\n      style={{\n        backgroundColor: color,\n        borderRadius: round ? '50%' : undefined,\n        color: getTextColor(color),\n        display: 'inline-block',\n        fontSize: Math.min(size / 2, 14),\n        fontWeight: 'normal',\n        height: size,\n        lineHeight: `${size}px`,\n        textAlign: 'center',\n        verticalAlign: 'top',\n        width: size\n      }}>\n      {text.toUpperCase()}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport GenericAvatar from '../../components/ui/GenericAvatar';\nimport { getGlobalSettingValue, Store } from '../../store/rootReducer';\n\ninterface Props {\n  className?: string;\n  enableGravatar: boolean;\n  gravatarServerUrl: string;\n  hash?: string;\n  name?: string;\n  size: number;\n}\n\nfunction Avatar(props: Props) {\n  if (!props.enableGravatar || !props.hash) {\n    if (!props.name) {\n      return null;\n    }\n    return <GenericAvatar className={props.className} name={props.name} size={props.size} />;\n  }\n\n  const url = props.gravatarServerUrl\n    .replace('{EMAIL_MD5}', props.hash)\n    .replace('{SIZE}', String(props.size * 2));\n\n  return (\n    <img\n      alt={props.name}\n      className={classNames(props.className, 'rounded')}\n      height={props.size}\n      src={url}\n      width={props.size}\n    />\n  );\n}\n\nconst mapStateToProps = (state: Store) => {\n  const enableGravatar = getGlobalSettingValue(state, 'sonar.lf.enableGravatar');\n  const gravatarServerUrl = getGlobalSettingValue(state, 'sonar.lf.gravatarServerUrl');\n  return {\n    enableGravatar: Boolean(enableGravatar && enableGravatar.value === 'true'),\n    gravatarServerUrl: (gravatarServerUrl && gravatarServerUrl.value) || ''\n  };\n};\n\nexport default connect(mapStateToProps)(Avatar);\n\nexport const unconnectedAvatar = Avatar;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniqueId } from 'lodash';\nimport { Dispatch } from 'redux';\nimport { ActionType } from './utils/actions';\n\nenum MessageLevel {\n  Error = 'ERROR',\n  Success = 'SUCCESS'\n}\n\ninterface Message {\n  id: string;\n  message: string;\n  level: MessageLevel;\n}\n\nfunction addGlobalMessageActionCreator(id: string, message: string, level: MessageLevel) {\n  return { type: 'ADD_GLOBAL_MESSAGE', message, level, id };\n}\n\nexport function closeGlobalMessage(id: string) {\n  return { type: 'CLOSE_GLOBAL_MESSAGE', id };\n}\n\nexport function closeAllGlobalMessages() {\n  return { type: 'CLOSE_ALL_GLOBAL_MESSAGES' };\n}\n\ntype Action =\n  | ActionType<typeof addGlobalMessageActionCreator, 'ADD_GLOBAL_MESSAGE'>\n  | ActionType<typeof closeGlobalMessage, 'CLOSE_GLOBAL_MESSAGE'>\n  | ActionType<typeof closeAllGlobalMessages, 'CLOSE_ALL_GLOBAL_MESSAGES'>;\n\nfunction addGlobalMessage(message: string, level: MessageLevel) {\n  return (dispatch: Dispatch) => {\n    const id = uniqueId('global-message-');\n    dispatch(addGlobalMessageActionCreator(id, message, level));\n    setTimeout(() => dispatch(closeGlobalMessage(id)), 5000);\n  };\n}\n\nexport function addGlobalErrorMessage(message: string) {\n  return addGlobalMessage(message, MessageLevel.Error);\n}\n\nexport function addGlobalSuccessMessage(message: string) {\n  return addGlobalMessage(message, MessageLevel.Success);\n}\n\nexport type State = Message[];\n\nexport default function(state: State = [], action: Action): State {\n  switch (action.type) {\n    case 'ADD_GLOBAL_MESSAGE':\n      return [{ id: action.id, message: action.message, level: action.level }];\n\n    case 'CLOSE_GLOBAL_MESSAGE':\n      return state.filter(message => message.id !== action.id);\n\n    case 'CLOSE_ALL_GLOBAL_MESSAGES':\n      return [];\n    default:\n      return state;\n  }\n}\n\nexport function getGlobalMessages(state: State) {\n  return state;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { LocationDescriptor } from 'history';\nimport { hasMessage, translate } from '../../helpers/l10n';\nimport { getGlobalSettingsUrl } from '../../helpers/urls';\nimport { AlmKeys } from '../../types/alm-settings';\nimport { Setting, SettingCategoryDefinition, SettingDefinition } from '../../types/settings';\n\nexport const DEFAULT_CATEGORY = 'general';\n\nexport type DefaultSpecializedInputProps = DefaultInputProps & {\n  className?: string;\n  autoComplete?: string;\n  isDefault: boolean;\n  name: string;\n  type?: string;\n};\n\nexport interface DefaultInputProps {\n  autoFocus?: boolean;\n  hasValueChanged?: boolean;\n  onCancel?: () => void;\n  onChange: (value: any) => void;\n  onSave?: () => void;\n  setting: Setting;\n  value: any;\n}\n\nexport function getPropertyName(definition: SettingDefinition) {\n  const key = `property.${definition.key}.name`;\n  return hasMessage(key) ? translate(key) : definition.name;\n}\n\nexport function getPropertyDescription(definition: SettingDefinition) {\n  const key = `property.${definition.key}.description`;\n  return hasMessage(key) ? translate(key) : definition.description;\n}\n\nexport function getCategoryName(category: string) {\n  const key = `property.category.${category}`;\n  return hasMessage(key) ? translate(key) : category;\n}\n\nexport function getSubCategoryName(category: string, subCategory: string) {\n  const key = `property.category.${category}.${subCategory}`;\n  return hasMessage(key) ? translate(key) : getCategoryName(subCategory);\n}\n\nexport function getSubCategoryDescription(category: string, subCategory: string) {\n  const key = `property.category.${category}.${subCategory}.description`;\n  return hasMessage(key) ? translate(key) : null;\n}\n\nexport function getUniqueName(definition: SettingDefinition, index?: string) {\n  const indexSuffix = index ? `[${index}]` : '';\n  return `settings[${definition.key}]${indexSuffix}`;\n}\n\nexport function getSettingValue({ definition, fieldValues, value, values }: Setting) {\n  if (isCategoryDefinition(definition) && definition.multiValues) {\n    return values;\n  } else if (definition.type === 'PROPERTY_SET') {\n    return fieldValues;\n  } else {\n    return value;\n  }\n}\n\nexport function isEmptyValue(definition: SettingDefinition, value: any) {\n  if (value == null) {\n    return true;\n  } else if (definition.type === 'BOOLEAN') {\n    return false;\n  } else {\n    return value.length === 0;\n  }\n}\n\nexport function isSecuredDefinition(item: SettingDefinition): boolean {\n  return item.key.endsWith('.secured');\n}\n\nexport function isCategoryDefinition(item: SettingDefinition): item is SettingCategoryDefinition {\n  return Boolean((item as any).fields);\n}\n\nexport function getEmptyValue(item: SettingDefinition | SettingCategoryDefinition): any {\n  if (isCategoryDefinition(item)) {\n    if (item.multiValues) {\n      return [getEmptyValue({ ...item, multiValues: false })];\n    }\n\n    if (item.type === 'PROPERTY_SET') {\n      const value: T.Dict<string> = {};\n      item.fields.forEach(field => (value[field.key] = getEmptyValue(field)));\n      return [value];\n    }\n  }\n\n  if (item.type === 'BOOLEAN' || item.type === 'SINGLE_SELECT_LIST') {\n    return null;\n  }\n  return '';\n}\n\nexport function isDefaultOrInherited(setting: Setting) {\n  return Boolean(setting.inherited);\n}\n\nexport function getDefaultValue(setting: Setting) {\n  const { definition, parentFieldValues, parentValue, parentValues } = setting;\n\n  if (definition.type === 'PASSWORD') {\n    return translate('settings.default.password');\n  }\n\n  if (definition.type === 'BOOLEAN' && parentValue) {\n    const isTrue = parentValue === 'true';\n    return isTrue ? translate('settings.boolean.true') : translate('settings.boolean.false');\n  }\n\n  if (\n    isCategoryDefinition(definition) &&\n    definition.multiValues &&\n    parentValues &&\n    parentValues.length > 0\n  ) {\n    return parentValues.join(', ');\n  }\n\n  if (definition.type === 'PROPERTY_SET' && parentFieldValues && parentFieldValues.length > 0) {\n    return translate('settings.default.complex_value');\n  }\n\n  if (parentValue == null) {\n    return isCategoryDefinition(definition) && definition.defaultValue\n      ? definition.defaultValue\n      : translate('settings.default.no_value');\n  }\n\n  return parentValue;\n}\n\nexport function isRealSettingKey(key: string) {\n  return ![\n    'sonar.new_code_period',\n    `sonar.almintegration.${AlmKeys.Azure}`,\n    `sonar.almintegration.${AlmKeys.BitbucketServer}`,\n    `sonar.almintegration.${AlmKeys.GitHub}`,\n    `sonar.almintegration.${AlmKeys.GitLab}`\n  ].includes(key);\n}\n\nexport function buildSettingLink(definition: SettingCategoryDefinition): LocationDescriptor {\n  const { category, key } = definition;\n\n  const query: T.Dict<string> = {};\n\n  if (key.startsWith('sonar.auth.gitlab')) {\n    query.alm = 'gitlab';\n  } else if (key.startsWith('sonar.auth.github')) {\n    query.alm = 'github';\n  } else if (key.startsWith('sonar.almintegration')) {\n    query.alm = key.split('.').pop() || '';\n  }\n\n  return {\n    ...getGlobalSettingsUrl(category, query),\n    hash: `#${escape(key)}`\n  };\n}\n\nexport const ADDITIONAL_SETTING_DEFINITIONS: SettingCategoryDefinition[] = [\n  {\n    name: 'Default New Code behavior',\n    description: `\n        The New Code definition is used to compare measures and track new issues.\n        This setting is the default for all projects. A specific New Code definition can be configured at project level.\n      `,\n    category: 'new_code_period',\n    key: `sonar.new_code_period`,\n    fields: [],\n    options: [],\n    subCategory: ''\n  },\n  {\n    name: 'Azure DevOps integration',\n    description: `azure devops integration configuration\n      Configuration name\n      Give your configuration a clear and succinct name. \n      This name will be used at project level to identify the correct configured Azure instance for a project.\n      Azure DevOps URL\n      For Azure DevOps Server, provide the full collection URL:\n      https://ado.your-company.com/your_collection\n\n      For Azure DevOps Services, provide the full organization URL:\n      https://dev.azure.com/your_organization\n      Personal Access Token\n      SonarQube needs a Personal Access Token to report the Quality Gate status on Pull Requests in Azure DevOps. \n      To create this token, we recommend using a dedicated Azure DevOps account with administration permissions. \n      The token itself needs Code > Read & Write permission.\n    `,\n    category: 'almintegration',\n    key: `sonar.almintegration.${AlmKeys.Azure}`,\n    fields: [],\n    options: [],\n    subCategory: ''\n  },\n  {\n    name: 'Bitbucket integration',\n    description: `bitbucket server cloud integration configuration\n      Configuration name\n      Give your configuration a clear and succinct name. \n      This name will be used at project level to identify the correct configured Bitbucket instance for a project.\n      Bitbucket Server URL\n      Example: https://bitbucket-server.your-company.com\n      Personal Access Token\n      SonarQube needs a Personal Access Token to report the Quality Gate status on Pull Requests in Bitbucket Server. \n      To create this token, we recommend using a dedicated Bitbucket Server account with administration permissions. \n      The token itself needs Read permission.\n      Workspace ID\n      The workspace ID is part of your bitbucket cloud URL https://bitbucket.org/{workspace}/{repository}\n      SonarQube needs you to create an OAuth consumer in your Bitbucket Cloud workspace settings \n      to report the Quality Gate status on Pull Requests. \n      It needs to be a private consumer with Pull Requests: Read permission. \n      An OAuth callback URL is required by Bitbucket Cloud but not used by SonarQube so any URL works.\n      OAuth Key\n      Bitbucket automatically creates an OAuth key when you create your OAuth consumer. \n      You can find it in your Bitbucket Cloud workspace settings under OAuth consumers.\n      OAuth Secret\n      Bitbucket automatically creates an OAuth secret when you create your OAuth consumer. \n      You can find it in your Bitbucket Cloud workspace settings under OAuth consumers.\n    `,\n    category: 'almintegration',\n    key: `sonar.almintegration.${AlmKeys.BitbucketServer}`,\n    fields: [],\n    options: [],\n    subCategory: ''\n  },\n  {\n    name: 'GitHub integration',\n    description: `github integration configuration\n      Configuration name\n      Give your configuration a clear and succinct name. \n      This name will be used at project level to identify the correct configured GitHub App for a project.\n      GitHub API URL\n      Example for Github Enterprise:\n      https://github.company.com/api/v3\n      If using GitHub.com:\n      https://api.github.com/\n      You need to install a GitHub App with specific settings and permissions to enable \n      Pull Request Decoration on your Organization or Repository. \n      GitHub App ID\n      The App ID is found on your GitHub App's page on GitHub at Settings > Developer Settings > GitHub Apps\n      Client ID\n      The Client ID is found on your GitHub App's page.\n      Client Secret\n      The Client secret is found on your GitHub App's page.\n      Private Key\n      Your GitHub App's private key. You can generate a .pem file from your GitHub App's page under Private keys. \n      Copy and paste the whole contents of the file here.     \n    `,\n    category: 'almintegration',\n    key: `sonar.almintegration.${AlmKeys.GitHub}`,\n    fields: [],\n    options: [],\n    subCategory: ''\n  },\n  {\n    name: 'Gitlab integration',\n    description: `gitlab integration configuration\n      Configuration name\n      Give your configuration a clear and succinct name. \n      This name will be used at project level to identify the correct configured GitLab instance for a project.\n      GitLab API URL\n      Provide the GitLab API URL. For example:\n      https://gitlab.com/api/v4\n      Personal Access Token\n      SonarQube needs a Personal Access Token to report the Quality Gate status on Merge Requests in GitLab. \n      To create this token, \n      we recommend using a dedicated GitLab account with Reporter permission to all target projects.\n      The token itself needs the api scope.\n    `,\n    category: 'almintegration',\n    key: `sonar.almintegration.${AlmKeys.GitLab}`,\n    fields: [],\n    options: [],\n    subCategory: ''\n  }\n];\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function isDefined<T>(x: T | undefined | null): x is T {\n  return x !== undefined && x !== null;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function collapsePath(path: string, limit = 30): string {\n  if (typeof path !== 'string') {\n    return '';\n  }\n\n  const tokens = path.split('/');\n\n  if (tokens.length <= 2) {\n    return path;\n  }\n\n  const head = tokens[0];\n  const tail = tokens[tokens.length - 1];\n  const middle = tokens.slice(1, -1);\n  let cut = false;\n\n  while (middle.join().length > limit && middle.length > 0) {\n    middle.shift();\n    cut = true;\n  }\n\n  const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n  return body.join('/');\n}\n\n/**\n * Return a collapsed path without a file name\n * @example\n * // returns 'src/.../js/components/navigator/app/models/'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function collapsedDirFromPath(path: string | null): string | null {\n  const limit = 30;\n  if (typeof path === 'string') {\n    const tokens = path.split('/').slice(0, -1);\n    if (tokens.length > 2) {\n      const head = tokens[0];\n      const tail = tokens[tokens.length - 1];\n      const middle = tokens.slice(1, -1);\n\n      let cut = false;\n      while (middle.join().length > limit && middle.length > 0) {\n        middle.shift();\n        cut = true;\n      }\n      const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n      return body.join('/') + '/';\n    }\n    return tokens.join('/') + '/';\n  }\n  return null;\n}\n\n/**\n * Return a file name for a given file path\n * * @example\n * // returns 'state.js'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function fileFromPath(path: string | null): string | null {\n  if (typeof path === 'string') {\n    const tokens = path.split('/');\n    return tokens[tokens.length - 1];\n  }\n  return null;\n}\n\nexport function splitPath(path: string) {\n  const tokens = path.split('/');\n  return {\n    head: tokens.slice(0, -1).join('/'),\n    tail: tokens[tokens.length - 1]\n  };\n}\n\nexport function cutLongWords(str: string, limit = 30) {\n  return str\n    .split(' ')\n    .map(word => (word.length > limit ? word.substr(0, limit) + '...' : word))\n    .join(' ');\n}\n\nexport function limitComponentName(str: string, limit = 30): string {\n  if (typeof str === 'string') {\n    return str.length > limit ? str.substr(0, limit) + '...' : str;\n  }\n  return '';\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport thunk, { ThunkMiddleware } from 'redux-thunk';\n\ntype RootReducer = typeof import('../rootReducer').default;\ntype State = import('../rootReducer').Store;\n\nconst middlewares = [thunk as ThunkMiddleware<State, any>];\nconst composed = [];\n\nif (process.env.NODE_ENV === 'development') {\n  const { __REDUX_DEVTOOLS_EXTENSION__ } = window as any;\n  composed.push(__REDUX_DEVTOOLS_EXTENSION__ ? __REDUX_DEVTOOLS_EXTENSION__() : (f: Function) => f);\n}\n\nconst finalCreateStore = compose(applyMiddleware(...middlewares), ...composed)(createStore);\n\nexport default function configureStore(rootReducer: RootReducer, initialState?: State) {\n  return finalCreateStore(rootReducer, initialState);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Store } from 'redux';\nimport { setAppState } from '../../store/appState';\nimport rootReducer, { Store as State } from '../../store/rootReducer';\nimport { receiveCurrentUser } from '../../store/users';\nimport configureStore from '../../store/utils/configureStore';\n\nlet store: Store<State, any>;\n\nconst createStore = (currentUser?: T.CurrentUser, appState?: T.AppState) => {\n  store = configureStore(rootReducer);\n  if (currentUser) {\n    store.dispatch(receiveCurrentUser(currentUser));\n  }\n  if (appState) {\n    store.dispatch(setAppState(appState));\n  }\n  return store;\n};\n\nexport default (currentUser?: T.CurrentUser, appState?: T.AppState) =>\n  store ? store : createStore(currentUser, appState);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronRightIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M11.596 8.28l-4.604 4.602a.382.382 0 0 1-.279.118.382.382 0 0 1-.279-.118l-1.03-1.03a.382.382 0 0 1-.117-.278c0-.108.04-.201.117-.28L8.7 8 5.404 4.706a.382.382 0 0 1-.117-.28c0-.108.04-.2.117-.279l1.03-1.03A.382.382 0 0 1 6.714 3c.107 0 .2.04.278.118l4.604 4.603a.382.382 0 0 1 .117.279c0 .108-.04.201-.117.28z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getAppState, Store } from '../../store/rootReducer';\nimport { getWrappedDisplayName } from './utils';\n\nexport function withAppState<P>(\n  WrappedComponent: React.ComponentType<P & { appState: Partial<T.AppState> }>\n) {\n  class Wrapper extends React.Component<P & { appState: T.AppState }> {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withAppState');\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: Store) {\n    return { appState: getAppState(state) };\n  }\n\n  return connect(mapStateToProps)(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nconst SCROLLING_DURATION = 100;\nconst SCROLLING_INTERVAL = 10;\nconst SCROLLING_STEPS = SCROLLING_DURATION / SCROLLING_INTERVAL;\n\nfunction isWindow(element: Element | Window): element is Window {\n  return element === window;\n}\n\nfunction getScroll(element: Element | Window) {\n  return isWindow(element)\n    ? { x: window.pageXOffset, y: window.pageYOffset }\n    : { x: element.scrollLeft, y: element.scrollTop };\n}\n\nfunction scrollElement(element: Element | Window, x: number, y: number): Promise<void> {\n  if (isWindow(element)) {\n    window.scrollTo(x, y);\n  } else {\n    element.scrollLeft = x;\n    element.scrollTop = y;\n  }\n  return Promise.resolve();\n}\n\nfunction smoothScroll(\n  target: number,\n  current: number,\n  scroll: (position: number) => void\n): Promise<void> {\n  const positiveDirection = target > current;\n  const step = Math.ceil(Math.abs(target - current) / SCROLLING_STEPS);\n  let stepsDone = 0;\n\n  return new Promise(resolve => {\n    const interval = setInterval(() => {\n      if (current === target || SCROLLING_STEPS === stepsDone) {\n        clearInterval(interval);\n        resolve();\n      } else {\n        let goal;\n        if (positiveDirection) {\n          goal = Math.min(target, current + step);\n        } else {\n          goal = Math.max(target, current - step);\n        }\n        stepsDone++;\n        current = goal;\n        scroll(goal);\n      }\n    }, SCROLLING_INTERVAL);\n  });\n}\n\nfunction smoothScrollTop(parent: Element | Window, position: number) {\n  const scroll = getScroll(parent);\n  return smoothScroll(position, scroll.y, position => scrollElement(parent, scroll.x, position));\n}\n\nfunction smoothScrollLeft(parent: Element | Window, position: number) {\n  const scroll = getScroll(parent);\n  return smoothScroll(position, scroll.x, position => scrollElement(parent, position, scroll.y));\n}\n\nexport function scrollToElement(\n  element: Element,\n  options: {\n    topOffset?: number;\n    bottomOffset?: number;\n    parent?: Element;\n    smooth?: boolean;\n  }\n): void {\n  const opts = { topOffset: 0, bottomOffset: 0, parent: window, smooth: true, ...options };\n  const { parent } = opts;\n\n  const { top, bottom } = element.getBoundingClientRect();\n\n  const scroll = getScroll(parent);\n\n  const height: number = isWindow(parent)\n    ? window.innerHeight\n    : parent.getBoundingClientRect().height;\n\n  const parentTop = isWindow(parent) ? 0 : parent.getBoundingClientRect().top;\n\n  if (top - parentTop < opts.topOffset) {\n    const goal = scroll.y - opts.topOffset + top - parentTop;\n    if (opts.smooth) {\n      addToScrollQueue(smoothScrollTop, parent, goal);\n    } else {\n      addToScrollQueue(scrollElement, parent, scroll.x, goal);\n    }\n  }\n\n  if (bottom - parentTop > height - opts.bottomOffset) {\n    const goal = scroll.y + bottom - parentTop - height + opts.bottomOffset;\n    if (opts.smooth) {\n      addToScrollQueue(smoothScrollTop, parent, goal);\n    } else {\n      addToScrollQueue(scrollElement, parent, scroll.x, goal);\n    }\n  }\n}\n\nexport function scrollHorizontally(\n  element: Element,\n  options: {\n    leftOffset?: number;\n    rightOffset?: number;\n    parent?: Element;\n    smooth?: boolean;\n  }\n): void {\n  const opts = { leftOffset: 0, rightOffset: 0, parent: window, smooth: true, ...options };\n  const { parent } = opts;\n\n  const { left, right } = element.getBoundingClientRect();\n\n  const scroll = getScroll(parent);\n\n  const { left: parentLeft, width } = isWindow(parent)\n    ? { left: 0, width: window.innerWidth }\n    : parent.getBoundingClientRect();\n\n  if (left - parentLeft < opts.leftOffset) {\n    const goal = scroll.x - opts.leftOffset + left - parentLeft;\n    if (opts.smooth) {\n      addToScrollQueue(smoothScrollLeft, parent, goal);\n    } else {\n      addToScrollQueue(scrollElement, parent, goal, scroll.y);\n    }\n  }\n\n  if (right - parentLeft > width - opts.rightOffset) {\n    const goal = scroll.x + right - parentLeft - width + opts.rightOffset;\n    if (opts.smooth) {\n      addToScrollQueue(smoothScrollLeft, parent, goal);\n    } else {\n      addToScrollQueue(scrollElement, parent, goal, scroll.y);\n    }\n  }\n}\n\ntype ScrollFunction = (element: Element | Window, x: number, y?: number) => Promise<void>;\n\ninterface ScrollQueueItem {\n  element: Element | Window;\n  fn: ScrollFunction;\n  x: number;\n  y?: number;\n}\n\nconst queue: ScrollQueueItem[] = [];\nlet queueRunning: boolean;\n\nfunction addToScrollQueue(\n  fn: ScrollFunction,\n  element: Element | Window,\n  x: number,\n  y?: number\n): void {\n  queue.push({ fn, element, x, y });\n  if (!queueRunning) {\n    processQueue();\n  }\n}\n\nfunction processQueue() {\n  if (queue.length > 0) {\n    queueRunning = true;\n    const { fn, element, x, y } = queue.shift()!;\n    fn(element, x, y)\n      .then(processQueue)\n      .catch(processQueue);\n  } else {\n    queueRunning = false;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createContext } from 'react';\n\nexport interface A11yContextShape {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n  links: T.A11ySkipLink[];\n}\n\nexport const A11yContext = createContext<A11yContextShape>({\n  addA11ySkipLink: () => {},\n  removeA11ySkipLink: () => {},\n  links: []\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport interface ClickEventBoundaryProps {\n  children: React.ReactElement;\n}\n\nexport default function ClickEventBoundary({ children }: ClickEventBoundaryProps) {\n  return React.cloneElement(children, {\n    onClick: (e: React.SyntheticEvent<MouseEvent>) => {\n      e.stopPropagation();\n      if (typeof children.props.onClick === 'function') {\n        children.props.onClick(e);\n      }\n    }\n  });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON, post, postJSON } from '../helpers/request';\n\nexport function getCurrentUser(): Promise<T.CurrentUser> {\n  return getJSON('/api/users/current');\n}\n\nexport function changePassword(data: {\n  login: string;\n  password: string;\n  previousPassword?: string;\n}) {\n  return post('/api/users/change_password', data).catch(throwGlobalError);\n}\n\nexport interface UserGroup {\n  default: boolean;\n  description: string;\n  id: number;\n  name: string;\n  selected: boolean;\n}\n\nexport function getUserGroups(data: {\n  login: string;\n  p?: number;\n  ps?: number;\n  q?: string;\n  selected?: string;\n}): Promise<{ paging: T.Paging; groups: UserGroup[] }> {\n  return getJSON('/api/users/groups', data);\n}\n\nexport function getIdentityProviders(): Promise<{ identityProviders: T.IdentityProvider[] }> {\n  return getJSON('/api/users/identity_providers').catch(throwGlobalError);\n}\n\nexport function searchUsers(data: {\n  p?: number;\n  ps?: number;\n  q?: string;\n}): Promise<{ paging: T.Paging; users: T.User[] }> {\n  data.q = data.q || undefined;\n  return getJSON('/api/users/search', data).catch(throwGlobalError);\n}\n\nexport function createUser(data: {\n  email?: string;\n  local?: boolean;\n  login: string;\n  name: string;\n  password?: string;\n  scmAccount: string[];\n}): Promise<void | Response> {\n  return post('/api/users/create', data);\n}\n\nexport function updateUser(data: {\n  email?: string;\n  login: string;\n  name?: string;\n  scmAccount: string[];\n}): Promise<T.User> {\n  return postJSON('/api/users/update', {\n    ...data,\n    scmAccount: data.scmAccount.length > 0 ? data.scmAccount : ''\n  });\n}\n\nexport function deactivateUser(data: { login: string }): Promise<T.User> {\n  return postJSON('/api/users/deactivate', data).catch(throwGlobalError);\n}\n\nexport function setHomePage(homepage: T.HomePage): Promise<void | Response> {\n  return post('/api/users/set_homepage', homepage).catch(throwGlobalError);\n}\n\nexport function setUserSetting(setting: T.CurrentUserSetting): Promise<void | Response> {\n  return post('/api/users/set_setting', setting).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createHistory, History } from 'history';\nimport { useRouterHistory } from 'react-router';\nimport { getBaseUrl } from './system';\n\nlet history: History;\n\nfunction ensureHistory() {\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  history = useRouterHistory(createHistory)({\n    basename: getBaseUrl()\n  });\n  return history;\n}\n\nexport default function getHistory() {\n  return history ? history : ensureHistory();\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON, post, postJSON } from '../helpers/request';\nimport { GetRulesAppResponse, SearchRulesResponse } from '../types/coding-rules';\n\nexport function getRulesApp(): Promise<GetRulesAppResponse> {\n  return getJSON('/api/rules/app').catch(throwGlobalError);\n}\n\nexport function searchRules(data: {\n  activation?: boolean | string;\n  active_severities?: string;\n  asc?: boolean | string;\n  available_since?: string;\n  cwe?: string;\n  f?: string;\n  facets?: string;\n  include_external?: boolean | string;\n  inheritance?: string;\n  is_template?: boolean | string;\n  languages?: string;\n  owaspTop10?: string;\n  p?: number;\n  ps?: number;\n  q?: string;\n  qprofile?: string;\n  repositories?: string;\n  rule_key?: string;\n  s?: string;\n  sansTop25?: string;\n  severities?: string;\n  sonarsourceSecurity?: string;\n  statuses?: string;\n  tags?: string;\n  template_key?: string;\n  types?: string;\n}): Promise<SearchRulesResponse> {\n  return getJSON('/api/rules/search', data).catch(throwGlobalError);\n}\n\nexport function takeFacet(response: SearchRulesResponse, property: string) {\n  const facet = response.facets?.find(f => f.property === property);\n  return facet ? facet.values : [];\n}\n\nexport function getRuleDetails(parameters: {\n  actives?: boolean;\n  key: string;\n}): Promise<{ actives?: T.RuleActivation[]; rule: T.RuleDetails }> {\n  return getJSON('/api/rules/show', parameters).catch(throwGlobalError);\n}\n\nexport function getRuleTags(parameters: { ps?: number; q: string }): Promise<string[]> {\n  return getJSON('/api/rules/tags', parameters).then(r => r.tags, throwGlobalError);\n}\n\nexport function createRule(data: {\n  custom_key: string;\n  markdown_description: string;\n  name: string;\n  params?: string;\n  prevent_reactivation?: boolean;\n  severity?: string;\n  status?: string;\n  template_key: string;\n  type?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/create', data).then(\n    r => r.rule,\n    response => {\n      // do not show global error if the status code is 409\n      // this case should be handled inside a component\n      if (response && response.status === 409) {\n        return Promise.reject(response);\n      } else {\n        return throwGlobalError(response);\n      }\n    }\n  );\n}\n\nexport function deleteRule(parameters: { key: string }) {\n  return post('/api/rules/delete', parameters).catch(throwGlobalError);\n}\n\nexport function updateRule(data: {\n  key: string;\n  markdown_description?: string;\n  markdown_note?: string;\n  name?: string;\n  params?: string;\n  remediation_fn_base_effort?: string;\n  remediation_fn_type?: string;\n  remediation_fy_gap_multiplier?: string;\n  severity?: string;\n  status?: string;\n  tags?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/update', data).then(r => r.rule, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isArray } from 'lodash';\nimport { searchUsers } from '../../api/users';\nimport { formatMeasure } from '../../helpers/measures';\nimport {\n  cleanQuery,\n  parseAsArray,\n  parseAsBoolean,\n  parseAsDate,\n  parseAsString,\n  queriesEqual,\n  serializeDateShort,\n  serializeString,\n  serializeStringArray\n} from '../../helpers/query';\nimport { scrollToElement } from '../../helpers/scrolling';\nimport { get, save } from '../../helpers/storage';\nimport { isDefined } from '../../helpers/types';\nimport { Facet, RawFacet } from '../../types/issues';\nimport { SecurityStandard, StandardType } from '../../types/security';\n\nexport interface Query {\n  assigned: boolean;\n  assignees: string[];\n  author: string[];\n  createdAfter: Date | undefined;\n  createdAt: string;\n  createdBefore: Date | undefined;\n  createdInLast: string;\n  cwe: string[];\n  directories: string[];\n  files: string[];\n  issues: string[];\n  languages: string[];\n  owaspTop10: string[];\n  projects: string[];\n  resolutions: string[];\n  resolved: boolean;\n  rules: string[];\n  sansTop25: string[];\n  scopes: string[];\n  severities: string[];\n  sinceLeakPeriod: boolean;\n  sonarsourceSecurity: string[];\n  sort: string;\n  statuses: string[];\n  tags: string[];\n  types: string[];\n}\n\nexport const STANDARDS = 'standards';\nexport const STANDARD_TYPES: StandardType[] = [\n  SecurityStandard.OWASP_TOP10,\n  SecurityStandard.SANS_TOP25,\n  SecurityStandard.CWE,\n  SecurityStandard.SONARSOURCE\n];\n\n// allow sorting by CREATION_DATE only\nconst parseAsSort = (sort: string) => (sort === 'CREATION_DATE' ? 'CREATION_DATE' : '');\nconst ISSUES_DEFAULT = 'sonarqube.issues.default';\n\nexport function parseQuery(query: T.RawQuery): Query {\n  return {\n    assigned: parseAsBoolean(query.assigned),\n    assignees: parseAsArray(query.assignees, parseAsString),\n    author: isArray(query.author) ? query.author : [query.author].filter(isDefined),\n    createdAfter: parseAsDate(query.createdAfter),\n    createdAt: parseAsString(query.createdAt),\n    createdBefore: parseAsDate(query.createdBefore),\n    createdInLast: parseAsString(query.createdInLast),\n    cwe: parseAsArray(query.cwe, parseAsString),\n    directories: parseAsArray(query.directories, parseAsString),\n    files: parseAsArray(query.files, parseAsString),\n    issues: parseAsArray(query.issues, parseAsString),\n    languages: parseAsArray(query.languages, parseAsString),\n    owaspTop10: parseAsArray(query.owaspTop10, parseAsString),\n    projects: parseAsArray(query.projects, parseAsString),\n    resolutions: parseAsArray(query.resolutions, parseAsString),\n    resolved: parseAsBoolean(query.resolved),\n    rules: parseAsArray(query.rules, parseAsString),\n    sansTop25: parseAsArray(query.sansTop25, parseAsString),\n    scopes: parseAsArray(query.scopes, parseAsString),\n    severities: parseAsArray(query.severities, parseAsString),\n    sinceLeakPeriod: parseAsBoolean(query.sinceLeakPeriod, false),\n    sonarsourceSecurity: parseAsArray(query.sonarsourceSecurity, parseAsString),\n    sort: parseAsSort(query.s),\n    statuses: parseAsArray(query.statuses, parseAsString),\n    tags: parseAsArray(query.tags, parseAsString),\n    types: parseAsArray(query.types, parseAsString)\n  };\n}\n\nexport function getOpen(query: T.RawQuery): string | undefined {\n  return query.open;\n}\n\nexport const areMyIssuesSelected = (query: T.RawQuery) => query.myIssues === 'true';\n\nexport function serializeQuery(query: Query): T.RawQuery {\n  const filter = {\n    assigned: query.assigned ? undefined : 'false',\n    assignees: serializeStringArray(query.assignees),\n    author: query.author,\n    createdAfter: serializeDateShort(query.createdAfter),\n    createdAt: serializeString(query.createdAt),\n    createdBefore: serializeDateShort(query.createdBefore),\n    createdInLast: serializeString(query.createdInLast),\n    cwe: serializeStringArray(query.cwe),\n    directories: serializeStringArray(query.directories),\n    files: serializeStringArray(query.files),\n    issues: serializeStringArray(query.issues),\n    languages: serializeStringArray(query.languages),\n    owaspTop10: serializeStringArray(query.owaspTop10),\n    projects: serializeStringArray(query.projects),\n    resolutions: serializeStringArray(query.resolutions),\n    resolved: query.resolved ? undefined : 'false',\n    rules: serializeStringArray(query.rules),\n    s: serializeString(query.sort),\n    sansTop25: serializeStringArray(query.sansTop25),\n    scopes: serializeStringArray(query.scopes),\n    severities: serializeStringArray(query.severities),\n    sinceLeakPeriod: query.sinceLeakPeriod ? 'true' : undefined,\n    sonarsourceSecurity: serializeStringArray(query.sonarsourceSecurity),\n    statuses: serializeStringArray(query.statuses),\n    tags: serializeStringArray(query.tags),\n    types: serializeStringArray(query.types)\n  };\n\n  return cleanQuery(filter);\n}\n\nexport const areQueriesEqual = (a: T.RawQuery, b: T.RawQuery) =>\n  queriesEqual(parseQuery(a), parseQuery(b));\n\nexport function parseFacets(facets: RawFacet[]): T.Dict<Facet> {\n  if (!facets) {\n    return {};\n  }\n\n  const result: T.Dict<Facet> = {};\n  facets.forEach(facet => {\n    const values: Facet = {};\n    facet.values.forEach(value => {\n      values[value.val] = value.count;\n    });\n    result[facet.property] = values;\n  });\n  return result;\n}\n\nexport function formatFacetStat(stat: number | undefined) {\n  return stat && formatMeasure(stat, 'SHORT_INT');\n}\n\nexport const searchAssignees = (\n  query: string,\n  page = 1\n): Promise<{ paging: T.Paging; results: T.UserBase[] }> => {\n  return searchUsers({ p: page, q: query }).then(({ paging, users }) => ({\n    paging,\n    results: users\n  }));\n};\n\nconst LOCALSTORAGE_MY = 'my';\nconst LOCALSTORAGE_ALL = 'all';\n\nexport const isMySet = () => {\n  return get(ISSUES_DEFAULT) === LOCALSTORAGE_MY;\n};\n\nexport const saveMyIssues = (myIssues: boolean) =>\n  save(ISSUES_DEFAULT, myIssues ? LOCALSTORAGE_MY : LOCALSTORAGE_ALL);\n\nexport function getLocations(\n  { flows, secondaryLocations }: Pick<T.Issue, 'flows' | 'secondaryLocations'>,\n  selectedFlowIndex: number | undefined\n) {\n  if (selectedFlowIndex !== undefined) {\n    return flows[selectedFlowIndex] || [];\n  } else {\n    return flows.length > 0 ? flows[0] : secondaryLocations;\n  }\n}\n\nexport function getSelectedLocation(\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'>,\n  selectedFlowIndex: number | undefined,\n  selectedLocationIndex: number | undefined\n) {\n  const locations = getLocations(issue, selectedFlowIndex);\n  if (\n    selectedLocationIndex !== undefined &&\n    selectedLocationIndex >= 0 &&\n    locations.length >= selectedLocationIndex\n  ) {\n    return locations[selectedLocationIndex];\n  } else {\n    return undefined;\n  }\n}\n\nexport function allLocationsEmpty(\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'>,\n  selectedFlowIndex: number | undefined\n) {\n  return getLocations(issue, selectedFlowIndex).every(location => !location.msg);\n}\n\nexport function scrollToIssue(issue: string, smooth = true) {\n  const element = document.querySelector(`[data-issue=\"${issue}\"]`);\n  if (element) {\n    scrollToElement(element, { topOffset: 250, bottomOffset: 100, smooth });\n  }\n}\n\nexport function shouldOpenStandardsFacet(\n  openFacets: T.Dict<boolean>,\n  query: Partial<Query>\n): boolean {\n  return (\n    openFacets[STANDARDS] ||\n    isFilteredBySecurityIssueTypes(query) ||\n    isOneStandardChildFacetOpen(openFacets, query)\n  );\n}\n\nexport function shouldOpenStandardsChildFacet(\n  openFacets: T.Dict<boolean>,\n  query: Partial<Query>,\n  standardType: SecurityStandard\n): boolean {\n  const filter = query[standardType];\n  return (\n    openFacets[STANDARDS] !== false &&\n    (openFacets[standardType] ||\n      (standardType !== SecurityStandard.CWE && filter !== undefined && filter.length > 0))\n  );\n}\n\nexport function shouldOpenSonarSourceSecurityFacet(\n  openFacets: T.Dict<boolean>,\n  query: Partial<Query>\n): boolean {\n  // Open it by default if the parent is open, and no other standard is open.\n  return (\n    shouldOpenStandardsChildFacet(openFacets, query, SecurityStandard.SONARSOURCE) ||\n    (shouldOpenStandardsFacet(openFacets, query) && !isOneStandardChildFacetOpen(openFacets, query))\n  );\n}\n\nfunction isFilteredBySecurityIssueTypes(query: Partial<Query>): boolean {\n  return query.types !== undefined && query.types.includes('VULNERABILITY');\n}\n\nfunction isOneStandardChildFacetOpen(openFacets: T.Dict<boolean>, query: Partial<Query>): boolean {\n  return STANDARD_TYPES.some(standardType =>\n    shouldOpenStandardsChildFacet(openFacets, query, standardType)\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { colors } from '../../app/theme';\nimport Icon, { IconProps } from './Icon';\n\nexport default function AlertSuccessIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M12.607 6.554q0-0.25-0.161-0.411l-0.813-0.804q-0.17-0.17-0.402-0.17t-0.402 0.17l-3.643 3.634-2.018-2.018q-0.17-0.17-0.402-0.17t-0.402 0.17l-0.813 0.804q-0.161 0.161-0.161 0.411 0 0.241 0.161 0.402l3.232 3.232q0.17 0.17 0.402 0.17 0.241 0 0.411-0.17l4.848-4.848q0.161-0.161 0.161-0.402zM14.857 8q0 1.866-0.92 3.442t-2.496 2.496-3.442 0.92-3.442-0.92-2.496-2.496-0.92-3.442 0.92-3.442 2.496-2.496 3.442-0.92 3.442 0.92 2.496 2.496 0.92 3.442z\"\n        style={{ fill: fill || colors.green }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isEqual, isNil, omitBy } from 'lodash';\nimport { isValidDate, parseDate, toNotSoISOString, toShortNotSoISOString } from './dates';\n\nexport function queriesEqual(a: T.RawQuery, b: T.RawQuery): boolean {\n  const keysA = Object.keys(a);\n  const keysB = Object.keys(b);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  return keysA.every(key => isEqual(a[key], b[key]));\n}\n\nexport function cleanQuery(query: T.RawQuery): T.RawQuery {\n  return omitBy(query, isNil);\n}\n\nexport function parseAsBoolean(value: string | undefined, defaultValue = true): boolean {\n  if (value === 'false') {\n    return false;\n  }\n  if (value === 'true') {\n    return true;\n  }\n  return defaultValue;\n}\n\nexport function parseAsOptionalBoolean(value: string | undefined): boolean | undefined {\n  if (value === 'true') {\n    return true;\n  } else if (value === 'false') {\n    return false;\n  }\n  return undefined;\n}\n\nexport function parseAsDate(value?: string): Date | undefined {\n  if (value) {\n    const date = parseDate(value);\n    if (isValidDate(date)) {\n      return date;\n    }\n  }\n  return undefined;\n}\n\nexport function parseAsString(value: string | undefined): string {\n  return value || '';\n}\n\nexport function parseAsOptionalString(value: string | undefined): string | undefined {\n  return value || undefined;\n}\n\nexport function parseAsArray<T>(value: string | undefined, itemParser: (x: string) => T): T[] {\n  return value ? value.split(',').map(itemParser) : [];\n}\n\nexport function parseAsOptionalArray<T>(\n  value: string | undefined,\n  itemParser: (x: string) => T\n): T[] | undefined {\n  return value ? parseAsArray(value, itemParser) : undefined;\n}\n\nexport function serializeDate(value?: Date, serializer = toNotSoISOString): string | undefined {\n  if (value != null && value.toISOString) {\n    return serializer(value);\n  }\n  return undefined;\n}\n\nexport function serializeDateShort(value: Date | undefined): string | undefined {\n  return serializeDate(value, toShortNotSoISOString);\n}\n\nexport function serializeString(value: string | undefined): string | undefined {\n  return value || undefined;\n}\n\nexport function serializeStringArray(value: string[] | undefined[]): string | undefined {\n  return value && value.length ? value.join() : undefined;\n}\n\nexport function serializeOptionalBoolean(value: boolean | undefined): string | undefined {\n  if (value === true) {\n    return 'true';\n  } else if (value === false) {\n    return 'false';\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as differenceInYears from 'date-fns/difference_in_years';\nimport { sortBy } from 'lodash';\nimport { Profile as BaseProfile } from '../../api/quality-profiles';\nimport { isValidDate, parseDate } from '../../helpers/dates';\nimport { Profile } from './types';\n\nexport function sortProfiles(profiles: BaseProfile[]): Profile[] {\n  const result: Profile[] = [];\n  const sorted = sortBy(profiles, 'name');\n\n  function retrieveChildren(parent: BaseProfile | null) {\n    return sorted.filter(\n      p => (parent == null && p.parentKey == null) || (parent != null && p.parentKey === parent.key)\n    );\n  }\n\n  function putProfile(profile: BaseProfile | null = null, depth: number = 1) {\n    const children = retrieveChildren(profile);\n\n    if (profile != null) {\n      result.push({ ...profile, childrenCount: children.length, depth });\n    }\n\n    children.forEach(child => putProfile(child, depth + 1));\n  }\n\n  sorted\n    .filter(\n      profile => profile.parentKey == null || sorted.find(p => p.key === profile.parentKey) == null\n    )\n    .forEach(profile => putProfile(profile));\n\n  return result;\n}\n\nexport function isStagnant(profile: Profile): boolean {\n  if (profile.rulesUpdatedAt) {\n    const updateDate = parseDate(profile.rulesUpdatedAt);\n    if (isValidDate(updateDate)) {\n      return differenceInYears(new Date(), updateDate) >= 1;\n    }\n  }\n  return false;\n}\n\nexport const PROFILE_PATH = '/profiles';\n\nexport const getProfilesForLanguagePath = (language: string) => ({\n  pathname: PROFILE_PATH,\n  query: { language }\n});\n\nexport const getProfilePath = (name: string, language: string) => ({\n  pathname: `${PROFILE_PATH}/show`,\n  query: { name, language }\n});\n\nexport const getProfileComparePath = (name: string, language: string, withKey?: string) => {\n  const query = { language, name };\n  if (withKey) {\n    Object.assign(query, { withKey });\n  }\n  return {\n    pathname: `${PROFILE_PATH}/compare`,\n    query\n  };\n};\n\nexport const getProfileChangelogPath = (\n  name: string,\n  language: string,\n  filter?: { since?: string; to?: string }\n) => {\n  const query = { language, name };\n  if (filter) {\n    if (filter.since) {\n      Object.assign(query, { since: filter.since });\n    }\n    if (filter.to) {\n      Object.assign(query, { to: filter.to });\n    }\n  }\n  return {\n    pathname: `${PROFILE_PATH}/changelog`,\n    query\n  };\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getInstance } from '../../helpers/system';\n\ninterface Props {\n  children?: (transformedMessage: string) => React.ReactChild;\n  message: string;\n}\n\nexport default function InstanceMessage({ children, message }: Props): any {\n  const transformedMessage = message.replace(/\\{instance\\}/gim, getInstance());\n\n  if (children) {\n    return children(transformedMessage);\n  }\n\n  return transformedMessage;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON, post, postJSON } from '../helpers/request';\nimport { BranchParameters } from '../types/branch-like';\nimport { QualityGateApplicationStatus, QualityGateProjectStatus } from '../types/quality-gates';\n\nexport function fetchQualityGates(): Promise<{\n  actions: { create: boolean };\n  qualitygates: T.QualityGate[];\n}> {\n  return getJSON('/api/qualitygates/list').catch(throwGlobalError);\n}\n\nexport function fetchQualityGate(data: { id: number | string }): Promise<T.QualityGate> {\n  return getJSON('/api/qualitygates/show', data).catch(throwGlobalError);\n}\n\nexport function createQualityGate(data: { name: string }): Promise<T.QualityGate> {\n  return postJSON('/api/qualitygates/create', data).catch(throwGlobalError);\n}\n\nexport function deleteQualityGate(data: { id: string }): Promise<void | Response> {\n  return post('/api/qualitygates/destroy', data).catch(throwGlobalError);\n}\n\nexport function renameQualityGate(data: { id: string; name: string }): Promise<void | Response> {\n  return post('/api/qualitygates/rename', data).catch(throwGlobalError);\n}\n\nexport function copyQualityGate(data: { id: string; name: string }): Promise<T.QualityGate> {\n  return postJSON('/api/qualitygates/copy', data).catch(throwGlobalError);\n}\n\nexport function setQualityGateAsDefault(data: { id: string }): Promise<void | Response> {\n  return post('/api/qualitygates/set_as_default', data).catch(throwGlobalError);\n}\n\nexport function createCondition(\n  data: {\n    gateId: string;\n  } & T.Omit<T.Condition, 'id'>\n): Promise<T.Condition> {\n  return postJSON('/api/qualitygates/create_condition', data).catch(throwGlobalError);\n}\n\nexport function updateCondition(data: T.Condition): Promise<T.Condition> {\n  return postJSON('/api/qualitygates/update_condition', data).catch(throwGlobalError);\n}\n\nexport function deleteCondition(data: { id: number }): Promise<void> {\n  return post('/api/qualitygates/delete_condition', data);\n}\n\nexport function getGateForProject(data: { project: string }): Promise<T.QualityGate | undefined> {\n  return getJSON('/api/qualitygates/get_by_project', data).then(\n    ({ qualityGate }) =>\n      qualityGate && {\n        ...qualityGate,\n        isDefault: qualityGate.default\n      },\n    throwGlobalError\n  );\n}\n\nexport function searchProjects(data: {\n  gateName: string;\n  page?: number;\n  pageSize?: number;\n  query?: string;\n  selected?: string;\n}): Promise<{\n  paging: T.Paging;\n  results: Array<{ key: string; name: string; selected: boolean }>;\n}> {\n  return getJSON('/api/qualitygates/search', data).catch(throwGlobalError);\n}\n\nexport function associateGateWithProject(data: {\n  gateId: string;\n  projectKey: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/select', data).catch(throwGlobalError);\n}\n\nexport function dissociateGateWithProject(data: {\n  gateId: string;\n  projectKey: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/deselect', data).catch(throwGlobalError);\n}\n\nexport function getApplicationQualityGate(data: {\n  application: string;\n  branch?: string;\n}): Promise<QualityGateApplicationStatus> {\n  return getJSON('/api/qualitygates/application_status', data).catch(throwGlobalError);\n}\n\nexport function getQualityGateProjectStatus(\n  data: {\n    projectKey?: string;\n    projectId?: string;\n  } & BranchParameters\n): Promise<QualityGateProjectStatus> {\n  return getJSON('/api/qualitygates/project_status', data)\n    .then(r => r.projectStatus)\n    .catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { request } from '../helpers/request';\n\nexport function login(login: string, password: string): Promise<Response> {\n  return request('/api/authentication/login')\n    .setMethod('POST')\n    .setData({ login, password })\n    .submit()\n    .then(basicCheckStatus);\n}\n\nexport function logout(): Promise<Response> {\n  return request('/api/authentication/logout')\n    .setMethod('POST')\n    .submit()\n    .then(basicCheckStatus);\n}\n\nfunction basicCheckStatus(response: Response): Promise<Response> {\n  if (response.status >= 200 && response.status < 300) {\n    return Promise.resolve(response);\n  } else {\n    return Promise.reject(response);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { InjectedRouter } from 'react-router';\nimport { Dispatch } from 'redux';\nimport * as auth from '../api/auth';\nimport { getLanguages } from '../api/languages';\nimport { getAllMetrics } from '../api/metrics';\nimport { getQualityGateProjectStatus } from '../api/quality-gates';\nimport { getBranchLikeQuery } from '../helpers/branch-like';\nimport { extractStatusConditionsFromProjectStatus } from '../helpers/qualityGates';\nimport { BranchLike } from '../types/branch-like';\nimport { requireAuthorization as requireAuthorizationAction } from './appState';\nimport { registerBranchStatusAction } from './branches';\nimport { addGlobalErrorMessage } from './globalMessages';\nimport { receiveLanguages } from './languages';\nimport { receiveMetrics } from './metrics';\n\nexport function fetchLanguages() {\n  return (dispatch: Dispatch) => {\n    getLanguages().then(\n      languages => dispatch(receiveLanguages(languages)),\n      () => {\n        /* do nothing */\n      }\n    );\n  };\n}\n\nexport function fetchMetrics() {\n  return (dispatch: Dispatch) => {\n    getAllMetrics().then(\n      metrics => dispatch(receiveMetrics(metrics)),\n      () => {\n        /* do nothing */\n      }\n    );\n  };\n}\n\nexport function fetchBranchStatus(branchLike: BranchLike, projectKey: string) {\n  return (dispatch: Dispatch<any>) => {\n    getQualityGateProjectStatus({ projectKey, ...getBranchLikeQuery(branchLike) }).then(\n      projectStatus => {\n        const { ignoredConditions, status } = projectStatus;\n        const conditions = extractStatusConditionsFromProjectStatus(projectStatus);\n        dispatch(\n          registerBranchStatusAction(branchLike, projectKey, status, conditions, ignoredConditions)\n        );\n      },\n      () => {\n        dispatch(addGlobalErrorMessage('Fetching Quality Gate status failed'));\n      }\n    );\n  };\n}\n\nexport function doLogin(login: string, password: string) {\n  return (dispatch: Dispatch<any>) =>\n    auth.login(login, password).then(\n      () => {\n        /* everything is fine */\n      },\n      () => {\n        dispatch(addGlobalErrorMessage('Authentication failed'));\n        return Promise.reject();\n      }\n    );\n}\n\nexport function doLogout() {\n  return (dispatch: Dispatch<any>) =>\n    auth.logout().then(\n      () => {\n        /* everything is fine */\n      },\n      () => {\n        dispatch(addGlobalErrorMessage('Logout failed'));\n        return Promise.reject();\n      }\n    );\n}\n\nexport function requireAuthorization(router: Pick<InjectedRouter, 'replace'>) {\n  const returnTo = window.location.pathname + window.location.search + window.location.hash;\n  router.replace({ pathname: '/sessions/new', query: { return_to: returnTo } });\n  return requireAuthorizationAction();\n}\n\nexport function registerBranchStatus(branchLike: BranchLike, component: string, status: T.Status) {\n  return (dispatch: Dispatch) => {\n    dispatch(registerBranchStatusAction(branchLike, component, status));\n  };\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON } from '../helpers/request';\n\nexport function getLanguages(): Promise<T.Language[]> {\n  return getJSON('/api/languages/list').then(r => r.languages, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { colors } from '../../app/theme';\nimport Icon, { IconProps } from './Icon';\n\nexport default function AlertErrorIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M11.402 10.018q0-0.232-0.17-0.402l-1.616-1.616 1.616-1.616q0.17-0.17 0.17-0.402 0-0.241-0.17-0.411l-0.804-0.804q-0.17-0.17-0.411-0.17-0.232 0-0.402 0.17l-1.616 1.616-1.616-1.616q-0.17-0.17-0.402-0.17-0.241 0-0.411 0.17l-0.804 0.804q-0.17 0.17-0.17 0.411 0 0.232 0.17 0.402l1.616 1.616-1.616 1.616q-0.17 0.17-0.17 0.402 0 0.241 0.17 0.411l0.804 0.804q0.17 0.17 0.411 0.17 0.232 0 0.402-0.17l1.616-1.616 1.616 1.616q0.17 0.17 0.402 0.17 0.241 0 0.411-0.17l0.804-0.804q0.17-0.17 0.17-0.411zM14.857 8q0 1.866-0.92 3.442t-2.496 2.496-3.442 0.92-3.442-0.92-2.496-2.496-0.92-3.442 0.92-3.442 2.496-2.496 3.442-0.92 3.442 0.92 2.496 2.496 0.92 3.442z\"\n        style={{ fill: fill || colors.red }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getWrappedDisplayName<P>(\n  WrappedComponent: React.ComponentType<P>,\n  hocName: string\n) {\n  const wrappedDisplayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  return `${hocName}(${wrappedDisplayName})`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { throttle } from 'lodash';\nimport * as React from 'react';\nimport './NavBar.css';\n\nexport interface NavBarProps {\n  children?: React.ReactNode;\n  className?: string;\n  height: number;\n  limited?: boolean;\n  top?: number;\n  notif?: React.ReactNode;\n}\n\ninterface State {\n  left: number;\n}\n\nexport default class NavBar extends React.PureComponent<\n  NavBarProps & React.HTMLProps<HTMLDivElement>,\n  State\n> {\n  throttledFollowHorizontalScroll: () => void;\n\n  constructor(props: NavBarProps) {\n    super(props);\n    this.state = { left: 0 };\n    this.throttledFollowHorizontalScroll = throttle(this.followHorizontalScroll, 10);\n  }\n\n  componentDidMount() {\n    document.addEventListener('scroll', this.throttledFollowHorizontalScroll);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.throttledFollowHorizontalScroll);\n  }\n\n  followHorizontalScroll = () => {\n    if (document.documentElement) {\n      this.setState({ left: -document.documentElement.scrollLeft });\n    }\n  };\n\n  render() {\n    const { children, className, height, limited = true, top, notif, ...other } = this.props;\n    return (\n      <nav {...other} className={classNames('navbar', className)} style={{ height, top }}>\n        <div\n          className={classNames('navbar-inner', { 'navbar-inner-with-notif': notif != null })}\n          style={{ height, left: this.state.left }}>\n          <div className={classNames('clearfix', { 'navbar-limited': limited })}>{children}</div>\n          {notif}\n        </div>\n      </nav>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function SecurityHotspotIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14.08 3.23a1 1 0 00-.67-.77L8.16 1a1.06 1.06 0 00-.5 0L2.41 2.46a.94.94 0 00-.67.77c-.08.57-.74 5.63 1.14 8.31A9 9 0 007.68 15a.85.85 0 00.23 0 .78.78 0 00.22 0 8.93 8.93 0 004.81-3.46c1.85-2.68 1.21-7.74 1.14-8.31zM12.21 8a6.15 6.15 0 01-.86 2.42A7.92 7.92 0 018 13V8zM8 3v5H3.59a24.29 24.29 0 010-3.82z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function VulnerabilityIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M12,7.05H6V5a2,2,0,1,1,4,0,1,1,0,0,0,2,0A4,4,0,1,0,4,5V7.06A1.12,1.12,0,0,0,3,8.17V14a1.12,1.12,0,0,0,1.12,1.12H12A1.12,1.12,0,0,0,13.1,14V8.17A1.12,1.12,0,0,0,12,7.05ZM8,13a2,2,0,1,1,2-2A2,2,0,0,1,8,13Z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { isOfficial } from '../../helpers/system';\n\nexport default function GlobalFooterBranding() {\n  const official = isOfficial();\n\n  return official ? (\n    <div>\n      SonarQube&trade; technology is powered by{' '}\n      <a href=\"https://www.sonarsource.com\" rel=\"noopener noreferrer\" target=\"_blank\">\n        SonarSource SA\n      </a>\n    </div>\n  ) : (\n    <div>\n      This application is based on{' '}\n      <a\n        href=\"https://www.sonarqube.org/?referrer=sonarqube\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n        title=\"SonarQube\">\n        SonarQube\n      </a>{' '}\n      but is <strong>not</strong> an official version provided by{' '}\n      <a\n        href=\"https://www.sonarsource.com\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n        title=\"SonarSource SA\">\n        SonarSource SA\n      </a>\n      .\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { getAppState, Store } from '../../store/rootReducer';\nimport { EditionKey } from '../../types/editions';\nimport GlobalFooter from './GlobalFooter';\n\ninterface StateProps {\n  productionDatabase: boolean;\n  sonarqubeEdition?: EditionKey;\n  sonarqubeVersion?: string;\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  productionDatabase: getAppState(state).productionDatabase,\n  sonarqubeEdition: getAppState(state).edition as EditionKey, // TODO: Fix once AppState is no longer ambiant.\n  sonarqubeVersion: getAppState(state).version\n});\n\nexport default connect(mapStateToProps)(GlobalFooter);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport InstanceMessage from '../../components/common/InstanceMessage';\nimport { Alert } from '../../components/ui/Alert';\nimport { getEdition } from '../../helpers/editions';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { EditionKey } from '../../types/editions';\nimport GlobalFooterBranding from './GlobalFooterBranding';\n\ninterface Props {\n  hideLoggedInInfo?: boolean;\n  productionDatabase: boolean;\n  sonarqubeEdition?: EditionKey;\n  sonarqubeVersion?: string;\n}\n\nexport default function GlobalFooter({\n  hideLoggedInInfo,\n  productionDatabase,\n  sonarqubeEdition,\n  sonarqubeVersion\n}: Props) {\n  const currentEdition = sonarqubeEdition && getEdition(sonarqubeEdition);\n\n  return (\n    <div className=\"page-footer page-container\" id=\"footer\">\n      {productionDatabase === false && (\n        <Alert display=\"inline\" id=\"evaluation_warning\" variant=\"warning\">\n          <p className=\"big\">{translate('footer.production_database_warning')}</p>\n          <p>\n            <InstanceMessage message={translate('footer.production_database_explanation')} />\n          </p>\n        </Alert>\n      )}\n\n      <GlobalFooterBranding />\n\n      <ul className=\"page-footer-menu\">\n        {!hideLoggedInInfo && currentEdition && (\n          <li className=\"page-footer-menu-item\">{currentEdition.name}</li>\n        )}\n        {!hideLoggedInInfo && sonarqubeVersion && (\n          <li className=\"page-footer-menu-item\">\n            {translateWithParameters('footer.version_x', sonarqubeVersion)}\n          </li>\n        )}\n        <li className=\"page-footer-menu-item\">\n          <a\n            href=\"https://www.gnu.org/licenses/lgpl-3.0.txt\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\">\n            {translate('footer.license')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a\n            href=\"https://community.sonarsource.com/c/help/sq\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\">\n            {translate('footer.community')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/documentation\">{translate('footer.documentation')}</Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a\n            href=\"https://redirect.sonarsource.com/doc/plugin-library.html\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\">\n            {translate('footer.plugins')}\n          </a>\n        </li>\n        {!hideLoggedInInfo && (\n          <li className=\"page-footer-menu-item\">\n            <Link to=\"/web_api\">{translate('footer.web_api')}</Link>\n          </li>\n        )}\n        {!hideLoggedInInfo && (\n          <li className=\"page-footer-menu-item\">\n            <Link to=\"/about\">{translate('footer.about')}</Link>\n          </li>\n        )}\n      </ul>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { flatten, sortBy } from 'lodash';\nimport BugIcon from '../components/icons/BugIcon';\nimport CodeSmellIcon from '../components/icons/CodeSmellIcon';\nimport SecurityHotspotIcon from '../components/icons/SecurityHotspotIcon';\nimport VulnerabilityIcon from '../components/icons/VulnerabilityIcon';\nimport { IssueType, RawIssue } from '../types/issues';\nimport { MetricKey } from '../types/metrics';\nimport { ISSUE_TYPES } from './constants';\n\ninterface Rule {}\n\ninterface Component {\n  key: string;\n  name: string;\n}\n\nexport function sortByType<T extends Pick<T.Issue, 'type'>>(issues: T[]): T[] {\n  return sortBy(issues, issue => ISSUE_TYPES.indexOf(issue.type));\n}\n\nfunction injectRelational(\n  issue: T.Dict<any>,\n  source: any[] | undefined,\n  baseField: string,\n  lookupField: string\n) {\n  const newFields: T.Dict<any> = {};\n  const baseValue = issue[baseField];\n  if (baseValue !== undefined && source !== undefined) {\n    const lookupValue = source.find(candidate => candidate[lookupField] === baseValue);\n    if (lookupValue != null) {\n      Object.keys(lookupValue).forEach(key => {\n        const newKey = baseField + key.charAt(0).toUpperCase() + key.slice(1);\n        newFields[newKey] = lookupValue[key];\n      });\n    }\n  }\n  return newFields;\n}\n\nfunction injectCommentsRelational(issue: RawIssue, users?: T.UserBase[]) {\n  if (!issue.comments) {\n    return {};\n  }\n  const comments = issue.comments.map(comment => {\n    const commentWithAuthor = { ...comment, author: comment.login, login: undefined };\n    return {\n      ...commentWithAuthor,\n      ...injectRelational(commentWithAuthor, users, 'author', 'login')\n    };\n  });\n  return { comments };\n}\n\nfunction prepareClosed(\n  issue: RawIssue,\n  secondaryLocations: T.FlowLocation[],\n  flows: T.FlowLocation[][]\n) {\n  return issue.status === 'CLOSED'\n    ? { flows: [], line: undefined, textRange: undefined, secondaryLocations: [] }\n    : { flows, secondaryLocations };\n}\n\nfunction ensureTextRange(issue: RawIssue): { textRange?: T.TextRange } {\n  return issue.line && !issue.textRange\n    ? {\n        textRange: {\n          startLine: issue.line,\n          endLine: issue.line,\n          startOffset: 0,\n          endOffset: 999999\n        }\n      }\n    : {};\n}\n\nfunction reverseLocations(locations: T.FlowLocation[]): T.FlowLocation[] {\n  const x = [...locations];\n  x.reverse();\n  return x;\n}\n\nfunction splitFlows(\n  issue: RawIssue,\n  components: Component[] = []\n): { secondaryLocations: T.FlowLocation[]; flows: T.FlowLocation[][] } {\n  const parsedFlows: T.FlowLocation[][] = (issue.flows || [])\n    .filter(flow => flow.locations !== undefined)\n    .map(flow => flow.locations!.filter(location => location.textRange != null))\n    .map(flow =>\n      flow.map(location => {\n        const component = components.find(component => component.key === location.component);\n        return { ...location, componentName: component && component.name };\n      })\n    );\n\n  const onlySecondaryLocations = parsedFlows.every(flow => flow.length === 1);\n\n  return onlySecondaryLocations\n    ? { secondaryLocations: orderLocations(flatten(parsedFlows)), flows: [] }\n    : { secondaryLocations: [], flows: parsedFlows.map(reverseLocations) };\n}\n\nfunction orderLocations(locations: T.FlowLocation[]) {\n  return sortBy(\n    locations,\n    location => location.textRange && location.textRange.startLine,\n    location => location.textRange && location.textRange.startOffset\n  );\n}\n\nexport function parseIssueFromResponse(\n  issue: RawIssue,\n  components?: Component[],\n  users?: T.UserBase[],\n  rules?: Rule[]\n): T.Issue {\n  const { secondaryLocations, flows } = splitFlows(issue, components);\n  return {\n    ...issue,\n    ...injectRelational(issue, components, 'component', 'key'),\n    ...injectRelational(issue, components, 'project', 'key'),\n    ...injectRelational(issue, components, 'subProject', 'key'),\n    ...injectRelational(issue, rules, 'rule', 'key'),\n    ...injectRelational(issue, users, 'assignee', 'login'),\n    ...injectCommentsRelational(issue, users),\n    ...prepareClosed(issue, secondaryLocations, flows),\n    ...ensureTextRange(issue)\n  } as T.Issue;\n}\n\nexport const ISSUETYPE_METRIC_KEYS_MAP = {\n  [IssueType.CodeSmell]: {\n    metric: MetricKey.code_smells,\n    newMetric: MetricKey.new_code_smells,\n    rating: MetricKey.sqale_rating,\n    newRating: MetricKey.new_maintainability_rating,\n    ratingName: 'Maintainability',\n    iconClass: CodeSmellIcon\n  },\n  [IssueType.Vulnerability]: {\n    metric: MetricKey.vulnerabilities,\n    newMetric: MetricKey.new_vulnerabilities,\n    rating: MetricKey.security_rating,\n    newRating: MetricKey.new_security_rating,\n    ratingName: 'Security',\n    iconClass: VulnerabilityIcon\n  },\n  [IssueType.Bug]: {\n    metric: MetricKey.bugs,\n    newMetric: MetricKey.new_bugs,\n    rating: MetricKey.reliability_rating,\n    newRating: MetricKey.new_reliability_rating,\n    ratingName: 'Reliability',\n    iconClass: BugIcon\n  },\n  [IssueType.SecurityHotspot]: {\n    metric: MetricKey.security_hotspots,\n    newMetric: MetricKey.new_security_hotspots,\n    rating: MetricKey.security_review_rating,\n    newRating: MetricKey.new_security_review_rating,\n    ratingName: 'SecurityReview',\n    iconClass: SecurityHotspotIcon\n  }\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function BugIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M10.09,1.88A2.86,2.86,0,0,0,8,1a2.87,2.87,0,0,0-2.11.87A2.93,2.93,0,0,0,5,4h6A2.93,2.93,0,0,0,10.09,1.88Z\"\n        style={{ fill }}\n      />\n      <path\n        d=\"M14.54,9H13V5.6L14.3,4.42a.5.5,0,0,0,0-.71.49.49,0,0,0-.7,0L12.17,5H3.82L2.34,3.66a.5.5,0,0,0-.67.74L2.94,5.55V9H1.46a.5.5,0,0,0,0,1H3a5.2,5.2,0,0,0,1.05,2.32l-2,1.81a.5.5,0,1,0,.67.74l2-1.82A4.62,4.62,0,0,0,7,14.1V8A1,1,0,0,1,8,7a.94.94,0,0,1,1,.9v6.17A4.55,4.55,0,0,0,11.18,13l2,1.83a.51.51,0,0,0,.33.13.48.48,0,0,0,.37-.17.49.49,0,0,0,0-.7l-2-1.8a5.34,5.34,0,0,0,1-2.29h1.64a.5.5,0,0,0,0-1Z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function CodeSmellIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M8,15.1a7,7,0,1,0-7-7A7,7,0,0,0,8,15.1Zm.74-8.9,1.46-2.52a.29.29,0,0,1,.25-.14.3.3,0,0,1,.15,0,5.26,5.26,0,0,1,2.61,4.53.28.28,0,0,1-.29.29H10a.28.28,0,0,1-.29-.29,1.78,1.78,0,0,0-.88-1.51A.29.29,0,0,1,8.75,6.2Zm.11,3.44A.23.23,0,0,1,9,9.6a.29.29,0,0,1,.25.14l1.46,2.52a.18.18,0,0,1,0,.13.3.3,0,0,1-.15.27,5.3,5.3,0,0,1-5.23,0,.3.3,0,0,1-.1-.4L6.73,9.74A.29.29,0,0,1,7,9.6a.23.23,0,0,1,.14,0A1.79,1.79,0,0,0,8.86,9.64ZM5.33,3.59a.3.3,0,0,1,.41.1L7.2,6.21a.29.29,0,0,1-.1.4,1.79,1.79,0,0,0-.87,1.51.28.28,0,0,1-.29.29H3a.32.32,0,0,1-.32-.29A5.26,5.26,0,0,1,5.33,3.59Z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { findDOMNode } from 'react-dom';\n\ninterface Props {\n  children: React.ReactNode;\n  onClickOutside: () => void;\n}\n\nexport default class OutsideClickHandler extends React.Component<Props> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n    setTimeout(() => {\n      this.addClickHandler();\n    }, 0);\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    this.removeClickHandler();\n  }\n\n  addClickHandler = () => {\n    window.addEventListener('click', this.handleWindowClick);\n  };\n\n  removeClickHandler = () => {\n    window.removeEventListener('click', this.handleWindowClick);\n  };\n\n  handleWindowClick = (event: MouseEvent) => {\n    if (this.mounted) {\n      // eslint-disable-next-line react/no-find-dom-node\n      const node = findDOMNode(this);\n      if (!node || !node.contains(event.target as Node)) {\n        this.props.onClickOutside();\n      }\n    }\n  };\n\n  render() {\n    return this.props.children;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { ActionType } from './utils/actions';\n\nexport const enum Actions {\n  SetAppState = 'SET_APP_STATE',\n  SetAdminPages = 'SET_ADMIN_PAGES',\n  RequireAuthorization = 'REQUIRE_AUTHORIZATION'\n}\n\nexport type Action =\n  | ActionType<typeof setAppState, Actions.SetAppState>\n  | ActionType<typeof setAdminPages, Actions.SetAdminPages>\n  | ActionType<typeof requireAuthorization, Actions.RequireAuthorization>;\n\nexport function setAppState(appState: T.AppState) {\n  return { type: Actions.SetAppState, appState };\n}\n\nexport function setAdminPages(adminPages: T.Extension[]) {\n  return { type: Actions.SetAdminPages, adminPages };\n}\n\nexport function requireAuthorization() {\n  return { type: Actions.RequireAuthorization };\n}\n\nconst defaultValue: T.AppState = {\n  authenticationError: false,\n  authorizationError: false,\n  edition: undefined,\n  productionDatabase: true,\n  qualifiers: [],\n  settings: {},\n  version: ''\n};\n\nexport default function(state: T.AppState = defaultValue, action: Action): T.AppState {\n  if (action.type === Actions.SetAppState) {\n    return { ...state, ...action.appState };\n  }\n  if (action.type === Actions.SetAdminPages) {\n    return { ...state, adminPages: action.adminPages };\n  }\n  if (action.type === Actions.RequireAuthorization) {\n    return { ...state, authorizationError: true };\n  }\n  return state;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum SecurityStandard {\n  OWASP_TOP10 = 'owaspTop10',\n  SANS_TOP25 = 'sansTop25',\n  SONARSOURCE = 'sonarsourceSecurity',\n  CWE = 'cwe'\n}\n\nexport type StandardType = SecurityStandard;\n\nexport type Standards = {\n  [key in StandardType]: T.Dict<{ title: string; description?: string }>;\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { invert } from 'lodash';\nimport { Facet, searchProjects } from '../../api/components';\nimport { getMeasuresForProjects } from '../../api/measures';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { isDiffMetric } from '../../helpers/measures';\nimport { RequestData } from '../../helpers/request';\nimport { MetricKey } from '../../types/metrics';\nimport { convertToFilter, Query } from './query';\n\ninterface SortingOption {\n  class?: string;\n  value: string;\n}\n\nexport const PROJECTS_DEFAULT_FILTER = 'sonarqube.projects.default';\nexport const PROJECTS_FAVORITE = 'favorite';\nexport const PROJECTS_ALL = 'all';\n\nexport const SORTING_METRICS: SortingOption[] = [\n  { value: 'name' },\n  { value: 'analysis_date' },\n  { value: 'reliability' },\n  { value: 'security' },\n  { value: 'security_review' },\n  { value: 'maintainability' },\n  { value: 'coverage' },\n  { value: 'duplications' },\n  { value: 'size' }\n];\n\nexport const SORTING_LEAK_METRICS: SortingOption[] = [\n  { value: 'name' },\n  { value: 'analysis_date' },\n  { value: 'new_reliability', class: 'projects-leak-sorting-option' },\n  { value: 'new_security', class: 'projects-leak-sorting-option' },\n  { value: 'new_security_review', class: 'projects-leak-sorting-option' },\n  { value: 'new_maintainability', class: 'projects-leak-sorting-option' },\n  { value: 'new_coverage', class: 'projects-leak-sorting-option' },\n  { value: 'new_duplications', class: 'projects-leak-sorting-option' },\n  { value: 'new_lines', class: 'projects-leak-sorting-option' }\n];\n\nexport const SORTING_SWITCH: T.Dict<string> = {\n  analysis_date: 'analysis_date',\n  name: 'name',\n  reliability: 'new_reliability',\n  security: 'new_security',\n  security_review: 'new_security_review',\n  maintainability: 'new_maintainability',\n  coverage: 'new_coverage',\n  duplications: 'new_duplications',\n  size: 'new_lines',\n  new_reliability: 'reliability',\n  new_security: 'security',\n  new_security_review: 'security_review',\n  new_maintainability: 'maintainability',\n  new_coverage: 'coverage',\n  new_duplications: 'duplications',\n  new_lines: 'size'\n};\n\nexport const VIEWS = [\n  { value: 'overall', label: 'overall' },\n  { value: 'leak', label: 'new_code' }\n];\n\nexport const VISUALIZATIONS = [\n  'risk',\n  'reliability',\n  'security',\n  'maintainability',\n  'coverage',\n  'duplications'\n];\n\nconst PAGE_SIZE = 50;\nconst PAGE_SIZE_VISUALIZATIONS = 99;\n\nconst METRICS = [\n  MetricKey.alert_status,\n  MetricKey.bugs,\n  MetricKey.reliability_rating,\n  MetricKey.vulnerabilities,\n  MetricKey.security_rating,\n  MetricKey.security_hotspots_reviewed,\n  MetricKey.security_review_rating,\n  MetricKey.code_smells,\n  MetricKey.sqale_rating,\n  MetricKey.duplicated_lines_density,\n  MetricKey.coverage,\n  MetricKey.ncloc,\n  MetricKey.ncloc_language_distribution,\n  MetricKey.projects\n];\n\nconst LEAK_METRICS = [\n  MetricKey.alert_status,\n  MetricKey.new_bugs,\n  MetricKey.new_reliability_rating,\n  MetricKey.new_vulnerabilities,\n  MetricKey.new_security_rating,\n  MetricKey.new_security_hotspots_reviewed,\n  MetricKey.new_security_review_rating,\n  MetricKey.new_code_smells,\n  MetricKey.new_maintainability_rating,\n  MetricKey.new_coverage,\n  MetricKey.new_duplicated_lines_density,\n  MetricKey.new_lines,\n  MetricKey.projects\n];\n\nconst METRICS_BY_VISUALIZATION: T.Dict<string[]> = {\n  risk: [\n    MetricKey.reliability_rating,\n    MetricKey.security_rating,\n    MetricKey.coverage,\n    MetricKey.ncloc,\n    MetricKey.sqale_index\n  ],\n  // x, y, size, color\n  reliability: [\n    MetricKey.ncloc,\n    MetricKey.reliability_remediation_effort,\n    MetricKey.bugs,\n    MetricKey.reliability_rating\n  ],\n  security: [\n    MetricKey.ncloc,\n    MetricKey.security_remediation_effort,\n    MetricKey.vulnerabilities,\n    MetricKey.security_rating\n  ],\n  maintainability: [\n    MetricKey.ncloc,\n    MetricKey.sqale_index,\n    MetricKey.code_smells,\n    MetricKey.sqale_rating\n  ],\n  coverage: [MetricKey.complexity, MetricKey.coverage, MetricKey.uncovered_lines],\n  duplications: [MetricKey.ncloc, MetricKey.duplicated_lines_density, MetricKey.duplicated_blocks]\n};\n\nexport const FACETS = [\n  'reliability_rating',\n  'security_rating',\n  'security_review_rating',\n  'sqale_rating',\n  'coverage',\n  'duplicated_lines_density',\n  'ncloc',\n  'alert_status',\n  'languages',\n  'tags',\n  'qualifier'\n];\n\nexport const LEAK_FACETS = [\n  'new_reliability_rating',\n  'new_security_rating',\n  'new_security_review_rating',\n  'new_maintainability_rating',\n  'new_coverage',\n  'new_duplicated_lines_density',\n  'new_lines',\n  'alert_status',\n  'languages',\n  'tags',\n  'qualifier'\n];\n\nconst REVERSED_FACETS = ['coverage', 'new_coverage'];\n\nexport function localizeSorting(sort?: string): string {\n  return translate('projects.sort', sort || 'name');\n}\n\nexport function parseSorting(sort: string): { sortValue: string; sortDesc: boolean } {\n  const desc = sort[0] === '-';\n  return { sortValue: desc ? sort.substr(1) : sort, sortDesc: desc };\n}\n\nexport function fetchProjects(query: Query, isFavorite: boolean, pageIndex = 1) {\n  const ps = query.view === 'visualizations' ? PAGE_SIZE_VISUALIZATIONS : PAGE_SIZE;\n  const data = convertToQueryData(query, isFavorite, {\n    p: pageIndex > 1 ? pageIndex : undefined,\n    ps,\n    facets: defineFacets(query).join(),\n    f: 'analysisDate,leakPeriodDate'\n  });\n  return searchProjects(data)\n    .then(response =>\n      Promise.all([fetchProjectMeasures(response.components, query), Promise.resolve(response)])\n    )\n    .then(([measures, { components, facets, paging }]) => {\n      return {\n        facets: getFacetsMap(facets),\n        projects: components.map(component => {\n          const componentMeasures: T.Dict<string> = {};\n          measures\n            .filter(measure => measure.component === component.key)\n            .forEach(measure => {\n              const value = isDiffMetric(measure.metric) ? measure.period?.value : measure.value;\n              if (value !== undefined) {\n                componentMeasures[measure.metric] = value;\n              }\n            });\n          return { ...component, measures: componentMeasures };\n        }),\n        total: paging.total\n      };\n    });\n}\n\nfunction defineMetrics(query: Query): string[] {\n  switch (query.view) {\n    case 'visualizations':\n      return METRICS_BY_VISUALIZATION[query.visualization || 'risk'];\n    case 'leak':\n      return LEAK_METRICS;\n    default:\n      return METRICS;\n  }\n}\n\nfunction defineFacets(query: Query): string[] {\n  if (query.view === 'leak') {\n    return LEAK_FACETS;\n  }\n  return FACETS;\n}\n\nfunction convertToQueryData(query: Query, isFavorite: boolean, defaultData = {}) {\n  const data: RequestData = { ...defaultData };\n  const filter = convertToFilter(query, isFavorite);\n  const sort = convertToSorting(query);\n\n  if (filter) {\n    data.filter = filter;\n  }\n  if (sort.s) {\n    data.s = sort.s;\n  }\n  if (sort.asc !== undefined) {\n    data.asc = sort.asc;\n  }\n  return data;\n}\n\nexport function fetchProjectMeasures(projects: Array<{ key: string }>, query: Query) {\n  if (!projects.length) {\n    return Promise.resolve([]);\n  }\n\n  const projectKeys = projects.map(project => project.key);\n  const metrics = defineMetrics(query);\n  return getMeasuresForProjects(projectKeys, metrics);\n}\n\nfunction mapFacetValues(values: Array<{ val: string; count: number }>) {\n  const map: T.Dict<number> = {};\n  values.forEach(value => {\n    map[value.val] = value.count;\n  });\n  return map;\n}\n\nconst propertyToMetricMap: T.Dict<string | undefined> = {\n  analysis_date: 'analysisDate',\n  reliability: 'reliability_rating',\n  new_reliability: 'new_reliability_rating',\n  security: 'security_rating',\n  new_security: 'new_security_rating',\n  security_review: 'security_review_rating',\n  new_security_review: 'new_security_review_rating',\n  maintainability: 'sqale_rating',\n  new_maintainability: 'new_maintainability_rating',\n  coverage: 'coverage',\n  new_coverage: 'new_coverage',\n  duplications: 'duplicated_lines_density',\n  new_duplications: 'new_duplicated_lines_density',\n  size: 'ncloc',\n  new_lines: 'new_lines',\n  gate: 'alert_status',\n  languages: 'languages',\n  tags: 'tags',\n  search: 'query',\n  qualifier: 'qualifier'\n};\n\nconst metricToPropertyMap = invert(propertyToMetricMap);\n\nfunction getFacetsMap(facets: Facet[]) {\n  const map: T.Dict<T.Dict<number>> = {};\n  facets.forEach(facet => {\n    const property = metricToPropertyMap[facet.property];\n    const { values } = facet;\n    if (REVERSED_FACETS.includes(property)) {\n      values.reverse();\n    }\n    map[property] = mapFacetValues(values);\n  });\n  return map;\n}\n\nfunction convertToSorting({ sort }: Query): { s?: string; asc?: boolean } {\n  if (sort && sort[0] === '-') {\n    return { s: propertyToMetricMap[sort.substr(1)], asc: false };\n  }\n  return { s: propertyToMetricMap[sort || ''] };\n}\n\nconst ONE_MINUTE = 60000;\nconst ONE_HOUR = 60 * ONE_MINUTE;\nconst ONE_DAY = 24 * ONE_HOUR;\nconst ONE_MONTH = 30 * ONE_DAY;\nconst ONE_YEAR = 12 * ONE_MONTH;\n\nfunction format(periods: Array<{ value: number; label: string }>) {\n  let result = '';\n  let count = 0;\n  let lastId = -1;\n  for (let i = 0; i < periods.length && count < 2; i++) {\n    if (periods[i].value > 0) {\n      count++;\n      if (lastId < 0 || lastId + 1 === i) {\n        lastId = i;\n        result += translateWithParameters(periods[i].label, periods[i].value) + ' ';\n      }\n    }\n  }\n  return result;\n}\n\nexport function formatDuration(ms: number) {\n  if (ms < ONE_MINUTE) {\n    return translate('duration.seconds');\n  }\n  const years = Math.floor(ms / ONE_YEAR);\n  ms -= years * ONE_YEAR;\n  const months = Math.floor(ms / ONE_MONTH);\n  ms -= months * ONE_MONTH;\n  const days = Math.floor(ms / ONE_DAY);\n  ms -= days * ONE_DAY;\n  const hours = Math.floor(ms / ONE_HOUR);\n  ms -= hours * ONE_HOUR;\n  const minutes = Math.floor(ms / ONE_MINUTE);\n  return format([\n    { value: years, label: 'duration.years' },\n    { value: months, label: 'duration.months' },\n    { value: days, label: 'duration.days' },\n    { value: hours, label: 'duration.hours' },\n    { value: minutes, label: 'duration.minutes' }\n  ]);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON } from '../helpers/request';\nimport { BranchParameters } from '../types/branch-like';\nimport {\n  MeasuresAndMetaWithMetrics,\n  MeasuresAndMetaWithPeriod,\n  MeasuresForProjects\n} from '../types/measures';\n\nconst COMPONENT_URL = '/api/measures/component';\n\nexport function getMeasures(\n  data: { component: string; metricKeys: string } & BranchParameters\n): Promise<T.Measure[]> {\n  return getJSON(COMPONENT_URL, data).then(r => r.component.measures, throwGlobalError);\n}\n\nexport function getMeasuresWithMetrics(\n  component: string,\n  metrics: string[],\n  branchParameters?: BranchParameters\n): Promise<MeasuresAndMetaWithMetrics> {\n  return getJSON(COMPONENT_URL, {\n    additionalFields: 'metrics',\n    component,\n    metricKeys: metrics.join(','),\n    ...branchParameters\n  }).catch(throwGlobalError);\n}\n\nexport function getMeasuresWithPeriod(\n  component: string,\n  metrics: string[],\n  branchParameters?: BranchParameters\n): Promise<MeasuresAndMetaWithPeriod> {\n  return getJSON(COMPONENT_URL, {\n    additionalFields: 'period',\n    component,\n    metricKeys: metrics.join(','),\n    ...branchParameters\n  }).catch(throwGlobalError);\n}\n\nexport function getMeasuresWithPeriodAndMetrics(\n  component: string,\n  metrics: string[],\n  branchParameters?: BranchParameters\n): Promise<MeasuresAndMetaWithPeriod & MeasuresAndMetaWithMetrics> {\n  return getJSON(COMPONENT_URL, {\n    additionalFields: 'period,metrics',\n    component,\n    metricKeys: metrics.join(','),\n    ...branchParameters\n  }).catch(throwGlobalError);\n}\n\nexport function getMeasuresForProjects(\n  projectKeys: string[],\n  metricKeys: string[]\n): Promise<MeasuresForProjects[]> {\n  return getJSON('/api/measures/search', {\n    projectKeys: projectKeys.join(),\n    metricKeys: metricKeys.join()\n  }).then(r => r.measures);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum TaskTypes {\n  Report = 'REPORT',\n  IssueSync = 'ISSUE_SYNC',\n  AppRefresh = 'APP_REFRESH',\n  ViewRefresh = 'VIEW_REFRESH'\n}\n\nexport enum TaskStatuses {\n  Pending = 'PENDING',\n  InProgress = 'IN_PROGRESS',\n  Success = 'SUCCESS',\n  Failed = 'FAILED',\n  Canceled = 'CANCELED'\n}\n\nexport interface Task {\n  analysisId?: string;\n  branch?: string;\n  componentKey?: string;\n  componentName?: string;\n  componentQualifier?: string;\n  errorMessage?: string;\n  errorStacktrace?: string;\n  errorType?: string;\n  executedAt?: string;\n  executionTimeMs?: number;\n  hasErrorStacktrace?: boolean;\n  hasScannerContext?: boolean;\n  id: string;\n  pullRequest?: string;\n  pullRequestTitle?: string;\n  scannerContext?: string;\n  startedAt?: string;\n  status: TaskStatuses;\n  submittedAt: string;\n  submitterLogin?: string;\n  type: TaskTypes;\n  warningCount?: number;\n  warnings?: string[];\n}\n\nexport interface TaskWarning {\n  key: string;\n  message: string;\n  dismissable: boolean;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { SystemUpgradeDownloadUrls } from './system';\n\nexport enum EditionKey {\n  community = 'community',\n  developer = 'developer',\n  enterprise = 'enterprise',\n  datacenter = 'datacenter'\n}\n\nexport interface Edition {\n  downloadProperty: keyof SystemUpgradeDownloadUrls;\n  homeUrl: string;\n  key: EditionKey;\n  name: string;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON, post, RequestData } from '../helpers/request';\nimport { IndexationStatus } from '../types/indexation';\nimport { Task, TaskWarning } from '../types/tasks';\n\nexport function getAnalysisStatus(data: {\n  component: string;\n  branch?: string;\n  pullRequest?: string;\n}): Promise<{\n  component: {\n    branch?: string;\n    key: string;\n    name: string;\n    pullRequest?: string;\n    warnings: TaskWarning[];\n  };\n}> {\n  return getJSON('/api/ce/analysis_status', data).catch(throwGlobalError);\n}\n\nexport function getActivity(data: RequestData): Promise<{ tasks: Task[] }> {\n  return getJSON('/api/ce/activity', data);\n}\n\nexport function getStatus(\n  component?: string\n): Promise<{ failing: number; inProgress: number; pending: number; pendingTime?: number }> {\n  return getJSON('/api/ce/activity_status', { component });\n}\n\nexport function getTask(id: string, additionalFields?: string[]): Promise<Task> {\n  return getJSON('/api/ce/task', { id, additionalFields }).then(r => r.task);\n}\n\nexport function cancelTask(id: string): Promise<any> {\n  return post('/api/ce/cancel', { id }).then(\n    () => getTask(id),\n    () => getTask(id)\n  );\n}\n\nexport function cancelAllTasks(): Promise<any> {\n  return post('/api/ce/cancel_all');\n}\n\nexport function getTasksForComponent(component: string): Promise<{ queue: Task[]; current: Task }> {\n  return getJSON('/api/ce/component', { component }).catch(throwGlobalError);\n}\n\nexport function getTypes(): Promise<string[]> {\n  return getJSON('/api/ce/task_types').then(r => r.taskTypes);\n}\n\nexport function getWorkers(): Promise<{ canSetWorkerCount: boolean; value: number }> {\n  return getJSON('/api/ce/worker_count').catch(throwGlobalError);\n}\n\nexport function setWorkerCount(count: number): Promise<void | Response> {\n  return post('/api/ce/set_worker_count', { count }).catch(throwGlobalError);\n}\n\nexport function getIndexationStatus(): Promise<IndexationStatus> {\n  return getJSON('/api/ce/indexation_status').catch(throwGlobalError);\n}\n\nexport function dismissAnalysisWarning(component: string, warning: string) {\n  return post('/api/ce/dismiss_analysis_warning', { component, warning }).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport { combineReducers, Dispatch } from 'redux';\nimport * as api from '../api/users';\nimport { isLoggedIn } from '../helpers/users';\nimport { ActionType } from './utils/actions';\n\nconst enum Actions {\n  ReceiveCurrentUser = 'RECEIVE_CURRENT_USER',\n  SetCurrentUserSetting = 'SET_CURRENT_USER_SETTING',\n  SetHomePageAction = 'SET_HOMEPAGE'\n}\n\ntype Action =\n  | ActionType<typeof receiveCurrentUser, Actions.ReceiveCurrentUser>\n  | ActionType<typeof setCurrentUserSettingAction, Actions.SetCurrentUserSetting>\n  | ActionType<typeof setHomePageAction, Actions.SetHomePageAction>;\n\nexport interface State {\n  usersByLogin: T.Dict<any>;\n  userLogins: string[];\n  currentUser: T.CurrentUser;\n}\n\nexport function receiveCurrentUser(user: T.CurrentUser) {\n  return { type: Actions.ReceiveCurrentUser, user };\n}\n\nexport function setHomePageAction(homepage: T.HomePage) {\n  return { type: Actions.SetHomePageAction, homepage };\n}\n\nexport function setCurrentUserSettingAction(setting: T.CurrentUserSetting) {\n  return { type: Actions.SetCurrentUserSetting, setting };\n}\n\nexport function setHomePage(homepage: T.HomePage) {\n  return (dispatch: Dispatch) => {\n    api.setHomePage(homepage).then(\n      () => {\n        dispatch(setHomePageAction(homepage));\n      },\n      () => {}\n    );\n  };\n}\n\nexport function setCurrentUserSetting(setting: T.CurrentUserSetting) {\n  return (dispatch: Dispatch, getState: () => { users: State }) => {\n    const oldSetting = getCurrentUserSetting(getState().users, setting.key);\n    dispatch(setCurrentUserSettingAction(setting));\n    api.setUserSetting(setting).then(\n      () => {},\n      () => {\n        dispatch(setCurrentUserSettingAction({ ...setting, value: oldSetting || '' }));\n      }\n    );\n  };\n}\n\nfunction usersByLogin(state: State['usersByLogin'] = {}, action: Action): State['usersByLogin'] {\n  if (action.type === Actions.ReceiveCurrentUser && isLoggedIn(action.user)) {\n    return { ...state, [action.user.login]: action.user };\n  } else {\n    return state;\n  }\n}\n\nfunction userLogins(state: State['userLogins'] = [], action: Action): State['userLogins'] {\n  if (action.type === Actions.ReceiveCurrentUser && isLoggedIn(action.user)) {\n    return uniq([...state, action.user.login]);\n  } else {\n    return state;\n  }\n}\n\nfunction currentUser(\n  state: State['currentUser'] = { isLoggedIn: false },\n  action: Action\n): State['currentUser'] {\n  if (action.type === Actions.ReceiveCurrentUser) {\n    return action.user;\n  }\n  if (action.type === Actions.SetHomePageAction && isLoggedIn(state)) {\n    return { ...state, homepage: action.homepage } as T.LoggedInUser;\n  }\n  if (action.type === Actions.SetCurrentUserSetting && isLoggedIn(state)) {\n    let settings: T.CurrentUserSetting[];\n    if (state.settings) {\n      settings = [...state.settings];\n      const index = settings.findIndex(setting => setting.key === action.setting.key);\n      if (index === -1) {\n        settings.push(action.setting);\n      } else {\n        settings[index] = action.setting;\n      }\n    } else {\n      settings = [action.setting];\n    }\n    return { ...state, settings } as T.LoggedInUser;\n  }\n  return state;\n}\n\nexport default combineReducers({ usersByLogin, userLogins, currentUser });\n\nexport function getCurrentUser(state: State) {\n  return state.currentUser;\n}\n\nexport function getCurrentUserSetting(state: State, key: T.CurrentUserSettingNames) {\n  let setting;\n  if (isLoggedIn(state.currentUser) && state.currentUser.settings) {\n    setting = state.currentUser.settings.find(setting => setting.key === key);\n  }\n  return setting && setting.value;\n}\n\nexport function getUserByLogin(state: State, login: string) {\n  return state.usersByLogin[login];\n}\n\nexport function getUsersByLogins(state: State, logins: string[]) {\n  return logins.map(login => getUserByLogin(state, login));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum IssueType {\n  CodeSmell = 'CODE_SMELL',\n  Vulnerability = 'VULNERABILITY',\n  Bug = 'BUG',\n  SecurityHotspot = 'SECURITY_HOTSPOT'\n}\n\nexport enum IssueScope {\n  Main = 'MAIN',\n  Test = 'TEST'\n}\n\ninterface Comment {\n  createdAt: string;\n  htmlText: string;\n  key: string;\n  login: string;\n  markdown: string;\n  updatable: boolean;\n}\n\nexport interface RawIssue {\n  assignee?: string;\n  author?: string;\n  comments?: Array<Comment>;\n  component: string;\n  flows?: Array<{\n    // `componentName` is not available in RawIssue\n    locations?: Array<T.Omit<T.FlowLocation, 'componentName'>>;\n  }>;\n  key: string;\n  line?: number;\n  project: string;\n  rule: string;\n  severity: string;\n  status: string;\n  subProject?: string;\n  textRange?: T.TextRange;\n}\n\nexport interface IssueResponse {\n  components?: Array<{ key: string; name: string }>;\n  issue: RawIssue;\n  rules?: Array<{}>;\n  users?: Array<T.UserBase>;\n}\n\nexport interface RawIssuesResponse {\n  components: ReferencedComponent[];\n  effortTotal: number;\n  facets: RawFacet[];\n  issues: RawIssue[];\n  languages: ReferencedLanguage[];\n  paging: T.Paging;\n  rules?: Array<{}>;\n  users?: Array<T.UserBase>;\n}\n\nexport interface FetchIssuesPromise {\n  components: ReferencedComponent[];\n  effortTotal: number;\n  facets: RawFacet[];\n  issues: T.Issue[];\n  languages: ReferencedLanguage[];\n  paging: T.Paging;\n  rules: ReferencedRule[];\n  users: T.UserBase[];\n}\n\nexport interface ReferencedComponent {\n  key: string;\n  name: string;\n  path?: string;\n  uuid: string;\n}\n\nexport interface ReferencedLanguage {\n  name: string;\n}\n\nexport interface ReferencedRule {\n  langName?: string;\n  name: string;\n}\n\nexport interface RawFacet {\n  property: string;\n  values: Array<{ val: string; count: number }>;\n}\n\nexport interface Facet {\n  [value: string]: number;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createContext } from 'react';\nimport { BranchLike } from '../../types/branch-like';\n\nexport interface ComponentDescriptor {\n  branchLike: BranchLike | undefined;\n  key: string;\n  line?: number;\n  name?: string;\n  qualifier?: string;\n}\n\nexport interface RuleDescriptor {\n  key: string;\n  name?: string;\n}\n\nexport interface WorkspaceContextShape {\n  externalRulesRepoNames: T.Dict<string>;\n  openComponent: (component: ComponentDescriptor) => void;\n  openRule: (rule: RuleDescriptor) => void;\n}\n\nexport const WorkspaceContext = createContext<WorkspaceContextShape>({\n  externalRulesRepoNames: {},\n  openComponent: () => {},\n  openRule: () => {}\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nexport enum Permissions {\n  Admin = 'admin',\n  ProjectCreation = 'provisioning',\n  ApplicationCreation = 'applicationcreator'\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { stringify } from 'querystring';\nimport { omitNil } from '../helpers/request';\nimport { Edition, EditionKey } from '../types/editions';\nimport { SystemUpgrade } from '../types/system';\n\nconst EDITIONS: { [x in EditionKey]: Edition } = {\n  community: {\n    key: EditionKey.community,\n    name: 'Community Edition',\n    homeUrl: 'https://redirect.sonarsource.com/editions/community.html',\n    downloadProperty: 'downloadUrl'\n  },\n  developer: {\n    key: EditionKey.developer,\n    name: 'Developer Edition',\n    homeUrl: 'https://redirect.sonarsource.com/editions/developer.html',\n    downloadProperty: 'downloadDeveloperUrl'\n  },\n  enterprise: {\n    key: EditionKey.enterprise,\n    name: 'Enterprise Edition',\n    homeUrl: 'https://redirect.sonarsource.com/editions/enterprise.html',\n    downloadProperty: 'downloadEnterpriseUrl'\n  },\n  datacenter: {\n    key: EditionKey.datacenter,\n    name: 'Data Center Edition',\n    homeUrl: 'https://redirect.sonarsource.com/editions/datacenter.html',\n    downloadProperty: 'downloadDatacenterUrl'\n  }\n};\n\nexport function getEdition(editionKey: EditionKey) {\n  return EDITIONS[editionKey];\n}\n\nexport function getAllEditionsAbove(currentEdition?: EditionKey) {\n  const editions = Object.values(EDITIONS);\n  const currentEditionIdx = editions.findIndex(edition => edition.key === currentEdition);\n  return editions.slice(currentEditionIdx + 1);\n}\n\nexport function getEditionUrl(\n  edition: Edition,\n  data: { serverId?: string; ncloc?: number; sourceEdition?: EditionKey }\n) {\n  let url = edition.homeUrl;\n  const query = stringify(omitNil(data));\n  if (query) {\n    url += '?' + query;\n  }\n  return url;\n}\n\nexport function getEditionDownloadUrl(edition: Edition, lastUpgrade: SystemUpgrade) {\n  return lastUpgrade[edition.downloadProperty] || lastUpgrade.downloadUrl;\n}\n\nexport function getEditionDownloadFilename(url: string) {\n  return url.replace(/^.+\\/(sonarqube-[\\w\\-.]+\\.zip)$/, '$1');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { keyframes } from '@emotion/core';\nimport styled from '@emotion/styled';\nimport * as React from 'react';\nimport { colors, sizes, zIndexes } from '../../app/theme';\nimport { cutLongWords } from '../../helpers/path';\nimport { ClearButton } from './buttons';\n\ninterface IMessage {\n  id: string;\n  level: 'ERROR' | 'SUCCESS';\n  message: string;\n}\n\nexport interface GlobalMessagesProps {\n  closeGlobalMessage: (id: string) => void;\n  messages: IMessage[];\n}\n\nexport default function GlobalMessages({ closeGlobalMessage, messages }: GlobalMessagesProps) {\n  if (messages.length === 0) {\n    return null;\n  }\n\n  return (\n    <MessagesContainer>\n      {messages.map(message => (\n        <GlobalMessage closeGlobalMessage={closeGlobalMessage} key={message.id} message={message} />\n      ))}\n    </MessagesContainer>\n  );\n}\n\nconst MessagesContainer = styled.div`\n  position: fixed;\n  z-index: ${zIndexes.processContainerZIndex};\n  top: 0;\n  left: 50%;\n  width: 350px;\n  margin-left: -175px;\n`;\n\nexport class GlobalMessage extends React.PureComponent<{\n  closeGlobalMessage: (id: string) => void;\n  message: IMessage;\n}> {\n  handleClose = () => {\n    this.props.closeGlobalMessage(this.props.message.id);\n  };\n\n  render() {\n    const { message } = this.props;\n    return (\n      <Message\n        data-test={`global-message__${message.level}`}\n        level={message.level}\n        role={message.level === 'SUCCESS' ? 'status' : 'alert'}>\n        {cutLongWords(message.message)}\n        <CloseButton\n          className=\"button-small\"\n          color=\"#fff\"\n          level={message.level}\n          onClick={this.handleClose}\n        />\n      </Message>\n    );\n  }\n}\n\nconst appearAnim = keyframes`\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n`;\n\nconst Message = styled.div<Pick<IMessage, 'level'>>`\n  position: relative;\n  padding: 0 30px 0 10px;\n  line-height: ${sizes.controlHeight};\n  border-radius: 0 0 3px 3px;\n  box-sizing: border-box;\n  color: #ffffff;\n  background-color: ${({ level }) => (level === 'SUCCESS' ? colors.green : colors.red)};\n  text-align: center;\n  opacity: 0;\n  animation: ${appearAnim} 0.2s ease forwards;\n\n  & + & {\n    margin-top: calc(${sizes.gridSize} / 2);\n    border-radius: 3px;\n  }\n`;\n\nconst CloseButton = styled(ClearButton)<Pick<IMessage, 'level'>>`\n  position: absolute;\n  top: calc(${sizes.gridSize} / 4);\n  right: calc(${sizes.gridSize} / 4);\n\n  &:hover svg,\n  &:focus svg {\n    color: ${({ level }) => (level === 'SUCCESS' ? colors.green : colors.red)};\n  }\n`;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport GlobalMessages from '../../components/controls/GlobalMessages';\nimport { closeGlobalMessage } from '../../store/globalMessages';\nimport { getGlobalMessages, Store } from '../../store/rootReducer';\n\nconst mapStateToProps = (state: Store) => ({\n  messages: getGlobalMessages(state)\n});\n\nconst mapDispatchToProps = { closeGlobalMessage };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GlobalMessages);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { colors } from '../../app/theme';\nimport Icon, { IconProps } from './Icon';\n\nexport default function AlertWarnIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M8 1.143q1.866 0 3.442.92t2.496 2.496.92 3.442-.92 3.442-2.496 2.496-3.442.92-3.442-.92-2.496-2.496-.92-3.442.92-3.442 2.496-2.496T8 1.143zm1.143 11.134v-1.696q0-.125-.08-.21t-.196-.085H7.153q-.116 0-.205.089t-.089.205v1.696q0 .116.089.205t.205.089h1.714q.116 0 .196-.085t.08-.21zm-.018-3.072l.161-5.545q0-.107-.089-.161-.089-.071-.214-.071H7.019q-.125 0-.214.071-.089.054-.089.161l.152 5.545q0 .089.089.156t.214.067h1.652q.125 0 .21-.067t.094-.156z\"\n        style={{ fill: fill || colors.orange }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport { combineReducers } from 'redux';\nimport { ActionType } from '../../../store/utils/actions';\n\nconst enum Actions {\n  CancelChange = 'settingsPage/CANCEL_CHANGE',\n  ChangeValue = 'settingsPage/CHANGE_VALUE',\n  FailValidation = 'settingsPage/FAIL_VALIDATION',\n  PassValidation = 'settingsPage/PASS_VALIDATION',\n  StartLoading = 'settingsPage/START_LOADING',\n  StopLoading = 'settingsPage/STOP_LOADING'\n}\n\ntype Action =\n  | ActionType<typeof cancelChange, Actions.CancelChange>\n  | ActionType<typeof changeValue, Actions.ChangeValue>\n  | ActionType<typeof failValidation, Actions.FailValidation>\n  | ActionType<typeof passValidation, Actions.PassValidation>\n  | ActionType<typeof startLoading, Actions.StartLoading>\n  | ActionType<typeof stopLoading, Actions.StopLoading>;\n\nexport interface State {\n  changedValues: T.Dict<any>;\n  loading: T.Dict<boolean>;\n  validationMessages: T.Dict<string>;\n}\n\nexport function cancelChange(key: string) {\n  return { type: Actions.CancelChange, key };\n}\n\nexport function changeValue(key: string, value: any) {\n  return { type: Actions.ChangeValue, key, value };\n}\n\nfunction changedValues(state: State['changedValues'] = {}, action: Action) {\n  if (action.type === Actions.ChangeValue) {\n    return { ...state, [action.key]: action.value };\n  }\n  if (action.type === Actions.CancelChange) {\n    return omit(state, action.key);\n  }\n  return state;\n}\n\nexport function failValidation(key: string, message: string) {\n  return { type: Actions.FailValidation, key, message };\n}\n\nexport function passValidation(key: string) {\n  return { type: Actions.PassValidation, key };\n}\n\nfunction validationMessages(state: State['validationMessages'] = {}, action: Action) {\n  if (action.type === Actions.FailValidation) {\n    return { ...state, [action.key]: action.message };\n  }\n  if (action.type === Actions.PassValidation) {\n    return omit(state, action.key);\n  }\n  return state;\n}\n\nexport function startLoading(key: string) {\n  return { type: Actions.StartLoading, key };\n}\n\nexport function stopLoading(key: string) {\n  return { type: Actions.StopLoading, key };\n}\n\nfunction loading(state: State['loading'] = {}, action: Action) {\n  if (action.type === Actions.StartLoading) {\n    return { ...state, [action.key]: true };\n  }\n  if (action.type === Actions.StopLoading) {\n    return { ...state, [action.key]: false };\n  }\n  return state;\n}\n\nexport default combineReducers({ changedValues, loading, validationMessages });\n\nexport function getChangedValue(state: State, key: string) {\n  return state.changedValues[key];\n}\n\nexport function getValidationMessage(state: State, key: string): string | undefined {\n  return state.validationMessages[key];\n}\n\nexport function isLoading(state: State, key: string) {\n  return Boolean(state.loading[key]);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { keyBy, omit } from 'lodash';\nimport { combineReducers } from 'redux';\nimport { Action as AppStateAction, Actions as AppStateActions } from '../../../store/appState';\nimport { ActionType } from '../../../store/utils/actions';\nimport { SettingValue } from '../../../types/settings';\n\nenum Actions {\n  receiveValues = 'RECEIVE_VALUES'\n}\n\ntype Action = ActionType<typeof receiveValues, Actions.receiveValues>;\n\ntype SettingsState = T.Dict<SettingValue>;\n\nexport interface State {\n  components: T.Dict<SettingsState>;\n  global: SettingsState;\n}\n\nexport function receiveValues(\n  updateKeys: string[],\n  settings: Array<{ key: string; value?: string }>,\n  component?: string\n) {\n  return { type: Actions.receiveValues, updateKeys, settings, component };\n}\n\nfunction components(state: State['components'] = {}, action: Action) {\n  const { component: key } = action;\n  if (!key) {\n    return state;\n  }\n  if (action.type === Actions.receiveValues) {\n    const settingsByKey = keyBy(action.settings, 'key');\n    return { ...state, [key]: { ...omit(state[key] || {}, action.updateKeys), ...settingsByKey } };\n  }\n  return state;\n}\n\nfunction global(state: State['components'] = {}, action: Action | AppStateAction) {\n  if (action.type === Actions.receiveValues) {\n    if (action.component) {\n      return state;\n    }\n    const settingsByKey = keyBy(action.settings, 'key');\n    return { ...omit(state, action.updateKeys), ...settingsByKey };\n  }\n\n  if (action.type === AppStateActions.SetAppState) {\n    const settingsByKey: SettingsState = {};\n    Object.keys(action.appState.settings).forEach(\n      key => (settingsByKey[key] = { key, value: action.appState.settings[key] })\n    );\n    return { ...state, ...settingsByKey };\n  }\n  return state;\n}\n\nexport default combineReducers({ components, global });\n\nexport function getValue(state: State, key: string, component?: string): SettingValue | undefined {\n  if (component) {\n    return state.components[component] && state.components[component][key];\n  }\n  return state.global[key];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON } from '../helpers/request';\n\nexport interface MetricsResponse {\n  metrics: T.Metric[];\n  p: number;\n  ps: number;\n  total: number;\n}\n\nexport function getMetrics(data?: {\n  isCustom?: boolean;\n  p?: number;\n  ps?: number;\n}): Promise<MetricsResponse> {\n  return getJSON('/api/metrics/search', data).catch(throwGlobalError);\n}\n\nexport function getAllMetrics(data?: {\n  isCustom?: boolean;\n  p?: number;\n  ps?: number;\n}): Promise<T.Metric[]> {\n  return inner(data);\n\n  function inner(\n    data: { p?: number; ps?: number } = { ps: 500 },\n    prev?: MetricsResponse\n  ): Promise<T.Metric[]> {\n    return getMetrics(data).then(r => {\n      const result = prev ? prev.metrics.concat(r.metrics) : r.metrics;\n      if (r.p * r.ps >= r.total) {\n        return result;\n      }\n      return inner({ ...data, p: r.p + 1 }, { ...r, metrics: result });\n    });\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport withIndexationContext, {\n  WithIndexationContextProps\n} from '../../../components/hoc/withIndexationContext';\nimport { Alert } from '../../../components/ui/Alert';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props extends WithIndexationContextProps {\n  pageContext?: PageContext;\n  component?: Pick<T.Component, 'qualifier' | 'name'>;\n}\n\nexport enum PageContext {\n  Issues = 'issues',\n  Portfolios = 'portfolios'\n}\n\nexport class PageUnavailableDueToIndexation extends React.PureComponent<Props> {\n  componentDidUpdate() {\n    if (\n      this.props.indexationContext.status.isCompleted &&\n      !this.props.indexationContext.status.hasFailures\n    ) {\n      window.location.reload();\n    }\n  }\n\n  render() {\n    const { pageContext, component } = this.props;\n    let messageKey = 'indexation.page_unavailable.title';\n\n    if (pageContext) {\n      messageKey = `${messageKey}.${pageContext}`;\n    }\n\n    return (\n      <div className=\"page-wrapper-simple\">\n        <div className=\"page-simple\">\n          <h1 className=\"big-spacer-bottom\">\n            <FormattedMessage\n              id={messageKey}\n              defaultMessage={translate(messageKey)}\n              values={{\n                componentQualifier: translate('qualifier', component?.qualifier ?? ''),\n                componentName: <em>{component?.name}</em>\n              }}\n            />\n          </h1>\n          <Alert variant=\"info\">\n            <p>{translate('indexation.page_unavailable.description')}</p>\n            <p className=\"spacer-top\">\n              {translate('indexation.page_unavailable.description.additional_information')}\n            </p>\n          </Alert>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withIndexationContext(PageUnavailableDueToIndexation);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport interface ClearIconProps extends IconProps {\n  thin?: boolean;\n}\n\nexport default function ClearIcon({ fill = 'currentColor', thin, ...iconProps }: ClearIconProps) {\n  return (\n    <Icon {...iconProps}>\n      {thin ? (\n        <path\n          d=\"M14 3.209l-1.209-1.209-4.791 4.791-4.791-4.791-1.209 1.209 4.791 4.791-4.791 4.791 1.209 1.209 4.791-4.791 4.791 4.791 1.209-1.209-4.791-4.791z\"\n          style={{ fill }}\n        />\n      ) : (\n        <path\n          d=\"M14 4.242L11.758 2l-3.76 3.76L4.242 2 2 4.242l3.756 3.756L2 11.758 4.242 14l3.756-3.76 3.76 3.76L14 11.758l-3.76-3.76L14 4.242z\"\n          style={{ fill }}\n        />\n      )}\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum KeyCodes {\n  LeftArrow = 37,\n  UpArrow = 38,\n  RightArrow = 39,\n  DownArrow = 40,\n\n  Alt = 18,\n  Backspace = 8,\n  CapsLock = 20,\n  Command = 93,\n  Ctrl = 17,\n  Delete = 46,\n  End = 35,\n  Enter = 13,\n  Escape = 27,\n  Home = 36,\n  PageDown = 34,\n  PageUp = 33,\n  Shift = 16,\n  Space = 32,\n  Tab = 9,\n\n  A = 65,\n  B = 66,\n  C = 67,\n  D = 68,\n  E = 69,\n  F = 70,\n  G = 71,\n  H = 72,\n  I = 73,\n  J = 74,\n  K = 75,\n  L = 76,\n  M = 77,\n  N = 78,\n  O = 79,\n  P = 80,\n  Q = 81,\n  R = 82,\n  S = 83,\n  T = 84,\n  U = 85,\n  V = 86,\n  W = 87,\n  X = 88,\n  Y = 89,\n  Z = 90\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { get, remove, save } from '../../helpers/storage';\n\nconst RECENT_HISTORY = 'sonar_recent_history';\nconst HISTORY_LIMIT = 10;\n\nexport type History = Array<{\n  key: string;\n  name: string;\n  icon: string;\n}>;\n\nexport default class RecentHistory {\n  static get(): History {\n    const history = get(RECENT_HISTORY);\n    if (history == null) {\n      return [];\n    } else {\n      try {\n        return JSON.parse(history);\n      } catch {\n        remove(RECENT_HISTORY);\n        return [];\n      }\n    }\n  }\n\n  static set(newHistory: History) {\n    save(RECENT_HISTORY, JSON.stringify(newHistory));\n  }\n\n  static clear() {\n    remove(RECENT_HISTORY);\n  }\n\n  static add(componentKey: string, componentName: string, icon: string) {\n    const sonarHistory = RecentHistory.get();\n    const newEntry = { key: componentKey, name: componentName, icon };\n    let newHistory = sonarHistory.filter(entry => entry.key !== newEntry.key);\n    newHistory.unshift(newEntry);\n    newHistory = newHistory.slice(0, HISTORY_LIMIT);\n    RecentHistory.set(newHistory);\n  }\n\n  static remove(componentKey: string) {\n    const history = RecentHistory.get();\n    const newHistory = history.filter(entry => entry.key !== componentKey);\n    RecentHistory.set(newHistory);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/* eslint-disable no-bitwise, no-mixed-operators */\nexport function stringToColor(str: string) {\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  let color = '#';\n  for (let i = 0; i < 3; i++) {\n    const value = (hash >> (i * 8)) & 0xff;\n    color += ('00' + value.toString(16)).substr(-2);\n  }\n  return color;\n}\n\nexport function isDarkColor(color: string) {\n  color = color.substr(1);\n  if (color.length === 3) {\n    // shortcut notation: #f90\n    color = color[0] + color[0] + color[1] + color[1] + color[2] + color[2];\n  }\n  const rgb = parseInt(color.substr(1), 16);\n  const r = (rgb >> 16) & 0xff;\n  const g = (rgb >> 8) & 0xff;\n  const b = (rgb >> 0) & 0xff;\n  const luma = 0.2126 * r + 0.7152 * g + 0.0722 * b;\n  return luma < 140;\n}\n\nexport function getTextColor(background: string, dark = '#222', light = '#fff') {\n  return isDarkColor(background) ? light : dark;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport {\n  cleanQuery,\n  parseAsArray,\n  parseAsDate,\n  parseAsOptionalBoolean,\n  parseAsOptionalString,\n  parseAsString,\n  queriesEqual,\n  serializeDateShort,\n  serializeOptionalBoolean,\n  serializeString,\n  serializeStringArray\n} from '../../helpers/query';\n\nexport interface Query {\n  activation: boolean | undefined;\n  activationSeverities: string[];\n  availableSince: Date | undefined;\n  compareToProfile: string | undefined;\n  cwe: string[];\n  inheritance: T.RuleInheritance | undefined;\n  languages: string[];\n  owaspTop10: string[];\n  profile: string | undefined;\n  repositories: string[];\n  ruleKey: string | undefined;\n  sansTop25: string[];\n  searchQuery: string | undefined;\n  severities: string[];\n  sonarsourceSecurity: string[];\n  statuses: string[];\n  tags: string[];\n  template: boolean | undefined;\n  types: string[];\n}\n\nexport type FacetKey = keyof Query;\n\nexport interface Facet {\n  [value: string]: number;\n}\n\nexport type Facets = { [F in FacetKey]?: Facet };\n\nexport type OpenFacets = T.Dict<boolean>;\n\nexport interface Activation {\n  inherit: T.RuleInheritance;\n  severity: string;\n}\n\nexport interface Actives {\n  [rule: string]: {\n    [profile: string]: Activation;\n  };\n}\n\nexport function parseQuery(query: T.RawQuery): Query {\n  return {\n    activation: parseAsOptionalBoolean(query.activation),\n    activationSeverities: parseAsArray(query.active_severities, parseAsString),\n    availableSince: parseAsDate(query.available_since),\n    compareToProfile: parseAsOptionalString(query.compareToProfile),\n    cwe: parseAsArray(query.cwe, parseAsString),\n    inheritance: parseAsInheritance(query.inheritance),\n    languages: parseAsArray(query.languages, parseAsString),\n    owaspTop10: parseAsArray(query.owaspTop10, parseAsString),\n    profile: parseAsOptionalString(query.qprofile),\n    repositories: parseAsArray(query.repositories, parseAsString),\n    ruleKey: parseAsOptionalString(query.rule_key),\n    sansTop25: parseAsArray(query.sansTop25, parseAsString),\n    searchQuery: parseAsOptionalString(query.q),\n    severities: parseAsArray(query.severities, parseAsString),\n    sonarsourceSecurity: parseAsArray(query.sonarsourceSecurity, parseAsString),\n    statuses: parseAsArray(query.statuses, parseAsString),\n    tags: parseAsArray(query.tags, parseAsString),\n    template: parseAsOptionalBoolean(query.is_template),\n    types: parseAsArray(query.types, parseAsString)\n  };\n}\n\nexport function serializeQuery(query: Query): T.RawQuery {\n  return cleanQuery({\n    activation: serializeOptionalBoolean(query.activation),\n    active_severities: serializeStringArray(query.activationSeverities),\n    available_since: serializeDateShort(query.availableSince),\n    compareToProfile: serializeString(query.compareToProfile),\n    cwe: serializeStringArray(query.cwe),\n    inheritance: serializeInheritance(query.inheritance),\n    is_template: serializeOptionalBoolean(query.template),\n    languages: serializeStringArray(query.languages),\n    owaspTop10: serializeStringArray(query.owaspTop10),\n    q: serializeString(query.searchQuery),\n    qprofile: serializeString(query.profile),\n    repositories: serializeStringArray(query.repositories),\n    rule_key: serializeString(query.ruleKey),\n    sansTop25: serializeStringArray(query.sansTop25),\n    severities: serializeStringArray(query.severities),\n    sonarsourceSecurity: serializeStringArray(query.sonarsourceSecurity),\n    statuses: serializeStringArray(query.statuses),\n    tags: serializeStringArray(query.tags),\n    types: serializeStringArray(query.types)\n  });\n}\n\nexport function areQueriesEqual(a: T.RawQuery, b: T.RawQuery) {\n  return queriesEqual(parseQuery(a), parseQuery(b));\n}\n\nexport function shouldRequestFacet(facet: string): facet is FacetKey {\n  const facetsToRequest = [\n    'activationSeverities',\n    'cwe',\n    'languages',\n    'owaspTop10',\n    'repositories',\n    'sansTop25',\n    'severities',\n    'sonarsourceSecurity',\n    'standard',\n    'statuses',\n    'tags',\n    'types'\n  ];\n  return facetsToRequest.includes(facet);\n}\n\nexport function getServerFacet(facet: FacetKey) {\n  return facet === 'activationSeverities' ? 'active_severities' : facet;\n}\n\nexport function getAppFacet(serverFacet: string): FacetKey {\n  return serverFacet === 'active_severities' ? 'activationSeverities' : (serverFacet as FacetKey);\n}\n\nexport function getOpen(query: T.RawQuery) {\n  return query.open;\n}\n\nexport function hasRuleKey(query: T.RawQuery) {\n  return Boolean(query.rule_key);\n}\n\nfunction parseAsInheritance(value?: string): T.RuleInheritance | undefined {\n  if (value === 'INHERITED' || value === 'NONE' || value === 'OVERRIDES') {\n    return value;\n  } else {\n    return undefined;\n  }\n}\n\nfunction serializeInheritance(value: T.RuleInheritance | undefined): string | undefined {\n  return value;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { keyBy, sortBy, uniqBy } from 'lodash';\nimport { ActionType } from '../../../store/utils/actions';\nimport { SettingCategoryDefinition } from '../../../types/settings';\nimport { DEFAULT_CATEGORY, getCategoryName } from '../utils';\n\nconst enum Actions {\n  ReceiveDefinitions = 'RECEIVE_DEFINITIONS'\n}\n\ntype Action = ActionType<typeof receiveDefinitions, Actions.ReceiveDefinitions>;\n\nexport type State = T.Dict<SettingCategoryDefinition>;\n\nexport function receiveDefinitions(definitions: SettingCategoryDefinition[]) {\n  return { type: Actions.ReceiveDefinitions, definitions };\n}\n\nexport default function components(state: State = {}, action: Action) {\n  if (action.type === Actions.ReceiveDefinitions) {\n    return keyBy(action.definitions, 'key');\n  }\n  return state;\n}\n\nexport function getDefinition(state: State, key: string) {\n  return state[key];\n}\n\nexport function getAllDefinitions(state: State) {\n  return Object.keys(state).map(key => state[key]);\n}\n\nexport function getDefinitionsForCategory(state: State, category: string) {\n  return getAllDefinitions(state).filter(\n    definition => definition.category.toLowerCase() === category.toLowerCase()\n  );\n}\n\nexport function getAllCategories(state: State) {\n  return uniqBy(\n    getAllDefinitions(state).map(definition => definition.category),\n    category => category.toLowerCase()\n  );\n}\n\nexport function getDefaultCategory(state: State) {\n  const categories = getAllCategories(state);\n  if (categories.includes(DEFAULT_CATEGORY)) {\n    return DEFAULT_CATEGORY;\n  } else {\n    const sortedCategories = sortBy(categories, category =>\n      getCategoryName(category).toLowerCase()\n    );\n    return sortedCategories[0];\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { keyBy } from 'lodash';\nimport { ActionType } from './utils/actions';\n\nexport function receiveLanguages(languages: Array<{ key: string; name: string }>) {\n  return { type: 'RECEIVE_LANGUAGES', languages };\n}\n\ntype Action = ActionType<typeof receiveLanguages, 'RECEIVE_LANGUAGES'>;\n\nexport default function(state: T.Languages = {}, action: Action): T.Languages {\n  if (action.type === 'RECEIVE_LANGUAGES') {\n    return keyBy(action.languages, 'key');\n  }\n\n  return state;\n}\n\nexport function getLanguages(state: T.Languages) {\n  return state;\n}\n\nexport function getLanguageByKey(state: T.Languages, key: string) {\n  return state[key];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport default function getCoverageStatus(s: T.SourceLine): T.SourceLineCoverageStatus | undefined {\n  let status: T.SourceLineCoverageStatus | undefined;\n  if (s.lineHits != null && s.lineHits > 0) {\n    status = 'partially-covered';\n  }\n  if (s.lineHits != null && s.lineHits > 0 && s.conditions === s.coveredConditions) {\n    status = 'covered';\n  }\n  if (s.lineHits === 0 || s.coveredConditions === 0) {\n    status = 'uncovered';\n  }\n  return status;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { ComponentQualifier } from '../../types/component';\nimport { VISUALIZATIONS } from './utils';\n\ntype Level = 'ERROR' | 'WARN' | 'OK';\n\nexport interface Query {\n  gate?: Level;\n  reliability?: number;\n  new_reliability?: number;\n  security?: number;\n  new_security?: number;\n  security_review_rating?: number;\n  new_security_review_rating?: number;\n  maintainability?: number;\n  new_maintainability?: number;\n  coverage?: number;\n  new_coverage?: number;\n  duplications?: number;\n  new_duplications?: number;\n  size?: number;\n  new_lines?: number;\n  languages?: string[];\n  qualifier?: ComponentQualifier;\n  tags?: string[];\n  search?: string;\n  sort?: string;\n  view?: string;\n  visualization?: string;\n  [x: string]: string | number | string[] | undefined;\n}\n\nexport function parseUrlQuery(urlQuery: T.RawQuery): Query {\n  return {\n    gate: getAsLevel(urlQuery['gate']),\n    reliability: getAsNumericRating(urlQuery['reliability']),\n    new_reliability: getAsNumericRating(urlQuery['new_reliability']),\n    security: getAsNumericRating(urlQuery['security']),\n    new_security: getAsNumericRating(urlQuery['new_security']),\n    security_review_rating: getAsNumericRating(urlQuery['security_review']),\n    new_security_review_rating: getAsNumericRating(urlQuery['new_security_review']),\n    maintainability: getAsNumericRating(urlQuery['maintainability']),\n    new_maintainability: getAsNumericRating(urlQuery['new_maintainability']),\n    coverage: getAsNumericRating(urlQuery['coverage']),\n    new_coverage: getAsNumericRating(urlQuery['new_coverage']),\n    duplications: getAsNumericRating(urlQuery['duplications']),\n    new_duplications: getAsNumericRating(urlQuery['new_duplications']),\n    size: getAsNumericRating(urlQuery['size']),\n    new_lines: getAsNumericRating(urlQuery['new_lines']),\n    languages: getAsStringArray(urlQuery['languages']),\n    tags: getAsStringArray(urlQuery['tags']),\n    qualifier: getAsQualifier(urlQuery['qualifier']),\n    search: getAsString(urlQuery['search']),\n    sort: getAsString(urlQuery['sort']),\n    view: getView(urlQuery['view']),\n    visualization: getVisualization(urlQuery['visualization'])\n  };\n}\n\nexport function convertToFilter(query: Query, isFavorite: boolean): string {\n  const conditions: string[] = [];\n\n  if (isFavorite) {\n    conditions.push('isFavorite');\n  }\n\n  if (query['gate'] != null) {\n    conditions.push(mapPropertyToMetric('gate') + ' = ' + query['gate']);\n  }\n\n  ['coverage', 'new_coverage'].forEach(property =>\n    pushMetricToArray(query, property, conditions, convertCoverage)\n  );\n\n  ['duplications', 'new_duplications'].forEach(property =>\n    pushMetricToArray(query, property, conditions, convertDuplications)\n  );\n\n  ['size', 'new_lines'].forEach(property =>\n    pushMetricToArray(query, property, conditions, convertSize)\n  );\n\n  [\n    'reliability',\n    'security',\n    'security_review_rating',\n    'maintainability',\n    'new_reliability',\n    'new_security',\n    'new_security_review_rating',\n    'new_maintainability'\n  ].forEach(property => pushMetricToArray(query, property, conditions, convertIssuesRating));\n\n  ['languages', 'tags', 'qualifier'].forEach(property =>\n    pushMetricToArray(query, property, conditions, convertArrayMetric)\n  );\n\n  if (query['search'] != null) {\n    conditions.push(`${mapPropertyToMetric('search')} = \"${query['search']}\"`);\n  }\n\n  return conditions.join(' and ');\n}\n\nconst visualizationParams = ['sort', 'view', 'visualization'];\n\nexport function hasFilterParams(query: Query) {\n  return Object.keys(query)\n    .filter(key => !visualizationParams.includes(key))\n    .some(key => query[key] !== undefined);\n}\n\nexport function hasVisualizationParams(query: Query) {\n  return Object.keys(query)\n    .filter(key => visualizationParams.includes(key))\n    .some(key => query[key] !== undefined);\n}\n\nfunction getAsNumericRating(value: any): number | undefined {\n  if (value === '' || value == null || isNaN(value)) {\n    return undefined;\n  }\n  const num = Number(value);\n  return num > 0 && num < 7 ? num : undefined;\n}\n\nfunction getAsLevel(value: any): Level | undefined {\n  if (value === 'ERROR' || value === 'WARN' || value === 'OK') {\n    return value;\n  }\n  return undefined;\n}\n\nfunction getAsString(value: any): string | undefined {\n  if (typeof value !== 'string' || !value) {\n    return undefined;\n  }\n  return value;\n}\n\nfunction getAsStringArray(value: any): string[] | undefined {\n  if (typeof value !== 'string' || !value) {\n    return undefined;\n  }\n  return value.split(',');\n}\n\nfunction getAsQualifier(value: string | undefined): ComponentQualifier | undefined {\n  return value ? (value as ComponentQualifier) : undefined;\n}\n\nfunction getView(value: any): string | undefined {\n  return typeof value !== 'string' || value === 'overall' ? undefined : value;\n}\n\nfunction getVisualization(value: string): string | undefined {\n  return VISUALIZATIONS.includes(value) ? value : undefined;\n}\n\nfunction convertIssuesRating(metric: string, rating: number): string {\n  if (rating > 1 && rating < 5) {\n    return `${metric} >= ${rating}`;\n  } else {\n    return `${metric} = ${rating}`;\n  }\n}\n\nfunction convertCoverage(metric: string, coverage: number): string {\n  switch (coverage) {\n    case 1:\n      return metric + ' >= 80';\n    case 2:\n      return metric + ' < 80';\n    case 3:\n      return metric + ' < 70';\n    case 4:\n      return metric + ' < 50';\n    case 5:\n      return metric + ' < 30';\n    case 6:\n      return metric + '= NO_DATA';\n    default:\n      return '';\n  }\n}\n\nfunction convertDuplications(metric: string, duplications: number): string {\n  switch (duplications) {\n    case 1:\n      return metric + ' < 3';\n    case 2:\n      return metric + ' >= 3';\n    case 3:\n      return metric + ' >= 5';\n    case 4:\n      return metric + ' >= 10';\n    case 5:\n      return metric + ' >= 20';\n    case 6:\n      return metric + '= NO_DATA';\n    default:\n      return '';\n  }\n}\n\nfunction convertSize(metric: string, size: number): string {\n  switch (size) {\n    case 1:\n      return metric + ' < 1000';\n    case 2:\n      return metric + ' >= 1000';\n    case 3:\n      return metric + ' >= 10000';\n    case 4:\n      return metric + ' >= 100000';\n    case 5:\n      return metric + ' >= 500000';\n    default:\n      return '';\n  }\n}\n\nfunction mapPropertyToMetric(property?: string): string | undefined {\n  const map: T.Dict<string> = {\n    analysis_date: 'analysisDate',\n    reliability: 'reliability_rating',\n    new_reliability: 'new_reliability_rating',\n    security: 'security_rating',\n    new_security: 'new_security_rating',\n    security_review_rating: 'security_review_rating',\n    new_security_review_rating: 'new_security_review_rating',\n    maintainability: 'sqale_rating',\n    new_maintainability: 'new_maintainability_rating',\n    coverage: 'coverage',\n    new_coverage: 'new_coverage',\n    duplications: 'duplicated_lines_density',\n    new_duplications: 'new_duplicated_lines_density',\n    size: 'ncloc',\n    new_lines: 'new_lines',\n    gate: 'alert_status',\n    languages: 'languages',\n    tags: 'tags',\n    search: 'query',\n    qualifier: 'qualifier'\n  };\n  return property && map[property];\n}\n\nfunction pushMetricToArray(\n  query: Query,\n  property: string,\n  conditionsArray: string[],\n  convertFunction: (metric: string, value: any) => string\n): void {\n  const metric = mapPropertyToMetric(property);\n  if (query[property] != null && metric) {\n    conditionsArray.push(convertFunction(metric, query[property]));\n  }\n}\n\nfunction convertArrayMetric(metric: string, items: string | string[]): string {\n  if (!Array.isArray(items) || items.length < 2) {\n    return metric + ' = ' + items;\n  }\n  return `${metric} IN (${items.join(', ')})`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createContext } from 'react';\nimport { IndexationContextInterface } from '../../../types/indexation';\n\nexport const IndexationContext = createContext<IndexationContextInterface | null>(null);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IndexationContext } from '../../app/components/indexation/IndexationContext';\nimport { IndexationContextInterface } from '../../types/indexation';\nimport { getWrappedDisplayName } from './utils';\n\nexport interface WithIndexationContextProps {\n  indexationContext: IndexationContextInterface;\n}\n\nexport default function withIndexationContext<P>(\n  WrappedComponent: React.ComponentType<P & WithIndexationContextProps>\n) {\n  return class WithIndexationContext extends React.PureComponent<\n    Omit<P, keyof WithIndexationContextProps>\n  > {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withIndexationContext');\n\n    render() {\n      return (\n        <IndexationContext.Consumer>\n          {indexationContext => {\n            if (indexationContext) {\n              return (\n                <WrappedComponent indexationContext={indexationContext} {...(this.props as P)} />\n              );\n            }\n\n            return null;\n          }}\n        </IndexationContext.Consumer>\n      );\n    }\n  };\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function EditIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M4.875 12.986l.721-.72-1.861-1.862-.721.72v.848h1.014v1.014h.847zm4.143-7.35c0-.117-.058-.175-.174-.175a.183.183 0 0 0-.135.056L4.416 9.81a.183.183 0 0 0-.056.135c0 .116.058.174.175.174a.183.183 0 0 0 .134-.056L8.962 5.77a.183.183 0 0 0 .056-.134zM8.59 4.115l3.295 3.295L5.295 14H2v-3.295l6.59-6.59zm5.41.76a.97.97 0 0 1-.293.713l-1.315 1.315-3.295-3.295L10.412 2.3c.19-.2.428-.301.713-.301.28 0 .52.1.72.301l1.862 1.853c.195.206.293.447.293.721z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { throttle } from 'lodash';\nimport * as React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { rawSizes } from '../../app/theme';\n\ninterface Props {\n  /**\n   * First time `children` are rendered with `undefined` fixes to measure the offset.\n   * Second time it renders with the computed fixes.\n   */\n  children: (props: Fixes) => React.ReactNode;\n\n  /**\n   * Use this flag to force re-positioning.\n   * Use cases:\n   *   - when you need to measure `children` size first\n   *   - when you load content asynchronously\n   */\n  ready?: boolean;\n}\n\ninterface Fixes {\n  leftFix?: number;\n  topFix?: number;\n}\n\nconst EDGE_MARGIN = rawSizes.grid / 2;\n\nexport default class ScreenPositionFixer extends React.Component<Props, Fixes> {\n  throttledPosition: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {};\n    this.throttledPosition = throttle(this.position, 50);\n  }\n\n  componentDidMount() {\n    this.addEventListeners();\n    this.position();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.ready && this.props.ready) {\n      this.position();\n    } else if (prevProps.ready && !this.props.ready) {\n      this.reset();\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeEventListeners();\n  }\n\n  addEventListeners = () => {\n    window.addEventListener('resize', this.throttledPosition);\n  };\n\n  removeEventListeners = () => {\n    window.removeEventListener('resize', this.throttledPosition);\n  };\n\n  reset = () => {\n    this.setState({ leftFix: undefined, topFix: undefined });\n  };\n\n  position = () => {\n    // eslint-disable-next-line react/no-find-dom-node\n    const node = findDOMNode(this);\n    if (node && node instanceof Element) {\n      const { width, height, left, top } = node.getBoundingClientRect();\n      const { clientHeight, clientWidth } = document.documentElement;\n\n      let leftFix = 0;\n      if (left < EDGE_MARGIN) {\n        leftFix = EDGE_MARGIN - left;\n      } else if (left + width > clientWidth - EDGE_MARGIN) {\n        leftFix = clientWidth - EDGE_MARGIN - left - width;\n      }\n\n      let topFix = 0;\n      if (top < EDGE_MARGIN) {\n        topFix = EDGE_MARGIN - top;\n      } else if (top + height > clientHeight - EDGE_MARGIN) {\n        topFix = clientHeight - EDGE_MARGIN - top - height;\n      }\n\n      this.setState({ leftFix, topFix });\n    }\n  };\n\n  render() {\n    return this.props.children(this.state);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { KeyCodes } from '../../helpers/keycodes';\n\ninterface Props {\n  children: React.ReactNode;\n  onKeydown: () => void;\n}\n\nexport default class EscKeydownHandler extends React.Component<Props> {\n  componentDidMount() {\n    setTimeout(() => {\n      document.addEventListener('keydown', this.handleKeyDown, false);\n    }, 0);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleKeyDown, false);\n  }\n\n  handleKeyDown = (event: KeyboardEvent) => {\n    if (event.keyCode === KeyCodes.Escape) {\n      this.props.onKeydown();\n    }\n  };\n\n  render() {\n    return this.props.children;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getBranchLikeKey } from '../helpers/branch-like';\nimport { BranchLike } from '../types/branch-like';\nimport { QualityGateStatusCondition } from '../types/quality-gates';\nimport { ActionType } from './utils/actions';\n\nexport interface BranchStatusData {\n  conditions?: QualityGateStatusCondition[];\n  ignoredConditions?: boolean;\n  status?: T.Status;\n}\n\nexport interface State {\n  byComponent: T.Dict<T.Dict<BranchStatusData>>;\n}\n\nconst enum Actions {\n  RegisterBranchStatus = 'REGISTER_BRANCH_STATUS'\n}\n\ntype Action = ActionType<typeof registerBranchStatusAction, Actions.RegisterBranchStatus>;\n\nexport function registerBranchStatusAction(\n  branchLike: BranchLike,\n  component: string,\n  status: T.Status,\n  conditions?: QualityGateStatusCondition[],\n  ignoredConditions?: boolean\n) {\n  return {\n    type: Actions.RegisterBranchStatus,\n    branchLike,\n    component,\n    conditions,\n    ignoredConditions,\n    status\n  };\n}\n\nexport default function(state: State = { byComponent: {} }, action: Action): State {\n  if (action.type === Actions.RegisterBranchStatus) {\n    const { component, conditions, branchLike, ignoredConditions, status } = action;\n    const branchLikeKey = getBranchLikeKey(branchLike);\n    return {\n      byComponent: {\n        ...state.byComponent,\n        [component]: {\n          ...(state.byComponent[component] || {}),\n          [branchLikeKey]: {\n            conditions,\n            ignoredConditions,\n            status\n          }\n        }\n      }\n    };\n  }\n\n  return state;\n}\n\nexport function getBranchStatusByBranchLike(\n  state: State,\n  component: string,\n  branchLike: BranchLike\n): BranchStatusData {\n  const branchLikeKey = getBranchLikeKey(branchLike);\n  return state.byComponent[component] && state.byComponent[component][branchLikeKey];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { keyBy } from 'lodash';\nimport { combineReducers } from 'redux';\nimport { ActionType } from './utils/actions';\n\nexport function receiveMetrics(metrics: T.Metric[]) {\n  return { type: 'RECEIVE_METRICS', metrics };\n}\n\ntype Action = ActionType<typeof receiveMetrics, 'RECEIVE_METRICS'>;\n\nexport type State = { byKey: T.Dict<T.Metric>; keys: string[] };\n\nconst byKey = (state: State['byKey'] = {}, action: Action) => {\n  if (action.type === 'RECEIVE_METRICS') {\n    return keyBy(action.metrics, 'key');\n  }\n  return state;\n};\n\nconst keys = (state: State['keys'] = [], action: Action) => {\n  if (action.type === 'RECEIVE_METRICS') {\n    return action.metrics.map(f => f.key);\n  }\n\n  return state;\n};\n\nexport default combineReducers({ byKey, keys });\n\nexport function getMetrics(state: State) {\n  return state.byKey;\n}\n\nexport function getMetricsKey(state: State) {\n  return state.keys;\n}\n\nexport function getMetricByKey(state: State, key: string) {\n  return state.byKey[key];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport {\n  QualityGateApplicationStatusChildProject,\n  QualityGateProjectStatus,\n  QualityGateStatusCondition\n} from '../types/quality-gates';\n\nexport function extractStatusConditionsFromProjectStatus(\n  projectStatus: QualityGateProjectStatus\n): QualityGateStatusCondition[] {\n  const { conditions } = projectStatus;\n  return conditions\n    ? conditions.map(c => ({\n        actual: c.actualValue,\n        error: c.errorThreshold,\n        level: c.status,\n        metric: c.metricKey,\n        op: c.comparator,\n        period: c.periodIndex\n      }))\n    : [];\n}\n\nexport function extractStatusConditionsFromApplicationStatusChildProject(\n  projectStatus: QualityGateApplicationStatusChildProject\n): QualityGateStatusCondition[] {\n  const { conditions } = projectStatus;\n  return conditions\n    ? conditions.map(c => ({\n        actual: c.value,\n        error: c.errorThreshold,\n        level: c.status,\n        metric: c.metric,\n        op: c.comparator,\n        period: c.periodIndex\n      }))\n    : [];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IndexationContext } from '../../app/components/indexation/IndexationContext';\nimport PageUnavailableDueToIndexation, {\n  PageContext\n} from '../../app/components/indexation/PageUnavailableDueToIndexation';\n\nexport default function withIndexationGuard<P>(\n  WrappedComponent: React.ComponentType<P>,\n  pageContext: PageContext\n) {\n  return class WithIndexationGuard extends React.PureComponent<P> {\n    render() {\n      return (\n        <IndexationContext.Consumer>\n          {context =>\n            context?.status.isCompleted && !context?.status.hasFailures ? (\n              <WrappedComponent {...this.props} />\n            ) : (\n              <PageUnavailableDueToIndexation pageContext={pageContext} />\n            )\n          }\n        </IndexationContext.Consumer>\n      );\n    }\n  };\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function DeleteIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M13.571429 1.8750019h-3.214285l-.251787-.5113283a.64285716.65624976 0 0 0-.5758927-.3636718H6.4678572a.63535718.64859353 0 0 0-.5732142.3636718l-.2517858.5113283H2.4285714A.42857144.43749984 0 0 0 2 2.3125018v.8749996a.42857144.43749984 0 0 0 .4285714.4374999H13.571429A.42857144.43749984 0 0 0 14 3.1875014v-.8749996a.42857144.43749984 0 0 0-.428571-.4374999zM3.4250001 13.769529a1.2857144 1.3124996 0 0 0 1.2830357 1.230468h6.5839282A1.2857144 1.3124996 0 0 0 12.575 13.769529l.567857-9.269528H2.8571428z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ClockIcon({ className, ...iconProps }: IconProps) {\n  return (\n    <Icon className={classNames('icon-clock', className)} {...iconProps}>\n      <g fill=\"#fff\" stroke=\"#ADADAD\" transform=\"matrix(1.4 0 0 1.4 .3 .7)\">\n        <circle cx=\"5.5\" cy=\"5.2\" r=\"5\" />\n        <path d=\"M5.6 2.9v2.7l2-.5\" fillRule=\"nonzero\" />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport { ComponentQualifier } from '../../../../js/types/component';\n\nconst ORDER = [\n  ComponentQualifier.Developper,\n  ComponentQualifier.Portfolio,\n  ComponentQualifier.SubPortfolio,\n  ComponentQualifier.Application,\n  ComponentQualifier.Project,\n  ComponentQualifier.SubProject\n];\n\nexport function sortQualifiers(qualifiers: string[]) {\n  return sortBy(qualifiers, qualifier => ORDER.indexOf(qualifier as ComponentQualifier));\n}\n\nexport interface ComponentResult {\n  isFavorite?: boolean;\n  isRecentlyBrowsed?: boolean;\n  key: string;\n  match?: string;\n  name: string;\n  project?: string;\n  qualifier: string;\n}\n\nexport interface Results {\n  [qualifier: string]: ComponentResult[];\n}\n\nexport interface More {\n  [qualifier: string]: number;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON } from '../helpers/request';\n\nexport interface License {\n  contactEmail: string;\n  edition: string;\n  expiresAt: string;\n  isExpired: boolean;\n  isOfficialDistribution: boolean;\n  isSupported: boolean;\n  isValidEdition: boolean;\n  isValidServerId: boolean;\n  loc: number;\n  maxLoc: number;\n  plugins: string[];\n  remainingLocThreshold: number;\n  serverId: string;\n  type: string;\n}\n\nexport function isValidLicense(): Promise<{ isValidLicense: boolean }> {\n  return getJSON('/api/editions/is_valid_license');\n}\n\nexport function showLicense(): Promise<License> {\n  return getJSON('/api/editions/show_license').catch((response: Response) => {\n    if (response && response.status === 404) {\n      return undefined;\n    }\n    return throwGlobalError(response);\n  });\n}\n"],"sourceRoot":""}