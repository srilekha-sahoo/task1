{"version":3,"sources":["webpack:///./node_modules/d3-array/src/range.js","webpack:///./node_modules/d3-scale/src/band.js","webpack:///./node_modules/lodash/toPairs.js","webpack:///./node_modules/lodash/_createToPairs.js","webpack:///./node_modules/lodash/_baseToPairs.js","webpack:///./node_modules/lodash/_setToPairs.js","webpack:///./src/main/js/apps/component-measures/style.css?df54","webpack:///./src/main/js/apps/component-measures/style.css","webpack:///./src/main/js/components/charts/ColorGradientLegend.css?8dcf","webpack:///./src/main/js/components/charts/ColorGradientLegend.css","webpack:///./src/main/js/components/charts/TreeMap.css?7645","webpack:///./src/main/js/components/charts/TreeMap.css","webpack:///./src/main/js/components/charts/Histogram.css?0b6d","webpack:///./src/main/js/components/charts/Histogram.css","webpack:///./src/main/js/apps/component-measures/config/bubbles.ts","webpack:///./src/main/js/apps/component-measures/config/domains.ts","webpack:///./src/main/js/apps/component-measures/utils.ts","webpack:///./src/main/js/apps/component-measures/sidebar/FacetMeasureValue.tsx","webpack:///./src/main/js/apps/component-measures/sidebar/DomainFacet.tsx","webpack:///./src/main/js/apps/component-measures/sidebar/ProjectOverviewFacet.tsx","webpack:///./src/main/js/apps/component-measures/sidebar/Sidebar.tsx","webpack:///./src/main/js/apps/component-measures/config/complementary.ts","webpack:///./src/main/js/apps/component-measures/drilldown/ComponentCell.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/MeasureCell.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/ComponentsListRow.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/EmptyResult.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/ComponentsList.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/FilesView.tsx","webpack:///./src/main/js/components/charts/ColorBoxLegend.tsx","webpack:///./src/main/js/components/charts/ColorGradientLegend.tsx","webpack:///./node_modules/d3-hierarchy/src/hierarchy/count.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/index.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/each.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/path.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/links.js","webpack:///./node_modules/d3-hierarchy/src/treemap/round.js","webpack:///./node_modules/d3-hierarchy/src/treemap/dice.js","webpack:///./node_modules/d3-hierarchy/src/treemap/slice.js","webpack:///./node_modules/d3-hierarchy/src/treemap/squarify.js","webpack:///./node_modules/d3-hierarchy/src/accessors.js","webpack:///./node_modules/d3-hierarchy/src/constant.js","webpack:///./src/main/js/components/charts/TreeMapRect.tsx","webpack:///./src/main/js/components/charts/TreeMap.tsx","webpack:///./node_modules/d3-hierarchy/src/treemap/index.js","webpack:///./src/main/js/apps/component-measures/drilldown/TreeMapView.tsx","webpack:///./src/main/js/apps/component-measures/components/Breadcrumb.tsx","webpack:///./src/main/js/apps/component-measures/components/Breadcrumbs.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureContentHeader.tsx","webpack:///./src/main/js/components/charts/Histogram.tsx","webpack:///./src/main/js/components/charts/LanguageDistribution.tsx","webpack:///./src/main/js/components/charts/LanguageDistributionContainer.tsx","webpack:///./src/main/js/apps/component-measures/components/LeakPeriodLegend.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureHeader.tsx","webpack:///./src/main/js/components/icons/TreeIcon.tsx","webpack:///./src/main/js/components/icons/TreemapIcon.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureViewSelect.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureContent.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/BubbleChart.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureOverview.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureOverviewContainer.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasuresEmpty.tsx","webpack:///./src/main/js/apps/component-measures/components/App.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.tsx","webpack:///./src/main/js/components/controls/Select.tsx","webpack:///./src/main/js/components/icons/QualifierIcon.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/components/intl/DateTimeFormatter.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.css?96bd","webpack:///./src/main/js/components/controls/HelpTooltip.css","webpack:///./src/main/js/components/controls/ListFooter.tsx","webpack:///./src/main/js/components/controls/Select.css?5002","webpack:///./src/main/js/components/controls/Select.css","webpack:///./src/main/js/components/intl/DateFromNow.tsx","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./src/main/js/components/intl/DateFormatter.tsx","webpack:///./src/main/js/components/ui/Level.tsx","webpack:///./src/main/js/components/icons/IssueTypeIcon.tsx","webpack:///./src/main/js/components/ui/Rating.tsx","webpack:///./node_modules/lodash/groupBy.js","webpack:///./src/main/js/components/icons/BranchIcon.tsx","webpack:///./src/main/js/components/ui/Level.css?03ac","webpack:///./src/main/js/components/ui/Level.css","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./src/main/js/components/icons/ChevronDownIcon.tsx","webpack:///./src/main/js/components/measure/Measure.tsx","webpack:///./src/main/js/helpers/pages.ts","webpack:///./src/main/js/components/icons/OpenCloseIcon.tsx","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./src/main/js/components/ui/Rating.css?4296","webpack:///./src/main/js/components/ui/Rating.css","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./src/main/js/components/icons/IssueIcon.tsx","webpack:///./src/main/js/components/icons/LinkIcon.tsx","webpack:///./src/main/js/components/search-navigator.css?9a2e","webpack:///./src/main/js/components/search-navigator.css","webpack:///./src/main/js/components/SourceViewer/SourceViewer.tsx","webpack:///./node_modules/d3-scale/src/ordinal.js","webpack:///./src/main/js/components/icons/HistoryIcon.tsx","webpack:///./src/main/js/components/icons/ListIcon.tsx","webpack:///./src/main/js/components/ui/PageActions.tsx","webpack:///./src/main/js/components/charts/ColorBoxLegend.css?a720","webpack:///./src/main/js/helpers/periods.ts","webpack:///./src/main/js/components/charts/BubbleChart.tsx","webpack:///./src/main/js/components/charts/ColorRatingsLegend.tsx","webpack:///./src/main/js/components/icons/BubblesIcon.tsx","webpack:///./src/main/js/components/charts/ColorBoxLegend.css","webpack:///./src/main/js/components/charts/BarChart.css?a0b9","webpack:///./src/main/js/components/charts/BarChart.css","webpack:///./src/main/js/components/charts/BubbleChart.css?05aa","webpack:///./src/main/js/components/charts/BubbleChart.css"],"names":["start","stop","step","n","arguments","length","i","Math","max","ceil","range","Array","band","bandwidth","scale","ordinal","unknown","undefined","domain","ordinalRange","r0","r1","round","paddingInner","paddingOuter","align","rescale","reverse","floor","values","map","_","rangeRound","padding","min","copy","init","apply","pointish","point","toPairs","createToPairs","module","exports","baseToPairs","getTag","mapToArray","setToPairs","keysFunc","object","tag","arrayMap","props","key","set","index","result","size","forEach","value","api","content","__esModule","default","options","exported","locals","___CSS_LOADER_API_IMPORT___","push","bubbles","Reliability","x","ncloc","y","reliability_remediation_effort","bugs","colors","reliability_rating","Security","security_remediation_effort","vulnerabilities","security_rating","Maintainability","sqale_index","code_smells","sqale_rating","Coverage","complexity","coverage","uncovered_lines","yDomain","Duplications","duplicated_lines","duplicated_blocks","project_overview","categories","order","new_bugs","new_reliability_rating","new_reliability_remediation_effort","new_vulnerabilities","new_security_rating","new_security_remediation_effort","SecurityReview","new_security_hotspots","new_security_review_rating","new_security_hotspots_reviewed","security_hotspots","security_review_rating","security_hotspots_reviewed","new_code_smells","new_technical_debt","new_sqale_debt_ratio","new_maintainability_rating","sqale_debt_ratio","effort_to_reach_maintainability_rating_a","new_coverage","new_lines_to_cover","new_uncovered_lines","new_line_coverage","new_conditions_to_cover","new_uncovered_conditions","new_branch_coverage","lines_to_cover","line_coverage","conditions_to_cover","uncovered_conditions","branch_coverage","tests","test_errors","test_failures","skipped_tests","test_success_density","test_execution_time","new_duplicated_lines_density","new_duplicated_lines","new_duplicated_blocks","duplicated_lines_density","duplicated_files","Size","new_lines","lines","statements","functions","classes","files","directories","Complexity","Releasability","Issues","new_violations","new_blocker_violations","new_critical_violations","new_major_violations","new_minor_violations","new_info_violations","violations","blocker_violations","critical_violations","major_violations","minor_violations","info_violations","open_issues","reopened_issues","confirmed_issues","false_positive_issues","KNOWN_DOMAINS","BANNED_MEASURES","sortMeasures","domainName","measures","configOrder","item","indexOf","idx","metric","enhanceComponent","component","metrics","enhancedMeasures","measure","find","leak","isFileType","File","TestFile","includes","qualifier","isViewType","Portfolio","SubPortfolio","Application","groupByDomains","domains","r","name","hasList","hasTree","hasTreemap","type","hasBubbleChart","hasFullMeasures","branch","getBubbleMetrics","conf","color","isProjectOverview","parseView","rawView","view","parseQuery","urlQuery","selected","serializeQuery","query","FacetMeasureValue","displayLeak","className","id","Measure","metricKey","metricType","getValues","this","measureSelected","overviewSelected","hasOverview","handleHeaderClick","onToggle","hasFacetSelected","showFullMeasures","renderItemFacetStat","renderCategoryItem","renderItemsFacet","items","addMeasureCategories","filter","translateMetric","some","sortedItems","FacetItem","active","disabled","onClick","onChange","stat","tooltip","renderOverviewFacet","BubblesIcon","helperMessageKey","helper","FacetBox","property","FacetHeader","open","FacetItemsList","ProjectOverviewFacet","facetName","state","openFacets","toggleFacet","setState","changeMetric","updateQuery","getOpenFacets","A11ySkipTarget","anchor","label","weight","selectedMetric","newOpenFacets","complementary","ComponentCell","branchLike","rootComponent","path","head","tail","Directory","refKey","releasability_rating","alert_status","projects","to","LinkIcon","title","QualifierIcon","BranchIcon","MeasureCell","ComponentsListRow","otherMeasures","otherMetrics","rowClass","isSelected","EmptyResult","ComponentsList","components","selectedComponent","keyScope","super","getVisibleComponents","showBestMeasures","filtered","hasBestValue","handleShowBestMeasures","focusedMeasure","Boolean","bestValue","openSelected","selectedKey","handleOpen","selectPrevious","selectedIdx","visibleComponents","handleSelect","selectNext","scrollToElement","listContainer","elem","getElementsByClassName","topOffset","bottomOffset","defaultShowBestMeasures","attachShortcuts","prevProps","detachShortcuts","action","filteredComponents","hidingBestMeasures","ref","paging","Alert","variant","total","ListFooter","count","loadMore","fetchMore","loading","loadingMore","colorScale","colorNA","colorDomain","colorRange","style","borderColor","backgroundColor","NA_GRADIENT_LINE_INCREMENTS","height","showColorNA","width","lastColorIdx","lastDomainIdx","widthNoPadding","rectHeight","offset","stopColor","String","patternTransform","patternUnits","x1","y1","x2","y2","stroke","gray71","strokeWidth","gray60","transform","fill","d","dy","node","sum","children","data","child","childs","root","Node","valued","nodes","defaultChildren","pop","parent","depth","eachBefore","computeHeight","copyData","prototype","constructor","eachAfter","each","current","next","callback","sort","compare","ancestor","a","b","aNodes","ancestors","bNodes","c","leastCommonAncestor","end","k","splice","descendants","leaves","links","source","target","x0","y0","squarify","ratio","row","nodeValue","dx","sumValue","minValue","maxValue","newRatio","minRatio","alpha","beta","rows","i0","i1","dice","slice","squarifyRatio","custom","sqrt","required","f","Error","constantZero","SIZE_SCALE","clamp","handleLinkClick","event","stopPropagation","handleRectClick","itemKey","renderLink","link","renderCell","cellStyles","left","top","backgroundImage","gradient","backgroundSize","fontSize","lineHeight","cursor","isTextVisible","isIconVisible","role","tabIndex","maxWidth","prefix","icon","substr","placement","Tooltip","overlay","mostCommitPrefix","labels","sortedLabels","firstLabel","firstLabelLength","lastLabel","charAt","prefixTokens","split","lastPrefixPart","hierarchy","tile","paddingStack","paddingTop","paddingRight","paddingBottom","paddingLeft","treemap","positionNode","p","constant","halfWidth","onRectangleClick","measureValue","COLORS","green","lightGreen","yellow","orange","red","LEVEL_COLORS","NA_GRADIENT","getTreemapComponents","getColorScale","colorMeasure","sizeMeasure","colorValue","rawSizeValue","sizeValue","Number","baseFontColor","getTooltip","colorMetric","componentName","sizeMetric","getLevelColorScale","getPercentColorScale","higherValuesAreBetter","getRatingColorScale","formatted","treemapItems","renderLegend","AutoSizer","disableHeight","handleClick","preventDefault","currentTarget","blur","canBrowse","isLast","breadcrumbItem","href","mounted","breadcrumbs","fetchBreadcrumbs","then","backToFirst","lastItem","MeasureContentHeader","right","DEFAULT_PADDING","xScale","yScale","alignTicks","yValues","BAR_HEIGHT","yTooltips","yTicks","tick","historyTickClass","bars","renderBar","renderValue","renderTick","availableWidth","availableHeight","renderBars","cutLanguageName","languages","distribution","tokens","language","parseInt","langKey","lang","getLanguageName","formatDate","date","intl","formatDateTime","formatTime","period","leakClass","leakPeriodLabel","mode","DateFromNow","Date","DateTimeFormatter","DateFormatter","long","MeasureHeader","leakPeriod","secondaryMeasure","isDiff","hasHistory","IssueTypeIcon","HistoryIcon","LanguageDistributionContainer","TreeIcon","iconProps","Icon","TreemapIcon","getOptions","ListIcon","handleChange","option","handleViewChange","renderOption","Select","autoBlur","clearable","optionRenderer","searchable","valueRenderer","loadingMoreComponents","fetchComponentTree","metricKeys","opts","strategy","getComponentRequestParams","requestedMetric","componentKey","baseComponentMetrics","Promise","all","join","tree","m","baseComponent","fetchMoreComponents","pageIndex","updateSelected","updateView","onOpenComponent","router","container","focus","onSelectComponent","getSelectedIndex","findIndex","handleScroll","element","window","innerHeight","smooth","additionalFields","ps","setMetricSort","s","metricSortFilter","metricPeriodSort","asc","direction","metricSort","isFile","PageActions","componentQualifier","showShortcuts","SourceViewer","onIssueChange","scroll","renderMeasure","ratingFilters","getMeasureVal","handleRatingFilterClick","selection","handleBubbleClick","inner","valuesColors","metricColors","line","description","translatedDescription","colorRating","xDomain","reduce","acc","formatXTick","formatYTick","onBubbleClick","colorsMetric","HelpTooltip","getDescription","ColorRatingsLegend","filters","onRatingClick","renderChartHeader","renderBubbleChart","fetchComponents","metricsKey","updateLoading","DeferredSpinner","renderContent","fetchComponent","MeasuresEmpty","getHelmetTitle","displayOverview","getSelectedMetric","domainMeasures","firstMeasure","handleIssueChange","refreshBranchStatus","newQuery","location","pathname","fetchBranchStatus","byKey","fetchMeasures","prevState","prevQuery","filteredKeys","Object","getMeasuresPageMetricKeys","bannedMetrics","banQualityGateMeasure","Project","Suggestions","suggestions","defer","ScreenPositionHelper","mapDispatchToProps","mouseLeaveDelay","onShow","ReactSelectLib","ReactSelect","ReactCreatable","lib","Creatable","Async","renderInput","innerRef","clearRenderer","qualifierIcons","app","blue","brc","dev","dir","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","pac","toLowerCase","FoundIcon","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","formatterOption","year","month","day","hour","minute","needReload","ready","hasMore","button","reload","originalChildren","hourPrecision","now","parsedDate","formattedDate","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","longFormatterOption","Level","level","small","muted","Rating","ariaAttrs","baseAssignValue","createAggregator","hasOwnProperty","groupBy","call","KNOWN_RATINGS","enhanceMeasure","getLeakValue","getRatingTooltip","finalMetricKey","ChevronDownIcon","decimals","formattedValue","omitExtraDecimalZeros","rating","addSideBarClass","toggleBodyClass","addWhitePageClass","removeSideBarClass","removeWhitePageClass","force","document","body","classList","toggle","documentElement","OpenCloseIcon","getPosition","containerPos","getBoundingClientRect","pageYOffset","pageXOffset","debouncedOnResize","forceUpdate","addEventListener","removeEventListener","showClearButton","onClear","renderHelper","renderValueIndicator","fetching","ctrlKey","metaKey","defaultProps","IssueIcon","implicit","Symbol","Map","get","has","from","getPeriodLabel","dateFormatter","parameter","modeParam","getPeriodDate","isApplicationPeriod","project","BubbleChart","boundNode","zoom","scaleExtent","on","zoomed","resetZoom","e","getZoomLevelLabel","renderXGrid","ticks","displayXGrid","renderYGrid","displayYGrid","renderXTicks","xTicks","displayXTicks","innerText","renderYTicks","displayYTicks","renderChart","nice","sizeScale","sizeDomain","sizeRange","xScaleOriginal","yScaleOriginal","getXRange","getYRange","Bubble","getTicks","clipPath","rect","translateExtent","minX","maxX","minY","maxY","dMinY","format","zoomAmount","uniqueTicksCount","ticksCount","circle","RATINGS","fillRule"],"mappings":"iKAAe,sBACbA,GAASA,EAAOC,GAAQA,EAAMC,GAAQC,EAAIC,UAAUC,QAAU,GAAKJ,EAAOD,EAAOA,EAAQ,EAAG,GAAKG,EAAI,EAAI,GAAKD,EAM9G,IAJA,IAAII,GAAK,EACLH,EAAoD,EAAhDI,KAAKC,IAAI,EAAGD,KAAKE,MAAMR,EAAOD,GAASE,IAC3CQ,EAAQ,IAAIC,MAAMR,KAEbG,EAAIH,GACXO,EAAMJ,GAAKN,EAAQM,EAAIJ,EAGzB,OAAOQ,G,kBCPM,SAASE,IACtB,IAKIV,EACAW,EANAC,EAAQ,OAAAC,EAAA,KAAUC,aAAQC,GAC1BC,EAASJ,EAAMI,OACfC,EAAeL,EAAMJ,MACrBU,EAAK,EACLC,EAAK,EAGLC,GAAQ,EACRC,EAAe,EACfC,EAAe,EACfC,EAAQ,GAIZ,SAASC,IACP,IAAIvB,EAAIe,IAASb,OACbsB,EAAUN,EAAKD,EACfpB,EAAQ2B,EAAUN,EAAKD,EACvBnB,EAAO0B,EAAUP,EAAKC,EAC1BnB,GAAQD,EAAOD,GAASO,KAAKC,IAAI,EAAGL,EAAIoB,EAA8B,EAAfC,GACnDF,IAAOpB,EAAOK,KAAKqB,MAAM1B,IAC7BF,IAAUC,EAAOD,EAAQE,GAAQC,EAAIoB,IAAiBE,EACtDZ,EAAYX,GAAQ,EAAIqB,GACpBD,IAAOtB,EAAQO,KAAKe,MAAMtB,GAAQa,EAAYN,KAAKe,MAAMT,IAC7D,IAAIgB,EAAS,EAAS1B,GAAG2B,KAAI,SAASxB,GAAK,OAAON,EAAQE,EAAOI,KACjE,OAAOa,EAAaQ,EAAUE,EAAOF,UAAYE,GAmDnD,cAhEOf,EAAME,QAgBbF,EAAMI,OAAS,SAASa,GACtB,OAAO3B,UAAUC,QAAUa,EAAOa,GAAIL,KAAaR,KAGrDJ,EAAMJ,MAAQ,SAASqB,GACrB,OAAO3B,UAAUC,SAAWe,EAAIC,GAAMU,EAAGX,GAAMA,EAAIC,GAAMA,EAAIK,KAAa,CAACN,EAAIC,IAGjFP,EAAMkB,WAAa,SAASD,GAC1B,OAAQX,EAAIC,GAAMU,EAAGX,GAAMA,EAAIC,GAAMA,EAAIC,GAAQ,EAAMI,KAGzDZ,EAAMD,UAAY,WAChB,OAAOA,GAGTC,EAAMZ,KAAO,WACX,OAAOA,GAGTY,EAAMQ,MAAQ,SAASS,GACrB,OAAO3B,UAAUC,QAAUiB,IAAUS,EAAGL,KAAaJ,GAGvDR,EAAMmB,QAAU,SAASF,GACvB,OAAO3B,UAAUC,QAAUkB,EAAehB,KAAK2B,IAAI,EAAGV,GAAgBO,GAAIL,KAAaH,GAGzFT,EAAMS,aAAe,SAASQ,GAC5B,OAAO3B,UAAUC,QAAUkB,EAAehB,KAAK2B,IAAI,EAAGH,GAAIL,KAAaH,GAGzET,EAAMU,aAAe,SAASO,GAC5B,OAAO3B,UAAUC,QAAUmB,GAAgBO,EAAGL,KAAaF,GAG7DV,EAAMW,MAAQ,SAASM,GACrB,OAAO3B,UAAUC,QAAUoB,EAAQlB,KAAKC,IAAI,EAAGD,KAAK2B,IAAI,EAAGH,IAAKL,KAAaD,GAG/EX,EAAMqB,KAAO,WACX,OAAOvB,EAAKM,IAAU,CAACE,EAAIC,IACtBC,MAAMA,GACNC,aAAaA,GACbC,aAAaA,GACbC,MAAMA,IAGNW,EAAA,EAAUC,MAAMX,IAAWtB,WAGpC,SAASkC,EAASxB,GAChB,IAAIqB,EAAOrB,EAAMqB,KAUjB,OARArB,EAAMmB,QAAUnB,EAAMU,oBACfV,EAAMS,oBACNT,EAAMU,aAEbV,EAAMqB,KAAO,WACX,OAAOG,EAASH,MAGXrB,EAGF,SAASyB,IACd,OAAOD,EAAS1B,EAAKyB,MAAM,KAAMjC,WAAWmB,aAAa,M,qBCnG3D,IA2BIiB,EA3BgB,EAAQ,KA2BdC,CA1BH,EAAQ,KA4BnBC,EAAOC,QAAUH,G,qBC7BjB,IAAII,EAAc,EAAQ,MACtBC,EAAS,EAAQ,IACjBC,EAAa,EAAQ,IACrBC,EAAa,EAAQ,MA0BzBL,EAAOC,QAbP,SAAuBK,GACrB,OAAO,SAASC,GACd,IAAIC,EAAML,EAAOI,GACjB,MAbS,gBAaLC,EACKJ,EAAWG,GAbX,gBAeLC,EACKH,EAAWE,GAEbL,EAAYK,EAAQD,EAASC,O,qBCzBxC,IAAIE,EAAW,EAAQ,IAiBvBT,EAAOC,QANP,SAAqBM,EAAQG,GAC3B,OAAOD,EAASC,GAAO,SAASC,GAC9B,MAAO,CAACA,EAAKJ,EAAOI,S,mBCIxBX,EAAOC,QAVP,SAAoBW,GAClB,IAAIC,GAAS,EACTC,EAAS7C,MAAM2C,EAAIG,MAKvB,OAHAH,EAAII,SAAQ,SAASC,GACnBH,IAASD,GAAS,CAACI,EAAOA,MAErBH,I,qBCdT,IAAII,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACnB,EAAOpC,EAAIuD,EAAS,MAG9C,IAAIG,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSL,EAAIC,EAASG,GAEXH,EAAQK,OAASL,EAAQK,OAAS,IAIjDxB,EAAOC,QAAUsB,G,sBClBjBtB,EADkC,EAAQ,IAChCwB,EAA4B,IAE9BC,KAAK,CAAC1B,EAAOpC,EAAI,64FAA84F,KAEv6FoC,EAAOC,QAAUA,G,qBCNjB,IAAIiB,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACnB,EAAOpC,EAAIuD,EAAS,MAG9C,IAAIG,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSL,EAAIC,EAASG,GAEXH,EAAQK,OAASL,EAAQK,OAAS,IAIjDxB,EAAOC,QAAUsB,G,sBClBjBtB,EADkC,EAAQ,IAChCwB,EAA4B,IAE9BC,KAAK,CAAC1B,EAAOpC,EAAI,kMAAmM,KAE5NoC,EAAOC,QAAUA,G,qBCNjB,IAAIiB,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACnB,EAAOpC,EAAIuD,EAAS,MAG9C,IAAIG,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSL,EAAIC,EAASG,GAEXH,EAAQK,OAASL,EAAQK,OAAS,IAIjDxB,EAAOC,QAAUsB,G,sBClBjBtB,EADkC,EAAQ,IAChCwB,EAA4B,IAE9BC,KAAK,CAAC1B,EAAOpC,EAAI,2nCAA4nC,KAErpCoC,EAAOC,QAAUA,G,qBCNjB,IAAIiB,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACnB,EAAOpC,EAAIuD,EAAS,MAG9C,IAAIG,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSL,EAAIC,EAASG,GAEXH,EAAQK,OAASL,EAAQK,OAAS,IAIjDxB,EAAOC,QAAUsB,G,sBClBjBtB,EADkC,EAAQ,IAChCwB,EAA4B,IAE9BC,KAAK,CAAC1B,EAAOpC,EAAI,4FAA6F,KAEtHoC,EAAOC,QAAUA,G,gXCeV,MAAM0B,EAQT,CACFC,YAAa,CACXC,EAAG,IAAUC,MACbC,EAAG,IAAUC,+BACbjB,KAAM,IAAUkB,KAChBC,OAAQ,CAAC,IAAUC,qBAErBC,SAAU,CACRP,EAAG,IAAUC,MACbC,EAAG,IAAUM,4BACbtB,KAAM,IAAUuB,gBAChBJ,OAAQ,CAAC,IAAUK,kBAErBC,gBAAiB,CACfX,EAAG,IAAUC,MACbC,EAAG,IAAUU,YACb1B,KAAM,IAAU2B,YAChBR,OAAQ,CAAC,IAAUS,eAErBC,SAAU,CACRf,EAAG,IAAUgB,WACbd,EAAG,IAAUe,SACb/B,KAAM,IAAUgC,gBAChBC,QAAS,CAAC,IAAK,IAEjBC,aAAc,CACZpB,EAAG,IAAUC,MACbC,EAAG,IAAUmB,iBACbnC,KAAM,IAAUoC,mBAElBC,iBAAkB,CAChBvB,EAAG,IAAUY,YACbV,EAAG,IAAUe,SACb/B,KAAM,IAAUe,MAChBI,OAAQ,CAAC,IAAUC,mBAAoB,IAAUI,iBACjDS,QAAS,CAAC,IAAK,KCvCN,EAAmB,CAC9BpB,YAAa,CACXyB,WAAY,CAAC,oBAAqB,oBAClCC,MAAO,CACL,oBACA,IAAUC,SACV,IAAUC,uBACV,IAAUC,mCAEV,mBACA,IAAUxB,KACV,IAAUE,mBACV,IAAUH,iCAIdI,SAAU,CACRiB,WAAY,CAAC,oBAAqB,oBAClCC,MAAO,CACL,oBACA,IAAUI,oBACV,IAAUC,oBACV,IAAUC,gCAEV,mBACA,IAAUtB,gBACV,IAAUC,gBACV,IAAUF,8BAIdwB,eAAgB,CACdR,WAAY,CAAC,oBAAqB,oBAClCC,MAAO,CACL,oBACA,IAAUQ,sBACV,IAAUC,2BACV,IAAUC,+BAEV,mBACA,IAAUC,kBACV,IAAUC,uBACV,IAAUC,6BAId3B,gBAAiB,CACfa,WAAY,CAAC,oBAAqB,oBAClCC,MAAO,CACL,oBACA,IAAUc,gBACV,IAAUC,mBACV,IAAUC,qBACV,IAAUC,2BAEV,mBACA,IAAU7B,YACV,IAAUD,YACV,IAAU+B,iBACV,IAAU7B,aACV,IAAU8B,2CAId7B,SAAU,CACRS,WAAY,CAAC,oBAAqB,mBAAoB,kBACtDC,MAAO,CACL,oBACA,IAAUoB,aACV,IAAUC,mBACV,IAAUC,oBACV,IAAUC,kBACV,IAAUC,wBACV,IAAUC,yBACV,IAAUC,oBAEV,mBACA,IAAUlC,SACV,IAAUmC,eACV,IAAUlC,gBACV,IAAUmC,cACV,IAAUC,oBACV,IAAUC,qBACV,IAAUC,gBAEV,iBACA,IAAUC,MACV,IAAUC,YACV,IAAUC,cACV,IAAUC,cACV,IAAUC,qBACV,IAAUC,sBAId1C,aAAc,CACZI,WAAY,CAAC,oBAAqB,oBAClCC,MAAO,CACL,oBACA,IAAUsC,6BACV,IAAUC,qBACV,IAAUC,sBAEV,mBACA,IAAUC,yBACV,IAAU7C,iBACV,IAAUC,kBACV,IAAU6C,mBAIdC,KAAM,CACJ3C,MAAO,CACL,IAAU4C,UAEV,IAAUpE,MACV,IAAUqE,MACV,IAAUC,WACV,IAAUC,UACV,IAAUC,QACV,IAAUC,MACV,IAAUC,cAIdC,WAAY,CACVnD,MAAO,CAAC,aAAc,sBAAuB,kBAAmB,qBAGlEoD,cAAe,CACbpD,MAAO,CAAC,uBAAwB,uBAAwB,iBAG1DqD,OAAQ,CACNrD,MAAO,CACL,IAAUsD,eACV,IAAUC,uBACV,IAAUC,wBACV,IAAUC,qBACV,IAAUC,qBACV,IAAUC,oBAEV,IAAUC,WACV,IAAUC,mBACV,IAAUC,oBACV,IAAUC,iBACV,IAAUC,iBACV,IAAUC,gBACV,IAAUC,YACV,IAAUC,gBACV,IAAUC,iBACV,IAAUC,yB,urBChJT,MAIMC,EAAgB,CAC3B,gBACA,cACA,WACA,iBACA,kBACA,WACA,eACA,OACA,cAEIC,EAAkB,CACtB,qBACA,yBACA,sBACA,0BACA,mBACA,uBACA,mBACA,uBACA,kBACA,uBAOK,SAASC,EACdC,EACAC,GAEA,MACMC,GADS,EAAQF,IAAe,IACXzE,OAAS,GACpC,OAAO,IAAO0E,EAAU,CACrBE,IACC,GAAoB,iBAATA,EACT,OAAOD,EAAYE,QAAQD,GAE7B,MAAME,EAAMH,EAAYE,QAAQD,EAAKG,OAAO1H,KAC5C,OAAOyH,GAAO,EAAIA,EAAMH,EAAYtK,QAErCuK,GACiB,iBAATA,EAAoBA,EAAO,YAAuBA,EAAKG,UAY7D,SAASC,EACdC,EACAF,EACAG,GAEA,IAAKD,EAAUP,SACb,OAAO,EAAP,GAAYO,EAAZ,CAAuBP,SAAU,KAGnC,MAAMS,EAAmBF,EAAUP,SAAS5I,IAAIsJ,GAAW,YAAeA,EAASF,IAC7EE,EAAUL,GAAUI,EAAiBE,KAAKD,GAAWA,EAAQL,OAAO1H,MAAQ0H,EAAO1H,KAGzF,OAAO,EAAP,GAAY4H,EAAZ,CAAuBtH,MAFTyH,GAAWA,EAAQzH,MAEH2H,KADjBF,GAAWA,EAAQE,KACIZ,SAAUS,IAGzC,SAASI,EAAWN,GACzB,MAAO,CAAC,IAAmBO,KAAM,IAAmBC,UAAUC,SAC5DT,EAAUU,WAIP,SAASC,EAAWX,GACzB,MAAO,CACL,IAAmBY,UACnB,IAAmBC,aACnB,IAAmBC,aACnBL,SAAST,EAAUU,WA4BhB,MAAMK,EAAiB,IAAStB,IACrC,MAAMuB,EAAU,IAAQ,IAAQvB,EAAUU,GAAWA,EAAQL,OAAO7J,SAASY,IAAIoK,IAAC,CAChFC,KAAMD,EAAE,GACRxB,SAAUwB,EAAE,MAGd,OAAO,IAAOD,EAAS,CACpB/K,IACC,MAAM4J,EAAMR,EAAcO,QAAQ3J,EAAOiL,MACzC,OAAOrB,GAAO,EAAIA,EAAMR,EAAcjK,QAExC,WAIG,SAAS+L,EAAQrB,GACtB,OAAQ,CAAC,uBAAwB,wBAAwBW,SAASX,GAG7D,SAASsB,EAAQtB,GACtB,MAAkB,iBAAXA,EAGF,SAASuB,EAAWvB,EAAgBwB,GACzC,MAAO,CAAC,UAAW,SAAU,SAASb,SAASa,IAASF,EAAQtB,GAG3D,SAASyB,EAAe/B,GAC7B,YAA+BxJ,IAAxBoD,EAAQoG,GAOV,SAASgC,EAAgBC,GAC9B,OAAQA,GAAU,YAASA,GAatB,SAASC,EAAiBzL,EAAgBgK,GAC/C,MAAM0B,EAAOvI,EAAQnD,GACrB,MAAO,CACLqD,EAAG2G,EAAQ0B,EAAKrI,GAChBE,EAAGyG,EAAQ0B,EAAKnI,GAChBhB,KAAMyH,EAAQ0B,EAAKnJ,MACnBmB,OAAQgI,EAAKhI,QAAUgI,EAAKhI,OAAO9C,IAAI+K,GAAS3B,EAAQ2B,KAQrD,SAASC,EAAkB/B,GAChC,MAjL6B,qBAiLtBA,EAGT,SAASgC,EAAUhC,EAAgBiC,GACjC,MAAMC,EAAQ,YAAcD,IApLe,OAqL3C,OAAKX,EAAQtB,GAEO,SAATkC,GAAoBb,EAAQrB,GAGhCkC,EAFE,OAFA,OAaJ,MAAMC,GAAa,IACvBC,IACC,MAAMpC,EAAS,YAAcoC,EAAQ,SAtMV,mBAuM3B,MAAO,CACLpC,SACAqC,SAAU,YAAcD,EAAQ,UAChCF,KAAMF,EAAUhC,EAAQoC,EAAQ,SAKzBE,GAAiB,IAASC,GAC9B,YAAW,CAChBvC,OAjN2B,qBAiNnBuC,EAAMvC,YAA4B9J,EAAY,YAAgBqM,EAAMvC,QAC5EqC,SAAU,YAAgBE,EAAMF,UAChCH,KAlNyC,SAkNnCK,EAAML,UAAwBhM,EAAY,YAAgBqM,EAAML,S,0ECvN3D,SAASM,IAAkB,QAAEnC,EAAF,YAAWoC,IACnD,OAAI,uBAAapC,EAAQL,OAAO1H,KAE5B,uBACEoK,UAAW,GAAW,wBAAyB,CAAE,WAAYD,IAC7DE,GAAE,kBAAatC,EAAQL,OAAO1H,IAA5B,UACF,gBAACsK,GAAA,EAAO,CACNC,UAAWxC,EAAQL,OAAO1H,IAC1BwK,WAAYzC,EAAQL,OAAOwB,KAC3B5I,MAAOyH,EAAQE,QAOrB,uBAAKmC,UAAU,wBAAwBC,GAAE,kBAAatC,EAAQL,OAAO1H,IAA5B,WACvC,gBAACsK,GAAA,EAAO,CACNC,UAAWxC,EAAQL,OAAO1H,IAC1BwK,WAAYzC,EAAQL,OAAOwB,KAC3B5I,MAAOyH,EAAQzH,SCCR,MAAM,WAAoB,gBAAzC,c,oBACE,KAAAmK,UAAY,KACV,MAAM,OAAE5M,EAAF,SAAUkM,GAAaW,KAAK3K,MAC5B4K,EAAkB9M,EAAOwJ,SAASW,KAAKD,GAAWA,EAAQL,OAAO1H,MAAQ+J,GACzEa,EAAmB/M,EAAOiL,OAASiB,GAAYW,KAAKG,YAAYhN,EAAOiL,MAC7E,OAAI6B,EACK,CAAC,YAAuBA,EAAgBjD,SAE1CkD,EAAmB,CAAC,YAAU,uCAAyC,IAGhF,KAAAE,kBAAoB,KAClBJ,KAAK3K,MAAMgL,SAASL,KAAK3K,MAAMlC,OAAOiL,OAGxC,KAAAkC,iBAAmB,CACjBnN,EACAwJ,EACA0C,KAEA,MAAMY,EAAkBtD,EAASW,KAAKD,GAAWA,EAAQL,OAAO1H,MAAQ+J,GAClEa,EAAmB/M,EAAOiL,OAASiB,GAAYW,KAAKG,YAAYhN,EAAOiL,MAC7E,OAAO6B,GAAmBC,GAG5B,KAAAC,YAAehN,GACN6M,KAAK3K,MAAMkL,kBAAoB9B,EAAetL,GAGvD,KAAAqN,oBAAuB3D,GFmGL,iBElGIA,EAAKG,OAAO1H,IAC9B,gBAACkK,GAAiB,CAACC,YAAaO,KAAK3K,MAAMkL,iBAAkBlD,QAASR,IACpE,KAGN,KAAA4D,mBAAsB5D,GACbmD,KAAK3K,MAAMkL,kBAA6B,sBAAT1D,EACpC,wBAAM6C,UAAU,8CAA8CpK,IAAKuH,GACjE,wBAAM6C,UAAU,cAAc,YAAU,oCAAqC7C,KAE7E,KAGN,KAAA6D,iBAAmB,KACjB,MAAM,OAAEvN,EAAF,SAAUkM,GAAaW,KAAK3K,MAC5BsL,EFZH,SAA8BjE,EAAoBC,GACvD,MAAM3E,EAAa,EAAQ0E,IAAe,EAAQA,GAAY1E,WAC9D,OAAIA,GAAcA,EAAW1F,OAAS,EAC7B,IAAI0F,KAAe2E,GAErBA,EEOSiE,CAAqBzN,EAAOiL,KAAqBjL,EAAOwJ,SFlCxDkE,OAAOxD,IAAYb,EAAgBmB,SAASN,EAAQL,OAAO1H,OEmCzE,MACMwL,EADgBH,EAAMI,KAAKlE,GAAwB,iBAATA,GACR,IAAiC,IACzE,IAAImE,EAAcvE,EAAatJ,EAAOiL,KAAMuC,GAS5C,OAPAK,EAAcA,EAAYH,OAAO,CAAChE,EAAMrH,IAEpB,iBAATqH,GACNrH,EAAQ,IAAMwL,EAAY1O,QAA4C,iBAA3B0O,EAAYxL,EAAQ,IAI7DwL,EAAYjN,IAAI8I,GACL,iBAATA,EACLmD,KAAKS,mBAAmB5D,GAExB,gBAACoE,GAAA,EAAS,CACRC,OAAQrE,EAAKG,OAAO1H,MAAQ+J,EAC5B8B,UAAU,EACV7L,IAAKuH,EAAKG,OAAO1H,IACjB8I,KACE,wBAAMsB,UAAU,kBAAkBC,GAAE,kBAAa9C,EAAKG,OAAO1H,IAAzB,UACjCwL,EAAgBjE,EAAKG,SAG1BoE,QAASpB,KAAK3K,MAAMgM,SACpBC,KAAMtB,KAAKQ,oBAAoB3D,GAC/B0E,QAAST,EAAgBjE,EAAKG,QAC9BpH,MAAOiH,EAAKG,OAAO1H,QAM3B,KAAAkM,oBAAsB,KACpB,MAAM,OAAErO,EAAF,SAAUkM,GAAaW,KAAK3K,MAClC,OAAK2K,KAAKG,YAAYhN,EAAOiL,MAI3B,gBAAC6C,GAAA,EAAS,CACRC,OAAQ/N,EAAOiL,OAASiB,EACxB8B,UAAU,EACV7L,IAAKnC,EAAOiL,KACZA,KACE,wBAAMuB,GAAE,2BAAsBxM,EAAOiL,KAA7B,UACL,YAAU,uCAGfgD,QAASpB,KAAK3K,MAAMgM,SACpBC,KAAM,gBAACG,GAAA,EAAW,CAAC/L,KAAM,KACzB6L,QAAS,YAAU,sCACnB3L,MAAOzC,EAAOiL,OAfT,MAoBX,SACE,MAAM,OAAEjL,GAAW6M,KAAK3K,MAClBqM,EAAgB,2CAAuCvO,EAAOiL,KAA9C,SAChBuD,EAAS,YAAWD,GAAoB,YAAUA,QAAoBxO,EAC5E,OACE,gBAAC0O,GAAA,EAAQ,CAACC,SAAU1O,EAAOiL,MACzB,gBAAC0D,GAAA,EAAW,CACVH,OAAQA,EACRvD,KAAM,YAAyBjL,EAAOiL,MACtCgD,QAASpB,KAAKI,kBACd2B,KAAM/B,KAAK3K,MAAM0M,KACjBjO,OAAQkM,KAAKD,cAGdC,KAAK3K,MAAM0M,MACV,gBAACC,GAAA,EAAc,KACZhC,KAAKwB,sBACLxB,KAAKU,sBC1IH,SAASuB,IAAqB,MAAErM,EAAF,SAASyJ,EAAT,SAAmBgC,IAC9D,MAAMa,EAAY,YAAU,8BAA+BtM,EAAO,SAClE,OACE,gBAACgM,GAAA,EAAQ,CAACC,SAAUjM,GAClB,gBAACoM,GAAA,EAAc,KACb,gBAACf,GAAA,EAAS,CACRC,OAAQtL,IAAUyJ,EAClB8B,UAAU,EACV7L,IAAKM,EACLwI,KAAM,0BAAQuB,GAAE,2BAAsB/J,EAAtB,UAAqCsM,GACrDd,QAASC,EACTE,QAASW,EACTtM,MAAOA,M,6rBCNF,MAAM,WAAgB,gBAArC,c,oBAKE,KAAAuM,MAAe,CACbC,WAAY,IAGd,KAAAC,YAAejE,IACb4B,KAAKsC,SAAS,EAAGF,iBAAH,CACZA,WAAW,MAAMA,EAAP,CAAmB,CAAChE,IAAQgE,EAAWhE,SAIrD,KAAAmE,aAAgBvF,IACdgD,KAAK3K,MAAMmN,YAAY,CAAExF,YAf3B,gCAAgC3H,EAAc8M,GAC5C,MAAO,CAAEC,WAAYK,GAAcN,EAAMC,WAAY/M,IAiBvD,SACE,MAAM,iBAAEkL,GAAqBP,KAAK3K,MAClC,OACE,2BACE,gBAACqN,EAAA,EAAc,CACbC,OAAO,mBACPC,MAAO,YAAU,sCACjBC,OAAQ,KAEV,gBAACZ,GAAoB,CACnBZ,SAAUrB,KAAKuC,aACflD,SAAUW,KAAK3K,MAAMyN,eACrBlN,MJnCqB,qBIqCtBqI,EAAe+B,KAAK3K,MAAMsH,UAAU5I,IAAIZ,GACvC,gBAAC,GAAW,CACVA,OAAQA,EACRmC,IAAKnC,EAAOiL,KACZiD,SAAUrB,KAAKuC,aACflC,SAAUL,KAAKqC,YACfN,MAA6C,IAAvC/B,KAAKmC,MAAMC,WAAWjP,EAAOiL,MACnCiB,SAAUW,KAAK3K,MAAMyN,eACrBvC,iBAAkBA,OAQ9B,SAASkC,GAAcL,GAA6B,SAAEzF,EAAF,eAAYmG,IAC9D,MAAMC,EAAa,MAAQX,GACrB/E,EAAUV,EAASW,KAAKD,GAAWA,EAAQL,OAAO1H,MAAQwN,GAMhE,OALIzF,GAAWA,EAAQL,QAAUK,EAAQL,OAAO7J,OAC9C4P,EAAc1F,EAAQL,OAAO7J,SAAU,EAC9BoJ,EAAcoB,SAASmF,KAChCC,EAAcD,IAAkB,GAE3BC,E,8DC3EF,MAAMC,GAAkC,CAC7CvL,SAAU,CAAC,kBAAmB,wBAC9BoC,cAAe,CAAC,mBAChBG,gBAAiB,CAAC,wBAClBtC,gBAAiB,CAAC,iBAClBqC,qBAAsB,CAAC,mBAEvBV,aAAc,CAAC,sBAAuB,4BACtCG,kBAAmB,CAAC,uBACpBG,oBAAqB,CAAC,4BACtBJ,oBAAqB,CAAC,qBACtBG,yBAA0B,CAAC,uBAE3BgB,yBAA0B,CAAC,oBAC3BH,6BAA8B,CAAC,wBAC/B1C,iBAAkB,CAAC,4BACnB2C,qBAAsB,CAAC,iC,+FCeV,SAASyI,GAAc5N,GACpC,MAAM,WAAE6N,EAAF,UAAchG,EAAd,OAAyBF,EAAzB,cAAiCmG,EAAjC,KAAgDjE,GAAS7J,EAE/D,IAeI+N,EAfAC,EAAO,GACPC,EAAOpG,EAAUkB,KA4CrB,MAzCW,SAATc,GACC,CACC,IAAmBzB,KACnB,IAAmBC,SACnB,IAAmB6F,WACN5F,SAAST,EAAUU,YAClCV,EAAUkG,QAEPC,OAAMC,QAAS,aAAUpG,EAAUkG,OASpCA,EALAlG,EAAUsG,QAET,YAAgBtG,EAAUU,YAC1B,CAAC,IAAU6F,qBAAsB,IAAUC,cAA2B/F,SAASX,EAAO1H,KAEhF,YAAc4H,EAAUU,WAC3B,aAAcV,EAAUsG,OAAQtG,EAAUyB,QAC1C,aAAiBzB,EAAUsG,OAAQN,GAC9B,YAAUhG,EAAUU,YAAcZ,EAAO1H,MAAQ,IAAUqO,SAC7D,aAAiBzG,EAAUsG,OAAQN,GAEnC,aACLhG,EAAUsG,OACV,GACAxG,EAAO1H,IACP4N,EACAhE,GAIG,aACLiE,EAAc7N,IACd4H,EAAU5H,IACV0H,EAAO1H,IACP4N,EACAhE,GAKF,sBAAIQ,UAAU,kCACZ,uBAAKA,UAAU,iBACb,gBAAC,IAAI,CACHA,UAAU,oBACVkE,GAAIR,EACJzD,GAAI,qCAAuCzC,EAAU5H,KACpD4H,EAAUsG,QACT,wBAAM9D,UAAU,oBACd,gBAACmE,GAAA,EAAQ,OAGb,wBAAMC,MAAO5G,EAAU5H,KACrB,gBAACyO,GAAA,EAAa,CAACrE,UAAU,sBAAsB9B,UAAWV,EAAUU,YACnEyF,EAAK/Q,OAAS,GAAK,wBAAMoN,UAAU,QAAQ2D,EAAa,KACzD,4BAAOC,GACN,YAAcH,EAAcvF,aAC1BV,EAAUyB,OACT,gCACE,gBAACqF,GAAA,EAAU,CAACtE,UAAU,oCACtB,wBAAMA,UAAU,QAAQxC,EAAUyB,SAGpC,wBAAMe,UAAU,qBAAqB,YAAU,8BC5FhD,SAASuE,IAAY,UAAE/G,EAAF,QAAaG,EAAb,OAAsBL,IACxD,MAGMpH,GAHYiH,EAGKQ,GAAWH,EAFhC,uBAAaF,EAAO1H,KAAOuH,EAAKU,KAAOV,EAAKjH,OAD5BiH,MAKlB,OACE,sBAAI6C,UAAU,0BACZ,wBAAMC,GAAE,+CAA0CzC,EAAU5H,IAApD,YAA2D0H,EAAO1H,MACxE,gBAACsK,GAAA,EAAO,CAACC,UAAW7C,EAAO1H,IAAKwK,WAAY9C,EAAOwB,KAAM5I,MAAOA,M,wVCFzD,SAASsO,GAAkB7O,GACxC,MAAM,WAAE6N,EAAF,UAAchG,EAAd,cAAyBiG,GAAkB9N,EAC3C8O,EAAgB9O,EAAM+O,aAAarQ,IAAIiJ,G,kWAEpC,IADSE,EAAUP,SAASW,KAAKD,GAAWA,EAAQL,OAAO1H,MAAQ0H,EAAO1H,KACjF,CAAqB0H,YAEjBqH,EAAW,GAAW,gCAAiC,CAC3DhF,SAAUhK,EAAMiP,aAElB,OACE,sBAAI5E,UAAW2E,GACb,gBAACpB,GAAa,CACZC,WAAYA,EACZhG,UAAWA,EACXF,OAAQ3H,EAAM2H,OACdmG,cAAeA,EACfjE,KAAM7J,EAAM6J,OAGd,gBAAC+E,GAAW,CAAC/G,UAAWA,EAAWF,OAAQ3H,EAAM2H,SAEhDmH,EAAcpQ,IAAIsJ,GACjB,gBAAC4G,GAAW,CACV/G,UAAWA,EACX5H,IAAK+H,EAAQL,OAAO1H,IACpB+H,QAASA,EACTL,OAAQK,EAAQL,WCxCX,SAASuH,KACtB,OAAO,uBAAK7E,UAAU,QAAQ,YAAU,e,qXCc3B,SAAS8E,GAAV,GAAyE,IAAhD,WAAEC,EAAF,OAAczH,EAAd,QAAsBG,GAA0B,EAAd9H,EAAc,wCACrF,IAAKoP,EAAWnS,OACd,OAAO,gBAACiS,GAAW,MAGrB,MAAMH,GAAgBpB,GAAchG,EAAO1H,MAAQ,IAAIvB,IAAIuB,GAAO6H,EAAQ7H,IAC1E,OACE,yBAAOoK,UAAU,0BACd0E,EAAa9R,OAAS,GACrB,6BACE,0BACE,+BACA,sBAAIoN,UAAU,cACZ,wBAAMA,UAAU,SAAS,YAAuB1C,KAEjDoH,EAAarQ,IAAIiJ,GAChB,sBAAI0C,UAAU,aAAapK,IAAK0H,EAAO1H,KACrC,wBAAMoK,UAAU,SAAS,YAAuB1C,QAO1D,6BACGyH,EAAW1Q,IAAImJ,GACd,gBAACgH,GAAiB,eAChBhH,UAAWA,EACXoH,WAAYpH,EAAU5H,MAAQD,EAAMqP,kBACpCpP,IAAK4H,EAAU5H,IACf0H,OAAQA,EACRoH,aAAcA,GACV/O,OChBhB,MAAMsP,GAAW,iBAEF,MAAM,WAAkB,gBAGrC,YAAYtP,GACVuP,MAAMvP,GA6CR,KAAAwP,qBAAuB,KACrB,MAAM,WAAEJ,GAAezE,KAAK3K,MAC5B,GAAI2K,KAAKmC,MAAM2C,iBACb,OAAOL,EAET,MAAMM,EAAWN,EAAW5D,OAAO3D,IAAc8C,KAAKgF,aAAa9H,IACnE,OAAwB,IAApB6H,EAASzS,OACJmS,EAEFM,GAGT,KAAAE,uBAAyB,KACvBjF,KAAKsC,SAAS,CAAEwC,kBAAkB,KAGpC,KAAAE,aAAgB9H,IACd,MAAM,OAAEF,GAAWgD,KAAK3K,MAClB6P,EAAiBhI,EAAUP,SAASW,KAAKD,GAAWA,EAAQL,OAAO1H,MAAQ0H,EAAO1H,KACxF,OAAI4P,GAAkB,uBAAalI,EAAO1H,KACjC,4BAAkB4P,GAEpBC,QAAQD,GAAkBA,EAAeE,YAGlD,KAAAC,aAAe,UACkBnS,IAA3B8M,KAAK3K,MAAMiQ,aACbtF,KAAK3K,MAAMkQ,WAAWvF,KAAK3K,MAAMiQ,cAIrC,KAAAE,eAAiB,KACf,MAAM,YAAEC,GAAgBzF,KAAK3K,MACvBqQ,EAAoB1F,KAAK6E,4BACX3R,IAAhBuS,GAA6BA,EAAc,EAC7CzF,KAAK3K,MAAMsQ,aAAaD,EAAkBD,EAAc,GAAGnQ,KAE3D0K,KAAK3K,MAAMsQ,aAAaD,EAAkBA,EAAkBpT,OAAS,GAAGgD,MAI5E,KAAAsQ,WAAa,KACX,MAAM,YAAEH,GAAgBzF,KAAK3K,MACvBqQ,EAAoB1F,KAAK6E,4BACX3R,IAAhBuS,GAA6BA,EAAcC,EAAkBpT,OAAS,EACxE0N,KAAK3K,MAAMsQ,aAAaD,EAAkBD,EAAc,GAAGnQ,KAE3D0K,KAAK3K,MAAMsQ,aAAaD,EAAkB,GAAGpQ,MAIjD,KAAAuQ,gBAAkB,KAChB,GAAI7F,KAAK8F,cAAe,CACtB,MAAMC,EAAO/F,KAAK8F,cAAcE,uBAAuB,YAAY,GAC/DD,GACF,aAAgBA,EAAM,CAAEE,UAAW,IAAKC,aAAc,QAnG1DlG,KAAKmC,MAAQ,CAAE2C,iBAAkBzP,EAAM8Q,yBACvCnG,KAAK4F,WAAa,KAAS5F,KAAK4F,WAAY,KAC5C5F,KAAKwF,eAAiB,KAASxF,KAAKwF,eAAgB,KAGtD,oBACExF,KAAKoG,uBAC0BlT,IAA3B8M,KAAK3K,MAAMiQ,aACbtF,KAAK6F,kBAIT,mBAAmBQ,QACcnT,IAA3B8M,KAAK3K,MAAMiQ,aAA6Be,EAAUf,cAAgBtF,KAAK3K,MAAMiQ,aAC/EtF,KAAK6F,kBAEHQ,EAAUrJ,OAAO1H,MAAQ0K,KAAK3K,MAAM2H,OAAO1H,KAAO+Q,EAAUnH,OAASc,KAAK3K,MAAM6J,MAClFc,KAAKsC,SAAS,CAAEwC,iBAAkB9E,KAAK3K,MAAM8Q,0BAIjD,uBACEnG,KAAKsG,kBAGP,kBACE,EAAI,KAAM3B,GAAU,KAClB3E,KAAKwF,kBACE,IAET,EAAI,OAAQb,GAAU,KACpB3E,KAAK4F,cACE,IAET,EAAI,QAASjB,GAAU,KACrB3E,KAAKqF,gBACE,IAIX,kBACE,CAAC,KAAM,OAAQ,SAAS1P,QAAQ4Q,GAAU,SAAWA,EAAQ5B,KA+D/D,SACE,MAAM,WAAEF,GAAezE,KAAK3K,MACtBmR,EAAqBxG,KAAK6E,uBAC1B4B,EAAqBD,EAAmBlU,OAASmS,EAAWnS,OAClE,OACE,uBAAKoU,IAAKX,GAAS/F,KAAK8F,cAAgBC,GACtC,gBAACvB,GAAc,CACbtB,WAAYlD,KAAK3K,MAAM6N,WACvBuB,WAAY+B,EACZxJ,OAAQgD,KAAK3K,MAAM2H,OACnBG,QAAS6C,KAAK3K,MAAM8H,QACpBgG,cAAenD,KAAK3K,MAAM8N,cAC1BuB,kBAAmB1E,KAAK3K,MAAMiQ,YAC9BpG,KAAMc,KAAK3K,MAAM6J,OAElBuH,GAAsBzG,KAAK3K,MAAMsR,QAChC,gBAACC,GAAA,EAAK,CAAClH,UAAU,aAAamH,QAAQ,QACpC,uBAAKnH,UAAU,uBACZ,YACC,+CACA,wBAAcM,KAAK3K,MAAMsR,OAAOG,MAAQN,EAAmBlU,OAAQ,OACnE,wBAAc0N,KAAK3K,MAAM2H,OAAOoI,UAAWpF,KAAK3K,MAAM2H,OAAOwB,OAE/D,gBAAC,KAAM,CAACkB,UAAU,2BAA2B0B,QAASpB,KAAKiF,wBACxD,YAAU,iBAKjBwB,GAAsBzG,KAAK3K,MAAMsR,QAAU3G,KAAK3K,MAAMoP,WAAWnS,OAAS,GAC1E,gBAACyU,GAAA,EAAU,CACTC,MAAOhH,KAAK3K,MAAMoP,WAAWnS,OAC7B2U,SAAUjH,KAAK3K,MAAM6R,UACrBC,QAASnH,KAAK3K,MAAM+R,YACpBN,MAAO9G,KAAK3K,MAAMsR,OAAOG,U,oDCpKtB,SAAS,IAAe,UAAEpH,EAAF,WAAa2H,EAAb,QAAyBC,EAAzB,WAAkCxH,IACvE,MAAMyH,EAAsCF,EAAWlU,SACjDqU,EAAaH,EAAW1U,QAC9B,OACE,uBAAK+M,UAAW,GAAW,mBAAoBA,IAC5C6H,EAAYxT,IAAI,CAAC6B,EAAOmH,IACvB,uBAAKzH,IAAKM,GACR,wBAAM8J,UAAU,wBAAwB+H,MAAO,CAAEC,YAAaF,EAAWzK,KACvE,wBACE2C,UAAU,8BACV+H,MAAO,CAAEE,gBAAiBH,EAAWzK,OAGxC,wBAAcnH,EAAOkK,KAGzBwH,GACC,2BACE,wBAAM5H,UAAU,wBAAwB+H,MAAO,CAAEC,YAAaJ,IAC5D,wBAAM5H,UAAU,8BAA8B+H,MAAO,CAAEE,gBAAiBL,MAGtE,Q,QCrBd,MACMM,GAA8B,CAAC,EAAG,EAAG,GAAI,IAEhC,SAAS,IAAoB,UAC1ClI,EAD0C,WAE1C2H,EAF0C,QAG1CnT,EAAU,CAAC,GAAI,GAAI,EAAG,GAHoB,OAI1C2T,EAJ0C,YAK1CC,GAAc,EAL4B,MAM1CC,IAEA,MAAMP,EAAqCH,EAAW1U,QAChD4U,EAAsCF,EAAWlU,SACjD6U,EAAeR,EAAWlV,OAAS,EACnC2V,EAAgBV,EAAYjV,OAAS,EACrC4V,EAAiBH,EAAQ7T,EAAQ,GACjCiU,EAAaN,EAAS3T,EAAQ,GACpC,OACE,uBAAKwL,UAAWA,EAAWmI,OAAQA,EAAQE,MAAOA,GAChD,4BACE,kCAAgBpI,GAAG,mBAChB6H,EAAWzT,IAAI,CAAC+K,EAAO/B,IAEtB,wBAAMzH,IAAKyH,EAAKqL,OAAQrL,EAAMiL,EAAcK,UAAWC,OAAOxJ,OAIlE,2BACEa,GAAG,UACHoI,MAAM,KACNF,OAAO,KACPU,iBAAiB,iBACjBC,aAAa,kBACZZ,GAA4B7T,IAAIxB,GAC/B,gBAAC,WAAc,CAAC+C,IAAK/C,GACnB,wBACEkW,GAAIlW,EACJmW,GAAG,IACHC,GAAIpW,EACJqW,GAAG,KACHnB,MAAO,CAAEoB,OAAQ,UAAOC,OAAQC,YAxC7B,KA0CL,wBACEN,GAAIlW,EA3CD,EA4CHmW,GAAG,IACHC,GAAIpW,EA7CD,EA8CHqW,GAAG,KACHnB,MAAO,CAAEoB,OAAQ,UAAOG,OAAQD,YA/C7B,SAqDb,qBAAGE,UAAS,oBAAe/U,EAAQ,GAAvB,aAA8BA,EAAQ,GAAtC,MACV,wBAAMgV,KAAK,wBAAwBrB,OAAQM,EAAYJ,MAAOG,EAAgB1R,EAAG,EAAGE,EAAG,IACtF6Q,EAAYxT,IAAI,CAACoV,EAAGpM,IACnB,wBACE2C,UAAU,uBACV0J,GAAG,OAEH9T,IAAKyH,EACLvG,EAAG0R,GAAkBnL,EAAMkL,GAC3BvR,EAAG,GACFyS,KAINrB,GACC,qBAAGmB,UAAS,oBAAef,EAAf,aAAkChU,EAAQ,GAA1C,MACV,wBACEgV,KAAK,gBACLrB,OAAQM,EACRJ,MAAO7T,EAAQ,GAxER,EAyEPsC,EAzEO,EA0EPE,EAAG,IAEL,wBACEgJ,UAAU,qBACV0J,GAAG,OACH5S,EA/EO,GA+EUtC,EAAQ,GA/ElB,GA+EqC,EAC5CwC,EAAG,GAAC,SCnHhB,SAASsQ,GAAMqC,GACb,IAAIC,EAAM,EACNC,EAAWF,EAAKE,SAChBhX,EAAIgX,GAAYA,EAASjX,OAC7B,GAAKC,EACA,OAASA,GAAK,GAAG+W,GAAOC,EAAShX,GAAGqD,WADjC0T,EAAM,EAEdD,EAAKzT,MAAQ0T,ECMA,SAAS,GAAUE,EAAMD,GACtC,IAEIF,EAEAI,EACAC,EACAnX,EACAH,EAPAuX,EAAO,IAAIC,GAAKJ,GAChBK,GAAUL,EAAK5T,QAAU+T,EAAK/T,MAAQ4T,EAAK5T,OAE3CkU,EAAQ,CAACH,GAQb,IAFgB,MAAZJ,IAAkBA,EAAWQ,IAE1BV,EAAOS,EAAME,OAElB,GADIH,IAAQR,EAAKzT,OAASyT,EAAKG,KAAK5T,QAC/B8T,EAASH,EAASF,EAAKG,SAAWpX,EAAIsX,EAAOpX,QAEhD,IADA+W,EAAKE,SAAW,IAAI3W,MAAMR,GACrBG,EAAIH,EAAI,EAAGG,GAAK,IAAKA,EACxBuX,EAAMzT,KAAKoT,EAAQJ,EAAKE,SAAShX,GAAK,IAAIqX,GAAKF,EAAOnX,KACtDkX,EAAMQ,OAASZ,EACfI,EAAMS,MAAQb,EAAKa,MAAQ,EAKjC,OAAOP,EAAKQ,WAAWC,IAOzB,SAASL,GAAgBZ,GACvB,OAAOA,EAAEI,SAGX,SAASc,GAAShB,GAChBA,EAAKG,KAAOH,EAAKG,KAAKA,KAGjB,SAASY,GAAcf,GAC5B,IAAIxB,EAAS,EACb,GAAGwB,EAAKxB,OAASA,SACTwB,EAAOA,EAAKY,SAAYZ,EAAKxB,SAAWA,GAG3C,SAAS+B,GAAKJ,GACnBxJ,KAAKwJ,KAAOA,EACZxJ,KAAKkK,MACLlK,KAAK6H,OAAS,EACd7H,KAAKiK,OAAS,KAGhBL,GAAKU,UAAY,GAAUA,UAAY,CACrCC,YAAaX,GACb5C,MDzDa,WACb,OAAOhH,KAAKwK,UAAUxD,KCyDtByD,KCnEa,YACb,IAAiBC,EAAwBnB,EAAUhX,EAAGH,EAAlDiX,EAAOrJ,KAAe2K,EAAO,CAACtB,GAClC,GAEE,IADAqB,EAAUC,EAAK/W,UAAW+W,EAAO,GAC1BtB,EAAOqB,EAAQV,OAEpB,GADAY,EAASvB,GAAOE,EAAWF,EAAKE,SAClB,IAAKhX,EAAI,EAAGH,EAAImX,EAASjX,OAAQC,EAAIH,IAAKG,EACtDoY,EAAKtU,KAAKkT,EAAShX,UAGhBoY,EAAKrY,QACd,OAAO0N,MDyDPwK,UEpEa,YAEb,IADA,IAA4CjB,EAAUhX,EAAGH,EAArDiX,EAAOrJ,KAAM8J,EAAQ,CAACT,GAAOsB,EAAO,GACjCtB,EAAOS,EAAME,OAElB,GADAW,EAAKtU,KAAKgT,GAAOE,EAAWF,EAAKE,SACnB,IAAKhX,EAAI,EAAGH,EAAImX,EAASjX,OAAQC,EAAIH,IAAKG,EACtDuX,EAAMzT,KAAKkT,EAAShX,IAGxB,KAAO8W,EAAOsB,EAAKX,OACjBY,EAASvB,GAEX,OAAOrJ,MF0DPmK,WGrEa,YAEb,IADA,IAAiCZ,EAAUhX,EAAvC8W,EAAOrJ,KAAM8J,EAAQ,CAACT,GACnBA,EAAOS,EAAME,OAElB,GADAY,EAASvB,GAAOE,EAAWF,EAAKE,SAClB,IAAKhX,EAAIgX,EAASjX,OAAS,EAAGC,GAAK,IAAKA,EACpDuX,EAAMzT,KAAKkT,EAAShX,IAGxB,OAAOyN,MH8DPsJ,IItEa,YACb,OAAOtJ,KAAKwK,WAAU,SAASnB,GAI7B,IAHA,IAAIC,GAAO1T,EAAMyT,EAAKG,OAAS,EAC3BD,EAAWF,EAAKE,SAChBhX,EAAIgX,GAAYA,EAASjX,SACpBC,GAAK,GAAG+W,GAAOC,EAAShX,GAAGqD,MACpCyT,EAAKzT,MAAQ0T,MJiEfuB,KKvEa,YACb,OAAO7K,KAAKmK,YAAW,SAASd,GAC1BA,EAAKE,UACPF,EAAKE,SAASsB,KAAKC,OLqEvB1H,KMxEa,YAIb,IAHA,IAAInR,EAAQ+N,KACR+K,EAcN,SAA6BC,EAAGC,GAC9B,GAAID,IAAMC,EAAG,OAAOD,EACpB,IAAIE,EAASF,EAAEG,YACXC,EAASH,EAAEE,YACXE,EAAI,KACRL,EAAIE,EAAOlB,MACXiB,EAAIG,EAAOpB,MACX,KAAOgB,IAAMC,GACXI,EAAIL,EACJA,EAAIE,EAAOlB,MACXiB,EAAIG,EAAOpB,MAEb,OAAOqB,EA1BQC,CAAoBrZ,EAAOsZ,GACtCzB,EAAQ,CAAC7X,GACNA,IAAU8Y,GACf9Y,EAAQA,EAAMgY,OACdH,EAAMzT,KAAKpE,GAGb,IADA,IAAIuZ,EAAI1B,EAAMxX,OACPiZ,IAAQR,GACbjB,EAAM2B,OAAOD,EAAG,EAAGD,GACnBA,EAAMA,EAAItB,OAEZ,OAAOH,GN4DPqB,UOzEa,WAEb,IADA,IAAI9B,EAAOrJ,KAAM8J,EAAQ,CAACT,GACnBA,EAAOA,EAAKY,QACjBH,EAAMzT,KAAKgT,GAEb,OAAOS,GPqEP4B,YQ1Ea,WACb,IAAI5B,EAAQ,GAIZ,OAHA9J,KAAKyK,MAAK,SAASpB,GACjBS,EAAMzT,KAAKgT,MAENS,GRsEP6B,OS3Ea,WACb,IAAIA,EAAS,GAMb,OALA3L,KAAKmK,YAAW,SAASd,GAClBA,EAAKE,UACRoC,EAAOtV,KAAKgT,MAGTsC,GTqEPC,MU5Ea,WACb,IAAIjC,EAAO3J,KAAM4L,EAAQ,GAMzB,OALAjC,EAAKc,MAAK,SAASpB,GACbA,IAASM,GACXiC,EAAMvV,KAAK,CAACwV,OAAQxC,EAAKY,OAAQ6B,OAAQzC,OAGtCuC,GVsEPxX,KAtCF,WACE,OAAO,GAAU4L,MAAMmK,WAAWE,MWxCrB,mBACbhB,EAAK0C,GAAKvZ,KAAKe,MAAM8V,EAAK0C,IAC1B1C,EAAK2C,GAAKxZ,KAAKe,MAAM8V,EAAK2C,IAC1B3C,EAAKZ,GAAKjW,KAAKe,MAAM8V,EAAKZ,IAC1BY,EAAKX,GAAKlW,KAAKe,MAAM8V,EAAKX,KCJb,uBAOb,IANA,IACIW,EADAS,EAAQG,EAAOV,SAEfhX,GAAK,EACLH,EAAI0X,EAAMxX,OACVkZ,EAAIvB,EAAOrU,QAAU6S,EAAKsD,GAAM9B,EAAOrU,QAElCrD,EAAIH,IACXiX,EAAOS,EAAMvX,IAASyZ,GAAKA,EAAI3C,EAAKX,GAAKA,EACzCW,EAAK0C,GAAKA,EAAI1C,EAAKZ,GAAKsD,GAAM1C,EAAKzT,MAAQ4V,GCThC,uBAOb,IANA,IACInC,EADAS,EAAQG,EAAOV,SAEfhX,GAAK,EACLH,EAAI0X,EAAMxX,OACVkZ,EAAIvB,EAAOrU,QAAU8S,EAAKsD,GAAM/B,EAAOrU,QAElCrD,EAAIH,IACXiX,EAAOS,EAAMvX,IAASwZ,GAAKA,EAAI1C,EAAKZ,GAAKA,EACzCY,EAAK2C,GAAKA,EAAI3C,EAAKX,GAAKsD,GAAM3C,EAAKzT,MAAQ4V,GC6ChC,qBAEb,SAASS,EAAShC,EAAQ8B,EAAIC,EAAIvD,EAAIC,IAnDjC,SAAuBwD,EAAOjC,EAAQ8B,EAAIC,EAAIvD,EAAIC,GAkBvD,IAjBA,IAEIyD,EACAC,EAIAC,EAAIjD,EAEJkD,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAfAC,EAAO,GACP/C,EAAQG,EAAOV,SAGfuD,EAAK,EACLC,EAAK,EACL3a,EAAI0X,EAAMxX,OAEVsD,EAAQqU,EAAOrU,MASZkX,EAAK1a,GAAG,CACbia,EAAK5D,EAAKsD,EAAI3C,EAAKV,EAAKsD,EAGxB,GAAGM,EAAWxC,EAAMiD,KAAMnX,aAAe0W,GAAYS,EAAK3a,GAO1D,IANAma,EAAWC,EAAWF,EAEtBM,EAAON,EAAWA,GADlBK,EAAQna,KAAKC,IAAI2W,EAAKiD,EAAIA,EAAKjD,IAAOxT,EAAQsW,IAE9CQ,EAAWla,KAAKC,IAAI+Z,EAAWI,EAAMA,EAAOL,GAGrCQ,EAAK3a,IAAK2a,EAAI,CAMnB,GALAT,GAAYF,EAAYtC,EAAMiD,GAAInX,MAC9BwW,EAAYG,IAAUA,EAAWH,GACjCA,EAAYI,IAAUA,EAAWJ,GACrCQ,EAAON,EAAWA,EAAWK,GAC7BF,EAAWja,KAAKC,IAAI+Z,EAAWI,EAAMA,EAAOL,IAC7BG,EAAU,CAAEJ,GAAYF,EAAW,MAClDM,EAAWD,EAIbI,EAAKxW,KAAK8V,EAAM,CAACvW,MAAO0W,EAAUU,KAAMX,EAAKjD,EAAIG,SAAUO,EAAMmD,MAAMH,EAAIC,KACvEZ,EAAIa,KAAM,GAAYb,EAAKJ,EAAIC,EAAIvD,EAAI7S,EAAQoW,GAAM5C,EAAKkD,EAAW1W,EAAQ8S,GAC5E,GAAayD,EAAKJ,EAAIC,EAAIpW,EAAQmW,GAAMM,EAAKC,EAAW1W,EAAQ6S,EAAIC,GACzE9S,GAAS0W,EAAUQ,EAAKC,GASxBG,CAAchB,EAAOjC,EAAQ8B,EAAIC,EAAIvD,EAAIC,GAO3C,OAJAuD,EAASC,MAAQ,SAAS1V,GACxB,OAAO2W,GAAQ3W,GAAKA,GAAK,EAAIA,EAAI,IAG5ByV,EAVM,EAnDG,EAAIzZ,KAAK4a,KAAK,IAAM,GCC/B,SAASC,GAASC,GACvB,GAAiB,mBAANA,EAAkB,MAAM,IAAIC,MACvC,OAAOD,ECNF,SAASE,KACd,OAAO,EAGM,mBACb,OAAO,WACL,OAAOhX,I,oBCqBX,MAAMiX,GAAa,eAChBta,OAAO,CAAC,EAAG,KACXR,MAAM,CAAC,GAAI,KACX+a,OAAM,GAwBM,MAAM,WAAoB,gBAAzC,c,oBACE,KAAAC,gBAAmBC,IACjBA,EAAMC,mBAGR,KAAAC,gBAAkB,KACZ9N,KAAK3K,MAAM+L,SACbpB,KAAK3K,MAAM+L,QAAQpB,KAAK3K,MAAM0Y,UAIlC,KAAAC,WAAa,KACX,MAAM,KAAEC,EAAF,OAAQpG,EAAR,MAAgBE,GAAU/H,KAAK3K,MAErC,OADmB0S,GAAS,IAAMF,GAAU,KAAOE,GAAS,IAAMF,GAAU,KACjD,MAARoG,EAIjB,gBAAC,IAAI,CAACvO,UAAU,eAAe0B,QAASpB,KAAK2N,gBAAiB/J,GAAIqK,GAChE,gBAACpK,GAAA,EAAQ,OAJJ,MASX,KAAAqK,WAAa,KACX,MAAMC,EAAa,CACjBC,KAAMpO,KAAK3K,MAAMmB,EACjB6X,IAAKrO,KAAK3K,MAAMqB,EAChBqR,MAAO/H,KAAK3K,MAAM0S,MAClBF,OAAQ7H,KAAK3K,MAAMwS,OACnBF,gBAAiB3H,KAAK3K,MAAM6T,KAC5BoF,gBAAiBtO,KAAK3K,MAAMkZ,SAC5BC,eAAgB,YAChBC,SAAUhB,GAAWzN,KAAK3K,MAAM0S,MAAQ/H,KAAK3K,MAAMuN,MAAMtQ,QACzDoc,WAAW,GAAD,OAAK1O,KAAK3K,MAAMwS,OAAhB,MACV8G,OAA8B,MAAtB3O,KAAK3K,MAAM+L,QAAkB,UAAY,WAE7CwN,EACJ5O,KAAK3K,MAAM0S,OA1Ca,IA0CqB/H,KAAK3K,MAAMwS,QAzC/B,GA0CrBgH,EACJ7O,KAAK3K,MAAM0S,OA1Ca,IA0CqB/H,KAAK3K,MAAMwS,QAzC/B,GA2C3B,OACE,uBACEnI,UAAU,eACV0B,QAASpB,KAAK8N,gBACdgB,KAAK,WACLrH,MAAO0G,EACPY,SAAU,GACTH,GACC,uBAAKlP,UAAU,gBAAgB+H,MAAO,CAAEuH,SAAUhP,KAAK3K,MAAM0S,QAC1D/H,KAAK3K,MAAM4Z,QAAUjP,KAAK3K,MAAMO,MAC/B,uBAAK8J,UAAU,gBACb,2BACGmP,GACC,wBAAMnP,UAAW,GAAW,eAAgB,CAAE,eAAgBkP,KAC3D5O,KAAK3K,MAAM6Z,MAIflP,KAAK3K,MAAM4Z,QACV,gCACGjP,KAAK3K,MAAM4Z,OACZ,4BAIHjP,KAAK3K,MAAMuN,MAAMuM,OAAOnP,KAAK3K,MAAM4Z,OAAO3c,SAG7C,uBAAKoN,UAAU,yCAAyCM,KAAK3K,MAAMO,QAGrE,uBAAK8J,UAAU,gBAAgBM,KAAK3K,MAAMuN,QAI/C5C,KAAKgO,eAKZ,SACE,MAAM,UAAEoB,EAAF,QAAa7N,GAAYvB,KAAK3K,MACpC,OACE,gBAACga,GAAA,EAAO,CAACC,QAAS/N,QAAWrO,EAAWkc,UAAWA,GAAa,QAC7DpP,KAAKkO,eC1FC,MAAM,WAAgB,gBAArC,c,oBACE,KAAAqB,iBAAoBC,IAClB,MAAMC,EAAeD,EAAOvC,MAAM,GAAGpC,OAC/B6E,EAAaD,EAAa,GAC1BE,EAAmBD,EAAWpd,OAC9Bsd,EAAYH,EAAaA,EAAand,OAAS,GACrD,IAAIC,EAAI,EACR,KAAOA,EAAIod,GAAoBD,EAAWG,OAAOtd,KAAOqd,EAAUC,OAAOtd,IACvEA,IAEF,MAAM0c,EAASS,EAAWP,OAAO,EAAG5c,GAC9Bud,EAAeb,EAAOc,MAAM,WAC5BC,EAAiBF,EAAaA,EAAaxd,OAAS,GAC1D,OAAO2c,EAAOE,OAAO,EAAGF,EAAO3c,OAAS0d,EAAe1d,SAGzD,SACE,MAAM,MAAEqO,EAAF,OAASkH,EAAT,MAAiBE,GAAU/H,KAAK3K,MAChC4a,EAAY,GAAY,CAAE1G,SAAU5I,IACvC2I,IAAIH,GAAKA,EAAEzT,MACXmV,KAAK,CAACG,EAAGC,KAAOA,EAAErV,OAAS,IAAMoV,EAAEpV,OAAS,IAMzCkU,ECvEK,WACb,IAAIoG,EAAOjE,GACP1Y,GAAQ,EACR8Y,EAAK,EACLjD,EAAK,EACL+G,EAAe,CAAC,GAChB3c,EAAega,GACf4C,EAAa5C,GACb6C,EAAe7C,GACf8C,EAAgB9C,GAChB+C,EAAc/C,GAElB,SAASgD,EAAQ7G,GAQf,OAPAA,EAAKoC,GACLpC,EAAKqC,GAAK,EACVrC,EAAKlB,GAAK4D,EACV1C,EAAKjB,GAAKU,EACVO,EAAKQ,WAAWsG,GAChBN,EAAe,CAAC,GACZ5c,GAAOoW,EAAKQ,WAAW,IACpBR,EAGT,SAAS8G,EAAapH,GACpB,IAAIqH,EAAIP,EAAa9G,EAAKa,OACtB6B,EAAK1C,EAAK0C,GAAK2E,EACf1E,EAAK3C,EAAK2C,GAAK0E,EACfjI,EAAKY,EAAKZ,GAAKiI,EACfhI,EAAKW,EAAKX,GAAKgI,EACfjI,EAAKsD,IAAIA,EAAKtD,GAAMsD,EAAKtD,GAAM,GAC/BC,EAAKsD,IAAIA,EAAKtD,GAAMsD,EAAKtD,GAAM,GACnCW,EAAK0C,GAAKA,EACV1C,EAAK2C,GAAKA,EACV3C,EAAKZ,GAAKA,EACVY,EAAKX,GAAKA,EACNW,EAAKE,WACPmH,EAAIP,EAAa9G,EAAKa,MAAQ,GAAK1W,EAAa6V,GAAQ,EACxD0C,GAAMwE,EAAYlH,GAAQqH,EAC1B1E,GAAMoE,EAAW/G,GAAQqH,GACzBjI,GAAM4H,EAAahH,GAAQqH,GAElB3E,IAAIA,EAAKtD,GAAMsD,EAAKtD,GAAM,IADnCC,GAAM4H,EAAcjH,GAAQqH,GAEnB1E,IAAIA,EAAKtD,GAAMsD,EAAKtD,GAAM,GACnCwH,EAAK7G,EAAM0C,EAAIC,EAAIvD,EAAIC,IA4C3B,OAxCA8H,EAAQjd,MAAQ,SAASiD,GACvB,OAAOnE,UAAUC,QAAUiB,IAAUiD,EAAGga,GAAWjd,GAGrDid,EAAQ9a,KAAO,SAASc,GACtB,OAAOnE,UAAUC,QAAU+Z,GAAM7V,EAAE,GAAI4S,GAAM5S,EAAE,GAAIga,GAAW,CAACnE,EAAIjD,IAGrEoH,EAAQN,KAAO,SAAS1Z,GACtB,OAAOnE,UAAUC,QAAU4d,EAAO7C,GAAS7W,GAAIga,GAAWN,GAG5DM,EAAQtc,QAAU,SAASsC,GACzB,OAAOnE,UAAUC,OAASke,EAAQhd,aAAagD,GAAG/C,aAAa+C,GAAKga,EAAQhd,gBAG9Egd,EAAQhd,aAAe,SAASgD,GAC9B,OAAOnE,UAAUC,QAAUkB,EAA4B,mBAANgD,EAAmBA,EAAIma,IAAUna,GAAIga,GAAWhd,GAGnGgd,EAAQ/c,aAAe,SAAS+C,GAC9B,OAAOnE,UAAUC,OAASke,EAAQJ,WAAW5Z,GAAG6Z,aAAa7Z,GAAG8Z,cAAc9Z,GAAG+Z,YAAY/Z,GAAKga,EAAQJ,cAG5GI,EAAQJ,WAAa,SAAS5Z,GAC5B,OAAOnE,UAAUC,QAAU8d,EAA0B,mBAAN5Z,EAAmBA,EAAIma,IAAUna,GAAIga,GAAWJ,GAGjGI,EAAQH,aAAe,SAAS7Z,GAC9B,OAAOnE,UAAUC,QAAU+d,EAA4B,mBAAN7Z,EAAmBA,EAAIma,IAAUna,GAAIga,GAAWH,GAGnGG,EAAQF,cAAgB,SAAS9Z,GAC/B,OAAOnE,UAAUC,QAAUge,EAA6B,mBAAN9Z,EAAmBA,EAAIma,IAAUna,GAAIga,GAAWF,GAGpGE,EAAQD,YAAc,SAAS/Z,GAC7B,OAAOnE,UAAUC,QAAUie,EAA2B,mBAAN/Z,EAAmBA,EAAIma,IAAUna,GAAIga,GAAWD,GAG3FC,EDpBW,GACbjd,OAAM,GACNmC,KAAK,CAACqS,EAAOF,GAEF2I,CAAQP,GAAWtE,SAC3BsD,EAASjP,KAAKuP,iBAAiB5O,EAAM5M,IAAI8I,GAAQA,EAAK+F,QACtDgO,EAAY7I,EAAQ,EAC1B,OACE,uBAAKrI,UAAU,YACb,uBAAKA,UAAU,oBAAoB+H,MAAO,CAAEM,QAAOF,WAChDiC,EAAM/V,IAAIsV,GACT,gBAAC,GAAW,CACVH,KAAMG,EAAKG,KAAK1K,MAChByP,SAAUlF,EAAKG,KAAK+E,SACpB1G,OAAQwB,EAAKX,GAAKW,EAAK2C,GACvBkD,KAAM7F,EAAKG,KAAK0F,KAChBnB,QAAS1E,EAAKG,KAAKlU,IACnBA,IAAK+T,EAAKG,KAAKlU,IACfsN,MAAOyG,EAAKG,KAAK5G,MACjBqL,KAAM5E,EAAKG,KAAKyE,KAChB7M,QAASpB,KAAK3K,MAAMwb,iBACpBzB,UAAuB,IAAZ/F,EAAK0C,IAAY1C,EAAKZ,GAAKmI,EAAY,QAAU,OAC5D3B,OAAQA,EACRrZ,MACEyT,EAAKG,KAAKxM,QACR,gCACG,wBAAcqM,EAAKG,KAAKsH,aAAczH,EAAKG,KAAKxM,OAAOwB,MACxD,wBAAMkB,UAAU,sBACb,yBAAe2J,EAAKG,KAAKxM,OAAO1H,OAKzCiM,QAAS8H,EAAKG,KAAKjI,QACnBwG,MAAOsB,EAAKZ,GAAKY,EAAK0C,GACtBvV,EAAG6S,EAAK0C,GACRrV,EAAG2S,EAAK2C,S,cE/DtB,MACM+E,GAAS,CAAC,UAAOC,MAAO,UAAOC,WAAY,UAAOC,OAAQ,UAAOC,OAAQ,UAAOC,KAChFC,GAAe,CAAC,UAAOD,IAAK,UAAOD,OAAQ,UAAOH,MAAO,UAAOlI,QAChEwI,GAAW,kCAA8B,UAAOxI,OAArC,iBAAoD,UAAOE,OAA3D,iBAA0E,UAAOA,OAAjF,iBAAgG,UAAOF,OAAvG,iBAAsH,UAAOA,OAA7H,iBAA4I,UAAOE,OAAnJ,iBAAkK,UAAOA,OAAzK,UAEF,MAAM,WAAoB,gBAGvC,YAAY3T,GACVuP,MAAMvP,GAUR,KAAAkc,qBAAuB,EAAG9M,aAAYzH,aACpC,MAAMqK,EAAarH,KAAKwR,cAAcxU,GACtC,OAAOyH,EACJ1Q,IAAImJ,IACH,MAAMuU,EAAevU,EAAUP,SAASW,KAAKD,GAAWA,EAAQL,OAAO1H,MAAQ0H,EAAO1H,KAChFoc,EAAcxU,EAAUP,SAASW,KAAKD,GAAWA,EAAQL,OAAO1H,MAAQ0H,EAAO1H,KACrF,IAAKoc,EACH,OAEF,MAAMC,EACJF,IAAiB,uBAAazU,EAAO1H,KAAOmc,EAAalU,KAAOkU,EAAa7b,OACzEgc,EAAe,uBAAaF,EAAY1U,OAAO1H,KACjDoc,EAAYnU,KACZmU,EAAY9b,MAChB,QAAqB1C,IAAjB0e,EACF,OAGF,MAAMC,EAAYC,OAAOF,GACzB,OAAIC,EAAY,OAAhB,EAGO,CACL/S,MAAO6S,EAActK,EAAwBsK,QAAcze,EAC3Dqb,SAAWoD,OAA2Bze,EAAdoe,GACxBpC,KAAM,gBAACnL,GAAA,EAAa,CAACmF,KAAM,UAAO6I,cAAenU,UAAWV,EAAUU,YACtEtI,IAAK4H,EAAUsG,QAAUtG,EAAU5H,IACnCsN,MAAO1F,EAAUkB,KACjB1I,KAAMmc,EACNf,aAAca,EACd3U,SACAuE,QAASvB,KAAKgS,WAAW,CACvBC,YAAajV,EACb2U,aACAO,cAAehV,EAAUkB,KACzB+T,WAAYT,EAAY1U,OACxB6U,iBAILhR,OAAO,OAGZ,KAAAuR,mBAAqB,IACnB,eACGjf,OAAO,CAAC,QAAS,OAAQ,KAAM,SAC/BR,MAAM0e,IAEX,KAAAgB,qBAAwBrV,IACtB,MAAM8B,EAAQ,eAA8B3L,OAAO,CAAC,EAAG,GAAI,GAAI,GAAI,MAEnE,OADA2L,EAAMnM,MAAMqK,EAAOsV,sBAAwB,IAAIvB,IAAQnd,UAAYmd,IAC5DjS,GAGT,KAAAyT,oBAAsB,IACpB,eACGpf,OAAO,CAAC,EAAG,EAAG,EAAG,EAAG,IACpBR,MAAMoe,IAEX,KAAAS,cAAiBxU,GACK,UAAhBA,EAAOwB,KACFwB,KAAKoS,qBAEM,WAAhBpV,EAAOwB,KACFwB,KAAKuS,sBAEPvS,KAAKqS,qBAAqBrV,GAGnC,KAAAgV,WAAa,EACXC,cACAN,aACAO,gBACAC,aACAN,gBAQA,MAAMW,EACJP,QAA8B/e,IAAfye,EAA2B,wBAAcA,EAAYM,EAAYzT,MAAQ,IAC1F,OACE,uBAAKkB,UAAU,aACZwS,EACD,2BAFF,UAGM,YAAuBC,GAH7B,aAG6C,wBAAcN,EAAWM,EAAW3T,OAC/E,2BAJF,UAKM,YAAuByT,GAL7B,aAK8CO,KAnGhDxS,KAAKmC,MAAQ,CAAEsQ,aAAczS,KAAKuR,qBAAqBlc,IAGzD,mBAAmBgR,GACbA,EAAU5B,aAAezE,KAAK3K,MAAMoP,YAAc4B,EAAUrJ,SAAWgD,KAAK3K,MAAM2H,QACpFgD,KAAKsC,SAAS,CAAEmQ,aAAczS,KAAKuR,qBAAqBvR,KAAK3K,SAmGjE,eACE,MAAM,OAAE2H,GAAWgD,KAAK3K,MAClBgS,EAAarH,KAAKwR,cAAcxU,GACtC,MAAI,CAAC,QAAS,UAAUW,SAASX,EAAOwB,MAEpC,gBAAC,GAAc,CACbkB,UAAU,gDACV2H,WAAYA,EACZvH,WAAY9C,EAAOwB,OAKvB,gBAAC,GAAmB,CAClBkB,UAAU,iCACVoI,aAAa,EACbT,WAAYA,EACZQ,OAAQ,GACRE,MAAO,MAKb,SACE,MAAM,aAAE0K,GAAiBzS,KAAKmC,MAC9B,GAAIsQ,EAAangB,QAAU,EACzB,OAAO,gBAACiS,GAAW,MAErB,MAAM,WAAEE,EAAF,OAAczH,GAAWgD,KAAK3K,MAC9Bqc,EACJjN,EAAWnS,OAAS,EAChBmS,EAAW,GAAG9H,SAASW,KAAKD,GAAWA,EAAQL,OAAO1H,MAAQ0H,EAAO1H,KACrE,KACN,OACE,uBAAKoK,UAAU,2BACb,uBAAKA,UAAU,yCACb,4BACG,YACC,oCACA,YAAuB1C,KAG3B,wBAAM0C,UAAU,sBACb,YACC,mCACA,YACE,SACAgS,GAAeA,EAAY1U,OAAS0U,EAAY1U,OAAO1H,IAAM,IAAUmB,MACvE,UAIN,4BAAOuJ,KAAK0S,iBAEd,gBAACC,GAAA,UAAS,CAACC,eAAe,GACvB,EAAG7K,WACF,gBAAC,GAAO,CACNF,OA3KC,IA4KDlH,MAAO8R,EACP5B,iBAAkB7Q,KAAK3K,MAAMsQ,aAC7BoC,MAAOA,OC7LN,MAAM,WAAmB,gBAAxC,c,oBACE,KAAA8K,YAAejF,IACbA,EAAMkF,iBACNlF,EAAMmF,cAAcC,OACpBhT,KAAK3K,MAAMsQ,aAAa3F,KAAK3K,MAAM6H,UAAU5H,MAG/C,SACE,MAAM,UAAE2d,EAAF,UAAa/V,EAAb,OAAwBgW,GAAWlT,KAAK3K,MAExC6c,EADiC,QAAxBhV,EAAUU,UAErB,aAAaV,EAAUkB,KAAM,IAC7B,aAAmBlB,EAAUkB,MAC3B+U,EAAiBF,EACrB,qBAAGG,KAAK,IAAIhS,QAASpB,KAAK6S,aACvBX,GAGH,4BAAOA,GAGT,OACE,4BACE,gBAAC7C,GAAA,EAAO,CAACC,QAASpS,EAAUkB,OAAS8T,EAAgBhV,EAAUkB,UAAOlL,GACnEigB,IAEDD,GAAU,wBAAMxT,UAAU,sB,wVCjBrB,MAAM,WAAoB,gBAAzC,c,oBACE,KAAA2T,SAAU,EACV,KAAAlR,MAAe,CAAEmR,YAAa,IAqC9B,KAAAC,iBAAmB,KACjB,MAAM,WAAErQ,EAAF,UAAchG,EAAd,cAAyBiG,GAAkBnD,KAAK3K,MACvC6H,EAAU5H,MAAQ6N,EAAc7N,IAEzC0K,KAAKqT,SACPrT,KAAKsC,SAAS,CAAEgR,YAAa,CAACpW,KAIlC,a,kWAAe,EAAEA,UAAWA,EAAU5H,KAAQ,YAAmB4N,KAAesQ,KAC9EF,IACMtT,KAAKqT,SACPrT,KAAKsC,SAAS,CAAEgR,iBAGpB,SAlDJ,oBACEtT,KAAKqT,SAAU,EACfrT,KAAKuT,mBACLvT,KAAKoG,kBAGP,mBAAmBC,GAEfrG,KAAK3K,MAAM6H,YAAcmJ,EAAUnJ,WAClC,YAAiBmJ,EAAUnD,WAAYlD,KAAK3K,MAAM6N,aAEnDlD,KAAKuT,mBAIT,uBACEvT,KAAKqT,SAAU,EACfrT,KAAKsG,kBAGP,kBACE,EAAI,OAAQ,iBAAkB,KAC5B,MAAM,YAAEgN,GAAgBtT,KAAKmC,MAC7B,GAAImR,EAAYhhB,OAAS,EAAG,CAC1B,MAAMyK,EAAMiD,KAAK3K,MAAMoe,YAAc,EAAIH,EAAYhhB,OAAS,EAC9D0N,KAAK3K,MAAMsQ,aAAa2N,EAAYvW,GAAKzH,KAE3C,OAAO,IAIX,kBACE,SAAW,OAAQ,kBAsBrB,SACE,MAAM,YAAEge,GAAgBtT,KAAKmC,MAC7B,GAAImR,EAAYhhB,QAAU,EACxB,OAAO,KAET,MAAMohB,EAAWJ,EAAYA,EAAYhhB,OAAS,GAClD,OACE,uBAAKoN,UAAWM,KAAK3K,MAAMqK,WACxB4T,EAAYvf,IAAImJ,GACf,gBAAC,GAAU,CACT+V,UAAW/V,EAAU5H,MAAQoe,EAASpe,IACtC4H,UAAWA,EACXyI,aAAc3F,KAAK3K,MAAMsQ,aACzBuN,OAAQhW,EAAU5H,MAAQoe,EAASpe,IACnCA,IAAK4H,EAAU5H,SCrFZ,SAASqe,IAAqB,KAAEvF,EAAF,MAAQwF,IACnD,OACE,uBAAKlU,UAAU,0BACb,uBAAKA,UAAU,+BAA+B0O,GAC9C,uBAAK1O,UAAU,gCAAgCkU,I,mDCOrD,MACMC,GAAkB,CAAC,GAAI,GAAI,GAAI,IAKtB,MAAM,WAAkB,gBACrC,UAAU1K,EAAW3T,EAAese,EAAgBC,GAClD,MAAM,WAAEC,EAAF,QAAc9f,EAAU2f,IAAoB7T,KAAK3K,MAEjD0S,EAAQvV,KAAKe,MAAMugB,EAAO3K,IAA8B,EACxD3S,EAAIsd,EAAOnhB,QAAQ,IAAMqhB,EAAa9f,EAAQ,GAAK,GACnDwC,EAAIlE,KAAKe,OAAOwgB,EAAOve,IAAU,GAAKue,EAAOjhB,YAAc,GAEjE,OAAO,wBAAM4M,UAAU,gBAAgBmI,OAdxB,GAc4CE,MAAOA,EAAOvR,EAAGA,EAAGE,EAAGA,IAGpF,YAAYyS,EAAW3T,EAAese,EAAgBC,GACpD,MAAM,WAAEC,EAAF,QAAc9f,EAAU2f,GAAxB,QAAyCI,GAAYjU,KAAK3K,MAE1DO,EAAQqe,GAAWA,EAAQze,GAEjC,IAAKI,EACH,OAAO,KAGT,MAAMY,EAAIsd,EAAO3K,IAAM6K,EAAa9f,EAAQ,GAAK,GAC3CwC,EAAIlE,KAAKe,OAAOwgB,EAAOve,IAAU,GAAKue,EAAOjhB,YAAc,EAAIohB,GAErE,OACE,gBAAC7E,GAAA,EAAO,CAACC,QAAStP,KAAK3K,MAAM8e,WAAanU,KAAK3K,MAAM8e,UAAU3e,IAC7D,wBAAMkK,UAAU,iCAAiC2M,GAAG,MAAMjD,GAAG,QAAQ5S,EAAGA,EAAGE,EAAGA,GAC3Ed,IAMT,WAAWJ,EAAese,EAAgBC,GACxC,MAAM,WAAEC,EAAF,OAAcI,GAAWpU,KAAK3K,MAE9Bgf,EAAOD,GAAUA,EAAO5e,GAE9B,IAAK6e,EACH,OAAO,KAGT,MAAM7d,EAAIsd,EAAOnhB,QAAQ,GACnB+D,EAAIlE,KAAKe,OAAOwgB,EAAOve,IAAU,GAAKue,EAAOjhB,YAAc,EAAIohB,GAC/DI,EAAmBN,EAAa,uBAAyB,iBAE/D,OACE,wBACEtU,UAAW,kBAAoB4U,EAC/BjI,GAAI2H,EAAa,EAAI,OACrB5K,GAAG,QACH5S,EAAGA,EACHE,EAAGA,GACF2d,GAKP,WAAWP,EAAgBC,GACzB,OACE,yBACG/T,KAAK3K,MAAMkf,KAAKxgB,IAAI,CAACoV,EAAG3T,IAGrB,qBAAGF,IAAKE,GACLwK,KAAKwU,UAAUrL,EAAG3T,EAAOse,EAAQC,GACjC/T,KAAKyU,YAAYtL,EAAG3T,EAAOse,EAAQC,GACnC/T,KAAK0U,WAAWlf,EAAOse,EAAQC,MAQ5C,SACE,MAAM,KAAEQ,EAAF,MAAQxM,EAAR,OAAeF,EAAf,QAAuB3T,EAAU2f,IAAoB7T,KAAK3K,MAE1Dsf,EAAiB5M,EAAQ7T,EAAQ,GAAKA,EAAQ,GAC9C4f,EAAiB,eACpB3gB,OAAO,CAAC,EAAG,OAAAV,GAAA,GAAI8hB,KACf5hB,MAAM,CAAC,EAAGgiB,IAEPC,EAAkB/M,EAAS3T,EAAQ,GAAKA,EAAQ,GAChD6f,EAAiB,eACpB5gB,OAAOohB,EAAKxgB,IAAI,CAACC,EAAGwB,IAAUA,IAC9BvB,WAAW,CAAC,EAAG2gB,IAElB,OACE,uBAAKlV,UAAU,YAAYmI,OAAQ7H,KAAK3K,MAAMwS,OAAQE,MAAO/H,KAAK3K,MAAM0S,OACtE,qBAAGkB,UAAS,oBAAejJ,KAAK3K,MAAM2e,WAAa,EAAI9f,EAAQ,GAAnD,aAA0DA,EAAQ,GAAlE,MACT8L,KAAK6U,WAAWf,EAAQC,MClEnC,SAASe,GAAgB1W,GACvB,OAAOA,EAAK9L,OAAS,GAAd,UAAsB8L,EAAK+Q,OAAO,EAAG,GAArC,OAA+C/Q,ECzCzC,mBAJU+D,IAAD,CACtB4S,UAAW,wBAAa5S,KAGX,EDKA,SAA8B9M,GAC3C,IAAI2f,EAAe3f,EAAM2f,aAAajF,MAAM,KAAKhc,IAAIS,IACnD,MAAMygB,EAASzgB,EAAMub,MAAM,KAC3B,MAAO,CAAEmF,SAAUD,EAAO,GAAIna,MAAOqa,SAASF,EAAO,GAAI,OAG3DD,EAAe,IAAOA,EAAc7L,IAAMA,EAAErO,OAE5C,MAAM0O,EAAOwL,EAAajhB,IAAIoV,GAAKA,EAAErO,OAC/BsZ,EAASY,EAAajhB,IAAIoV,GAiBhC,SAAyBiM,GACvB,GAAgB,WAAZA,EACF,OAAO,YAAU,WAEnB,MAAMC,EAAOhgB,EAAM0f,UAAUK,GAC7B,OAAOC,EAAOA,EAAKjX,KAAOgX,EAtBSE,CAAgBnM,EAAE+L,WAAWnhB,IAAI+gB,IAChEX,EAAYa,EAAajhB,IAAIoV,GAAMA,EAAErO,MAAQ,IAAO,wBAAcqO,EAAErO,MAAO,OAAS,IACpFmZ,EAAUe,EAAajhB,IAAIoV,GAAK,wBAAcA,EAAErO,MAAO,cAE7D,OACE,gBAAC,GAAS,CACRkZ,WAAY3e,EAAM2e,WAClBO,KAAM/K,EACN3B,OAA8B,GAAtBmN,EAAa1iB,OACrB4B,QAAS,CAAC,EAAG,GAAI,EAAG,IACpB6T,MAAO1S,EAAM0S,MACbqM,OAAQA,EACRD,UAAWA,EACXF,QAASA,O,gFElBR,MAAM,WAAyB,gBAAtC,c,oBACE,KAAAsB,WAAcC,GACLxV,KAAK3K,MAAMogB,KAAKF,WAAWC,EAAM,MAG1C,KAAAE,eAAkBF,GACTxV,KAAK3K,MAAMogB,KAAKE,WAAWH,EAAM,MAG1C,SACE,MAAM,UAAE9V,EAAF,UAAaxC,EAAb,OAAwB0Y,GAAW5V,KAAK3K,MACxCwgB,EAAY,GAAW,kCAAmCnW,GAChE,GAA4B,QAAxBxC,EAAUU,UACZ,OAAO,uBAAK8B,UAAWmW,GAAY,YAAU,2BAG/C,MAAMC,EAAkB,aACtBF,EACgB,oBAAhBA,EAAOG,KAA6B/V,KAAK0V,eAAiB1V,KAAKuV,YAEjE,IAAKO,EACH,OAAO,KAGT,MAAMlT,EACJ,uBAAKlD,UAAWmW,GACb,YAAwB,6BAA8BC,IAI3D,GAAoB,SAAhBF,EAAOG,MAAmC,mBAAhBH,EAAOG,KACnC,OAAOnT,EAGT,MAAM4S,EAAO,aAAcI,GACrBrU,EAAUiU,GACd,2BACE,gBAACQ,GAAA,EAAW,CAACR,KAAMA,IAClB,KACA,GAAiB,IAAIS,KAAQT,GAAQ,EACpC,gBAACU,GAAA,EAAiB,CAACV,KAAMA,IAEzB,gBAACW,GAAA,EAAa,CAACX,KAAMA,EAAMY,MAAM,KAKvC,OAAO,gBAAC/G,GAAA,EAAO,CAACC,QAAS/N,GAAUqB,IAIxB,6BAAW,IC7CX,SAASyT,GAAchhB,GACpC,MAAM,WAAE6N,EAAF,UAAchG,EAAd,WAAyBoZ,EAAzB,aAAqCxF,EAArC,OAAmD9T,EAAnD,iBAA2DuZ,GAAqBlhB,EAChFmhB,EAAS,uBAAaxZ,EAAO1H,KAC7BmhB,EACJ,CAAC,KAAM,MAAO,MAAO,OAAO9Y,SAAST,EAAUU,YAAcc,EAAgBwE,GACzEzD,EAAcf,EAAgBwE,GACpC,OACE,uBAAKxD,UAAU,4CACb,uBAAKA,UAAU,2BACb,uBAAKA,UAAU,0BACb,gBAACgX,GAAA,EAAa,CAAChX,UAAU,uCAAuCH,MAAOvC,EAAO1H,MAC7E,YAAuB0H,GACxB,wBAAM0C,UAAU,qCACd,8BACE,gBAACE,GAAA,EAAO,CACNF,UAAW8W,GAAU/W,EAAc,gBAAavM,EAChD2M,UAAW7C,EAAO1H,IAClBwK,WAAY9C,EAAOwB,KACnB5I,MAAOkb,OAIX0F,GAAUC,GACV,gBAACpH,GAAA,EAAO,CAACC,QAAS,YAAU,2CAC1B,gBAAC,IAAI,CACH5P,UAAU,kDACVkE,GAAI,aAAqB1G,EAAU5H,IAAK0H,EAAO1H,IAAK4N,IACpD,gBAACyT,GAAA,EAAW,SAKpB,uBAAKjX,UAAU,mCACZD,GAAe6W,GACd,gBAAC,GAAgB,CAAC5W,UAAU,cAAcxC,UAAWA,EAAW0Y,OAAQU,MAI7EC,GAC6B,gCAA5BA,EAAiBvZ,aACU9J,IAA3BqjB,EAAiB3gB,OACf,uBAAK8J,UAAU,6BACb,gBAACkX,GAA6B,CAC5B5C,YAAY,EACZgB,aAAcuB,EAAiB3gB,MAC/BmS,MAAO,Q,uZCjEN,SAAS8O,GAAV,GAAqE,IAAlD,KAAE3N,EAAO,gBAAyC,EAAtB4N,EAAsB,eACjF,OACE,gBAACC,GAAA,EAAI,iBAAKD,GACR,wBACE3N,EAAE,4qBACF1B,MAAO,CAAEyB,W,qXCLF,SAAS8N,GAAV,GAAmF,IAA7D,KAAE9N,EAAO,eAAT,KAAyBxT,EAAO,IAA6B,EAAtBohB,EAAsB,sBAC/F,OACE,gBAACC,GAAA,EAAI,eAACrhB,KAAMA,GAAUohB,GACpB,wBACE3N,EAAE,6EACF1B,MAAO,CAAEyB,WCQF,MAAM,WAA0B,gBAA/C,c,oBACE,KAAA+N,WAAa,KACX,MAAM,OAAEja,GAAWgD,KAAK3K,MAClBY,EAAU,GAsBhB,OArBIqI,EAAQtB,EAAO1H,MACjBW,EAAQI,KAAK,CACX6Y,KAAM,gBAAC2H,GAAQ,MACfjU,MAAO,YAAU,+BACjBhN,MAAO,SAGPyI,EAAQrB,EAAO1H,MACjBW,EAAQI,KAAK,CACX6Y,KAAM,gBAACgI,GAAA,EAAQ,MACftU,MAAO,YAAU,+BACjBhN,MAAO,SAGP2I,EAAWvB,EAAO1H,IAAK0H,EAAOwB,OAChCvI,EAAQI,KAAK,CACX6Y,KAAM,gBAAC8H,GAAW,MAClBpU,MAAO,YAAU,kCACjBhN,MAAO,YAGJK,GAGT,KAAAkhB,aAAgBC,GACPpX,KAAK3K,MAAMgiB,iBAAiBD,EAAOxhB,OAG5C,KAAA0hB,aAAgBF,GAEZ,gCACGA,EAAOlI,KACR,wBAAMxP,UAAU,sBAAsB0X,EAAOxU,QAKnD,SACE,OACE,gBAAC2U,GAAA,EAAM,CACLC,UAAU,EACV9X,UAAWM,KAAK3K,MAAMqK,UACtB+X,WAAW,EACXpW,SAAUrB,KAAKmX,aACfO,eAAgB1X,KAAKsX,aACrBrhB,QAAS+J,KAAKiX,aACdU,YAAY,EACZ/hB,MAAOoK,KAAK3K,MAAM6J,KAClB0Y,cAAe5X,KAAKsX,gB,6rBCnBb,MAAM,WAAuB,gBAA5C,c,oBAEE,KAAAjE,SAAU,EACV,KAAAlR,MAAe,CACbsC,WAAY,GACZoT,uBAAuB,GAyBzB,KAAAC,mBAAqB,KACnB,MAAM,WAAEC,EAAF,KAAcC,EAAd,SAAoBC,GAAajY,KAAKkY,0BAC1ClY,KAAK3K,MAAM6J,KACXc,KAAK3K,MAAM8iB,iBAEPC,EAAepY,KAAK3K,MAAMgK,UAAYW,KAAK3K,MAAM8N,cAAc7N,IAC/D+iB,EAAuB,CAACrY,KAAK3K,MAAM8iB,gBAAgB7iB,KACrD0K,KAAK3K,MAAM8iB,gBAAgB7iB,MAAQ,IAAUmB,OAC/C4hB,EAAqBhiB,KAAK,+BAE5BiiB,QAAQC,IAAI,CACV,aAAiBN,EAAUG,EAAcL,EAAYC,GACrD,YAAY,IACV9a,UAAWkb,EACXL,WAAYM,EAAqBG,QAC9B,YAAmBxY,KAAK3K,MAAM6N,gBAElCsQ,KAAK,EAAEiF,EAAM9b,MACd,GAAIqD,KAAKqT,QAAS,CAChB,MAAMrW,EAASyb,EAAKtb,QAAQG,KAAKob,GAAKA,EAAEpjB,MAAQ0K,KAAK3K,MAAM8iB,gBAAgB7iB,KACrEmP,EAAagU,EAAKhU,WAAW1Q,IAAImJ,GACrCD,EAAiBC,EAAWF,EAAQgD,KAAK3K,MAAM8H,UAG3CE,EAAUV,EAASW,KAAKD,GAAWA,EAAQL,SAAWgD,KAAK3K,MAAM8iB,gBAAgB7iB,KACjFihB,EAAmB5Z,EAASW,KAChCD,GAAWA,EAAQL,SAAWgD,KAAK3K,MAAM8iB,gBAAgB7iB,KAG3D0K,KAAKsC,SAAS,EAAGjD,eAAH,CACZsZ,cAAeF,EAAKE,cACpBlU,aACApH,UACAL,SACA2J,OAAQ8R,EAAK9R,OACb4P,mBACAlX,SACEoF,EAAWnS,OAAS,GAAKmS,EAAWnH,KAAK+N,GAAKA,EAAE/V,MAAQ+J,GAAYA,OAAWnM,SAMzF,KAAA0lB,oBAAsB,KACpB,MAAM,QAAEzb,EAAF,KAAW+B,GAASc,KAAK3K,OACzB,cAAEsjB,EAAF,OAAiB3b,EAAjB,OAAyB2J,GAAW3G,KAAKmC,MAC/C,IAAKwW,IAAkBhS,IAAW3J,EAChC,OAEF,MAAM,WAAE+a,EAAF,KAAcC,EAAd,SAAoBC,GAAajY,KAAKkY,0BAA0BhZ,EAAMlC,EAAQ,CAClF0T,EAAG/J,EAAOkS,UAAY,IAExB7Y,KAAKsC,SAAS,CAAEuV,uBAAuB,IACvC,aAAiBI,EAAUU,EAAcrjB,IAAKyiB,EAAYC,GAAMxE,KAC9DrV,IACM6B,KAAKqT,SAAWrW,EAAO1H,MAAQ0K,KAAK3K,MAAM8iB,gBAAgB7iB,KAC5D0K,KAAKsC,SAASH,IAAK,CACjBsC,WAAY,IACPtC,EAAMsC,cACNtG,EAAEsG,WAAW1Q,IAAImJ,GAAaD,EAAiBC,EAAWF,EAAQG,KAEvE0a,uBAAuB,EACvBlR,OAAQxI,EAAEwI,WAIhB,KACM3G,KAAKqT,SACPrT,KAAKsC,SAAS,CAAEuV,uBAAuB,OAiD/C,KAAAiB,eAAkB5b,IAChB8C,KAAK3K,MAAMmN,YAAY,CACrBnD,SAAUnC,IAAc8C,KAAK3K,MAAM8N,cAAc7N,IAAM4H,OAAYhK,KAIvE,KAAA6lB,WAAc7Z,IACZc,KAAK3K,MAAMmN,YAAY,CAAEtD,UAG3B,KAAA8Z,gBAAmBZ,IACjB,GAAIva,EAAWmC,KAAK3K,MAAM8N,eAAgB,CACxC,MAAMjG,EAAY8C,KAAKmC,MAAMsC,WAAWnH,KACtCJ,GAAaA,EAAUsG,SAAW4U,GAAgBlb,EAAU5H,MAAQ8iB,GAEtE,GAAIlb,QAAkChK,IAArBgK,EAAUsG,OAIzB,YAHwB,YAApBxD,KAAK3K,MAAM6J,MACbc,KAAK3K,MAAM4jB,OAAO5iB,KAAK,aAAc+hB,KAK3CpY,KAAKsC,SAASH,IAAK,CAAO9C,SAAU8C,EAAMwW,cAAerjB,OACzD0K,KAAK8Y,eAAeV,GAChBpY,KAAKkZ,WACPlZ,KAAKkZ,UAAUC,SAInB,KAAAC,kBAAqBhB,IACnBpY,KAAKsC,SAAS,CAAEjD,SAAU+Y,KAG5B,KAAAiB,iBAAmB,KACjB,MAAMjB,EAAe5a,EAAWwC,KAAKmC,MAAMwW,eACvC3Y,KAAKmC,MAAMwW,cAAerjB,IAC1B0K,KAAKmC,MAAM9C,SACT7J,EAAQwK,KAAKmC,MAAMsC,WAAW6U,UAAUpc,GAAaA,EAAU5H,MAAQ8iB,GAC7E,OAAkB,IAAX5iB,EAAeA,OAAQtC,GAGhC,KAAAqmB,aAAgBC,IACd,MAAMpR,EAASqR,OAAOC,YAAc,EACpC,aAAgBF,EAAS,CAAEvT,UAAWmC,EAAS,IAAKlC,aAAckC,EAAQuR,QAAQ,KAtLpF,oBACE3Z,KAAKqT,SAAU,EACfrT,KAAK8X,qBAGP,mBAAmBzR,IACQA,EAAUhH,UAAYgH,EAAUlD,cAAc7N,QAClD0K,KAAK3K,MAAMgK,UAAYW,KAAK3K,MAAM8N,cAAc7N,MAGlE,YAAiB+Q,EAAUnD,WAAYlD,KAAK3K,MAAM6N,aACnDmD,EAAU8R,kBAAoBnY,KAAK3K,MAAM8iB,iBACzC9R,EAAUnH,OAASc,KAAK3K,MAAM6J,MAE9Bc,KAAK8X,qBAIT,uBACE9X,KAAKqT,SAAU,EA6EjB,0BACEnU,EACAlC,EACA/G,EAAkB,IAElB,MAAMgiB,EAAoB,SAAT/Y,EAAkB,SAAW,WACxC6Y,EAAa,CAAC/a,EAAO1H,KACrB0iB,EAAI,MACL,YAAmBhY,KAAK3K,MAAM6N,YADzB,CAER0W,iBAAkB,UAClBC,GAAI,MAGAC,EAAgB,KACpB,MAAMtD,EAAS,uBAAaxZ,EAAO1H,KACnC0iB,EAAK+B,EAAIvD,EAAS,eAAiB,SACnCwB,EAAKgC,iBAAmB,mBACpBxD,IACFwB,EAAKiC,iBAAmB,IAItBzD,EAAS,uBAAaxZ,EAAO1H,KACnC,GAAa,SAAT4J,EACF6Y,EAAW1hB,QAAS2M,GAAchG,EAAO1H,MAAQ,IACjD0iB,EAAKkC,KAAM,EACXlC,EAAK+B,EAAI,sBACJ,GAAa,SAAT7a,EACT6Y,EAAW1hB,QAAS2M,GAAchG,EAAO1H,MAAQ,IACjD0iB,EAAKkC,IAA2B,IAArBld,EAAOmd,UAClBnC,EAAKoC,WAAapd,EAAO1H,IACzBwkB,SACK,GAAa,YAAT5a,EAAoB,CAC7B,MAAMiT,EAAaqE,EAAS,YAAc,QAC1CuB,EAAW1hB,KAAK8b,GAChB6F,EAAKkC,KAAM,EACXlC,EAAKoC,WAAajI,EAClB2H,IAGF,MAAO,CAAE/B,aAAYC,KAAK,MAAMA,EAAP,GAAgB/hB,GAAWgiB,YAiDtD,gBACE,MAAM,KAAE/Y,GAASc,KAAK3K,OAChB,OAAE2H,GAAWgD,KAAKmC,MACxB,IAAKnF,EACH,OAAO,KAET,GAAa,SAATkC,GAA4B,SAATA,EAAiB,CACtC,MAAMuG,EAAczF,KAAKqZ,mBACzB,OACE,gBAAC,GAAS,CACRnW,WAAYlD,KAAK3K,MAAM6N,WACvBuB,WAAYzE,KAAKmC,MAAMsC,WACvB0B,wBAAkC,SAATjH,EACzBgI,UAAWlH,KAAK4Y,oBAChBrT,WAAYvF,KAAKgZ,gBACjBrT,aAAc3F,KAAKoZ,kBACnBhS,YAAapH,KAAKmC,MAAM0V,sBACxB7a,OAAQA,EACRG,QAAS6C,KAAK3K,MAAM8H,QACpBwJ,OAAQ3G,KAAKmC,MAAMwE,OACnBxD,cAAenD,KAAK3K,MAAM8N,cAC1BsC,YAAaA,EACbH,iBAA6BpS,IAAhBuS,EAA4BzF,KAAKmC,MAAM9C,cAAWnM,EAC/DgM,KAAMA,IAIV,OACE,gBAAC,GAAW,CACVgE,WAAYlD,KAAK3K,MAAM6N,WACvBuB,WAAYzE,KAAKmC,MAAMsC,WACvBkB,aAAc3F,KAAKgZ,gBACnBhc,OAAQA,IAMhB,S,QACE,MAAM,WAAEkG,EAAF,cAAcC,EAAd,KAA6BjE,GAASc,KAAK3K,OAC3C,cAAEsjB,EAAF,QAAiBtb,EAAjB,OAA0BL,EAA1B,OAAkC2J,EAAlC,iBAA0C4P,GAAqBvW,KAAKmC,MAE1E,IAAKwW,IAAkB3b,EACrB,OAAO,KAGT,MAAM8T,EACJzT,IAAY,uBAAaA,EAAQL,QAAwB,QAAf,EAACK,EAAQuY,cAAM,eAAEhgB,MAAQyH,EAAQzH,OACvEykB,EAAS7c,EAAWmb,GACpBlT,EAAczF,KAAKqZ,mBAEzB,OACE,uBAAK3Z,UAAU,8BAA8BgH,IAAKwS,GAAclZ,KAAKkZ,UAAYA,GAC/E,gBAACxW,EAAA,EAAc,CAACC,OAAO,kBAEvB,uBAAKjD,UAAU,oDACb,uBAAKA,UAAU,gEACb,uBAAKA,UAAU,0BACb,gBAACiU,GAAoB,CACnBvF,KACE,gBAAC,GAAW,CACVqF,YAAsB,SAATvU,EACbgE,WAAYA,EACZxD,UAAU,uBACVxC,UAAWyb,EACXhT,aAAc3F,KAAKgZ,gBACnB7V,cAAeA,IAGnByQ,MACE,uBAAKlU,UAAU,wBACX2a,GAAUrd,GACV,gCACE,2BAAM,YAAU,+BAChB,gBAAC,GAAiB,CAChB0C,UAAU,mDACV2X,iBAAkBrX,KAAK+Y,WACvB/b,OAAQA,EACRkC,KAAMA,IAGR,gBAACob,GAAA,EAAW,CACVC,mBAAoBpX,EAAcvF,UAClC8M,aACkBxX,IAAhBuS,GAAsC,YAATvG,EACzBuG,EAAc,OACdvS,EAENsnB,cAAe,CAAC,OAAQ,QAAQ7c,SAASuB,GACzC4H,MAAOH,GAAUA,EAAOG,eAW1C,uBAAKpH,UAAU,kDACb,gBAAC2W,GAAa,CACZnT,WAAYA,EACZhG,UAAWyb,EACXrC,WAAYtW,KAAK3K,MAAMihB,WACvBxF,aAAcA,EACd9T,OAAQA,EACRuZ,iBAAkBA,IAEnB8D,EACC,uBAAK3a,UAAU,0BACb,gBAAC+a,GAAA,EAAY,CACXvX,WAAYA,EACZhG,UAAWyb,EAAcrjB,IACzBuK,UAA4B,QAAnB,EAAEG,KAAKmC,MAAMnF,cAAM,eAAE1H,IAC9BolB,cAAe1a,KAAK3K,MAAMqlB,cAC1BC,OAAQ3a,KAAKuZ,gBAIjBvZ,KAAK4a,mB,mvBCtUF,MAAM,WAAoB,gBAAzC,c,oBACE,KAAAzY,MAAe,CACb0Y,cAAe,IAGjB,KAAAC,cAAgB,CAAC5d,EAAuCF,KACtD,MAAMK,EAAUH,EAAUP,SAASW,KAAKD,GAAWA,EAAQL,OAAO1H,MAAQ0H,EAAO1H,KACjF,GAAK+H,EAGL,OAAOyU,OAAO,uBAAa9U,EAAO1H,KAAO+H,EAAQE,KAAOF,EAAQzH,QAoClE,KAAAmlB,wBAA2BC,IACzBhb,KAAKsC,SAAS,EAAGuY,oBACR,CAAEA,cAAc,MAAMA,EAAP,CAAsB,CAACG,IAAaH,EAAcG,SAI5E,KAAAC,kBAAqB/d,GACnB8C,KAAK3K,MAAMyjB,eAAe5b,EAAUsG,QAAUtG,EAAU5H,KAxC1D,WACE4c,EACApe,EACAqJ,GAEA,MAAM+d,EAAQ,CACZhJ,EADY,UAET/U,EAAQ3G,EAAE4H,KAFD,aAEU,wBAActK,EAAO0C,EAAG2G,EAAQ3G,EAAEgI,OAF5C,UAGTrB,EAAQzG,EAAE0H,KAHD,aAGU,wBAActK,EAAO4C,EAAGyG,EAAQzG,EAAE8H,OAH5C,UAITrB,EAAQzH,KAAK0I,KAJJ,aAIa,wBAActK,EAAO4B,KAAMyH,EAAQzH,KAAK8I,SAE3D3H,OAAQskB,GAAiBrnB,GACzB+C,OAAQukB,GAAiBje,EASjC,OARIge,GAAgBC,GAClBA,EAAazlB,QAAQ,CAACqH,EAAQD,KAC5B,MAAM4U,EAAawJ,EAAape,IAC5B4U,GAA6B,IAAfA,IAChBuJ,EAAM7kB,KAAN,UAAc2G,EAAOoB,KAArB,aAA8B,wBAAcuT,EAAY3U,EAAOwB,UAKnE,uBAAKkB,UAAU,aACZwb,EAAMnnB,IAAI,CAACsnB,EAAM7lB,IAChB,gBAAC,WAAc,CAACF,IAAKE,GAClB6lB,EACA7lB,EAAQ0lB,EAAM5oB,OAAS,GAAK,8BAgBvC,eAAea,GACb,MAAMmoB,EAAW,sCAAkCnoB,EAAlC,gBACXooB,EAAwB,YAAUD,GACxC,OAAIA,IAAgBC,EACX,KAEFA,EAGT,kBAAkBpe,GAChB,MAAM,cAAE0d,GAAkB7a,KAAKmC,MAEzBxB,EAAQX,KAAK3K,MAAMoP,WACtB1Q,IAAImJ,IACH,MAAM1G,EAAIwJ,KAAK8a,cAAc5d,EAAWC,EAAQ3G,GAC1CE,EAAIsJ,KAAK8a,cAAc5d,EAAWC,EAAQzG,GAC1ChB,EAAOsK,KAAK8a,cAAc5d,EAAWC,EAAQzH,MAC7CmB,EACJsG,EAAQtG,QAAUsG,EAAQtG,OAAO9C,IAAIiJ,GAAUgD,KAAK8a,cAAc5d,EAAWF,IAC/E,IAAMxG,GAAW,IAANA,IAAcE,GAAW,IAANA,IAAchB,GAAiB,IAATA,EAClD,OAGF,MAAM8lB,EAAc3kB,GAAUrE,KAAKC,OAAOoE,EAAOgK,OAAO,OAGxD,YAAoB3N,IAAhBsoB,GAA6BX,EAAcW,QAA/C,EAIO,CACLhlB,IACAE,IACAhB,OACAoJ,WAAuB5L,IAAhBsoB,EAA4B,KAAcA,EAAc,QAAKtoB,EACpEsW,KAAMtM,EACNqE,QAASvB,KAAKgS,WAAW9U,EAAUkB,KAAM,CAAE5H,IAAGE,IAAGhB,OAAMmB,UAAUsG,MAGpE0D,OAAO,MAKV,IAAI4a,EAQJ,OAPqD,IAAjD9a,EAAM+a,OAAO,CAACC,EAAK9e,IAAS8e,EAAM9e,EAAKrG,EAAG,KAI5CilB,EAAU,CAAC,EAAG,MAId,gBAAC,KAAmB,CAClBG,YAbiBvH,GAAsC,wBAAcA,EAAMlX,EAAQ3G,EAAEgI,MAcrFqd,YAbiBxH,GAAsC,wBAAcA,EAAMlX,EAAQzG,EAAE8H,MAcrFqJ,OA9HO,IA+HPlH,MAAOA,EACPmb,cAAe9b,KAAKib,kBACpB/mB,QAAS,CAAC,GAAI,GAAI,GAAI,IACtByD,ShDmCyBxE,EgDnCC6M,KAAK3K,MAAMlC,OhDoCpCmD,EAAQnD,GAAQwE,SgDnCjB8jB,QAASA,IhDkCV,IAA0BtoB,EgD7B/B,kBAAkBA,EAAgBgf,EAAsB4J,GACtD,MAAM,cAAElB,GAAkB7a,KAAKmC,OACzB,OAAEwE,GAAW3G,KAAK3K,MAElByO,EAAQ/E,EAAkB5L,GAC5B,YAAU,8BAA+BA,EAAQ,SACjD,YACE,uCACA,YAAyBA,IAE/B,OACE,uBAAKuM,UAAU,wCACb,wBAAMA,UAAU,uCACd,uBAAKA,UAAU,uBACZoE,EACD,gBAACkY,GAAA,EAAW,CAACtc,UAAU,cAAc4P,QAAStP,KAAKic,eAAe9oB,OAGnEwT,aAAM,EAANA,EAAQG,SAASH,aAAM,EAANA,EAAQG,OhDlKD,KgDmKvB,uBAAKpH,UAAU,mB,IACX,YAAU,kDACR,MAGV,wBAAMA,UAAU,wCACd,wBAAMA,UAAU,QACbqc,GACC,wBAAMrc,UAAU,gBACb,YACC,oCACAqc,EAAazpB,OAAS,EAClB,YACE,4CACGypB,EAAahoB,IAAIiJ,GAAU,YAAuBA,KAEvD,YAAuB+e,EAAa,MAI7C,YACC,mCACA,YAAuB5J,KAG1B4J,GACC,gBAACG,GAAA,EAAkB,CACjBxc,UAAU,aACVyc,QAAStB,EACTuB,cAAepc,KAAK+a,4BAQhC,SACE,GAAI/a,KAAK3K,MAAMoP,WAAWnS,QAAU,EAClC,OAAO,gBAACiS,GAAW,MAErB,MAAM,OAAEpR,GAAW6M,KAAK3K,MAClB8H,EAAUyB,EAAiBzL,EAAQ6M,KAAK3K,MAAM8H,SAEpD,OACE,uBAAKuC,UAAU,iCACZM,KAAKqc,kBAAkBlpB,EAAQgK,EAAQzH,KAAMyH,EAAQtG,QACtD,uBAAK6I,UAAU,yCACZM,KAAKsc,kBAAkBnf,IAE1B,uBAAKuC,UAAU,wCACZ,YAAuBvC,EAAQ3G,IAElC,uBAAKkJ,UAAU,wCACZ,YAAuBvC,EAAQzG,M,wVC/L3B,MAAM,WAAwB,gBAA7C,c,oBACE,KAAA2c,SAAU,EACV,KAAAlR,MAAe,CAAEsC,WAAY,IAsB7B,KAAA8X,gBAAkB,KAChB,MAAM,WAAErZ,EAAF,UAAchG,EAAd,OAAyB/J,EAAzB,QAAiCgK,GAAY6C,KAAK3K,MACxD,GAAImI,EAAWN,GAEb,YADA8C,KAAKsC,SAAS,CAAEmC,WAAY,GAAIkC,YAAQzT,IAG1C,MAAM,EAAEsD,EAAF,EAAKE,EAAL,KAAQhB,EAAR,OAAcmB,GAAW+H,EAAiBzL,EAAQgK,GAClDqf,EAAa,CAAChmB,EAAElB,IAAKoB,EAAEpB,IAAKI,EAAKJ,KACnCuB,GACF2lB,EAAWnmB,QAAQQ,EAAO9C,IAAIiJ,GAAUA,EAAO1H,MAEjD,MAAMW,E,kWAAO,IACR,YAAmBiN,GADX,CAEX6W,EAAG,SACHK,WAAY1kB,EAAKJ,IACjB4kB,KAAK,EACLL,GjDlE6B,MiDqE/B7Z,KAAK3K,MAAMonB,cAAc,CAAEnmB,SAAS,IACpC,aAAmB4G,EAAU5H,IAAKknB,EAAYvmB,GAASud,KACrDrV,IACMhL,IAAW6M,KAAK3K,MAAMlC,SACpB6M,KAAKqT,SACPrT,KAAKsC,SAAS,CACZmC,WAAYtG,EAAEsG,WAAW1Q,IAAIsX,GAAKpO,EAAiBoO,OAAGnY,EAAWiK,IACjEwJ,OAAQxI,EAAEwI,SAGd3G,KAAK3K,MAAMonB,cAAc,CAAEnmB,SAAS,MAGxC,IAAM0J,KAAK3K,MAAMonB,cAAc,CAAEnmB,SAAS,MApD9C,oBACE0J,KAAKqT,SAAU,EACfrT,KAAKuc,kBAGP,mBAAmBlW,GAEfA,EAAUnJ,YAAc8C,KAAK3K,MAAM6H,WAClC,YAAiBmJ,EAAUnD,WAAYlD,KAAK3K,MAAM6N,aACnDmD,EAAUlJ,UAAY6C,KAAK3K,MAAM8H,SACjCkJ,EAAUlT,SAAW6M,KAAK3K,MAAMlC,QAEhC6M,KAAKuc,kBAIT,uBACEvc,KAAKqT,SAAU,EAuCjB,gBACE,MAAM,WAAEnQ,EAAF,UAAchG,EAAd,OAAyB/J,EAAzB,QAAiCgK,GAAY6C,KAAK3K,OAClD,OAAEsR,GAAW3G,KAAKmC,MAExB,OAAI3E,EAAWN,GAEX,uBAAKwC,UAAU,0BACb,gBAAC+a,GAAA,EAAY,CACXvX,WAAYA,EACZhG,UAAWA,EAAU5H,IACrBolB,cAAe1a,KAAK3K,MAAMqlB,iBAOhC,gBAAC,GAAW,CACVxd,UAAWA,EACXuH,WAAYzE,KAAKmC,MAAMsC,WACvBtR,OAAQA,EACRgK,QAASA,EACTwJ,OAAQA,EACRmS,eAAgB9Y,KAAK3K,MAAMyjB,iBAKjC,SACE,MAAM,WAAE5V,EAAF,UAAcxD,EAAd,UAAyBxC,EAAzB,WAAoCoZ,EAApC,QAAgDnP,EAAhD,cAAyDhE,GAAkBnD,KAAK3K,MAChFoK,EAAcf,EAAgBwE,GACpC,OACE,uBAAKxD,UAAWA,GACd,uBAAKA,UAAU,oDACb,gBAACgD,EAAA,EAAc,CAACC,OAAO,kBAEvB,uBAAKjD,UAAU,gEACb,uBAAKA,UAAU,0BACb,gBAACiU,GAAoB,CACnBvF,KACE,gBAAC,GAAW,CACVqF,aAAa,EACbvQ,WAAYA,EACZxD,UAAU,gBACVxC,UAAWA,EACXyI,aAAc3F,KAAK3K,MAAMyjB,eACzB3V,cAAeA,IAGnByQ,MACE,gBAAC0G,GAAA,EAAW,CACVC,mBAAoBpX,EAAcvF,UAClC8M,QAAS1K,KAAKmC,MAAMsC,WAAWnS,cAO3C,uBAAKoN,UAAU,kDACb,uBAAKA,UAAU,8BACZ4W,GAAc7W,GACb,gBAAC,GAAgB,CAACC,UAAU,aAAaxC,UAAWA,EAAW0Y,OAAQU,KAG3E,gBAACoG,GAAA,EAAe,CAACvV,QAASA,KACxBA,GAAWnH,KAAK2c,mB,6rBCrIb,MAAM,WAAiC,gBAAtD,c,oBACE,KAAAtJ,SAAU,EAEV,KAAAlR,MAAe,CACbgF,QAAS,CAAE7Q,SAAS,EAAO4G,WAAW,IAwBxC,KAAA0f,eAAiB,KACf,MAAM,WAAE1Z,EAAF,cAAcC,EAAd,SAA6B9D,GAAaW,KAAK3K,MACrD,IAAKgK,GAAY8D,EAAc7N,MAAQ+J,EAGrC,OAFAW,KAAKsC,SAAS,CAAEpF,UAAWiG,SAC3BnD,KAAKyc,cAAc,CAAEvf,WAAW,IAGlC8C,KAAKyc,cAAc,CAAEvf,WAAW,IAChC,aAAiB,IAAEA,UAAWmC,GAAa,YAAmB6D,KAAesQ,KAC3E,EAAGtW,gBACG8C,KAAKqT,UACPrT,KAAKsC,SAAS,CAAEpF,cAChB8C,KAAKyc,cAAc,CAAEvf,WAAW,MAGpC,IAAM8C,KAAKyc,cAAc,CAAEvf,WAAW,MAI1C,KAAAuf,cAAiBtV,IACXnH,KAAKqT,SACPrT,KAAKsC,SAASH,IAAK,CAAOgF,QAAQ,MAAMhF,EAAMgF,QAAb,GAAyBA,OAI9D,KAAA2R,eAAkB5b,IACZ8C,KAAKmC,MAAMjF,WAAaW,EAAWmC,KAAKmC,MAAMjF,WAChD8C,KAAK3K,MAAM4jB,OAAO5iB,KAAK,aAAc6G,IAErC8C,KAAK3K,MAAMmN,YAAY,CACrBnD,SAAUnC,IAAc8C,KAAK3K,MAAM8N,cAAc7N,IAAM4H,OAAYhK,KAnDzE,oBACE8M,KAAKqT,SAAU,EACfrT,KAAK4c,iBAGP,mBAAmBvW,IACQA,EAAUhH,UAAYgH,EAAUlD,cAAc7N,QAClD0K,KAAK3K,MAAMgK,UAAYW,KAAK3K,MAAM8N,cAAc7N,MAGlE,YAAiB+Q,EAAUnD,WAAYlD,KAAK3K,MAAM6N,aACnDmD,EAAUlT,SAAW6M,KAAK3K,MAAMlC,QAEhC6M,KAAK4c,iBAIT,uBACE5c,KAAKqT,SAAU,EAsCjB,SACE,OAAKrT,KAAKmC,MAAMjF,UAKd,gBAAC,GAAe,CACdgG,WAAYlD,KAAK3K,MAAM6N,WACvBxD,UAAWM,KAAK3K,MAAMqK,UACtBxC,UAAW8C,KAAKmC,MAAMjF,UACtB/J,OAAQ6M,KAAK3K,MAAMlC,OACnBmjB,WAAYtW,KAAK3K,MAAMihB,WACvBnP,QAASnH,KAAKmC,MAAMgF,QAAQjK,WAAa8C,KAAKmC,MAAMgF,QAAQ7Q,QAC5D6G,QAAS6C,KAAK3K,MAAM8H,QACpBud,cAAe1a,KAAK3K,MAAMqlB,cAC1BvX,cAAenD,KAAK3K,MAAM8N,cAC1BsZ,cAAezc,KAAKyc,cACpB3D,eAAgB9Y,KAAK8Y,iBAfhB,MC9FE,SAAS+D,KACtB,OACE,uBAAKnd,UAAU,qBACb,uBAAKA,UAAU,QAAQ,YAAU,8B,6rBCsDhC,MAAM,WAAY,gBAIvB,YAAYrK,GACVuP,MAAMvP,GAJR,KAAAge,SAAU,EAsFV,KAAAyJ,eAAiB,CAACvd,EAAcwd,EAA0B/f,IACpD+f,GAAmBxd,EAAMvC,OACpB+B,EAAkBQ,EAAMvC,QAC3B,YAAU,sDACV,YACE,uCACA,YAAyBuC,EAAMvC,SAGhCA,EAASA,EAAOoB,KAAO,YAAU,mBAG1C,KAAA4e,kBAAoB,CAACzd,EAAcwd,KACjC,GAAIA,EACF,OAEF,MAAM/f,EAASgD,KAAKmC,MAAMhF,QAAQoC,EAAMvC,QACxC,IAAKA,EAAQ,CACX,MAAMigB,EAAiBhf,EAAe+B,KAAKmC,MAAMxF,UAC3CugB,EACJD,EAAe,IAAMxgB,EAAawgB,EAAe,GAAG7e,KAAM6e,EAAe,GAAGtgB,UAAU,GACxF,GAAIugB,GAAwC,iBAAjBA,EACzB,OAAOA,EAAalgB,OAGxB,OAAOA,GAGT,KAAAmgB,kBAAqBnpB,IACnBgM,KAAKod,uBAGP,KAAA5a,YAAe6a,IACb,MAAM9d,EAAK,MAAeJ,GAAWa,KAAK3K,MAAMioB,SAAS/d,OAA9C,GAAyD8d,GAE9DrgB,EAASgD,KAAKgd,kBAAkBzd,GAAO,GACzCvC,IACiB,YAAfuC,EAAML,MAAuBX,EAAWvB,EAAO1H,IAAK0H,EAAOwB,MAErC,SAAfe,EAAML,MAAoBZ,EAAQtB,EAAO1H,OAClDiK,EAAML,KAAO,QAFbK,EAAML,KAAO,QAMjBc,KAAK3K,MAAM4jB,OAAO5iB,KAAK,CACrBknB,SAAUvd,KAAK3K,MAAMioB,SAASC,SAC9Bhe,MAAM,MACDD,GAAeC,GADf,GAEA,YAAmBS,KAAK3K,MAAM6N,YAF9B,CAGHvD,GAAIK,KAAK3K,MAAM6H,UAAU5H,SAK/B,KAAA8nB,oBAAsB,KACpB,MAAM,WAAEla,EAAF,UAAchG,GAAc8C,KAAK3K,MACnC6N,GAAchG,GAAa,YAAcgG,IAC3ClD,KAAK3K,MAAMmoB,kBAAkBta,EAAYhG,EAAU5H,MAIvD,KAAAqnB,cAAgB,CAACI,EAA0Bxd,EAAcvC,KACvD,MAAM,WAAEkG,EAAF,UAAchG,GAAc8C,KAAK3K,OACjC,WAAEihB,GAAetW,KAAKmC,MAC5B,OAAI4a,EAEA,gBAAC,GAAwB,CACvB7Z,WAAYA,EACZxD,UAAU,mBACVvM,OAAQoM,EAAMvC,OACdsZ,WAAYA,EACZnZ,QAAS6C,KAAKmC,MAAMhF,QACpBud,cAAe1a,KAAKmd,kBACpBha,cAAejG,EACf+b,OAAQjZ,KAAK3K,MAAM4jB,OACnB5Z,SAAUE,EAAMF,SAChBmD,YAAaxC,KAAKwC,cAKnBxF,EAKH,YAAckG,KACE,aAAflG,EAAO1H,KAAqC,6BAAf0H,EAAO1H,KAInC,uBAAKoK,UAAU,oBACb,uBAAKA,UAAU,0BACb,uBAAKA,UAAU,QAAQ,YAAU,mDAOvC,gBAAC,GAAc,CACbwD,WAAYA,EACZoT,WAAYA,EACZnZ,QAAS6C,KAAKmC,MAAMhF,QACpBud,cAAe1a,KAAKmd,kBACpBhF,gBAAiBnb,EACjBmG,cAAejG,EACf+b,OAAQjZ,KAAK3K,MAAM4jB,OACnB5Z,SAAUE,EAAMF,SAChBmD,YAAaxC,KAAKwC,YAClBtD,KAAMK,EAAML,OA5BP,gBAAC2d,GAAa,OAnKvB7c,KAAKmC,MAAQ,CACXgF,SAAS,EACTxK,SAAU,GACVQ,QAAS,IAEX6C,KAAKod,oBAAsB,IAASpd,KAAKod,oBAAqB,KAGhE,oBACEpd,KAAKqT,SAAU,EAEf,WAAa,kBACb,cAAgBG,KACdrW,IACE,MAAMsgB,EAAQ,IAAMtgB,EAAS,OAC7B6C,KAAKsC,SAAS,CAAEnF,QAASsgB,IACzBzd,KAAK0d,cAAcD,IAErB,QAIJ,mBAAmBpX,EAAkBsX,GACnC,MAAMC,EAAYze,GAAWkH,EAAUiX,SAAS/d,OAC1CA,EAAQJ,GAAWa,KAAK3K,MAAMioB,SAAS/d,OAG1C,YAAiB8G,EAAUnD,WAAYlD,KAAK3K,MAAM6N,aACnDmD,EAAUnJ,UAAU5H,MAAQ0K,KAAK3K,MAAM6H,UAAU5H,KACjDsoB,EAAUve,WAAaE,EAAMF,UAE7BW,KAAK0d,cAAc1d,KAAKmC,MAAMhF,SAGE,IAA9BwgB,EAAUhhB,SAASrK,QAAgB0N,KAAKmC,MAAMxF,SAASrK,OAAS,IAClE,cACA,eAIJ,uBACE0N,KAAKqT,SAAU,EACf,cACA,cACA,cAAgB,kBAGlB,cAAclW,GACZ,MAAM,WAAE+F,GAAelD,KAAK3K,MAEtB+iB,EADQjZ,GAAWa,KAAK3K,MAAMioB,SAAS/d,OAClBF,UAAYW,KAAK3K,MAAM6H,UAAU5H,IAEtDuoB,EpDgDH,SAAmC1gB,EAA2BwB,GACnE,MAAMoZ,EAAa,4BAAkB+F,OAAOhqB,OAAOqJ,IAAUpJ,IAAIiJ,GAAUA,EAAO1H,KAElF,OAAI,YAAcqJ,GACToZ,EAAWlX,OAAOvL,GAAO,uBAAaA,IAEtCyiB,EoDtDcgG,CAA0B5gB,EAAS+F,GAExD,YAAsBkV,EAAcyF,EAAc,YAAmB3a,IAAasQ,KAChF,EAAGtW,YAAW0Y,aACZ,GAAI5V,KAAKqT,QAAS,CAChB,MAAM1W,EpDVT,UAA+B,SACpCA,EAAW,GADyB,UAEpCiB,IAEA,MAAMogB,EAA0B,GAOhC,OANI,IAAmBlgB,YAAcF,GAAa,IAAmBG,eAAiBH,GACpFogB,EAAc3nB,KAAK,gBAEjBuH,IAAc,IAAmBI,aACnCggB,EAAc3nB,KAAK,uBAAwB,wBAEtCsG,EAASkE,OAAOxD,IAAY2gB,EAAcrgB,SAASN,EAAQL,SoDDzCihB,CAAsB/gB,GAAWnJ,IAAIsJ,GACpD,YAAeA,EAASF,IAGpBmZ,EACJpZ,EAAUU,YAAc,IAAmBsgB,QAAUtI,OAAS1iB,EAEhE8M,KAAKsC,SAAS,CACZ6E,SAAS,EACTmP,aACA3Z,SAAUA,EAASkE,OACjBxD,QAA6BnK,IAAlBmK,EAAQzH,YAAwC1C,IAAjBmK,EAAQE,UAK1D,KACMyC,KAAKqT,SACPrT,KAAKsC,SAAS,CAAE6E,SAAS,MAyHjC,SACE,GAAInH,KAAKmC,MAAMgF,QACb,OAAO,qBAAGzH,UAAU,mBAGtB,MAAM,WAAEwD,GAAelD,KAAK3K,OACtB,SAAEsH,GAAaqD,KAAKmC,MACpB5C,EAAQJ,GAAWa,KAAK3K,MAAMioB,SAAS/d,OACvCgB,EAAmB7B,EAAgBwE,GACnC6Z,EAAkBte,EAAec,EAAMvC,QACvCA,EAASgD,KAAKgd,kBAAkBzd,EAAOwd,GAE7C,OACE,uBAAKpd,GAAG,sBACN,gBAACwe,EAAA,EAAW,CAACC,YAAY,uBACzB,gBAAC,IAAM,CAACC,OAAO,EAAOva,MAAO9D,KAAK8c,eAAevd,EAAOwd,EAAiB/f,KAExEL,EAASrK,OAAS,EACjB,uBAAKoN,UAAU,eACb,gBAAC4e,EAAA,EAAoB,CAAC5e,UAAU,0BAC7B,EAAG2O,SACF,uBAAK3O,UAAU,mBAAmB+H,MAAO,CAAE4G,QACzC,uBAAK3O,UAAU,0BACb,uBAAKA,UAAU,uBACb,gBAAC,GAAO,CACN/C,SAAUA,EACVmG,eAAgB9F,EAASA,EAAO1H,IAAMiK,EAAMvC,OAC5CuD,iBAAkBA,EAClBiC,YAAaxC,KAAKwC,kBAO7BxC,KAAK2c,cAAcI,EAAiBxd,EAAOvC,IAG9C,gBAAC6f,GAAa,QAOxB,MAAM0B,GAAqB,CAAEf,kBAAmB,KAEjC,sBAAW,YAAQ,KAAMe,GAAd,CAAkC,M,ifCrS7C,SAASvC,EAAV,GAAoD,IAA9B,KAAEtmB,EAAO,IAAqB,EAAdL,EAAc,cAChE,OACE,uBAAKqK,UAAW,EAAW,eAAgBrK,EAAMqK,YAC/C,gBAAC,IAAO,CACN8e,gBAAiB,IACjBC,OAAQppB,EAAMopB,OACdnP,QAASja,EAAMia,QACfF,UAAW/Z,EAAM+Z,WACjB,wBAAM1P,UAAU,8BACbrK,EAAMkU,UAAY,gBAAC,IAAQ,CAACL,KAAM,SAAOJ,OAAQpT,KAAMA,S,+fCflE,MAAMgpB,EAAiB,gCACjBC,EAAc,YAAkB,IAAMD,GACtCE,EAAiB,YAAkB,IACvCF,EAAelL,KAAKqL,IAAG,CAAO7oB,QAAS6oB,EAAIC,cAE1B,YAAkB,IAAMJ,EAAelL,KAAKqL,IAAG,CAAO7oB,QAAS6oB,EAAIE,UAEtF,SAASC,IACP,OAAO,gBAAC,IAAW,CAACtf,UAAU,sCAAsCoX,UAAW,CAAEphB,KAAM,MAO1E,SAAS6hB,EAAV,GAAwE,IAAvD,SAAE0H,GAAqD,EAAxC5pB,EAAwC,kBAEpF,MAAMoiB,IAAYpiB,EAAMoiB,WAAYtS,QAAQ9P,EAAMO,OAClD,OACE,gBAAC+oB,EAAW,iBAAKtpB,EAAK,CAAEoiB,UAAWA,EAAWyH,cAAeF,EAAatY,IAAKuY,KAI5E,SAASH,EAAUzpB,GACxB,OAAO,gBAACupB,EAAc,iBAAKvpB,EAAK,CAAE6pB,cAAeF,O,sdC9BnD,MAAMG,EAAmE,CACvEC,IAiCF,YAA0D,IAAjC,KAAElW,GAA+B,EAAtB4N,EAAsB,cACxD,OACE,gBAAC,IAAI,iBAAKA,GACR,wBACE3N,EAAE,+zBACF1B,MAAO,CAAEyB,KAAMA,GAAQ,SAAOmW,UArCpCC,IAwHF,YAAyD,IAAjC,KAAEpW,GAA+B,EAAtB4N,EAAsB,cACvD,OACE,gBAAC,IAAI,iBAAKA,GACR,wBACE3N,EAAE,iIACF1B,MAAO,CAAEyB,KAAMA,GAAQ,SAAOmW,UA5HpCE,IA0CF,YAAwD,IAAjC,KAAErW,GAA+B,EAAtB4N,EAAsB,cACtD,OACE,gBAAC,IAAI,iBAAKA,GACR,wBACE3N,EAAE,ypDACF1B,MAAO,CAAEyB,KAAMA,GAAQ,SAAOmW,UA9CpCG,IAAKC,EACLC,IA8DF,YAAmD,IAAjC,KAAExW,GAA+B,EAAtB4N,EAAsB,cACjD,OACE,gBAAC,IAAI,iBAAKA,GACR,wBACE3N,EAAE,0OACF1B,MAAO,CAAEyB,KAAMA,GAAQ,SAAOmW,UAlEpCM,IAyGF,YAA2D,IAAjC,KAAEzW,GAA+B,EAAtB4N,EAAsB,cACzD,OACE,gBAAC,IAAI,iBAAKA,GACR,wBACE3N,EAAE,kMACF1B,MAAO,CAAEyB,KAAMA,GAAQ,SAAOmW,UA7GpCO,IAAKC,EACLC,IAAKC,EACLC,GAgFF,YAAwD,IAAjC,KAAE9W,GAA+B,EAAtB4N,EAAsB,cACtD,OACE,gBAAC,IAAI,iBAAKA,GACR,wBACE3N,EAAE,0RACF1B,MAAO,CAAEyB,KAAMA,GAAQ,SAAOmW,UAlFpCY,IAAKF,EACLG,QAASL,EACThB,IAgEF,YAAsD,IAAjC,KAAE3V,GAA+B,EAAtB4N,EAAsB,cACpD,OACE,gBAAC,IAAI,iBAAKA,GACR,wBACE3N,EAAE,mIACF1B,MAAO,CAAEyB,KAAMA,GAAQ,SAAOmW,UApEpCc,IAAKV,GASQ,SAAS1b,EAAc1O,GACpC,IAAKA,EAAMuI,UACT,OAAO,KAGT,MAAMA,EAAYvI,EAAMuI,UAAUwiB,cAC5BC,EAAYlB,EAAevhB,GACjC,OAAOyiB,EAAY,gBAACA,EAAS,CAAC3gB,UAAWrK,EAAMqK,UAAWwJ,KAAM7T,EAAM6T,OAAW,KAyBnF,SAASuW,EAAT,GAAwD,IAAjC,KAAEvW,GAA+B,EAAtB4N,EAAsB,cACtD,OACE,gBAAC,IAAI,iBAAKA,GACR,wBACE3N,EAAE,wmBACF1B,MAAO,CAAEyB,KAAMA,GAAQ,SAAOiI,WAuCtC,SAAS0O,EAAT,GAAsD,IAAjC,KAAE3W,GAA+B,EAAtB4N,EAAsB,cACpD,OACE,gBAAC,IAAI,iBAAKA,GACR,wBACE3N,EAAE,0NACF1B,MAAO,CAAEyB,KAAMA,GAAQ,SAAOmW,SA4BtC,SAASU,EAAT,GAAuD,IAAjC,KAAE7W,GAA+B,EAAtB4N,EAAsB,cACrD,OACE,gBAAC,IAAI,iBAAKA,GACR,wBACE3N,EAAE,4OACF1B,MAAO,CAAEyB,KAAMA,GAAQ,SAAOmW,W,iCCjKtC,wDA0Be,SAASlB,GAAY,YAAEC,IACpC,OACE,gBAAC,IAAmBkC,SAAQ,KACzB,EAAGC,iBAAgBC,uBAClB,gBAACC,EAAgB,CACfF,eAAgBA,EAChBC,kBAAmBA,EACnBpC,YAAaA,KAavB,MAAMqC,UAAyB,gBAC7B,oBACEzgB,KAAK3K,MAAMkrB,eAAevgB,KAAK3K,MAAM+oB,aAGvC,mBAAmB/X,GACbA,EAAU+X,cAAgBpe,KAAK3K,MAAM+oB,cACvCpe,KAAK3K,MAAMmrB,kBAAkBxgB,KAAK3K,MAAM+oB,aACxCpe,KAAK3K,MAAMkrB,eAAela,EAAU+X,cAIxC,uBACEpe,KAAK3K,MAAMmrB,kBAAkBxgB,KAAK3K,MAAM+oB,aAG1C,SACE,OAAO,Q,iCC/DX,kGA4BO,MAAMsC,EAAkB,CAC7BC,KAAM,UACNC,MAAO,OACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,WAGK,SAAS7K,GAAkB,SAAE3M,EAAF,KAAYiM,IACpD,OACE,gBAAC,gBAAa,eAAC5f,MAAO,YAAU4f,IAAWkL,GACxCnX,K,oBCvCP,IAAI1T,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACnB,EAAOpC,EAAIuD,EAAS,MAG9C,IAAIG,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSL,EAAIC,EAASG,GAEXH,EAAQK,OAASL,EAAQK,OAAS,IAIjDxB,EAAOC,QAAUsB,G,qBClBjBtB,EADkC,EAAQ,IAChCwB,EAA4B,IAE9BC,KAAK,CAAC1B,EAAOpC,EAAI,iJAAkJ,KAE3KoC,EAAOC,QAAUA,G,iCCNjB,0FAqCe,SAASmS,EAAW1R,GACjC,MAAM,UAAEqK,EAAF,MAAasH,EAAb,QAAoBG,EAApB,WAA6B6Z,EAA7B,MAAyCla,EAAzC,MAAgDma,GAAQ,GAAS5rB,EACjE6rB,EAAUpa,GAASA,EAAQE,EAEjC,IAAIma,EAmBJ,OAlBIH,GAAc3rB,EAAM+rB,OACtBD,EACE,gBAAC,IAAM,CAACzhB,UAAU,cAAa,YAAW,SAASyB,SAAUgG,EAAS/F,QAAS/L,EAAM+rB,QAClF,YAAU,WAGNF,GAAW7rB,EAAM4R,WAC1Bka,EACE,gBAAC,IAAM,CACLzhB,UAAU,cACVyB,SAAUgG,EAAO,YACP,YACV/F,QAAS/L,EAAM4R,UACd,YAAU,eAMf,0BACEvH,UAAW,EAAW,8BAA+B,CAAE,eAAgBuhB,GAASvhB,IAC/E,YACC,eACA,wBAAcsH,EAAO,MAAO,MAC5B,wBAAcF,EAAO,MAAO,OAE7Bqa,EACAha,GAAW,gBAAC,IAAe,CAACzH,UAAU,iD,oBCrE7C,IAAI7J,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACnB,EAAOpC,EAAIuD,EAAS,MAG9C,IAAIG,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSL,EAAIC,EAASG,GAEXH,EAAQK,OAASL,EAAQK,OAAS,IAIjDxB,EAAOC,QAAUsB,G,qBClBjBtB,EADkC,EAAQ,IAChCwB,EAA4B,IAE9BC,KAAK,CAAC1B,EAAOpC,EAAI,gvPAAivP,KAE1wPoC,EAAOC,QAAUA,G,iCCNjB,yFAgCe,SAASohB,EAAY3gB,GAClC,MAAQkU,SAAU8X,EAAoB/T,IAAcA,GAA9C,KAAiDkI,EAAjD,cAAuD8L,GAAkBjsB,EAC/E,IAAIkU,EAAW8X,EAEf,IAAK7L,EAMH,OAAO,gCAAG6L,EAAiB,YAAU,WAGnC7L,GAAQ8L,GAAiB,4BAAkBrL,KAAKsL,MAAO/L,GAAQ,IACjEjM,EAAW,IAAM8X,EAAiB,YAAU,0BAG9C,MAAMG,EAAa,YAAUhM,GAE7B,OACE,gBAAC,IAAiB,CAACA,KAAMgM,GACtBC,GACC,wBAAM3d,MAAO2d,GACX,gBAAC,oBAAiB,CAAC7rB,MAAO4rB,GAAajY,O,iCCvDjD,+DA6Be,SAAS7G,EAAerN,GACrC,OACE,gBAAC,IAAYirB,SAAQ,KAClB,EAAGoB,kBAAiBC,wBACnB,gBAACC,EAAmB,eAClBF,gBAAiBA,EACjBC,mBAAoBA,GAChBtsB,KAYP,MAAMusB,UAA4B,gBAAzC,c,oBASE,KAAAC,QAAU,KACR,MAAQlf,OAAQrN,EAAV,MAAesN,EAAQ,YAAU,mBAAjC,OAAqDC,GAAW7C,KAAK3K,MAC3E,MAAO,CAAEC,MAAKsN,QAAOC,WAVvB,oBACE7C,KAAK3K,MAAMqsB,gBAAgB1hB,KAAK6hB,WAGlC,uBACE7hB,KAAK3K,MAAMssB,mBAAmB3hB,KAAK6hB,WAQrC,SACE,MAAM,OAAElf,GAAW3C,KAAK3K,MACxB,OAAO,wBAAMsK,GAAE,uBAAkBgD,Q,iCChErC,kGA6BO,MAAM+d,EAAkB,CAAEC,KAAM,UAAWC,MAAO,QAASC,IAAK,WAE1DiB,EAAsB,CAAEnB,KAAM,UAAWC,MAAO,OAAQC,IAAK,WAE3D,SAAS1K,GAAc,SAAE5M,EAAF,KAAYiM,EAAZ,KAAkBY,IACtD,OACE,gBAAC,gBAAa,eAACxgB,MAAO,YAAU4f,IAAYY,EAAO0L,EAAsBpB,GACtEnX,K,iCCpCP,wEAiCe,SAASwY,EAAM1sB,GAC5B,MAAMmd,EAAY,wBAAcnd,EAAM2sB,MAAO,SACvCtiB,EAAY,EAAWrK,EAAMqK,UAAW,QAAS,SAAWrK,EAAM2sB,MAAO,CAC7E,cAAe3sB,EAAM4sB,MACrB,cAAe5sB,EAAM6sB,QAGvB,OACE,qCACc7sB,EAAM,cAAa,kBACdA,EAAM,mBACvBqK,UAAWA,GACV8S,K,6cClBQ,SAASkE,EAAV,GAAsD,IAC9DlY,GADgC,MAAEe,GAA4B,EAAlBuX,EAAkB,eAGlE,OAAQvX,EAAM6gB,eACZ,IAAK,MACL,IAAK,OACL,IAAK,WACH5hB,EAAO,MACP,MACF,IAAK,gBACL,IAAK,kBACL,IAAK,sBACHA,EAAO,gBACP,MACF,IAAK,aACL,IAAK,cACL,IAAK,kBACHA,EAAO,aACP,MACF,IAAK,mBACL,IAAK,oBACL,IAAK,wBACHA,EAAO,mBACP,MACF,QACE,OAAO,KAGX,OAAO,gBAAC,IAAS,eAACA,KAAMA,GAAUsY,M,oeCvBrB,SAASqL,EAAV,GAMN,IANuB,UAC7BziB,EAD6B,MAE7BwiB,GAAQ,EAFqB,MAG7BD,GAAQ,EAHqB,MAI7BrsB,GAEM,EADHwsB,EACG,2CACN,QAAclvB,IAAV0C,EACF,OACE,mDAAkB,YAAU,qBAAyBwsB,GAAS,KAKlE,MAAM5P,EAAY,wBAAc5c,EAAO,UACvC,OACE,mDACc,YAAwB,sBAAuB4c,GAC3D9S,UAAW,EACT,SADmB,iBAET8S,GACV,CAAE,eAAgByP,EAAO,eAAgBC,GACzCxiB,IAEE0iB,GACH5P,K,oBCzDP,IAAI6P,EAAkB,EAAQ,IAC1BC,EAAmB,EAAQ,KAM3BC,EAHczE,OAAOxT,UAGQiY,eAyB7BC,EAAUF,GAAiB,SAAS7sB,EAAQG,EAAON,GACjDitB,EAAeE,KAAKhtB,EAAQH,GAC9BG,EAAOH,GAAKe,KAAKT,GAEjBysB,EAAgB5sB,EAAQH,EAAK,CAACM,OAIlCjB,EAAOC,QAAU4tB,G,sdCjBF,SAASxe,EAAV,GAAsD,IAAjC,KAAEkF,GAA+B,EAAtB4N,EAAsB,cAClE,OACE,gBAAC,IAAI,iBAAKA,GACR,wBACE3N,EAAE,gcACF1B,MAAO,CAAEyB,KAAMA,GAAQ,SAAOmW,W,oBC5BtC,IAAIxpB,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACnB,EAAOpC,EAAIuD,EAAS,MAG9C,IAAIG,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSL,EAAIC,EAASG,GAEXH,EAAQK,OAASL,EAAQK,OAAS,IAIjDxB,EAAOC,QAAUsB,G,qBClBjBtB,EADkC,EAAQ,IAChCwB,EAA4B,IAE9BC,KAAK,CAAC1B,EAAOpC,EAAI,yuBAA0uB,KAEnwBoC,EAAOC,QAAUA,G,0eCejB,MAAM8tB,EAAgB,CACpB,eACA,yBACA,qBACA,kBACA,0BAGK,SAASC,EAAetlB,EAAoBF,GACjD,O,+VAAO,CAAP,GACKE,EADL,CAEEL,OAAQG,EAAQE,EAAQL,QACxBO,KAAMqlB,EAAavlB,KAIhB,SAASulB,EAAavlB,G,MAC3B,OAAsB,QAAtB,EAAOA,aAAO,EAAPA,EAASuY,cAAM,eAAEhgB,MAGnB,SAASitB,EAAiBhjB,EAAmBjK,GAClD,MAAMktB,EAAiB,uBAAajjB,GAAaA,EAAUsP,OAAO,GAAKtP,EACvE,GAAI6iB,EAAc/kB,SAASmlB,GACzB,OAAO,2BAAqBA,EAAgBltB,K,6cCtBjC,SAASmtB,EAAV,GAA4E,IAAlD,KAAE7Z,EAAO,gBAAyC,EAAtB4N,EAAsB,cACxF,OACE,gBAAC,IAAI,iBAAKA,GACR,wBACE3N,EAAE,mTACF1B,MAAO,CAAEyB,a,iCC3BjB,4FAmCe,SAAStJ,GAAQ,UAC9BF,EAD8B,SAE9BsjB,EAF8B,UAG9BnjB,EAH8B,WAI9BC,EAJ8B,MAK9BmiB,EAL8B,MAM9BrsB,IAEA,QAAc1C,IAAV0C,EACF,OAAO,wBAAM8J,UAAWA,GAAS,KAGnC,GAAmB,UAAfI,EACF,OAAO,gBAAC,IAAK,CAACJ,UAAWA,EAAWsiB,MAAOpsB,EAAOqsB,MAAOA,IAG3D,GAAmB,WAAfniB,EAAyB,CAC3B,MAAMmjB,EAAiB,wBAAcrtB,EAAOkK,EAAY,CACtDkjB,WACAE,sBAAsC,YAAfpjB,IAEzB,OAAO,wBAAMJ,UAAWA,GAA8B,MAAlBujB,EAAyBA,EAAiB,KAGhF,MAAM1hB,EAAU,YAAiB1B,EAAWiS,OAAOlc,IAC7CutB,EAAS,gBAAC,IAAM,CAAClB,MAAOA,EAAOrsB,MAAOA,IAC5C,OAAI2L,EAEA,gBAAC,IAAO,CAAC+N,QAAS/N,GAChB,wBAAM7B,UAAWA,GAAYyjB,IAI5BA,I,iCCpET,wIAuBO,SAASC,IACdC,EALyB,gBAKW,GAG/B,SAASC,IACdD,EARuB,cAQW,GAS7B,SAASE,IACdF,EAnByB,gBAmBW,GAG/B,SAASG,IACdH,EAtBuB,cAsBW,GASpC,SAASA,EAAgB3jB,EAAmB+jB,GAC1CC,SAASC,KAAKC,UAAUC,OAAOnkB,EAAW+jB,GACtCC,SAASI,iBACXJ,SAASI,gBAAgBF,UAAUC,OAAOnkB,EAAW+jB,K,sdC1B1C,SAASM,EAAV,GAAqD,IAA7B,KAAEhiB,GAA2B,EAAlB+U,EAAkB,cACjE,OAAO/U,EAAO,gBAAC,IAAe,iBAAK+U,IAAgB,gBAAC,IAAgB,iBAAKA,M,kGCF5D,MAAMwH,UAA6B,gBAIhD,YAAYjpB,GACVuP,MAAMvP,GAaR,KAAA2uB,YAAc,KACZ,MAAMC,EAAejkB,KAAKkZ,WAAalZ,KAAKkZ,UAAUgL,wBACtD,OAAKD,EAGE,CACL5V,IAAKoL,OAAO0K,YAAcF,EAAa5V,IACvCD,KAAMqL,OAAO2K,YAAcH,EAAa7V,MAJjC,CAAEC,IAAK,EAAGD,KAAM,IAfzBpO,KAAKqkB,kBAAoB,IAAS,IAAMrkB,KAAKskB,cAAe,KAG9D,oBACEtkB,KAAKskB,cACL7K,OAAO8K,iBAAiB,SAAUvkB,KAAKqkB,mBAGzC,uBACE5K,OAAO+K,oBAAoB,SAAUxkB,KAAKqkB,mBAc5C,SACE,OACE,uBACE3kB,UAAWM,KAAK3K,MAAMqK,UACtBgH,IAAKwS,GAAclZ,KAAKkZ,UAAYA,GACnClZ,KAAK3K,MAAMkU,SAASvJ,KAAKgkB,mB,oBC7DlC,IAAInuB,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACnB,EAAOpC,EAAIuD,EAAS,MAG9C,IAAIG,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSL,EAAIC,EAASG,GAEXH,EAAQK,OAASL,EAAQK,OAAS,IAIjDxB,EAAOC,QAAUsB,G,qBClBjBtB,EADkC,EAAQ,IAChCwB,EAA4B,IAE9BC,KAAK,CAAC1B,EAAOpC,EAAI,u5BAAw5B,KAEj7BoC,EAAOC,QAAUA,G,iCCNjB,wDA4Be,SAASgN,EAASvM,GAC/B,OACE,uBACEqK,UAAW,EAAW,6BAA8BrK,EAAMqK,WAAU,gBACrDrK,EAAMwM,UACpBxM,EAAMkU,Y,iCCjCb,0FAqCe,MAAMzH,UAAoB,gBAAzC,c,oBACE,KAAA+Q,YAAejF,IACbA,EAAMkF,iBACNlF,EAAMmF,cAAcC,OAChBhT,KAAK3K,MAAM+L,SACbpB,KAAK3K,MAAM+L,WAIf,eACE,OAAKpB,KAAK3K,MAAMsM,OAGT,gBAAC,IAAW,CAACjC,UAAU,cAAc4P,QAAStP,KAAK3K,MAAMsM,SAFvD,KAKX,uBACE,MAAM,OAAE7N,GAAWkM,KAAK3K,MACxB,IAAKvB,IAAWA,EAAOxB,OACrB,OAAO,KAET,MAAMsD,EACc,IAAlB9B,EAAOxB,OAAewB,EAAO,GAAK,YAAwB,aAAcA,EAAOxB,QACjF,OACE,wBAAMoN,UAAU,sBAAsBoE,MAAOlO,GAC1CA,GAKP,SACE,MAAM6uB,EACiB,MAArBzkB,KAAK3K,MAAMvB,QAAkBkM,KAAK3K,MAAMvB,OAAOxB,OAAS,GAA2B,MAAtB0N,KAAK3K,MAAMqvB,QAE1E,OACE,uBAAKhlB,UAAU,6DACZM,KAAK3K,MAAM+L,QACV,wBAAM1B,UAAU,qDACd,qBAAG0T,KAAK,IAAIhS,QAASpB,KAAK6S,aACxB,gBAAC,IAAa,CAACnT,UAAU,sBAAsBqC,KAAM/B,KAAK3K,MAAM0M,OAC/D/B,KAAK3K,MAAM+I,MAEb4B,KAAK2kB,gBAGR,wBAAMjlB,UAAU,qDACbM,KAAK3K,MAAM+I,KACX4B,KAAK2kB,gBAIT3kB,KAAK3K,MAAMkU,SAEZ,wBAAM7J,UAAU,iEACbM,KAAK4kB,wBAGP5kB,KAAK3K,MAAMwvB,UACV,wBAAMnlB,UAAU,uBACd,gBAAC,IAAe,OAInB+kB,GACC,gBAAC,IAAM,CACL/kB,UAAU,+DACV0B,QAASpB,KAAK3K,MAAMqvB,SACnB,YAAU,c,iCCxGvB,wDAmCe,MAAMzjB,UAAkB,gBAAvC,c,oBAOE,KAAA4R,YAAejF,IACbA,EAAMkF,iBACNlF,EAAMmF,cAAcC,OACpBhT,KAAK3K,MAAM+L,QAAQpB,KAAK3K,MAAMO,MAAOgY,EAAMkX,SAAWlX,EAAMmX,UAG9D,cACE,OAAuB,MAAnB/kB,KAAK3K,MAAMiM,KACN,KAGF,wBAAM5B,UAAU,cAAcM,KAAK3K,MAAMiM,MAGlD,SACE,MAAM,KAAElD,GAAS4B,KAAK3K,MAChBqK,EAAY,EAAW,yBAA0BM,KAAK3K,MAAMqK,UAAW,CAC3EwB,OAAQlB,KAAK3K,MAAM6L,OACnB,8BAA+BlB,KAAK3K,MAAMub,YAG5C,OAAO5Q,KAAK3K,MAAM8L,SAChB,wBAAMzB,UAAWA,EAAS,aAAcM,KAAK3K,MAAMO,MAAOkO,MAAO9D,KAAK3K,MAAMkM,SAC1E,wBAAM7B,UAAU,cAActB,GAC7B4B,KAAKyU,eAGR,qBACE/U,UAAWA,EAAS,aACRM,KAAK3K,MAAMO,MACvBwd,KAAK,IACLhS,QAASpB,KAAK6S,YACd/O,MAAO9D,KAAK3K,MAAMkM,SAClB,wBAAM7B,UAAU,cAActB,GAC7B4B,KAAKyU,gBAxCL,EAAAuQ,aAAe,CACpB7jB,UAAU,EACVyP,WAAW,EACXzJ,SAAS,I,iCCvCb,+CA0Be,SAASnF,GAAe,SAAEuH,EAAF,MAAYzF,IACjD,OACE,uBAAKpE,UAAU,+BACZoE,GAAS,uBAAKpE,UAAU,qCAAqCoE,GAC7DyF,K,weCAQ,SAAS0b,EAAV,GAAiD,IAA7B,KAAEzmB,GAA2B,EAAlBsY,EAAkB,cAC7D,OAAQtY,GACN,IAAK,MACH,OAAO,gBAAC,IAAO,iBAAKsY,IACtB,IAAK,gBACH,OAAO,gBAAC,IAAiB,iBAAKA,IAChC,IAAK,aACH,OAAO,gBAAC,IAAa,iBAAKA,IAC5B,IAAK,mBACH,OAAO,gBAAC,IAAmB,iBAAKA,IAClC,QACE,OAAO,Q,6cCnBE,SAASjT,EAAV,GAAqE,IAAlD,KAAEqF,EAAO,gBAAyC,EAAtB4N,EAAsB,cACjF,OACE,gBAAC,IAAI,iBAAKA,GACR,qBAAG7N,UAAU,gDACX,wBACEE,EAAE,myEACF1B,MAAO,CAAEyB,c,oBC5BnB,IAAIrT,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACnB,EAAOpC,EAAIuD,EAAS,MAG9C,IAAIG,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSL,EAAIC,EAASG,GAEXH,EAAQK,OAASL,EAAQK,OAAS,IAIjDxB,EAAOC,QAAUsB,G,qBClBjBtB,EADkC,EAAQ,IAChCwB,EAA4B,IAE9BC,KAAK,CAAC1B,EAAOpC,EAAI,smQAA2mQ,KAEpoQoC,EAAOC,QAAUA,G,iCCNjB,aAqBA,MAAM6lB,EAAe,YACnB,IAAM,2EACN,gBAEa,O,iCCzBf,+CAEO,MAAMyK,EAAWC,OAAO,YAEhB,SAASnyB,IACtB,IAAIwC,EAAQ,IAAI4vB,IACZjyB,EAAS,GACTR,EAAQ,GACRM,EAAUiyB,EAEd,SAASnyB,EAAMoW,GACb,IAAI7T,EAAM6T,EAAI,GAAI5W,EAAIiD,EAAM6vB,IAAI/vB,GAChC,IAAK/C,EAAG,CACN,GAAIU,IAAYiyB,EAAU,OAAOjyB,EACjCuC,EAAMD,IAAID,EAAK/C,EAAIY,EAAOkD,KAAK8S,IAEjC,OAAOxW,GAAOJ,EAAI,GAAKI,EAAML,QA4B/B,OAzBAS,EAAMI,OAAS,SAASa,GACtB,IAAK3B,UAAUC,OAAQ,OAAOa,EAAO8Z,QACrC9Z,EAAS,GAAIqC,EAAQ,IAAI4vB,IACzB,IAAK,MAAMxvB,KAAS5B,EAAG,CACrB,MAAMsB,EAAMM,EAAQ,GAChBJ,EAAM8vB,IAAIhwB,IACdE,EAAMD,IAAID,EAAKnC,EAAOkD,KAAKT,IAE7B,OAAO7C,GAGTA,EAAMJ,MAAQ,SAASqB,GACrB,OAAO3B,UAAUC,QAAUK,EAAQC,MAAM2yB,KAAKvxB,GAAIjB,GAASJ,EAAMsa,SAGnEla,EAAME,QAAU,SAASe,GACvB,OAAO3B,UAAUC,QAAUW,EAAUe,EAAGjB,GAASE,GAGnDF,EAAMqB,KAAO,WACX,OAAOpB,EAAQG,EAAQR,GAAOM,QAAQA,IAGxC,IAAUqB,MAAMvB,EAAOV,WAEhBU,I,6cCtBM,SAAS4jB,EAAV,GAAwE,IAAlD,KAAEzN,EAAO,gBAAyC,EAAtB4N,EAAsB,cACpF,OACE,gBAAC,IAAI,iBAAKA,GACR,wBACE3N,EAAE,iOACF1B,MAAO,CAAEyB,a,6cCLF,SAASgO,EAAV,GAAqE,IAAlD,KAAEhO,EAAO,gBAAyC,EAAtB4N,EAAsB,cACjF,OACE,gBAAC,IAAI,iBAAKA,GACR,wBACE3N,EAAE,wrBACF1B,MAAO,CAAEyB,a,iCC3BjB,wEA+Be,SAASoR,EAAYjlB,GAClC,MAAM,mBAAEklB,EAAF,QAAsB7P,EAAtB,cAA+B8P,EAA/B,MAA8C1T,EAAQ,GAAMzR,EAElE,OACE,uBAAKqK,UAAU,oCACZ8a,GACC,wBAAM9a,UAAU,eACd,wBAAMA,UAAU,oBACd,wBAAMA,UAAU,uCAAqC,KACrD,wBAAMA,UAAU,uCAAqC,KACpD,YAAU,uCAGb,4BACE,wBAAMA,UAAU,uCAAqC,KACrD,wBAAMA,UAAU,uCAAqC,KACpD,YAAU,oCAIhBoH,EAAQ,GAAKyT,IAAuB,IAAmB2D,SACtD,uBAAKxe,UAAU,UACb,wBAAMA,UAAU,mBACd,mCACexM,IAAZwX,GACC,4BACG,wBAAcA,EAAS,OACvB,OAGJ,wBAAc5D,EAAO,QACd,IACT,YAAU,iC,oBC/DvB,IAAIjR,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACnB,EAAOpC,EAAIuD,EAAS,MAG9C,IAAIG,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSL,EAAIC,EAASG,GAEXH,EAAQK,OAASL,EAAQK,OAAS,IAIjDxB,EAAOC,QAAUsB,G,iCCpBjB,yHAuBO,SAASsvB,EACd5P,EACA6P,GAEA,IAAK7P,EACH,OAGF,IAAI8P,EAAY9P,EAAO+P,WAAa/P,EAAO8P,WAAa,GAExD,OAAQ9P,EAAOG,MACb,IAAK,oBACH2P,EAAYD,EAAc7P,EAAOJ,MACjC,MACF,IAAK,mBACHkQ,EAAYA,GAAaD,EAAc7P,EAAOJ,MAC9C,MAIF,IAAK,mBACH,IAAKkQ,EACH,OAAO,YAAU,8CAEnB,MACF,IAAK,OACHA,EAAYA,GAAaD,EAAcC,GACvC,MACF,IAAK,kBACHA,EAAYA,GAAaD,EAAc7P,EAAOJ,MAKlD,OAAO,YAAwB,mBAAD,OAAoBI,EAAOG,KAAKqK,eAAiBsF,GAG1E,SAASE,EAAchQ,GAC5B,OAAOA,GAAUA,EAAOJ,KAAO,YAAUI,EAAOJ,WAAQtiB,EAGnD,SAAS2yB,EACdjQ,GAEA,YAAiD1iB,IAAzC0iB,EAA6BkQ,U,kOCExB,MAAMC,UAAuB,gBAe1C,YAAY1wB,GACVuP,MAAMvP,GAcR,KAAA2wB,UAAa3c,IACXrJ,KAAKqJ,KAAOA,EACZrJ,KAAKimB,KAAO,cACTC,YAAY,CAAC,EAAG,KAChBC,GAAG,OAAQnmB,KAAKomB,QACnB,YAAOpmB,KAAKqJ,MAAMoZ,KAAKziB,KAAKimB,OAG9B,KAAAG,OAAS,KACP,MAAM,QAAElyB,GAAY8L,KAAK3K,OACnB,EAAEmB,EAAF,EAAKE,EAAL,EAAQ8U,GAAM,IAAMvC,UAC1BjJ,KAAKsC,SAAS,CACZ2G,UAAW,CACTzS,EAAGA,EAAItC,EAAQ,IAAMsX,EAAI,GACzB9U,EAAGA,EAAIxC,EAAQ,IAAMsX,EAAI,GACzBA,QAKN,KAAA6a,UAAaC,IACXA,EAAEzY,kBACFyY,EAAExT,iBACE9S,KAAKimB,MAAQjmB,KAAKqJ,MACpB,YAAOrJ,KAAKqJ,MAAMoZ,KAAKziB,KAAKimB,KAAKhd,UAAkB,MA6BvD,KAAAsd,kBAAoB,IAAM/zB,KAAKqB,MAA+B,IAAzBmM,KAAKmC,MAAM8G,UAAUuC,GAAW,IAErE,KAAAgb,YAAc,CAACC,EAAiB3S,EAAeC,KAC7C,IAAK/T,KAAK3K,MAAMqxB,aACd,OAAO,KAGT,MAAM,UAAEzd,GAAcjJ,KAAKmC,MACrBrH,EAAQ2rB,EAAM1yB,IAAI,CAACsgB,EAAM7e,KAC7B,MAAMgB,EAAIsd,EAAOO,GACX3L,EAAKqL,EAAOphB,QAAQ,GACpBiW,EAAKmL,EAAOphB,QAAQ,GAC1B,OACE,wBACE+M,UAAU,oBAEVpK,IAAKE,EACLiT,GAAIjS,EAAIyS,EAAUuC,EAAIvC,EAAUzS,EAChCmS,GAAInS,EAAIyS,EAAUuC,EAAIvC,EAAUzS,EAChCkS,GAAIA,EAAKO,EAAUuC,EACnB5C,GAAIK,EAAUuC,EAAI,EAAI,EAAI5C,MAKhC,OAAO,yBAAI9N,IAGb,KAAA6rB,YAAc,CAACF,EAAiB3S,EAAeC,KAC7C,IAAK/T,KAAK3K,MAAMuxB,aACd,OAAO,KAGT,MAAM,UAAE3d,GAAcjJ,KAAKmC,MACrBrH,EAAQ2rB,EAAM1yB,IAAI,CAACsgB,EAAM7e,KAC7B,MAAMkB,EAAIqd,EAAOM,GACX5L,EAAKqL,EAAOnhB,QAAQ,GACpBgW,EAAKmL,EAAOnhB,QAAQ,GAC1B,OACE,wBACE+M,UAAU,oBAEVpK,IAAKE,EACLiT,GAAIQ,EAAUuC,EAAI,EAAI,EAAI/C,EAC1BE,GAAIA,EAAKM,EAAUuC,EACnB9C,GAAIhS,EAAIuS,EAAUuC,EAAIvC,EAAUvS,EAChCkS,GAAIlS,EAAIuS,EAAUuC,EAAIvC,EAAUvS,MAKtC,OAAO,yBAAIoE,IAGb,KAAA+rB,aAAe,CAACC,EAAkBhT,EAAeC,KAC/C,IAAK/T,KAAK3K,MAAM0xB,cACd,OAAO,KAGT,MAAM,UAAE9d,GAAcjJ,KAAKmC,MACrBskB,EAAQK,EAAO/yB,IAAI,CAACsgB,EAAM7e,KAC9B,MAAMgB,EAAIsd,EAAOO,GAAQpL,EAAUuC,EAAIvC,EAAUzS,EAC3CE,EAAIqd,EAAOphB,QAAQ,GACnBq0B,EAAYhnB,KAAK3K,MAAMumB,YAAYvH,GAEzC,OAAO7d,EAAI,GAAKA,EAAIsd,EAAOnhB,QAAQ,GAEjC,wBAAM+M,UAAU,oBAAoB0J,GAAG,QAAQ9T,IAAKE,EAAOgB,EAAGA,EAAGE,EAAGA,GACjEswB,GAED,OAGN,OAAO,yBAAIP,IAGb,KAAAQ,aAAe,CAAC7S,EAAkBN,EAAeC,KAC/C,IAAK/T,KAAK3K,MAAM6xB,cACd,OAAO,KAGT,MAAM,UAAEje,GAAcjJ,KAAKmC,MACrBskB,EAAQrS,EAAOrgB,IAAI,CAACsgB,EAAM7e,KAC9B,MAAMgB,EAAIsd,EAAOnhB,QAAQ,GACnB+D,EAAIqd,EAAOM,GAAQpL,EAAUuC,EAAIvC,EAAUvS,EAC3CswB,EAAYhnB,KAAK3K,MAAMwmB,YAAYxH,GAEzC,OAAO3d,EAAI,GAAKA,EAAIqd,EAAOphB,QAAQ,GACjC,wBACE+M,UAAU,wCACV2M,GAAG,SACHjD,GAAG,QAEH9T,IAAKE,EACLgB,EAAGA,EACHE,EAAGA,GACFswB,GAED,OAGN,OAAO,yBAAIP,IAGb,KAAAU,YAAepf,IACb,MAAM,UAAEkB,GAAcjJ,KAAKmC,MACrBwS,EAAiB5M,EAAQ/H,KAAK3K,MAAMnB,QAAQ,GAAK8L,KAAK3K,MAAMnB,QAAQ,GACpE0gB,EAAkB5U,KAAK3K,MAAMwS,OAAS7H,KAAK3K,MAAMnB,QAAQ,GAAK8L,KAAK3K,MAAMnB,QAAQ,GAEjF4f,EAAS,cACZ3gB,OAAO6M,KAAK3K,MAAMomB,SAAW,CAAC,EAAG,YAAIzb,KAAK3K,MAAMsL,MAAOwI,GAAKA,EAAE3S,IAAM,IACpE7D,MAAM,CAAC,EAAGgiB,IACVyS,OACGrT,EAAS,cACZ5gB,OAAO6M,KAAK3K,MAAMsC,SAAW,CAAC,EAAG,YAAIqI,KAAK3K,MAAMsL,MAAOwI,GAAKA,EAAEzS,IAAM,IACpE/D,MAAM,CAACiiB,EAAiB,IACxBwS,OACGC,EAAY,cACfl0B,OAAO6M,KAAK3K,MAAMiyB,YAAc,CAAC,EAAG,YAAItnB,KAAK3K,MAAMsL,MAAOwI,GAAKA,EAAEzT,OAAS,IAC1E/C,MAAMqN,KAAK3K,MAAMkyB,WAAa,IAE3BC,EAAiB1T,EAAO1f,OACxBqzB,EAAiB1T,EAAO3f,OAE9B0f,EAAOnhB,MAAMqN,KAAK0nB,UAAU5T,EAAQuT,EAAW1S,IAC/CZ,EAAOphB,MAAMqN,KAAK2nB,UAAU5T,EAAQsT,EAAWzS,IAE/C,MAAMte,EAAU,IAAO0J,KAAK3K,MAAMsL,MAAOsK,IAAMA,EAAEvV,MAAM3B,IAAI,CAAC8I,EAAMrH,IAE9D,gBAACoyB,EAAM,CACL9oB,MAAOjC,EAAKiC,MACZ0K,KAAM3M,EAAK2M,KACXlU,IAAKuH,EAAKvH,KAAOE,EACjByY,KAAMpR,EAAKoR,KACX7M,QAASpB,KAAK3K,MAAMymB,cACpB3d,EAAGkpB,EAAUxqB,EAAKnH,MAClB3C,MAAO,EAAIkW,EAAUuC,EACrBjK,QAAS1E,EAAK0E,QACd/K,EAAGsd,EAAOjX,EAAKrG,GACfE,EAAGqd,EAAOlX,EAAKnG,MAKfowB,EAAS9mB,KAAK6nB,SAAS/T,EAAQ9T,KAAK3K,MAAMumB,aAC1CxH,EAASpU,KAAK6nB,SAAS9T,EAAQ/T,KAAK3K,MAAMwmB,aAEhD,OACE,uBACEnc,UAAW,EAAW,gBACtBmI,OAAQ7H,KAAK3K,MAAMwS,OACnBnB,IAAK1G,KAAKgmB,UACVje,MAAOA,GACP,4BACE,4BAAUpI,GAAG,gBACX,wBAEEkI,OAAQ+M,EAAkB,EAC1B7M,MAAO4M,EAAiB,EACxBne,GAAI,EACJE,GAAI,MAIV,qBAAGuS,UAAS,oBAAejJ,KAAK3K,MAAMnB,QAAQ,GAAlC,aAAyC8L,KAAK3K,MAAMnB,QAAQ,GAA5D,MACV,qBAAG4zB,SAAS,sBACT9nB,KAAKwmB,YAAYM,EAAQhT,EAAQC,GACjC/T,KAAK2mB,YAAYvS,EAAQN,EAAQC,GAClC,qBAAG9K,UAAS,oBAAeA,EAAUzS,EAAzB,aAA+ByS,EAAUvS,EAAzC,mBAAqDuS,EAAUuC,EAA/D,MACTlV,IAGJ0J,KAAK6mB,aAAaC,EAAQhT,EAAQ2T,GAClCznB,KAAKinB,aAAa7S,EAAQoT,EAAgBzT,MA/OjD/T,KAAKmC,MAAQ,CAAE8G,UAAW,CAAEzS,EAAG,EAAGE,EAAG,EAAG8U,EAAG,IAG7C,qBACE,GAAIxL,KAAKimB,MAAQjmB,KAAKqJ,KAAM,CAC1B,MAAM0e,EAAO/nB,KAAKqJ,KAAK6a,wBACvBlkB,KAAKimB,KAAK+B,gBAAgB,CACxB,CAAC,EAAG,GACJ,CAACD,EAAKhgB,MAAOggB,EAAKlgB,WAiCxB,UAAUiM,EAAeuT,EAAkB1S,GACzC,MAAMsT,EAAO,YAAIjoB,KAAK3K,MAAMsL,MAAOwI,GAAK2K,EAAO3K,EAAE3S,GAAK6wB,EAAUle,EAAEzT,QAAU,EACtEwyB,EAAO,YAAIloB,KAAK3K,MAAMsL,MAAOwI,GAAK2K,EAAO3K,EAAE3S,GAAK6wB,EAAUle,EAAEzT,QAAU,EAG5E,MAAO,CAFOuyB,EAAO,EAAInU,EAAOnhB,QAAQ,GAAKs1B,EAAOnU,EAAOnhB,QAAQ,GAEpDgiB,GADDuT,EAAOpU,EAAOnhB,QAAQ,GAAKu1B,EAAOpU,EAAOnhB,QAAQ,GAAK,IAItE,UAAUohB,EAAesT,EAAkBzS,GACzC,MAAMuT,EAAO,YAAInoB,KAAK3K,MAAMsL,MAAOwI,GAAK4K,EAAO5K,EAAEzS,GAAK2wB,EAAUle,EAAEzT,QAAU,EACtE0yB,EAAO,YAAIpoB,KAAK3K,MAAMsL,MAAOwI,GAAK4K,EAAO5K,EAAEzS,GAAK2wB,EAAUle,EAAEzT,QAAU,EACtE2yB,EAAQF,EAAO,EAAIpU,EAAOphB,QAAQ,GAAKw1B,EAAOpU,EAAOphB,QAAQ,GAEnE,MAAO,CAACiiB,GADMwT,EAAOrU,EAAOphB,QAAQ,GAAKy1B,EAAOrU,EAAOphB,QAAQ,GAAK,GACnC01B,GAGnC,SAASt1B,EAAcu1B,GACrB,MAAMC,EAAa/1B,KAAKE,KAAKsN,KAAKmC,MAAM8G,UAAUuC,GAC5Cib,EAAQ1zB,EAAM0zB,MAhHJ,EAgHwB8B,GAAYx0B,IAAIsgB,GAAQiU,EAAOjU,IACjEmU,EAAmB,IAAK/B,GAAOn0B,OAC/Bm2B,EACJD,EAnHc,EAmHmBD,EAAaC,EAAmB,EAnHnD,EAmHqED,EACrF,OAAOx1B,EAAM0zB,MAAMgC,GAsLrB,SACE,OACE,2BACE,uBAAK/oB,UAAU,qBACb,gBAAC,IAAO,CAAC4P,QAAS,YAAU,+CAC1B,gBAAC,IAAI,CAAClO,QAASpB,KAAKqmB,UAAWziB,GAAG,KAC/B5D,KAAKumB,uBAIZ,gBAAC,YAAS,CAAC3T,eAAe,GAAOld,GAAQsK,KAAKmnB,YAAYzxB,EAAKqS,UAkBvE,SAAS6f,EAAUvyB,GASjB,IAAIqzB,EACF,0BACEhpB,UAAU,sBACV0B,QAAS/L,EAAM+L,QAXEklB,IACfjxB,EAAM+L,UACRklB,EAAEzY,kBACFyY,EAAExT,iBACFzd,EAAM+L,QAAQ/L,EAAMmU,aAOmBtW,EACvCiL,EAAG9I,EAAM8I,EACTsJ,MAAO,CAAEyB,KAAM7T,EAAMyJ,MAAO+J,OAAQxT,EAAMyJ,OAC1CmK,UAAS,oBAAe5T,EAAMmB,EAArB,aAA2BnB,EAAMqB,EAAjC,mBAA6CrB,EAAMtC,MAAnD,OAQb,OAJIsC,EAAM4Y,OAAS5Y,EAAM+L,UACvBsnB,EAAS,gBAAC,IAAI,CAAC9kB,GAAIvO,EAAM4Y,MAAOya,IAIhC,gBAAC,IAAO,CAACpZ,QAASja,EAAMkM,cAAWrO,GACjC,yBAAIw1B,IAvTD,EAAA1D,aAAe,CACpB0B,cAAc,EACdK,eAAe,EACfH,cAAc,EACdM,eAAe,EACftL,YAAczS,GAAcb,OAAOa,GACnC0S,YAAc1S,GAAcb,OAAOa,GACnCjV,QAAS,CAAC,GAAI,GAAI,GAAI,IACtBqzB,UAAW,CAAC,EAAG,M,iCCjFnB,0GAkCA,MAAMoB,EAAU,CAAC,EAAG,EAAG,EAAG,EAAG,GAEd,SAASzM,EAAmB7mB,GACzC,MAAM,UAAEqK,EAAF,QAAayc,GAAY9mB,EAC/B,OACE,uBAAKqK,UAAW,EAAW,mBAAoBA,IAC5CipB,EAAQ50B,IAAIovB,GACX,gBAAC,IAAO,CAAC7tB,IAAK6tB,EAAQ7T,QAAS,YAAU,mCACvC,gBAAC,IAAU,CACT5P,UAAW,EAAW,uBAAwB,CAC5CqF,SAAUoX,EAAQgH,KAEpB/hB,QAAS,IAAM/L,EAAM+mB,cAAc+G,GACnC3kB,KAAK,UACL,wBACEkB,UAAU,wBACV+H,MAAO,CAAEC,YAAa,IAAcyb,EAAS,KAC7C,wBACEzjB,UAAU,8BACV+H,MAAO,CAAEE,gBAAiB,IAAcwb,EAAS,OAGpD,wBAAcA,EAAQ,gB,6cClCpB,SAAS1hB,EAAV,GAAwE,IAAlD,KAAEyH,EAAO,gBAAyC,EAAtB4N,EAAsB,cACpF,OACE,gBAAC,IAAI,eAACrP,MAAO,CAAEmhB,SAAU,YAAiB9R,GACxC,wBACE3N,EAAE,8RACF1B,MAAO,CAAEyB,a,qBCzBjBtU,EADkC,EAAQ,IAChCwB,EAA4B,IAE9BC,KAAK,CAAC1B,EAAOpC,EAAI,qfAAsf,KAE/gBoC,EAAOC,QAAUA,G,oBCNjB,IAAIiB,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACnB,EAAOpC,EAAIuD,EAAS,MAG9C,IAAIG,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSL,EAAIC,EAASG,GAEXH,EAAQK,OAASL,EAAQK,OAAS,IAIjDxB,EAAOC,QAAUsB,G,qBClBjBtB,EADkC,EAAQ,IAChCwB,EAA4B,IAE9BC,KAAK,CAAC1B,EAAOpC,EAAI,2FAA4F,KAErHoC,EAAOC,QAAUA,G,oBCNjB,IAAIiB,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACnB,EAAOpC,EAAIuD,EAAS,MAG9C,IAAIG,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSL,EAAIC,EAASG,GAEXH,EAAQK,OAASL,EAAQK,OAAS,IAIjDxB,EAAOC,QAAUsB,G,qBClBjBtB,EADkC,EAAQ,IAChCwB,EAA4B,IAE9BC,KAAK,CAAC1B,EAAOpC,EAAI,kdAAmd,KAE5eoC,EAAOC,QAAUA,I","file":"js/284.m.4b77ba4d.chunk.js","sourcesContent":["export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","var createToPairs = require('./_createToPairs'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable string keyed-value pairs for `object`\n * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n * entries are returned.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias entries\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the key-value pairs.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.toPairs(new Foo);\n * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n */\nvar toPairs = createToPairs(keys);\n\nmodule.exports = toPairs;\n","var baseToPairs = require('./_baseToPairs'),\n    getTag = require('./_getTag'),\n    mapToArray = require('./_mapToArray'),\n    setToPairs = require('./_setToPairs');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/**\n * Creates a `_.toPairs` or `_.toPairsIn` function.\n *\n * @private\n * @param {Function} keysFunc The function to get the keys of a given object.\n * @returns {Function} Returns the new pairs function.\n */\nfunction createToPairs(keysFunc) {\n  return function(object) {\n    var tag = getTag(object);\n    if (tag == mapTag) {\n      return mapToArray(object);\n    }\n    if (tag == setTag) {\n      return setToPairs(object);\n    }\n    return baseToPairs(object, keysFunc(object));\n  };\n}\n\nmodule.exports = createToPairs;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n * of key-value pairs for `object` corresponding to the property names of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the key-value pairs.\n */\nfunction baseToPairs(object, props) {\n  return arrayMap(props, function(key) {\n    return [key, object[key]];\n  });\n}\n\nmodule.exports = baseToPairs;\n","/**\n * Converts `set` to its value-value pairs.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the value-value pairs.\n */\nfunction setToPairs(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = [value, value];\n  });\n  return result;\n}\n\nmodule.exports = setToPairs;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./style.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".domain-measures-value{margin-right:4px}.domain-measures-value span{line-height:16px}.domain-measures-value .rating{margin-left:-4px;margin-right:-4px}.search-navigator-facet .leak-box{height:24px;line-height:24px;padding:0 8px;margin-top:-1px;margin-right:-7px;border-radius:2px;box-sizing:border-box}.search-navigator-facet.active .leak-box,.search-navigator-facet:hover .leak-box{height:22px;margin-top:0;margin-right:-6px;border-top:none;border-bottom:none;border-right:none;border-top-left-radius:0;border-bottom-left-radius:0}.search-navigator-facet.active .leak-box{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.domain-measures-header{display:inline-block;padding:4px 10px;white-space:nowrap}.measure-details-metric,.measure-details-primary{display:flex;align-items:center}.measure-details-primary{flex-wrap:nowrap;justify-content:space-between}.measure-details-primary-actions{display:flex;align-items:center}.measure-details-secondary{display:inline-block;width:260px;margin-top:4px}.measure-details-component-row.selected{background-color:#cae3f2!important}.measure-details-component-cell{max-width:0}.measure-details-component-cell>div{max-width:100%}.domain-measures-value .rating,.measure-details-value .rating{width:18px;height:18px;line-height:18px;margin-top:-2px;margin-bottom:-2px;font-size:12px}.domain-measures-value .level{height:18px;line-height:18px;border-radius:18px;margin-top:-2px;margin-bottom:-2px;margin-right:-4px}.measure-details-treemap-legend.color-box-legend{margin-right:0}.measure-details-viewer .issue-list{min-width:600px;width:800px}@media (max-width:1320px){.measure-details-viewer .issue-list{width:calc(60vw - 80px)}}.measure-view-select{width:102px}.measure-view-select .Select-menu-outer{width:100px;border-top-right-radius:4px}.measure-content-header{display:flex;align-items:center}.measure-content-header-left{flex:1;min-width:0;white-space:nowrap}.measure-content-header-right .page-actions{margin-bottom:0}.measure-content-header-right{margin-left:16px;white-space:nowrap}.measure-favorite svg{vertical-align:middle}.measure-overview-bubble-chart{position:relative;border:1px solid #e6e6e6;background-color:#fff}.measure-overview-bubble-chart-content{padding:0 0 0 60px}.measure-overview-bubble-chart-header{display:flex;align-items:center;padding:16px;border-bottom:1px solid #e6e6e6}.measure-overview-bubble-chart-title{position:absolute}.measure-overview-bubble-chart-legend{display:flex;flex-direction:column;text-align:center;flex-grow:1}.measure-overview-bubble-chart-footer{padding:15px 60px;border-top:1px solid #e6e6e6;text-align:center;font-size:12px;line-height:1.4}.measure-overview-bubble-chart-axis{color:#666;font-size:12px}.measure-overview-bubble-chart-axis.x{position:relative;top:-8px;padding-bottom:8px;text-align:center}.measure-overview-bubble-chart-axis.y{position:absolute;top:50%;left:30px;transform:rotate(-90deg) translateX(-50%);transform-origin:left}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ColorGradientLegend.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".gradient-legend-na,.gradient-legend-text{text-anchor:middle;fill:#666;font-size:10px}.gradient-legend-text:first-of-type{text-anchor:start}.gradient-legend-text:last-of-type{text-anchor:end}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TreeMap.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".sonar-d3 .treemap-container{position:relative}.sonar-d3 .treemap-cell{position:absolute;border-right:1px solid #fff;border-bottom:1px solid #fff;box-sizing:border-box;text-align:center;overflow:hidden}.sonar-d3 .treemap-cell:focus{outline:none}.sonar-d3 .treemap-inner{display:inline-flex;vertical-align:middle;align-items:center;justify-content:center;flex-wrap:wrap;padding:8px;box-sizing:border-box;line-height:1.2;background:rgba(0,0,0,.6);border-radius:2px}.sonar-d3 .treemap-inner .treemap-icon{flex-shrink:0}.sonar-d3 .treemap-inner .treemap-icon svg{margin-top:2px}.sonar-d3 .treemap-inner .treemap-icon svg path{fill:#f3f3f3!important}.sonar-d3 .treemap-inner .treemap-text{flex-shrink:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center;color:#f3f3f3}.sonar-d3 .treemap-inner .treemap-text-suffix{color:#e6e6e6;font-size:12px}.sonar-d3 .treemap-link{position:absolute;z-index:2;top:5px;right:5px;line-height:14px;font-size:12px;border-bottom:none}.sonar-d3 .treemap-link:hover{color:#d1eafb}.sonar-d3 .treemap-link i,.sonar-d3 .treemap-link i:before{vertical-align:top;font-size:inherit;line-height:inherit}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Histogram.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".histogram-tick{text-anchor:end}.histogram-tick-start,.histogram-value{text-anchor:start}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { MetricKey } from '../../../types/metrics';\n\nexport const bubbles: {\n  [domain: string]: {\n    x: string;\n    y: string;\n    size: string;\n    colors?: string[];\n    yDomain?: [number, number];\n  };\n} = {\n  Reliability: {\n    x: MetricKey.ncloc,\n    y: MetricKey.reliability_remediation_effort,\n    size: MetricKey.bugs,\n    colors: [MetricKey.reliability_rating]\n  },\n  Security: {\n    x: MetricKey.ncloc,\n    y: MetricKey.security_remediation_effort,\n    size: MetricKey.vulnerabilities,\n    colors: [MetricKey.security_rating]\n  },\n  Maintainability: {\n    x: MetricKey.ncloc,\n    y: MetricKey.sqale_index,\n    size: MetricKey.code_smells,\n    colors: [MetricKey.sqale_rating]\n  },\n  Coverage: {\n    x: MetricKey.complexity,\n    y: MetricKey.coverage,\n    size: MetricKey.uncovered_lines,\n    yDomain: [100, 0]\n  },\n  Duplications: {\n    x: MetricKey.ncloc,\n    y: MetricKey.duplicated_lines,\n    size: MetricKey.duplicated_blocks\n  },\n  project_overview: {\n    x: MetricKey.sqale_index,\n    y: MetricKey.coverage,\n    size: MetricKey.ncloc,\n    colors: [MetricKey.reliability_rating, MetricKey.security_rating],\n    yDomain: [100, 0]\n  }\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { MetricKey } from '../../../types/metrics';\n\ninterface Domains {\n  [domain: string]: { categories?: string[]; order: string[] };\n}\n\nexport const domains: Domains = {\n  Reliability: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_bugs,\n      MetricKey.new_reliability_rating,\n      MetricKey.new_reliability_remediation_effort,\n\n      'overall_category',\n      MetricKey.bugs,\n      MetricKey.reliability_rating,\n      MetricKey.reliability_remediation_effort\n    ]\n  },\n\n  Security: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_vulnerabilities,\n      MetricKey.new_security_rating,\n      MetricKey.new_security_remediation_effort,\n\n      'overall_category',\n      MetricKey.vulnerabilities,\n      MetricKey.security_rating,\n      MetricKey.security_remediation_effort\n    ]\n  },\n\n  SecurityReview: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_security_hotspots,\n      MetricKey.new_security_review_rating,\n      MetricKey.new_security_hotspots_reviewed,\n\n      'overall_category',\n      MetricKey.security_hotspots,\n      MetricKey.security_review_rating,\n      MetricKey.security_hotspots_reviewed\n    ]\n  },\n\n  Maintainability: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_code_smells,\n      MetricKey.new_technical_debt,\n      MetricKey.new_sqale_debt_ratio,\n      MetricKey.new_maintainability_rating,\n\n      'overall_category',\n      MetricKey.code_smells,\n      MetricKey.sqale_index,\n      MetricKey.sqale_debt_ratio,\n      MetricKey.sqale_rating,\n      MetricKey.effort_to_reach_maintainability_rating_a\n    ]\n  },\n\n  Coverage: {\n    categories: ['new_code_category', 'overall_category', 'tests_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_coverage,\n      MetricKey.new_lines_to_cover,\n      MetricKey.new_uncovered_lines,\n      MetricKey.new_line_coverage,\n      MetricKey.new_conditions_to_cover,\n      MetricKey.new_uncovered_conditions,\n      MetricKey.new_branch_coverage,\n\n      'overall_category',\n      MetricKey.coverage,\n      MetricKey.lines_to_cover,\n      MetricKey.uncovered_lines,\n      MetricKey.line_coverage,\n      MetricKey.conditions_to_cover,\n      MetricKey.uncovered_conditions,\n      MetricKey.branch_coverage,\n\n      'tests_category',\n      MetricKey.tests,\n      MetricKey.test_errors,\n      MetricKey.test_failures,\n      MetricKey.skipped_tests,\n      MetricKey.test_success_density,\n      MetricKey.test_execution_time\n    ]\n  },\n\n  Duplications: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_duplicated_lines_density,\n      MetricKey.new_duplicated_lines,\n      MetricKey.new_duplicated_blocks,\n\n      'overall_category',\n      MetricKey.duplicated_lines_density,\n      MetricKey.duplicated_lines,\n      MetricKey.duplicated_blocks,\n      MetricKey.duplicated_files\n    ]\n  },\n\n  Size: {\n    order: [\n      MetricKey.new_lines,\n\n      MetricKey.ncloc,\n      MetricKey.lines,\n      MetricKey.statements,\n      MetricKey.functions,\n      MetricKey.classes,\n      MetricKey.files,\n      MetricKey.directories\n    ]\n  },\n\n  Complexity: {\n    order: ['complexity', 'function_complexity', 'file_complexity', 'class_complexity']\n  },\n\n  Releasability: {\n    order: ['releasability_rating', 'releasability_effort', 'alert_status']\n  },\n\n  Issues: {\n    order: [\n      MetricKey.new_violations,\n      MetricKey.new_blocker_violations,\n      MetricKey.new_critical_violations,\n      MetricKey.new_major_violations,\n      MetricKey.new_minor_violations,\n      MetricKey.new_info_violations,\n\n      MetricKey.violations,\n      MetricKey.blocker_violations,\n      MetricKey.critical_violations,\n      MetricKey.major_violations,\n      MetricKey.minor_violations,\n      MetricKey.info_violations,\n      MetricKey.open_issues,\n      MetricKey.reopened_issues,\n      MetricKey.confirmed_issues,\n      MetricKey.false_positive_issues\n    ]\n  }\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { groupBy, memoize, sortBy, toPairs } from 'lodash';\nimport { enhanceMeasure } from '../../components/measure/utils';\nimport { isBranch, isPullRequest } from '../../helpers/branch-like';\nimport { getLocalizedMetricName } from '../../helpers/l10n';\nimport { getDisplayMetrics, isDiffMetric } from '../../helpers/measures';\nimport { cleanQuery, parseAsString, serializeString } from '../../helpers/query';\nimport { BranchLike } from '../../types/branch-like';\nimport { ComponentQualifier } from '../../types/component';\nimport { MeasurePageView } from '../../types/measures';\nimport { MetricKey } from '../../types/metrics';\nimport { bubbles } from './config/bubbles';\nimport { domains } from './config/domains';\n\nexport const BUBBLES_FETCH_LIMIT = 500;\nexport const PROJECT_OVERVEW = 'project_overview';\nexport const DEFAULT_VIEW: MeasurePageView = 'tree';\nexport const DEFAULT_METRIC = PROJECT_OVERVEW;\nexport const KNOWN_DOMAINS = [\n  'Releasability',\n  'Reliability',\n  'Security',\n  'SecurityReview',\n  'Maintainability',\n  'Coverage',\n  'Duplications',\n  'Size',\n  'Complexity'\n];\nconst BANNED_MEASURES = [\n  'blocker_violations',\n  'new_blocker_violations',\n  'critical_violations',\n  'new_critical_violations',\n  'major_violations',\n  'new_major_violations',\n  'minor_violations',\n  'new_minor_violations',\n  'info_violations',\n  'new_info_violations'\n];\n\nexport function filterMeasures(measures: T.MeasureEnhanced[]): T.MeasureEnhanced[] {\n  return measures.filter(measure => !BANNED_MEASURES.includes(measure.metric.key));\n}\n\nexport function sortMeasures(\n  domainName: string,\n  measures: Array<T.MeasureEnhanced | string>\n): Array<T.MeasureEnhanced | string> {\n  const config = domains[domainName] || {};\n  const configOrder = config.order || [];\n  return sortBy(measures, [\n    (item: T.MeasureEnhanced | string) => {\n      if (typeof item === 'string') {\n        return configOrder.indexOf(item);\n      }\n      const idx = configOrder.indexOf(item.metric.key);\n      return idx >= 0 ? idx : configOrder.length;\n    },\n    (item: T.MeasureEnhanced | string) =>\n      typeof item === 'string' ? item : getLocalizedMetricName(item.metric)\n  ]);\n}\n\nexport function addMeasureCategories(domainName: string, measures: T.MeasureEnhanced[]) {\n  const categories = domains[domainName] && domains[domainName].categories;\n  if (categories && categories.length > 0) {\n    return [...categories, ...measures];\n  }\n  return measures;\n}\n\nexport function enhanceComponent(\n  component: T.ComponentMeasure,\n  metric: Pick<T.Metric, 'key'> | undefined,\n  metrics: T.Dict<T.Metric>\n): T.ComponentMeasureEnhanced {\n  if (!component.measures) {\n    return { ...component, measures: [] };\n  }\n\n  const enhancedMeasures = component.measures.map(measure => enhanceMeasure(measure, metrics));\n  const measure = metric && enhancedMeasures.find(measure => measure.metric.key === metric.key);\n  const value = measure && measure.value;\n  const leak = measure && measure.leak;\n  return { ...component, value, leak, measures: enhancedMeasures };\n}\n\nexport function isFileType(component: { qualifier: string | ComponentQualifier }): boolean {\n  return [ComponentQualifier.File, ComponentQualifier.TestFile].includes(\n    component.qualifier as ComponentQualifier\n  );\n}\n\nexport function isViewType(component: T.ComponentMeasure): boolean {\n  return [\n    ComponentQualifier.Portfolio,\n    ComponentQualifier.SubPortfolio,\n    ComponentQualifier.Application\n  ].includes(component.qualifier as ComponentQualifier);\n}\n\nexport function isSecurityReviewMetric(metricKey: MetricKey | string): boolean {\n  return [\n    MetricKey.security_hotspots,\n    MetricKey.security_hotspots_reviewed,\n    MetricKey.security_review_rating,\n    MetricKey.new_security_hotspots,\n    MetricKey.new_security_hotspots_reviewed,\n    MetricKey.new_security_review_rating\n  ].includes(metricKey as MetricKey);\n}\n\nexport function banQualityGateMeasure({\n  measures = [],\n  qualifier\n}: T.ComponentMeasure): T.Measure[] {\n  const bannedMetrics: string[] = [];\n  if (ComponentQualifier.Portfolio !== qualifier && ComponentQualifier.SubPortfolio !== qualifier) {\n    bannedMetrics.push('alert_status');\n  }\n  if (qualifier === ComponentQualifier.Application) {\n    bannedMetrics.push('releasability_rating', 'releasability_effort');\n  }\n  return measures.filter(measure => !bannedMetrics.includes(measure.metric));\n}\n\nexport const groupByDomains = memoize((measures: T.MeasureEnhanced[]) => {\n  const domains = toPairs(groupBy(measures, measure => measure.metric.domain)).map(r => ({\n    name: r[0],\n    measures: r[1]\n  }));\n\n  return sortBy(domains, [\n    (domain: { name: string; measures: T.MeasureEnhanced[] }) => {\n      const idx = KNOWN_DOMAINS.indexOf(domain.name);\n      return idx >= 0 ? idx : KNOWN_DOMAINS.length;\n    },\n    'name'\n  ]);\n});\n\nexport function hasList(metric: string): boolean {\n  return !['releasability_rating', 'releasability_effort'].includes(metric);\n}\n\nexport function hasTree(metric: string): boolean {\n  return metric !== 'alert_status';\n}\n\nexport function hasTreemap(metric: string, type: string): boolean {\n  return ['PERCENT', 'RATING', 'LEVEL'].includes(type) && hasTree(metric);\n}\n\nexport function hasBubbleChart(domainName: string): boolean {\n  return bubbles[domainName] !== undefined;\n}\n\nexport function hasFacetStat(metric: string): boolean {\n  return metric !== 'alert_status';\n}\n\nexport function hasFullMeasures(branch?: BranchLike) {\n  return !branch || isBranch(branch);\n}\n\nexport function getMeasuresPageMetricKeys(metrics: T.Dict<T.Metric>, branch?: BranchLike) {\n  const metricKeys = getDisplayMetrics(Object.values(metrics)).map(metric => metric.key);\n\n  if (isPullRequest(branch)) {\n    return metricKeys.filter(key => isDiffMetric(key));\n  } else {\n    return metricKeys;\n  }\n}\n\nexport function getBubbleMetrics(domain: string, metrics: T.Dict<T.Metric>) {\n  const conf = bubbles[domain];\n  return {\n    x: metrics[conf.x],\n    y: metrics[conf.y],\n    size: metrics[conf.size],\n    colors: conf.colors && conf.colors.map(color => metrics[color])\n  };\n}\n\nexport function getBubbleYDomain(domain: string) {\n  return bubbles[domain].yDomain;\n}\n\nexport function isProjectOverview(metric: string) {\n  return metric === PROJECT_OVERVEW;\n}\n\nfunction parseView(metric: string, rawView?: string): MeasurePageView {\n  const view = (parseAsString(rawView) || DEFAULT_VIEW) as MeasurePageView;\n  if (!hasTree(metric)) {\n    return 'list';\n  } else if (view === 'list' && !hasList(metric)) {\n    return 'tree';\n  }\n  return view;\n}\n\nexport interface Query {\n  metric: string;\n  selected?: string;\n  view: MeasurePageView;\n}\n\nexport const parseQuery = memoize(\n  (urlQuery: T.RawQuery): Query => {\n    const metric = parseAsString(urlQuery['metric']) || DEFAULT_METRIC;\n    return {\n      metric,\n      selected: parseAsString(urlQuery['selected']),\n      view: parseView(metric, urlQuery['view'])\n    };\n  }\n);\n\nexport const serializeQuery = memoize((query: Query) => {\n  return cleanQuery({\n    metric: query.metric === DEFAULT_METRIC ? undefined : serializeString(query.metric),\n    selected: serializeString(query.selected),\n    view: query.view === DEFAULT_VIEW ? undefined : serializeString(query.view)\n  });\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Measure from '../../../components/measure/Measure';\nimport { isDiffMetric } from '../../../helpers/measures';\n\ninterface Props {\n  displayLeak?: boolean;\n  measure: T.MeasureEnhanced;\n}\n\nexport default function FacetMeasureValue({ measure, displayLeak }: Props) {\n  if (isDiffMetric(measure.metric.key)) {\n    return (\n      <div\n        className={classNames('domain-measures-value', { 'leak-box': displayLeak })}\n        id={`measure-${measure.metric.key}-leak`}>\n        <Measure\n          metricKey={measure.metric.key}\n          metricType={measure.metric.type}\n          value={measure.leak}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"domain-measures-value\" id={`measure-${measure.metric.key}-value`}>\n      <Measure\n        metricKey={measure.metric.key}\n        metricType={measure.metric.type}\n        value={measure.value}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport BubblesIcon from '../../../components/icons/BubblesIcon';\nimport {\n  getLocalizedCategoryMetricName,\n  getLocalizedMetricDomain,\n  getLocalizedMetricName,\n  hasMessage,\n  translate\n} from '../../../helpers/l10n';\nimport {\n  addMeasureCategories,\n  filterMeasures,\n  hasBubbleChart,\n  hasFacetStat,\n  sortMeasures\n} from '../utils';\nimport FacetMeasureValue from './FacetMeasureValue';\n\ninterface Props {\n  domain: { name: string; measures: T.MeasureEnhanced[] };\n  onChange: (metric: string) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  selected: string;\n  showFullMeasures: boolean;\n}\n\nexport default class DomainFacet extends React.PureComponent<Props> {\n  getValues = () => {\n    const { domain, selected } = this.props;\n    const measureSelected = domain.measures.find(measure => measure.metric.key === selected);\n    const overviewSelected = domain.name === selected && this.hasOverview(domain.name);\n    if (measureSelected) {\n      return [getLocalizedMetricName(measureSelected.metric)];\n    }\n    return overviewSelected ? [translate('component_measures.domain_overview')] : [];\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.props.domain.name);\n  };\n\n  hasFacetSelected = (\n    domain: { name: string },\n    measures: T.MeasureEnhanced[],\n    selected: string\n  ) => {\n    const measureSelected = measures.find(measure => measure.metric.key === selected);\n    const overviewSelected = domain.name === selected && this.hasOverview(domain.name);\n    return measureSelected || overviewSelected;\n  };\n\n  hasOverview = (domain: string) => {\n    return this.props.showFullMeasures && hasBubbleChart(domain);\n  };\n\n  renderItemFacetStat = (item: T.MeasureEnhanced) => {\n    return hasFacetStat(item.metric.key) ? (\n      <FacetMeasureValue displayLeak={this.props.showFullMeasures} measure={item} />\n    ) : null;\n  };\n\n  renderCategoryItem = (item: string) => {\n    return this.props.showFullMeasures || item === 'new_code_category' ? (\n      <span className=\"facet search-navigator-facet facet-category\" key={item}>\n        <span className=\"facet-name\">{translate('component_measures.facet_category', item)}</span>\n      </span>\n    ) : null;\n  };\n\n  renderItemsFacet = () => {\n    const { domain, selected } = this.props;\n    const items = addMeasureCategories(domain.name, filterMeasures(domain.measures));\n    const hasCategories = items.some(item => typeof item === 'string');\n    const translateMetric = hasCategories ? getLocalizedCategoryMetricName : getLocalizedMetricName;\n    let sortedItems = sortMeasures(domain.name, items);\n\n    sortedItems = sortedItems.filter((item, index) => {\n      return (\n        typeof item !== 'string' ||\n        (index + 1 !== sortedItems.length && typeof sortedItems[index + 1] !== 'string')\n      );\n    });\n\n    return sortedItems.map(item =>\n      typeof item === 'string' ? (\n        this.renderCategoryItem(item)\n      ) : (\n        <FacetItem\n          active={item.metric.key === selected}\n          disabled={false}\n          key={item.metric.key}\n          name={\n            <span className=\"big-spacer-left\" id={`measure-${item.metric.key}-name`}>\n              {translateMetric(item.metric)}\n            </span>\n          }\n          onClick={this.props.onChange}\n          stat={this.renderItemFacetStat(item)}\n          tooltip={translateMetric(item.metric)}\n          value={item.metric.key}\n        />\n      )\n    );\n  };\n\n  renderOverviewFacet = () => {\n    const { domain, selected } = this.props;\n    if (!this.hasOverview(domain.name)) {\n      return null;\n    }\n    return (\n      <FacetItem\n        active={domain.name === selected}\n        disabled={false}\n        key={domain.name}\n        name={\n          <span id={`measure-overview-${domain.name}-name`}>\n            {translate('component_measures.domain_overview')}\n          </span>\n        }\n        onClick={this.props.onChange}\n        stat={<BubblesIcon size={14} />}\n        tooltip={translate('component_measures.domain_overview')}\n        value={domain.name}\n      />\n    );\n  };\n\n  render() {\n    const { domain } = this.props;\n    const helperMessageKey = `component_measures.domain_facets.${domain.name}.help`;\n    const helper = hasMessage(helperMessageKey) ? translate(helperMessageKey) : undefined;\n    return (\n      <FacetBox property={domain.name}>\n        <FacetHeader\n          helper={helper}\n          name={getLocalizedMetricDomain(domain.name)}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && (\n          <FacetItemsList>\n            {this.renderOverviewFacet()}\n            {this.renderItemsFacet()}\n          </FacetItemsList>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  onChange: (metric: string) => void;\n  selected: string;\n  value: string;\n}\n\nexport default function ProjectOverviewFacet({ value, selected, onChange }: Props) {\n  const facetName = translate('component_measures.overview', value, 'facet');\n  return (\n    <FacetBox property={value}>\n      <FacetItemsList>\n        <FacetItem\n          active={value === selected}\n          disabled={false}\n          key={value}\n          name={<strong id={`measure-overview-${value}-name`}>{facetName}</strong>}\n          onClick={onChange}\n          tooltip={facetName}\n          value={value}\n        />\n      </FacetItemsList>\n    </FacetBox>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport { translate } from '../../../helpers/l10n';\nimport { groupByDomains, KNOWN_DOMAINS, PROJECT_OVERVEW, Query } from '../utils';\nimport DomainFacet from './DomainFacet';\nimport ProjectOverviewFacet from './ProjectOverviewFacet';\n\ninterface Props {\n  measures: T.MeasureEnhanced[];\n  selectedMetric: string;\n  showFullMeasures: boolean;\n  updateQuery: (query: Partial<Query>) => void;\n}\n\ninterface State {\n  openFacets: T.Dict<boolean>;\n}\n\nexport default class Sidebar extends React.PureComponent<Props, State> {\n  static getDerivedStateFromProps(props: Props, state: State) {\n    return { openFacets: getOpenFacets(state.openFacets, props) };\n  }\n\n  state: State = {\n    openFacets: {}\n  };\n\n  toggleFacet = (name: string) => {\n    this.setState(({ openFacets }) => ({\n      openFacets: { ...openFacets, [name]: !openFacets[name] }\n    }));\n  };\n\n  changeMetric = (metric: string) => {\n    this.props.updateQuery({ metric });\n  };\n\n  render() {\n    const { showFullMeasures } = this.props;\n    return (\n      <div>\n        <A11ySkipTarget\n          anchor=\"measures_filters\"\n          label={translate('component_measures.skip_to_filters')}\n          weight={10}\n        />\n        <ProjectOverviewFacet\n          onChange={this.changeMetric}\n          selected={this.props.selectedMetric}\n          value={PROJECT_OVERVEW}\n        />\n        {groupByDomains(this.props.measures).map(domain => (\n          <DomainFacet\n            domain={domain}\n            key={domain.name}\n            onChange={this.changeMetric}\n            onToggle={this.toggleFacet}\n            open={this.state.openFacets[domain.name] === true}\n            selected={this.props.selectedMetric}\n            showFullMeasures={showFullMeasures}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n\nfunction getOpenFacets(openFacets: T.Dict<boolean>, { measures, selectedMetric }: Props) {\n  const newOpenFacets = { ...openFacets };\n  const measure = measures.find(measure => measure.metric.key === selectedMetric);\n  if (measure && measure.metric && measure.metric.domain) {\n    newOpenFacets[measure.metric.domain] = true;\n  } else if (KNOWN_DOMAINS.includes(selectedMetric)) {\n    newOpenFacets[selectedMetric] = true;\n  }\n  return newOpenFacets;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport const complementary: T.Dict<string[]> = {\n  coverage: ['uncovered_lines', 'uncovered_conditions'],\n  line_coverage: ['uncovered_lines'],\n  branch_coverage: ['uncovered_conditions'],\n  uncovered_lines: ['line_coverage'],\n  uncovered_conditions: ['branch_coverage'],\n\n  new_coverage: ['new_uncovered_lines', 'new_uncovered_conditions'],\n  new_line_coverage: ['new_uncovered_lines'],\n  new_branch_coverage: ['new_uncovered_conditions'],\n  new_uncovered_lines: ['new_line_coverage'],\n  new_uncovered_conditions: ['new_branch_coverage'],\n\n  duplicated_lines_density: ['duplicated_lines'],\n  new_duplicated_lines_density: ['new_duplicated_lines'],\n  duplicated_lines: ['duplicated_lines_density'],\n  new_duplicated_lines: ['new_duplicated_lines_density']\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { LocationDescriptor } from 'history';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport BranchIcon from '../../../components/icons/BranchIcon';\nimport LinkIcon from '../../../components/icons/LinkIcon';\nimport QualifierIcon from '../../../components/icons/QualifierIcon';\nimport { translate } from '../../../helpers/l10n';\nimport { splitPath } from '../../../helpers/path';\nimport {\n  getBranchLikeUrl,\n  getComponentDrilldownUrlWithSelection,\n  getProjectUrl\n} from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport {\n  ComponentQualifier,\n  isApplication,\n  isPortfolioLike,\n  isProject\n} from '../../../types/component';\nimport { MeasurePageView } from '../../../types/measures';\nimport { MetricKey } from '../../../types/metrics';\n\nexport interface ComponentCellProps {\n  branchLike?: BranchLike;\n  component: T.ComponentMeasureEnhanced;\n  metric: T.Metric;\n  rootComponent: T.ComponentMeasure;\n  view: MeasurePageView;\n}\n\nexport default function ComponentCell(props: ComponentCellProps) {\n  const { branchLike, component, metric, rootComponent, view } = props;\n\n  let head = '';\n  let tail = component.name;\n\n  if (\n    view === 'list' &&\n    ([\n      ComponentQualifier.File,\n      ComponentQualifier.TestFile,\n      ComponentQualifier.Directory\n    ] as string[]).includes(component.qualifier) &&\n    component.path\n  ) {\n    ({ head, tail } = splitPath(component.path));\n  }\n\n  let path: LocationDescriptor;\n  if (component.refKey) {\n    if (\n      !isPortfolioLike(component.qualifier) &&\n      ([MetricKey.releasability_rating, MetricKey.alert_status] as string[]).includes(metric.key)\n    ) {\n      path = isApplication(component.qualifier)\n        ? getProjectUrl(component.refKey, component.branch)\n        : getBranchLikeUrl(component.refKey, branchLike);\n    } else if (isProject(component.qualifier) && metric.key === MetricKey.projects) {\n      path = getBranchLikeUrl(component.refKey, branchLike);\n    } else {\n      path = getComponentDrilldownUrlWithSelection(\n        component.refKey,\n        '',\n        metric.key,\n        branchLike,\n        view\n      );\n    }\n  } else {\n    path = getComponentDrilldownUrlWithSelection(\n      rootComponent.key,\n      component.key,\n      metric.key,\n      branchLike,\n      view\n    );\n  }\n\n  return (\n    <td className=\"measure-details-component-cell\">\n      <div className=\"text-ellipsis\">\n        <Link\n          className=\"link-no-underline\"\n          to={path}\n          id={'component-measures-component-link-' + component.key}>\n          {component.refKey && (\n            <span className=\"big-spacer-right\">\n              <LinkIcon />\n            </span>\n          )}\n          <span title={component.key}>\n            <QualifierIcon className=\"little-spacer-right\" qualifier={component.qualifier} />\n            {head.length > 0 && <span className=\"note\">{head}/</span>}\n            <span>{tail}</span>\n            {isApplication(rootComponent.qualifier) &&\n              (component.branch ? (\n                <>\n                  <BranchIcon className=\"spacer-left little-spacer-right\" />\n                  <span className=\"note\">{component.branch}</span>\n                </>\n              ) : (\n                <span className=\"spacer-left badge\">{translate('branches.main_branch')}</span>\n              ))}\n          </span>\n        </Link>\n      </div>\n    </td>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Measure from '../../../components/measure/Measure';\nimport { isDiffMetric } from '../../../helpers/measures';\n\ninterface Props {\n  component: T.ComponentMeasureEnhanced;\n  measure?: T.MeasureEnhanced;\n  metric: T.Metric;\n}\n\nexport default function MeasureCell({ component, measure, metric }: Props) {\n  const getValue = (item: { leak?: string; value?: string }) =>\n    isDiffMetric(metric.key) ? item.leak : item.value;\n\n  const value = getValue(measure || component);\n\n  return (\n    <td className=\"thin nowrap text-right\">\n      <span id={`component-measures-component-measure-${component.key}-${metric.key}`}>\n        <Measure metricKey={metric.key} metricType={metric.type} value={value} />\n      </span>\n    </td>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { BranchLike } from '../../../types/branch-like';\nimport { MeasurePageView } from '../../../types/measures';\nimport ComponentCell from './ComponentCell';\nimport MeasureCell from './MeasureCell';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: T.ComponentMeasureEnhanced;\n  isSelected: boolean;\n  otherMetrics: T.Metric[];\n  metric: T.Metric;\n  rootComponent: T.ComponentMeasure;\n  view: MeasurePageView;\n}\n\nexport default function ComponentsListRow(props: Props) {\n  const { branchLike, component, rootComponent } = props;\n  const otherMeasures = props.otherMetrics.map(metric => {\n    const measure = component.measures.find(measure => measure.metric.key === metric.key);\n    return { ...measure, metric };\n  });\n  const rowClass = classNames('measure-details-component-row', {\n    selected: props.isSelected\n  });\n  return (\n    <tr className={rowClass}>\n      <ComponentCell\n        branchLike={branchLike}\n        component={component}\n        metric={props.metric}\n        rootComponent={rootComponent}\n        view={props.view}\n      />\n\n      <MeasureCell component={component} metric={props.metric} />\n\n      {otherMeasures.map(measure => (\n        <MeasureCell\n          component={component}\n          key={measure.metric.key}\n          measure={measure}\n          metric={measure.metric}\n        />\n      ))}\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\n\nexport default function EmptyResult() {\n  return <div className=\"note\">{translate('no_results')}</div>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getLocalizedMetricName } from '../../../helpers/l10n';\nimport { BranchLike } from '../../../types/branch-like';\nimport { MeasurePageView } from '../../../types/measures';\nimport { complementary } from '../config/complementary';\nimport ComponentsListRow from './ComponentsListRow';\nimport EmptyResult from './EmptyResult';\n\ninterface Props {\n  branchLike?: BranchLike;\n  components: T.ComponentMeasureEnhanced[];\n  metric: T.Metric;\n  metrics: T.Dict<T.Metric>;\n  rootComponent: T.ComponentMeasure;\n  selectedComponent?: string;\n  view: MeasurePageView;\n}\n\nexport default function ComponentsList({ components, metric, metrics, ...props }: Props) {\n  if (!components.length) {\n    return <EmptyResult />;\n  }\n\n  const otherMetrics = (complementary[metric.key] || []).map(key => metrics[key]);\n  return (\n    <table className=\"data zebra zebra-hover\">\n      {otherMetrics.length > 0 && (\n        <thead>\n          <tr>\n            <th>&nbsp;</th>\n            <th className=\"text-right\">\n              <span className=\"small\">{getLocalizedMetricName(metric)}</span>\n            </th>\n            {otherMetrics.map(metric => (\n              <th className=\"text-right\" key={metric.key}>\n                <span className=\"small\">{getLocalizedMetricName(metric)}</span>\n              </th>\n            ))}\n          </tr>\n        </thead>\n      )}\n\n      <tbody>\n        {components.map(component => (\n          <ComponentsListRow\n            component={component}\n            isSelected={component.key === props.selectedComponent}\n            key={component.key}\n            metric={metric}\n            otherMetrics={otherMetrics}\n            {...props}\n          />\n        ))}\n      </tbody>\n    </table>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport { throttle } from 'lodash';\nimport * as React from 'react';\nimport { Button } from '../../../components/controls/buttons';\nimport ListFooter from '../../../components/controls/ListFooter';\nimport { Alert } from '../../../components/ui/Alert';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure, isDiffMetric, isPeriodBestValue } from '../../../helpers/measures';\nimport { scrollToElement } from '../../../helpers/scrolling';\nimport { BranchLike } from '../../../types/branch-like';\nimport { MeasurePageView } from '../../../types/measures';\nimport ComponentsList from './ComponentsList';\n\ninterface Props {\n  branchLike?: BranchLike;\n  components: T.ComponentMeasureEnhanced[];\n  defaultShowBestMeasures: boolean;\n  fetchMore: () => void;\n  handleSelect: (component: string) => void;\n  handleOpen: (component: string) => void;\n  loadingMore: boolean;\n  metric: T.Metric;\n  metrics: T.Dict<T.Metric>;\n  paging?: T.Paging;\n  rootComponent: T.ComponentMeasure;\n  selectedKey?: string;\n  selectedIdx?: number;\n  view: MeasurePageView;\n}\n\ninterface State {\n  showBestMeasures: boolean;\n}\n\nconst keyScope = 'measures-files';\n\nexport default class FilesView extends React.PureComponent<Props, State> {\n  listContainer?: HTMLElement | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { showBestMeasures: props.defaultShowBestMeasures };\n    this.selectNext = throttle(this.selectNext, 100);\n    this.selectPrevious = throttle(this.selectPrevious, 100);\n  }\n\n  componentDidMount() {\n    this.attachShortcuts();\n    if (this.props.selectedKey !== undefined) {\n      this.scrollToElement();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selectedKey !== undefined && prevProps.selectedKey !== this.props.selectedKey) {\n      this.scrollToElement();\n    }\n    if (prevProps.metric.key !== this.props.metric.key || prevProps.view !== this.props.view) {\n      this.setState({ showBestMeasures: this.props.defaultShowBestMeasures });\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts() {\n    key('up', keyScope, () => {\n      this.selectPrevious();\n      return false;\n    });\n    key('down', keyScope, () => {\n      this.selectNext();\n      return false;\n    });\n    key('right', keyScope, () => {\n      this.openSelected();\n      return false;\n    });\n  }\n\n  detachShortcuts() {\n    ['up', 'down', 'right'].forEach(action => key.unbind(action, keyScope));\n  }\n\n  getVisibleComponents = () => {\n    const { components } = this.props;\n    if (this.state.showBestMeasures) {\n      return components;\n    }\n    const filtered = components.filter(component => !this.hasBestValue(component));\n    if (filtered.length === 0) {\n      return components;\n    }\n    return filtered;\n  };\n\n  handleShowBestMeasures = () => {\n    this.setState({ showBestMeasures: true });\n  };\n\n  hasBestValue = (component: T.ComponentMeasureEnhanced) => {\n    const { metric } = this.props;\n    const focusedMeasure = component.measures.find(measure => measure.metric.key === metric.key);\n    if (focusedMeasure && isDiffMetric(metric.key)) {\n      return isPeriodBestValue(focusedMeasure);\n    }\n    return Boolean(focusedMeasure && focusedMeasure.bestValue);\n  };\n\n  openSelected = () => {\n    if (this.props.selectedKey !== undefined) {\n      this.props.handleOpen(this.props.selectedKey);\n    }\n  };\n\n  selectPrevious = () => {\n    const { selectedIdx } = this.props;\n    const visibleComponents = this.getVisibleComponents();\n    if (selectedIdx !== undefined && selectedIdx > 0) {\n      this.props.handleSelect(visibleComponents[selectedIdx - 1].key);\n    } else {\n      this.props.handleSelect(visibleComponents[visibleComponents.length - 1].key);\n    }\n  };\n\n  selectNext = () => {\n    const { selectedIdx } = this.props;\n    const visibleComponents = this.getVisibleComponents();\n    if (selectedIdx !== undefined && selectedIdx < visibleComponents.length - 1) {\n      this.props.handleSelect(visibleComponents[selectedIdx + 1].key);\n    } else {\n      this.props.handleSelect(visibleComponents[0].key);\n    }\n  };\n\n  scrollToElement = () => {\n    if (this.listContainer) {\n      const elem = this.listContainer.getElementsByClassName('selected')[0];\n      if (elem) {\n        scrollToElement(elem, { topOffset: 215, bottomOffset: 100 });\n      }\n    }\n  };\n\n  render() {\n    const { components } = this.props;\n    const filteredComponents = this.getVisibleComponents();\n    const hidingBestMeasures = filteredComponents.length < components.length;\n    return (\n      <div ref={elem => (this.listContainer = elem)}>\n        <ComponentsList\n          branchLike={this.props.branchLike}\n          components={filteredComponents}\n          metric={this.props.metric}\n          metrics={this.props.metrics}\n          rootComponent={this.props.rootComponent}\n          selectedComponent={this.props.selectedKey}\n          view={this.props.view}\n        />\n        {hidingBestMeasures && this.props.paging && (\n          <Alert className=\"spacer-top\" variant=\"info\">\n            <div className=\"display-flex-center\">\n              {translateWithParameters(\n                'component_measures.hidden_best_score_metrics',\n                formatMeasure(this.props.paging.total - filteredComponents.length, 'INT'),\n                formatMeasure(this.props.metric.bestValue, this.props.metric.type)\n              )}\n              <Button className=\"button-small spacer-left\" onClick={this.handleShowBestMeasures}>\n                {translate('show_them')}\n              </Button>\n            </div>\n          </Alert>\n        )}\n        {!hidingBestMeasures && this.props.paging && this.props.components.length > 0 && (\n          <ListFooter\n            count={this.props.components.length}\n            loadMore={this.props.fetchMore}\n            loading={this.props.loadingMore}\n            total={this.props.paging.total}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { ScaleLinear, ScaleOrdinal } from 'd3-scale';\nimport * as React from 'react';\nimport { formatMeasure } from '../../helpers/measures';\nimport './ColorBoxLegend.css';\n\ninterface Props {\n  className?: string;\n  colorNA?: string;\n  colorScale:\n    | ScaleOrdinal<string, string> // used for LEVEL type\n    | ScaleLinear<string, string | number>; // used for RATING or PERCENT type\n  metricType: string;\n}\n\nexport default function ColorBoxLegend({ className, colorScale, colorNA, metricType }: Props) {\n  const colorDomain: Array<number | string> = colorScale.domain();\n  const colorRange = colorScale.range();\n  return (\n    <div className={classNames('color-box-legend', className)}>\n      {colorDomain.map((value, idx) => (\n        <div key={value}>\n          <span className=\"color-box-legend-rect\" style={{ borderColor: colorRange[idx] }}>\n            <span\n              className=\"color-box-legend-rect-inner\"\n              style={{ backgroundColor: colorRange[idx] }}\n            />\n          </span>\n          {formatMeasure(value, metricType)}\n        </div>\n      ))}\n      {colorNA && (\n        <div>\n          <span className=\"color-box-legend-rect\" style={{ borderColor: colorNA }}>\n            <span className=\"color-box-legend-rect-inner\" style={{ backgroundColor: colorNA }} />\n          </span>\n          N/A\n        </div>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { ScaleLinear, ScaleOrdinal } from 'd3-scale';\nimport * as React from 'react';\nimport { colors } from '../../app/theme';\nimport './ColorGradientLegend.css';\n\ninterface Props {\n  className?: string;\n  colorScale:\n    | ScaleOrdinal<string, string> // used for LEVEL type\n    | ScaleLinear<string, string | number>; // used for RATING or PERCENT type\n  height: number;\n  padding?: [number, number, number, number];\n  showColorNA?: boolean;\n  width: number;\n}\n\nconst NA_SPACING = 4;\nconst NA_GRADIENT_LINE_INCREMENTS = [0, 8, 16, 24];\n\nexport default function ColorGradientLegend({\n  className,\n  colorScale,\n  padding = [12, 24, 0, 0],\n  height,\n  showColorNA = false,\n  width\n}: Props) {\n  const colorRange: Array<string | number> = colorScale.range();\n  const colorDomain: Array<string | number> = colorScale.domain();\n  const lastColorIdx = colorRange.length - 1;\n  const lastDomainIdx = colorDomain.length - 1;\n  const widthNoPadding = width - padding[1];\n  const rectHeight = height - padding[0];\n  return (\n    <svg className={className} height={height} width={width}>\n      <defs>\n        <linearGradient id=\"gradient-legend\">\n          {colorRange.map((color, idx) => (\n            // eslint-disable-next-line react/no-array-index-key\n            <stop key={idx} offset={idx / lastColorIdx} stopColor={String(color)} />\n          ))}\n        </linearGradient>\n\n        <pattern\n          id=\"stripes\"\n          width=\"30\"\n          height=\"30\"\n          patternTransform=\"rotate(45 0 0)\"\n          patternUnits=\"userSpaceOnUse\">\n          {NA_GRADIENT_LINE_INCREMENTS.map(i => (\n            <React.Fragment key={i}>\n              <line\n                x1={i}\n                y1=\"0\"\n                x2={i}\n                y2=\"30\"\n                style={{ stroke: colors.gray71, strokeWidth: NA_SPACING }}\n              />\n              <line\n                x1={i + NA_SPACING}\n                y1=\"0\"\n                x2={i + NA_SPACING}\n                y2=\"30\"\n                style={{ stroke: colors.gray60, strokeWidth: NA_SPACING }}\n              />\n            </React.Fragment>\n          ))}\n        </pattern>\n      </defs>\n      <g transform={`translate(${padding[3]}, ${padding[0]})`}>\n        <rect fill=\"url(#gradient-legend)\" height={rectHeight} width={widthNoPadding} x={0} y={0} />\n        {colorDomain.map((d, idx) => (\n          <text\n            className=\"gradient-legend-text\"\n            dy=\"-2px\"\n            // eslint-disable-next-line react/no-array-index-key\n            key={idx}\n            x={widthNoPadding * (idx / lastDomainIdx)}\n            y={0}>\n            {d}\n          </text>\n        ))}\n      </g>\n      {showColorNA && (\n        <g transform={`translate(${widthNoPadding}, ${padding[0]})`}>\n          <rect\n            fill=\"url(#stripes)\"\n            height={rectHeight}\n            width={padding[1] - NA_SPACING}\n            x={NA_SPACING}\n            y={0}\n          />\n          <text\n            className=\"gradient-legend-na\"\n            dy=\"-2px\"\n            x={NA_SPACING + (padding[1] - NA_SPACING) / 2}\n            y={0}>\n            N/A\n          </text>\n        </g>\n      )}\n    </svg>\n  );\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\n\nexport default function hierarchy(data, children) {\n  var root = new Node(data),\n      valued = +data.value && (root.value = data.value),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  if (children == null) children = defaultChildren;\n\n  while (node = nodes.pop()) {\n    if (valued) node.value = +node.data.value;\n    if ((childs = children(node.data)) && (n = childs.length)) {\n      node.children = new Array(n);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction defaultChildren(d) {\n  return d.children;\n}\n\nfunction copyData(node) {\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy\n};\n","export default function(callback) {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      callback(node), children = node.children;\n      if (children) for (i = 0, n = children.length; i < n; ++i) {\n        next.push(children[i]);\n      }\n    }\n  } while (next.length);\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], next = [], children, i, n;\n  while (node = nodes.pop()) {\n    next.push(node), children = node.children;\n    if (children) for (i = 0, n = children.length; i < n; ++i) {\n      nodes.push(children[i]);\n    }\n  }\n  while (node = next.pop()) {\n    callback(node);\n  }\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], children, i;\n  while (node = nodes.pop()) {\n    callback(node), children = node.children;\n    if (children) for (i = children.length - 1; i >= 0; --i) {\n      nodes.push(children[i]);\n    }\n  }\n  return this;\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  var nodes = [];\n  this.each(function(node) {\n    nodes.push(node);\n  });\n  return nodes;\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { scaleLinear } from 'd3-scale';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { Location } from '../../helpers/urls';\nimport Tooltip, { Placement } from '../controls/Tooltip';\nimport LinkIcon from '../icons/LinkIcon';\n\nconst SIZE_SCALE = scaleLinear()\n  .domain([3, 15])\n  .range([11, 18])\n  .clamp(true);\n\ninterface Props {\n  fill?: string;\n  gradient?: string;\n  height: number;\n  icon?: React.ReactNode;\n  itemKey: string;\n  label: string;\n  link?: string | Location;\n  onClick?: (item: string) => void;\n  placement?: Placement;\n  prefix: string;\n  tooltip?: React.ReactNode;\n  value?: React.ReactNode;\n  width: number;\n  x: number;\n  y: number;\n}\n\nconst TEXT_VISIBLE_AT_WIDTH = 80;\nconst TEXT_VISIBLE_AT_HEIGHT = 50;\nconst ICON_VISIBLE_AT_WIDTH = 60;\nconst ICON_VISIBLE_AT_HEIGHT = 30;\nexport default class TreeMapRect extends React.PureComponent<Props> {\n  handleLinkClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.stopPropagation();\n  };\n\n  handleRectClick = () => {\n    if (this.props.onClick) {\n      this.props.onClick(this.props.itemKey);\n    }\n  };\n\n  renderLink = () => {\n    const { link, height, width } = this.props;\n    const hasMinSize = width >= 24 && height >= 24 && (width >= 48 || height >= 50);\n    if (!hasMinSize || link == null) {\n      return null;\n    }\n    return (\n      <Link className=\"treemap-link\" onClick={this.handleLinkClick} to={link}>\n        <LinkIcon />\n      </Link>\n    );\n  };\n\n  renderCell = () => {\n    const cellStyles = {\n      left: this.props.x,\n      top: this.props.y,\n      width: this.props.width,\n      height: this.props.height,\n      backgroundColor: this.props.fill,\n      backgroundImage: this.props.gradient,\n      backgroundSize: '12px 12px',\n      fontSize: SIZE_SCALE(this.props.width / this.props.label.length),\n      lineHeight: `${this.props.height}px`,\n      cursor: this.props.onClick != null ? 'pointer' : 'default'\n    };\n    const isTextVisible =\n      this.props.width >= TEXT_VISIBLE_AT_WIDTH && this.props.height >= TEXT_VISIBLE_AT_HEIGHT;\n    const isIconVisible =\n      this.props.width >= ICON_VISIBLE_AT_WIDTH && this.props.height >= ICON_VISIBLE_AT_HEIGHT;\n\n    return (\n      <div\n        className=\"treemap-cell\"\n        onClick={this.handleRectClick}\n        role=\"treeitem\"\n        style={cellStyles}\n        tabIndex={0}>\n        {isTextVisible && (\n          <div className=\"treemap-inner\" style={{ maxWidth: this.props.width }}>\n            {this.props.prefix || this.props.value ? (\n              <div className=\"treemap-text\">\n                <div>\n                  {isIconVisible && (\n                    <span className={classNames('treemap-icon', { 'spacer-right': isTextVisible })}>\n                      {this.props.icon}\n                    </span>\n                  )}\n\n                  {this.props.prefix && (\n                    <>\n                      {this.props.prefix}\n                      <br />\n                    </>\n                  )}\n\n                  {this.props.label.substr(this.props.prefix.length)}\n                </div>\n\n                <div className=\"treemap-text-suffix little-spacer-top\">{this.props.value}</div>\n              </div>\n            ) : (\n              <div className=\"treemap-text\">{this.props.label}</div>\n            )}\n          </div>\n        )}\n        {this.renderLink()}\n      </div>\n    );\n  };\n\n  render() {\n    const { placement, tooltip } = this.props;\n    return (\n      <Tooltip overlay={tooltip || undefined} placement={placement || 'left'}>\n        {this.renderCell()}\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { hierarchy as d3Hierarchy, treemap as d3Treemap } from 'd3-hierarchy';\nimport * as React from 'react';\nimport { formatMeasure, localizeMetric } from '../../helpers/measures';\nimport { Location } from '../../helpers/urls';\nimport './TreeMap.css';\nimport TreeMapRect from './TreeMapRect';\n\nexport interface TreeMapItem {\n  color?: string;\n  gradient?: string;\n  icon?: React.ReactNode;\n  key: string;\n  label: string;\n  link?: string | Location;\n  measureValue?: string;\n  metric?: { key: string; type: string };\n  size: number;\n  tooltip?: React.ReactNode;\n}\n\ninterface HierarchicalTreemapItem extends TreeMapItem {\n  children?: TreeMapItem[];\n}\n\ninterface Props {\n  height: number;\n  items: TreeMapItem[];\n  onRectangleClick?: (item: string) => void;\n  width: number;\n}\n\nexport default class TreeMap extends React.PureComponent<Props> {\n  mostCommitPrefix = (labels: string[]) => {\n    const sortedLabels = labels.slice(0).sort();\n    const firstLabel = sortedLabels[0];\n    const firstLabelLength = firstLabel.length;\n    const lastLabel = sortedLabels[sortedLabels.length - 1];\n    let i = 0;\n    while (i < firstLabelLength && firstLabel.charAt(i) === lastLabel.charAt(i)) {\n      i++;\n    }\n    const prefix = firstLabel.substr(0, i);\n    const prefixTokens = prefix.split(/[\\s\\\\/]/);\n    const lastPrefixPart = prefixTokens[prefixTokens.length - 1];\n    return prefix.substr(0, prefix.length - lastPrefixPart.length);\n  };\n\n  render() {\n    const { items, height, width } = this.props;\n    const hierarchy = d3Hierarchy({ children: items } as HierarchicalTreemapItem)\n      .sum(d => d.size)\n      .sort((a, b) => (b.value || 0) - (a.value || 0));\n\n    const treemap = d3Treemap<TreeMapItem>()\n      .round(true)\n      .size([width, height]);\n\n    const nodes = treemap(hierarchy).leaves();\n    const prefix = this.mostCommitPrefix(items.map(item => item.label));\n    const halfWidth = width / 2;\n    return (\n      <div className=\"sonar-d3\">\n        <div className=\"treemap-container\" style={{ width, height }}>\n          {nodes.map(node => (\n            <TreeMapRect\n              fill={node.data.color}\n              gradient={node.data.gradient}\n              height={node.y1 - node.y0}\n              icon={node.data.icon}\n              itemKey={node.data.key}\n              key={node.data.key}\n              label={node.data.label}\n              link={node.data.link}\n              onClick={this.props.onRectangleClick}\n              placement={node.x0 === 0 || node.x1 < halfWidth ? 'right' : 'left'}\n              prefix={prefix}\n              value={\n                node.data.metric && (\n                  <>\n                    {formatMeasure(node.data.measureValue, node.data.metric.type)}\n                    <span className=\"little-spacer-left\">\n                      {localizeMetric(node.data.metric.key)}\n                    </span>\n                  </>\n                )\n              }\n              tooltip={node.data.tooltip}\n              width={node.x1 - node.x0}\n              x={node.x0}\n              y={node.y0}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { scaleLinear, scaleOrdinal } from 'd3-scale';\nimport * as React from 'react';\nimport { AutoSizer } from 'react-virtualized/dist/commonjs/AutoSizer';\nimport { colors } from '../../../app/theme';\nimport ColorBoxLegend from '../../../components/charts/ColorBoxLegend';\nimport ColorGradientLegend from '../../../components/charts/ColorGradientLegend';\nimport TreeMap, { TreeMapItem } from '../../../components/charts/TreeMap';\nimport QualifierIcon from '../../../components/icons/QualifierIcon';\nimport { getLocalizedMetricName, translate, translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure, isDiffMetric } from '../../../helpers/measures';\nimport { isDefined } from '../../../helpers/types';\nimport { BranchLike } from '../../../types/branch-like';\nimport { MetricKey } from '../../../types/metrics';\nimport EmptyResult from './EmptyResult';\n\ninterface Props {\n  branchLike?: BranchLike;\n  components: T.ComponentMeasureEnhanced[];\n  handleSelect: (component: string) => void;\n  metric: T.Metric;\n}\n\ninterface State {\n  treemapItems: TreeMapItem[];\n}\n\nconst HEIGHT = 500;\nconst COLORS = [colors.green, colors.lightGreen, colors.yellow, colors.orange, colors.red];\nconst LEVEL_COLORS = [colors.red, colors.orange, colors.green, colors.gray71];\nconst NA_GRADIENT = `linear-gradient(-45deg, ${colors.gray71} 25%, ${colors.gray60} 25%, ${colors.gray60} 50%, ${colors.gray71} 50%, ${colors.gray71} 75%, ${colors.gray60} 75%, ${colors.gray60} 100%)`;\n\nexport default class TreeMapView extends React.PureComponent<Props, State> {\n  state: State;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { treemapItems: this.getTreemapComponents(props) };\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.components !== this.props.components || prevProps.metric !== this.props.metric) {\n      this.setState({ treemapItems: this.getTreemapComponents(this.props) });\n    }\n  }\n\n  getTreemapComponents = ({ components, metric }: Props) => {\n    const colorScale = this.getColorScale(metric);\n    return components\n      .map(component => {\n        const colorMeasure = component.measures.find(measure => measure.metric.key === metric.key);\n        const sizeMeasure = component.measures.find(measure => measure.metric.key !== metric.key);\n        if (!sizeMeasure) {\n          return undefined;\n        }\n        const colorValue =\n          colorMeasure && (isDiffMetric(metric.key) ? colorMeasure.leak : colorMeasure.value);\n        const rawSizeValue = isDiffMetric(sizeMeasure.metric.key)\n          ? sizeMeasure.leak\n          : sizeMeasure.value;\n        if (rawSizeValue === undefined) {\n          return undefined;\n        }\n\n        const sizeValue = Number(rawSizeValue);\n        if (sizeValue < 1) {\n          return undefined;\n        }\n        return {\n          color: colorValue ? (colorScale as Function)(colorValue) : undefined,\n          gradient: !colorValue ? NA_GRADIENT : undefined,\n          icon: <QualifierIcon fill={colors.baseFontColor} qualifier={component.qualifier} />,\n          key: component.refKey || component.key,\n          label: component.name,\n          size: sizeValue,\n          measureValue: colorValue,\n          metric,\n          tooltip: this.getTooltip({\n            colorMetric: metric,\n            colorValue,\n            componentName: component.name,\n            sizeMetric: sizeMeasure.metric,\n            sizeValue\n          })\n        };\n      })\n      .filter(isDefined);\n  };\n\n  getLevelColorScale = () =>\n    scaleOrdinal<string, string>()\n      .domain(['ERROR', 'WARN', 'OK', 'NONE'])\n      .range(LEVEL_COLORS);\n\n  getPercentColorScale = (metric: T.Metric) => {\n    const color = scaleLinear<string, string>().domain([0, 25, 50, 75, 100]);\n    color.range(metric.higherValuesAreBetter ? [...COLORS].reverse() : COLORS);\n    return color;\n  };\n\n  getRatingColorScale = () =>\n    scaleLinear<string, string>()\n      .domain([1, 2, 3, 4, 5])\n      .range(COLORS);\n\n  getColorScale = (metric: T.Metric) => {\n    if (metric.type === 'LEVEL') {\n      return this.getLevelColorScale();\n    }\n    if (metric.type === 'RATING') {\n      return this.getRatingColorScale();\n    }\n    return this.getPercentColorScale(metric);\n  };\n\n  getTooltip = ({\n    colorMetric,\n    colorValue,\n    componentName,\n    sizeMetric,\n    sizeValue\n  }: {\n    colorMetric: T.Metric;\n    colorValue?: string;\n    componentName: string;\n    sizeMetric: T.Metric;\n    sizeValue: number;\n  }) => {\n    const formatted =\n      colorMetric && colorValue !== undefined ? formatMeasure(colorValue, colorMetric.type) : '';\n    return (\n      <div className=\"text-left\">\n        {componentName}\n        <br />\n        {`${getLocalizedMetricName(sizeMetric)}: ${formatMeasure(sizeValue, sizeMetric.type)}`}\n        <br />\n        {`${getLocalizedMetricName(colorMetric)}: ${formatted}`}\n      </div>\n    );\n  };\n\n  renderLegend() {\n    const { metric } = this.props;\n    const colorScale = this.getColorScale(metric);\n    if (['LEVEL', 'RATING'].includes(metric.type)) {\n      return (\n        <ColorBoxLegend\n          className=\"measure-details-treemap-legend color-box-full\"\n          colorScale={colorScale}\n          metricType={metric.type}\n        />\n      );\n    }\n    return (\n      <ColorGradientLegend\n        className=\"measure-details-treemap-legend\"\n        showColorNA={true}\n        colorScale={colorScale}\n        height={30}\n        width={200}\n      />\n    );\n  }\n\n  render() {\n    const { treemapItems } = this.state;\n    if (treemapItems.length <= 0) {\n      return <EmptyResult />;\n    }\n    const { components, metric } = this.props;\n    const sizeMeasure =\n      components.length > 0\n        ? components[0].measures.find(measure => measure.metric.key !== metric.key)\n        : null;\n    return (\n      <div className=\"measure-details-treemap\">\n        <div className=\"display-flex-start note spacer-bottom\">\n          <span>\n            {translateWithParameters(\n              'component_measures.legend.color_x',\n              getLocalizedMetricName(metric)\n            )}\n          </span>\n          <span className=\"spacer-left flex-1\">\n            {translateWithParameters(\n              'component_measures.legend.size_x',\n              translate(\n                'metric',\n                sizeMeasure && sizeMeasure.metric ? sizeMeasure.metric.key : MetricKey.ncloc,\n                'name'\n              )\n            )}\n          </span>\n          <span>{this.renderLegend()}</span>\n        </div>\n        <AutoSizer disableHeight={true}>\n          {({ width }) => (\n            <TreeMap\n              height={HEIGHT}\n              items={treemapItems}\n              onRectangleClick={this.props.handleSelect}\n              width={width}\n            />\n          )}\n        </AutoSizer>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { collapsePath, limitComponentName } from '../../../helpers/path';\n\ninterface Props {\n  canBrowse: boolean;\n  component: T.ComponentMeasure;\n  isLast: boolean;\n  handleSelect: (component: string) => void;\n}\n\nexport default class Breadcrumb extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.handleSelect(this.props.component.key);\n  };\n\n  render() {\n    const { canBrowse, component, isLast } = this.props;\n    const isPath = component.qualifier === 'DIR';\n    const componentName = isPath\n      ? collapsePath(component.name, 15)\n      : limitComponentName(component.name);\n    const breadcrumbItem = canBrowse ? (\n      <a href=\"#\" onClick={this.handleClick}>\n        {componentName}\n      </a>\n    ) : (\n      <span>{componentName}</span>\n    );\n\n    return (\n      <span>\n        <Tooltip overlay={component.name !== componentName ? component.name : undefined}>\n          {breadcrumbItem}\n        </Tooltip>\n        {!isLast && <span className=\"slash-separator\" />}\n      </span>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport * as React from 'react';\nimport { getBreadcrumbs } from '../../../api/components';\nimport { getBranchLikeQuery, isSameBranchLike } from '../../../helpers/branch-like';\nimport { BranchLike } from '../../../types/branch-like';\nimport Breadcrumb from './Breadcrumb';\n\ninterface Props {\n  backToFirst: boolean;\n  branchLike?: BranchLike;\n  className?: string;\n  component: T.ComponentMeasure;\n  handleSelect: (component: string) => void;\n  rootComponent: T.ComponentMeasure;\n}\n\ninterface State {\n  breadcrumbs: T.ComponentMeasure[];\n}\n\nexport default class Breadcrumbs extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { breadcrumbs: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchBreadcrumbs();\n    this.attachShortcuts();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      this.props.component !== prevProps.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike)\n    ) {\n      this.fetchBreadcrumbs();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    this.detachShortcuts();\n  }\n\n  attachShortcuts() {\n    key('left', 'measures-files', () => {\n      const { breadcrumbs } = this.state;\n      if (breadcrumbs.length > 1) {\n        const idx = this.props.backToFirst ? 0 : breadcrumbs.length - 2;\n        this.props.handleSelect(breadcrumbs[idx].key);\n      }\n      return false;\n    });\n  }\n\n  detachShortcuts() {\n    key.unbind('left', 'measures-files');\n  }\n\n  fetchBreadcrumbs = () => {\n    const { branchLike, component, rootComponent } = this.props;\n    const isRoot = component.key === rootComponent.key;\n    if (isRoot) {\n      if (this.mounted) {\n        this.setState({ breadcrumbs: [component] });\n      }\n      return;\n    }\n    getBreadcrumbs({ component: component.key, ...getBranchLikeQuery(branchLike) }).then(\n      breadcrumbs => {\n        if (this.mounted) {\n          this.setState({ breadcrumbs });\n        }\n      },\n      () => {}\n    );\n  };\n\n  render() {\n    const { breadcrumbs } = this.state;\n    if (breadcrumbs.length <= 0) {\n      return null;\n    }\n    const lastItem = breadcrumbs[breadcrumbs.length - 1];\n    return (\n      <div className={this.props.className}>\n        {breadcrumbs.map(component => (\n          <Breadcrumb\n            canBrowse={component.key !== lastItem.key}\n            component={component}\n            handleSelect={this.props.handleSelect}\n            isLast={component.key === lastItem.key}\n            key={component.key}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  left: React.ReactNode;\n  right: React.ReactNode;\n}\n\nexport default function MeasureContentHeader({ left, right }: Props) {\n  return (\n    <div className=\"measure-content-header\">\n      <div className=\"measure-content-header-left\">{left}</div>\n      <div className=\"measure-content-header-right\">{right}</div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { max } from 'd3-array';\nimport { scaleBand, ScaleBand, scaleLinear, ScaleLinear } from 'd3-scale';\nimport * as React from 'react';\nimport Tooltip from '../controls/Tooltip';\nimport './BarChart.css';\nimport './Histogram.css';\n\ninterface Props {\n  alignTicks?: boolean;\n  bars: number[];\n  height: number;\n  padding?: [number, number, number, number];\n  yTicks?: string[];\n  yTooltips?: string[];\n  yValues?: string[];\n  width: number;\n}\n\nconst BAR_HEIGHT = 10;\nconst DEFAULT_PADDING = [10, 10, 10, 10];\n\ntype XScale = ScaleLinear<number, number>;\ntype YScale = ScaleBand<number>;\n\nexport default class Histogram extends React.PureComponent<Props> {\n  renderBar(d: number, index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, padding = DEFAULT_PADDING } = this.props;\n\n    const width = Math.round(xScale(d)) + /* minimum bar width */ 1;\n    const x = xScale.range()[0] + (alignTicks ? padding[3] : 0);\n    const y = Math.round((yScale(index) || 0) + yScale.bandwidth() / 2);\n\n    return <rect className=\"bar-chart-bar\" height={BAR_HEIGHT} width={width} x={x} y={y} />;\n  }\n\n  renderValue(d: number, index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, padding = DEFAULT_PADDING, yValues } = this.props;\n\n    const value = yValues && yValues[index];\n\n    if (!value) {\n      return null;\n    }\n\n    const x = xScale(d) + (alignTicks ? padding[3] : 0);\n    const y = Math.round((yScale(index) || 0) + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n\n    return (\n      <Tooltip overlay={this.props.yTooltips && this.props.yTooltips[index]}>\n        <text className=\"bar-chart-tick histogram-value\" dx=\"1em\" dy=\"0.3em\" x={x} y={y}>\n          {value}\n        </text>\n      </Tooltip>\n    );\n  }\n\n  renderTick(index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, yTicks } = this.props;\n\n    const tick = yTicks && yTicks[index];\n\n    if (!tick) {\n      return null;\n    }\n\n    const x = xScale.range()[0];\n    const y = Math.round((yScale(index) || 0) + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n    const historyTickClass = alignTicks ? 'histogram-tick-start' : 'histogram-tick';\n\n    return (\n      <text\n        className={'bar-chart-tick ' + historyTickClass}\n        dx={alignTicks ? 0 : '-1em'}\n        dy=\"0.3em\"\n        x={x}\n        y={y}>\n        {tick}\n      </text>\n    );\n  }\n\n  renderBars(xScale: XScale, yScale: YScale) {\n    return (\n      <g>\n        {this.props.bars.map((d, index) => {\n          return (\n            // eslint-disable-next-line react/no-array-index-key\n            <g key={index}>\n              {this.renderBar(d, index, xScale, yScale)}\n              {this.renderValue(d, index, xScale, yScale)}\n              {this.renderTick(index, xScale, yScale)}\n            </g>\n          );\n        })}\n      </g>\n    );\n  }\n\n  render() {\n    const { bars, width, height, padding = DEFAULT_PADDING } = this.props;\n\n    const availableWidth = width - padding[1] - padding[3];\n    const xScale: XScale = scaleLinear()\n      .domain([0, max(bars)!])\n      .range([0, availableWidth]);\n\n    const availableHeight = height - padding[0] - padding[2];\n    const yScale: YScale = scaleBand<number>()\n      .domain(bars.map((_, index) => index))\n      .rangeRound([0, availableHeight]);\n\n    return (\n      <svg className=\"bar-chart\" height={this.props.height} width={this.props.width}>\n        <g transform={`translate(${this.props.alignTicks ? 4 : padding[3]}, ${padding[0]})`}>\n          {this.renderBars(xScale, yScale)}\n        </g>\n      </svg>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport Histogram from '../../components/charts/Histogram';\nimport { translate } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  alignTicks?: boolean;\n  distribution: string;\n  languages: T.Languages;\n  width: number;\n}\n\nexport default function LanguageDistribution(props: Props) {\n  let distribution = props.distribution.split(';').map(point => {\n    const tokens = point.split('=');\n    return { language: tokens[0], lines: parseInt(tokens[1], 10) };\n  });\n\n  distribution = sortBy(distribution, d => -d.lines);\n\n  const data = distribution.map(d => d.lines);\n  const yTicks = distribution.map(d => getLanguageName(d.language)).map(cutLanguageName);\n  const yTooltips = distribution.map(d => (d.lines > 1000 ? formatMeasure(d.lines, 'INT') : ''));\n  const yValues = distribution.map(d => formatMeasure(d.lines, 'SHORT_INT'));\n\n  return (\n    <Histogram\n      alignTicks={props.alignTicks}\n      bars={data}\n      height={distribution.length * 25}\n      padding={[0, 60, 0, 80]}\n      width={props.width}\n      yTicks={yTicks}\n      yTooltips={yTooltips}\n      yValues={yValues}\n    />\n  );\n\n  function getLanguageName(langKey: string) {\n    if (langKey === '<null>') {\n      return translate('unknown');\n    }\n    const lang = props.languages[langKey];\n    return lang ? lang.name : langKey;\n  }\n}\n\nfunction cutLanguageName(name: string) {\n  return name.length > 10 ? `${name.substr(0, 7)}...` : name;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { getLanguages, Store } from '../../store/rootReducer';\nimport LanguageDistribution from './LanguageDistribution';\n\nconst mapStateToProps = (state: Store) => ({\n  languages: getLanguages(state)\n});\n\nexport default connect(mapStateToProps)(LanguageDistribution);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as differenceInDays from 'date-fns/difference_in_days';\nimport * as React from 'react';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport DateFormatter, { longFormatterOption } from '../../../components/intl/DateFormatter';\nimport DateFromNow from '../../../components/intl/DateFromNow';\nimport DateTimeFormatter, { formatterOption } from '../../../components/intl/DateTimeFormatter';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { getPeriodDate, getPeriodLabel } from '../../../helpers/periods';\n\ninterface Props {\n  className?: string;\n  component: T.ComponentMeasure;\n  period: T.Period;\n}\n\nexport class LeakPeriodLegend extends React.PureComponent<Props & InjectedIntlProps> {\n  formatDate = (date: string) => {\n    return this.props.intl.formatDate(date, longFormatterOption);\n  };\n\n  formatDateTime = (date: string) => {\n    return this.props.intl.formatTime(date, formatterOption);\n  };\n\n  render() {\n    const { className, component, period } = this.props;\n    const leakClass = classNames('domain-measures-header leak-box', className);\n    if (component.qualifier === 'APP') {\n      return <div className={leakClass}>{translate('issues.new_code_period')}</div>;\n    }\n\n    const leakPeriodLabel = getPeriodLabel(\n      period,\n      period.mode === 'manual_baseline' ? this.formatDateTime : this.formatDate\n    );\n    if (!leakPeriodLabel) {\n      return null;\n    }\n\n    const label = (\n      <div className={leakClass}>\n        {translateWithParameters('overview.new_code_period_x', leakPeriodLabel)}\n      </div>\n    );\n\n    if (period.mode === 'days' || period.mode === 'NUMBER_OF_DAYS') {\n      return label;\n    }\n\n    const date = getPeriodDate(period);\n    const tooltip = date && (\n      <div>\n        <DateFromNow date={date} />\n        {', '}\n        {differenceInDays(new Date(), date) < 1 ? (\n          <DateTimeFormatter date={date} />\n        ) : (\n          <DateFormatter date={date} long={true} />\n        )}\n      </div>\n    );\n\n    return <Tooltip overlay={tooltip}>{label}</Tooltip>;\n  }\n}\n\nexport default injectIntl(LeakPeriodLegend);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport LanguageDistributionContainer from '../../../components/charts/LanguageDistributionContainer';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport HistoryIcon from '../../../components/icons/HistoryIcon';\nimport IssueTypeIcon from '../../../components/icons/IssueTypeIcon';\nimport Measure from '../../../components/measure/Measure';\nimport { getLocalizedMetricName, translate } from '../../../helpers/l10n';\nimport { isDiffMetric } from '../../../helpers/measures';\nimport { getMeasureHistoryUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { hasFullMeasures } from '../utils';\nimport LeakPeriodLegend from './LeakPeriodLegend';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: T.ComponentMeasure;\n  leakPeriod?: T.Period;\n  measureValue?: string;\n  metric: T.Metric;\n  secondaryMeasure?: T.Measure;\n}\n\nexport default function MeasureHeader(props: Props) {\n  const { branchLike, component, leakPeriod, measureValue, metric, secondaryMeasure } = props;\n  const isDiff = isDiffMetric(metric.key);\n  const hasHistory =\n    ['VW', 'SVW', 'APP', 'TRK'].includes(component.qualifier) && hasFullMeasures(branchLike);\n  const displayLeak = hasFullMeasures(branchLike);\n  return (\n    <div className=\"measure-details-header big-spacer-bottom\">\n      <div className=\"measure-details-primary\">\n        <div className=\"measure-details-metric\">\n          <IssueTypeIcon className=\"little-spacer-right text-text-bottom\" query={metric.key} />\n          {getLocalizedMetricName(metric)}\n          <span className=\"measure-details-value spacer-left\">\n            <strong>\n              <Measure\n                className={isDiff && displayLeak ? 'leak-box' : undefined}\n                metricKey={metric.key}\n                metricType={metric.type}\n                value={measureValue}\n              />\n            </strong>\n          </span>\n          {!isDiff && hasHistory && (\n            <Tooltip overlay={translate('component_measures.show_metric_history')}>\n              <Link\n                className=\"js-show-history spacer-left button button-small\"\n                to={getMeasureHistoryUrl(component.key, metric.key, branchLike)}>\n                <HistoryIcon />\n              </Link>\n            </Tooltip>\n          )}\n        </div>\n        <div className=\"measure-details-primary-actions\">\n          {displayLeak && leakPeriod && (\n            <LeakPeriodLegend className=\"spacer-left\" component={component} period={leakPeriod} />\n          )}\n        </div>\n      </div>\n      {secondaryMeasure &&\n        secondaryMeasure.metric === 'ncloc_language_distribution' &&\n        secondaryMeasure.value !== undefined && (\n          <div className=\"measure-details-secondary\">\n            <LanguageDistributionContainer\n              alignTicks={true}\n              distribution={secondaryMeasure.value}\n              width={260}\n            />\n          </div>\n        )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function TreeIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M15.045 2.467c0-0.277-0.225-0.503-0.503-0.503h-13.084c-0.277 0-0.503 0.225-0.503 0.503v1.007c0 0.277 0.225 0.503 0.503 0.503h13.084c0.277 0 0.503-0.225 0.503-0.503v-1.007zM15.045 5.487c0-0.277-0.194-0.503-0.432-0.503h-11.216c-0.238 0-0.432 0.225-0.432 0.503v1.007c0 0.277 0.193 0.503 0.432 0.503h11.216c0.238 0 0.432-0.225 0.432-0.503v-1.007zM15.045 8.506c0-0.277-0.161-0.503-0.359-0.503h-9.346c-0.198 0-0.359 0.225-0.359 0.503v1.007c0 0.277 0.161 0.503 0.359 0.503h9.346c0.198 0 0.359-0.225 0.359-0.503v-1.007zM15.045 11.527c0-0.277-0.129-0.503-0.287-0.503h-7.477c-0.159 0-0.288 0.225-0.288 0.503v1.007c0 0.277 0.129 0.503 0.288 0.503h7.477c0.159 0 0.287-0.225 0.287-0.503v-1.007z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function TreemapIcon({ fill = 'currentColor', size = 14, ...iconProps }: IconProps) {\n  return (\n    <Icon size={size} {...iconProps}>\n      <path\n        d=\"M0 0h8v16h-8zM9.143 0h6.857v9.143h-6.857zM9.143 10.286h6.857v5.714h-6.857z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Select from '../../../components/controls/Select';\nimport ListIcon from '../../../components/icons/ListIcon';\nimport TreeIcon from '../../../components/icons/TreeIcon';\nimport TreemapIcon from '../../../components/icons/TreemapIcon';\nimport { translate } from '../../../helpers/l10n';\nimport { MeasurePageView } from '../../../types/measures';\nimport { hasList, hasTree, hasTreemap } from '../utils';\n\ninterface Props {\n  className?: string;\n  metric: T.Metric;\n  handleViewChange: (view: MeasurePageView) => void;\n  view: MeasurePageView;\n}\n\nexport default class MeasureViewSelect extends React.PureComponent<Props> {\n  getOptions = () => {\n    const { metric } = this.props;\n    const options = [];\n    if (hasTree(metric.key)) {\n      options.push({\n        icon: <TreeIcon />,\n        label: translate('component_measures.tab.tree'),\n        value: 'tree'\n      });\n    }\n    if (hasList(metric.key)) {\n      options.push({\n        icon: <ListIcon />,\n        label: translate('component_measures.tab.list'),\n        value: 'list'\n      });\n    }\n    if (hasTreemap(metric.key, metric.type)) {\n      options.push({\n        icon: <TreemapIcon />,\n        label: translate('component_measures.tab.treemap'),\n        value: 'treemap'\n      });\n    }\n    return options;\n  };\n\n  handleChange = (option: { value: string }) => {\n    return this.props.handleViewChange(option.value as MeasurePageView);\n  };\n\n  renderOption = (option: { icon: JSX.Element; label: string }) => {\n    return (\n      <>\n        {option.icon}\n        <span className=\"little-spacer-left\">{option.label}</span>\n      </>\n    );\n  };\n\n  render() {\n    return (\n      <Select\n        autoBlur={true}\n        className={this.props.className}\n        clearable={false}\n        onChange={this.handleChange}\n        optionRenderer={this.renderOption}\n        options={this.getOptions()}\n        searchable={false}\n        value={this.props.view}\n        valueRenderer={this.renderOption}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { InjectedRouter } from 'react-router';\nimport { getComponentTree } from '../../../api/components';\nimport { getMeasures } from '../../../api/measures';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport PageActions from '../../../components/ui/PageActions';\nimport { getBranchLikeQuery, isSameBranchLike } from '../../../helpers/branch-like';\nimport { translate } from '../../../helpers/l10n';\nimport { isDiffMetric } from '../../../helpers/measures';\nimport { RequestData } from '../../../helpers/request';\nimport { scrollToElement } from '../../../helpers/scrolling';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { MeasurePageView } from '../../../types/measures';\nimport { MetricKey } from '../../../types/metrics';\nimport { complementary } from '../config/complementary';\nimport FilesView from '../drilldown/FilesView';\nimport TreeMapView from '../drilldown/TreeMapView';\nimport { enhanceComponent, isFileType, isViewType, Query } from '../utils';\nimport Breadcrumbs from './Breadcrumbs';\nimport MeasureContentHeader from './MeasureContentHeader';\nimport MeasureHeader from './MeasureHeader';\nimport MeasureViewSelect from './MeasureViewSelect';\n\ninterface Props {\n  branchLike?: BranchLike;\n  leakPeriod?: T.Period;\n  requestedMetric: Pick<T.Metric, 'key' | 'direction'>;\n  metrics: T.Dict<T.Metric>;\n  onIssueChange?: (issue: T.Issue) => void;\n  rootComponent: T.ComponentMeasure;\n  router: InjectedRouter;\n  selected?: string;\n  updateQuery: (query: Partial<Query>) => void;\n  view: MeasurePageView;\n}\n\ninterface State {\n  baseComponent?: T.ComponentMeasure;\n  components: T.ComponentMeasureEnhanced[];\n  loadingMoreComponents: boolean;\n  measure?: T.Measure;\n  metric?: T.Metric;\n  paging?: T.Paging;\n  secondaryMeasure?: T.Measure;\n  selected?: string;\n}\n\nexport default class MeasureContent extends React.PureComponent<Props, State> {\n  container?: HTMLElement | null;\n  mounted = false;\n  state: State = {\n    components: [],\n    loadingMoreComponents: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponentTree();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const prevComponentKey = prevProps.selected || prevProps.rootComponent.key;\n    const componentKey = this.props.selected || this.props.rootComponent.key;\n    if (\n      prevComponentKey !== componentKey ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      prevProps.requestedMetric !== this.props.requestedMetric ||\n      prevProps.view !== this.props.view\n    ) {\n      this.fetchComponentTree();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchComponentTree = () => {\n    const { metricKeys, opts, strategy } = this.getComponentRequestParams(\n      this.props.view,\n      this.props.requestedMetric\n    );\n    const componentKey = this.props.selected || this.props.rootComponent.key;\n    const baseComponentMetrics = [this.props.requestedMetric.key];\n    if (this.props.requestedMetric.key === MetricKey.ncloc) {\n      baseComponentMetrics.push('ncloc_language_distribution');\n    }\n    Promise.all([\n      getComponentTree(strategy, componentKey, metricKeys, opts),\n      getMeasures({\n        component: componentKey,\n        metricKeys: baseComponentMetrics.join(),\n        ...getBranchLikeQuery(this.props.branchLike)\n      })\n    ]).then(([tree, measures]) => {\n      if (this.mounted) {\n        const metric = tree.metrics.find(m => m.key === this.props.requestedMetric.key);\n        const components = tree.components.map(component =>\n          enhanceComponent(component, metric, this.props.metrics)\n        );\n\n        const measure = measures.find(measure => measure.metric === this.props.requestedMetric.key);\n        const secondaryMeasure = measures.find(\n          measure => measure.metric !== this.props.requestedMetric.key\n        );\n\n        this.setState(({ selected }) => ({\n          baseComponent: tree.baseComponent,\n          components,\n          measure,\n          metric,\n          paging: tree.paging,\n          secondaryMeasure,\n          selected:\n            components.length > 0 && components.find(c => c.key === selected) ? selected : undefined\n        }));\n      }\n    });\n  };\n\n  fetchMoreComponents = () => {\n    const { metrics, view } = this.props;\n    const { baseComponent, metric, paging } = this.state;\n    if (!baseComponent || !paging || !metric) {\n      return;\n    }\n    const { metricKeys, opts, strategy } = this.getComponentRequestParams(view, metric, {\n      p: paging.pageIndex + 1\n    });\n    this.setState({ loadingMoreComponents: true });\n    getComponentTree(strategy, baseComponent.key, metricKeys, opts).then(\n      r => {\n        if (this.mounted && metric.key === this.props.requestedMetric.key) {\n          this.setState(state => ({\n            components: [\n              ...state.components,\n              ...r.components.map(component => enhanceComponent(component, metric, metrics))\n            ],\n            loadingMoreComponents: false,\n            paging: r.paging\n          }));\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loadingMoreComponents: false });\n        }\n      }\n    );\n  };\n\n  getComponentRequestParams(\n    view: MeasurePageView,\n    metric: Pick<T.Metric, 'key' | 'direction'>,\n    options: Object = {}\n  ) {\n    const strategy = view === 'list' ? 'leaves' : 'children';\n    const metricKeys = [metric.key];\n    const opts: RequestData = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      additionalFields: 'metrics',\n      ps: 500\n    };\n\n    const setMetricSort = () => {\n      const isDiff = isDiffMetric(metric.key);\n      opts.s = isDiff ? 'metricPeriod' : 'metric';\n      opts.metricSortFilter = 'withMeasuresOnly';\n      if (isDiff) {\n        opts.metricPeriodSort = 1;\n      }\n    };\n\n    const isDiff = isDiffMetric(metric.key);\n    if (view === 'tree') {\n      metricKeys.push(...(complementary[metric.key] || []));\n      opts.asc = true;\n      opts.s = 'qualifier,name';\n    } else if (view === 'list') {\n      metricKeys.push(...(complementary[metric.key] || []));\n      opts.asc = metric.direction === 1;\n      opts.metricSort = metric.key;\n      setMetricSort();\n    } else if (view === 'treemap') {\n      const sizeMetric = isDiff ? 'new_lines' : 'ncloc';\n      metricKeys.push(sizeMetric);\n      opts.asc = false;\n      opts.metricSort = sizeMetric;\n      setMetricSort();\n    }\n\n    return { metricKeys, opts: { ...opts, ...options }, strategy };\n  }\n\n  updateSelected = (component: string) => {\n    this.props.updateQuery({\n      selected: component !== this.props.rootComponent.key ? component : undefined\n    });\n  };\n\n  updateView = (view: MeasurePageView) => {\n    this.props.updateQuery({ view });\n  };\n\n  onOpenComponent = (componentKey: string) => {\n    if (isViewType(this.props.rootComponent)) {\n      const component = this.state.components.find(\n        component => component.refKey === componentKey || component.key === componentKey\n      );\n      if (component && component.refKey !== undefined) {\n        if (this.props.view === 'treemap') {\n          this.props.router.push(getProjectUrl(componentKey));\n        }\n        return;\n      }\n    }\n    this.setState(state => ({ selected: state.baseComponent!.key }));\n    this.updateSelected(componentKey);\n    if (this.container) {\n      this.container.focus();\n    }\n  };\n\n  onSelectComponent = (componentKey: string) => {\n    this.setState({ selected: componentKey });\n  };\n\n  getSelectedIndex = () => {\n    const componentKey = isFileType(this.state.baseComponent!)\n      ? this.state.baseComponent!.key\n      : this.state.selected;\n    const index = this.state.components.findIndex(component => component.key === componentKey);\n    return index !== -1 ? index : undefined;\n  };\n\n  handleScroll = (element: Element) => {\n    const offset = window.innerHeight / 2;\n    scrollToElement(element, { topOffset: offset - 100, bottomOffset: offset, smooth: true });\n  };\n\n  renderMeasure() {\n    const { view } = this.props;\n    const { metric } = this.state;\n    if (!metric) {\n      return null;\n    }\n    if (view === 'tree' || view === 'list') {\n      const selectedIdx = this.getSelectedIndex();\n      return (\n        <FilesView\n          branchLike={this.props.branchLike}\n          components={this.state.components}\n          defaultShowBestMeasures={view === 'tree'}\n          fetchMore={this.fetchMoreComponents}\n          handleOpen={this.onOpenComponent}\n          handleSelect={this.onSelectComponent}\n          loadingMore={this.state.loadingMoreComponents}\n          metric={metric}\n          metrics={this.props.metrics}\n          paging={this.state.paging}\n          rootComponent={this.props.rootComponent}\n          selectedIdx={selectedIdx}\n          selectedKey={selectedIdx !== undefined ? this.state.selected : undefined}\n          view={view}\n        />\n      );\n    } else {\n      return (\n        <TreeMapView\n          branchLike={this.props.branchLike}\n          components={this.state.components}\n          handleSelect={this.onOpenComponent}\n          metric={metric}\n        />\n      );\n    }\n  }\n\n  render() {\n    const { branchLike, rootComponent, view } = this.props;\n    const { baseComponent, measure, metric, paging, secondaryMeasure } = this.state;\n\n    if (!baseComponent || !metric) {\n      return null;\n    }\n\n    const measureValue =\n      measure && (isDiffMetric(measure.metric) ? measure.period?.value : measure.value);\n    const isFile = isFileType(baseComponent);\n    const selectedIdx = this.getSelectedIndex();\n\n    return (\n      <div className=\"layout-page-main no-outline\" ref={container => (this.container = container)}>\n        <A11ySkipTarget anchor=\"measures_main\" />\n\n        <div className=\"layout-page-header-panel layout-page-main-header\">\n          <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n            <div className=\"layout-page-main-inner\">\n              <MeasureContentHeader\n                left={\n                  <Breadcrumbs\n                    backToFirst={view === 'list'}\n                    branchLike={branchLike}\n                    className=\"text-ellipsis flex-1\"\n                    component={baseComponent}\n                    handleSelect={this.onOpenComponent}\n                    rootComponent={rootComponent}\n                  />\n                }\n                right={\n                  <div className=\"display-flex-center\">\n                    {!isFile && metric && (\n                      <>\n                        <div>{translate('component_measures.view_as')}</div>\n                        <MeasureViewSelect\n                          className=\"measure-view-select spacer-left big-spacer-right\"\n                          handleViewChange={this.updateView}\n                          metric={metric}\n                          view={view}\n                        />\n\n                        <PageActions\n                          componentQualifier={rootComponent.qualifier}\n                          current={\n                            selectedIdx !== undefined && view !== 'treemap'\n                              ? selectedIdx + 1\n                              : undefined\n                          }\n                          showShortcuts={['list', 'tree'].includes(view)}\n                          total={paging && paging.total}\n                        />\n                      </>\n                    )}\n                  </div>\n                }\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"layout-page-main-inner measure-details-content\">\n          <MeasureHeader\n            branchLike={branchLike}\n            component={baseComponent}\n            leakPeriod={this.props.leakPeriod}\n            measureValue={measureValue}\n            metric={metric}\n            secondaryMeasure={secondaryMeasure}\n          />\n          {isFile ? (\n            <div className=\"measure-details-viewer\">\n              <SourceViewer\n                branchLike={branchLike}\n                component={baseComponent.key}\n                metricKey={this.state.metric?.key}\n                onIssueChange={this.props.onIssueChange}\n                scroll={this.handleScroll}\n              />\n            </div>\n          ) : (\n            this.renderMeasure()\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OriginalBubbleChart from '../../../components/charts/BubbleChart';\nimport ColorRatingsLegend from '../../../components/charts/ColorRatingsLegend';\nimport HelpTooltip from '../../../components/controls/HelpTooltip';\nimport { RATING_COLORS } from '../../../helpers/constants';\nimport {\n  getLocalizedMetricDomain,\n  getLocalizedMetricName,\n  translate,\n  translateWithParameters\n} from '../../../helpers/l10n';\nimport { formatMeasure, isDiffMetric } from '../../../helpers/measures';\nimport { isDefined } from '../../../helpers/types';\nimport {\n  BUBBLES_FETCH_LIMIT,\n  getBubbleMetrics,\n  getBubbleYDomain,\n  isProjectOverview\n} from '../utils';\nimport EmptyResult from './EmptyResult';\n\nconst HEIGHT = 500;\n\ninterface Props {\n  component: T.ComponentMeasure;\n  components: T.ComponentMeasureEnhanced[];\n  domain: string;\n  metrics: T.Dict<T.Metric>;\n  paging?: T.Paging;\n  updateSelected: (component: string) => void;\n}\n\ninterface State {\n  ratingFilters: { [rating: number]: boolean };\n}\n\nexport default class BubbleChart extends React.PureComponent<Props, State> {\n  state: State = {\n    ratingFilters: {}\n  };\n\n  getMeasureVal = (component: T.ComponentMeasureEnhanced, metric: T.Metric) => {\n    const measure = component.measures.find(measure => measure.metric.key === metric.key);\n    if (!measure) {\n      return undefined;\n    }\n    return Number(isDiffMetric(metric.key) ? measure.leak : measure.value);\n  };\n\n  getTooltip(\n    componentName: string,\n    values: { x: number; y: number; size: number; colors?: Array<number | undefined> },\n    metrics: { x: T.Metric; y: T.Metric; size: T.Metric; colors?: T.Metric[] }\n  ) {\n    const inner = [\n      componentName,\n      `${metrics.x.name}: ${formatMeasure(values.x, metrics.x.type)}`,\n      `${metrics.y.name}: ${formatMeasure(values.y, metrics.y.type)}`,\n      `${metrics.size.name}: ${formatMeasure(values.size, metrics.size.type)}`\n    ];\n    const { colors: valuesColors } = values;\n    const { colors: metricColors } = metrics;\n    if (valuesColors && metricColors) {\n      metricColors.forEach((metric, idx) => {\n        const colorValue = valuesColors[idx];\n        if (colorValue || colorValue === 0) {\n          inner.push(`${metric.name}: ${formatMeasure(colorValue, metric.type)}`);\n        }\n      });\n    }\n    return (\n      <div className=\"text-left\">\n        {inner.map((line, index) => (\n          <React.Fragment key={index}>\n            {line}\n            {index < inner.length - 1 && <br />}\n          </React.Fragment>\n        ))}\n      </div>\n    );\n  }\n\n  handleRatingFilterClick = (selection: number) => {\n    this.setState(({ ratingFilters }) => {\n      return { ratingFilters: { ...ratingFilters, [selection]: !ratingFilters[selection] } };\n    });\n  };\n\n  handleBubbleClick = (component: T.ComponentMeasureEnhanced) =>\n    this.props.updateSelected(component.refKey || component.key);\n\n  getDescription(domain: string) {\n    const description = `component_measures.overview.${domain}.description`;\n    const translatedDescription = translate(description);\n    if (description === translatedDescription) {\n      return null;\n    }\n    return translatedDescription;\n  }\n\n  renderBubbleChart(metrics: { x: T.Metric; y: T.Metric; size: T.Metric; colors?: T.Metric[] }) {\n    const { ratingFilters } = this.state;\n\n    const items = this.props.components\n      .map(component => {\n        const x = this.getMeasureVal(component, metrics.x);\n        const y = this.getMeasureVal(component, metrics.y);\n        const size = this.getMeasureVal(component, metrics.size);\n        const colors =\n          metrics.colors && metrics.colors.map(metric => this.getMeasureVal(component, metric));\n        if ((!x && x !== 0) || (!y && y !== 0) || (!size && size !== 0)) {\n          return undefined;\n        }\n\n        const colorRating = colors && Math.max(...colors.filter(isDefined));\n\n        // Filter out items that match ratingFilters\n        if (colorRating !== undefined && ratingFilters[colorRating]) {\n          return undefined;\n        }\n\n        return {\n          x,\n          y,\n          size,\n          color: colorRating !== undefined ? RATING_COLORS[colorRating - 1] : undefined,\n          data: component,\n          tooltip: this.getTooltip(component.name, { x, y, size, colors }, metrics)\n        };\n      })\n      .filter(isDefined);\n\n    const formatXTick = (tick: string | number | undefined) => formatMeasure(tick, metrics.x.type);\n    const formatYTick = (tick: string | number | undefined) => formatMeasure(tick, metrics.y.type);\n\n    let xDomain: [number, number] | undefined;\n    if (items.reduce((acc, item) => acc + item.x, 0) === 0) {\n      // All items are on the 0 axis. This won't display the grid on the X axis,\n      // which can make the graph a little hard to read. Force the display of\n      // the X grid.\n      xDomain = [0, 100];\n    }\n\n    return (\n      <OriginalBubbleChart<T.ComponentMeasureEnhanced>\n        formatXTick={formatXTick}\n        formatYTick={formatYTick}\n        height={HEIGHT}\n        items={items}\n        onBubbleClick={this.handleBubbleClick}\n        padding={[25, 60, 50, 60]}\n        yDomain={getBubbleYDomain(this.props.domain)}\n        xDomain={xDomain}\n      />\n    );\n  }\n\n  renderChartHeader(domain: string, sizeMetric: T.Metric, colorsMetric?: T.Metric[]) {\n    const { ratingFilters } = this.state;\n    const { paging } = this.props;\n\n    const title = isProjectOverview(domain)\n      ? translate('component_measures.overview', domain, 'title')\n      : translateWithParameters(\n          'component_measures.domain_x_overview',\n          getLocalizedMetricDomain(domain)\n        );\n    return (\n      <div className=\"measure-overview-bubble-chart-header\">\n        <span className=\"measure-overview-bubble-chart-title\">\n          <div className=\"display-flex-center\">\n            {title}\n            <HelpTooltip className=\"spacer-left\" overlay={this.getDescription(domain)} />\n          </div>\n\n          {paging?.total && paging?.total > BUBBLES_FETCH_LIMIT && (\n            <div className=\"note spacer-top\">\n              ({translate('component_measures.legend.only_first_500_files')})\n            </div>\n          )}\n        </span>\n        <span className=\"measure-overview-bubble-chart-legend\">\n          <span className=\"note\">\n            {colorsMetric && (\n              <span className=\"spacer-right\">\n                {translateWithParameters(\n                  'component_measures.legend.color_x',\n                  colorsMetric.length > 1\n                    ? translateWithParameters(\n                        'component_measures.legend.worse_of_x_y',\n                        ...colorsMetric.map(metric => getLocalizedMetricName(metric))\n                      )\n                    : getLocalizedMetricName(colorsMetric[0])\n                )}\n              </span>\n            )}\n            {translateWithParameters(\n              'component_measures.legend.size_x',\n              getLocalizedMetricName(sizeMetric)\n            )}\n          </span>\n          {colorsMetric && (\n            <ColorRatingsLegend\n              className=\"spacer-top\"\n              filters={ratingFilters}\n              onRatingClick={this.handleRatingFilterClick}\n            />\n          )}\n        </span>\n      </div>\n    );\n  }\n\n  render() {\n    if (this.props.components.length <= 0) {\n      return <EmptyResult />;\n    }\n    const { domain } = this.props;\n    const metrics = getBubbleMetrics(domain, this.props.metrics);\n\n    return (\n      <div className=\"measure-overview-bubble-chart\">\n        {this.renderChartHeader(domain, metrics.size, metrics.colors)}\n        <div className=\"measure-overview-bubble-chart-content\">\n          {this.renderBubbleChart(metrics)}\n        </div>\n        <div className=\"measure-overview-bubble-chart-axis x\">\n          {getLocalizedMetricName(metrics.x)}\n        </div>\n        <div className=\"measure-overview-bubble-chart-axis y\">\n          {getLocalizedMetricName(metrics.y)}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getComponentLeaves } from '../../../api/components';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport DeferredSpinner from '../../../components/ui/DeferredSpinner';\nimport PageActions from '../../../components/ui/PageActions';\nimport { getBranchLikeQuery, isSameBranchLike } from '../../../helpers/branch-like';\nimport { BranchLike } from '../../../types/branch-like';\nimport BubbleChart from '../drilldown/BubbleChart';\nimport {\n  BUBBLES_FETCH_LIMIT,\n  enhanceComponent,\n  getBubbleMetrics,\n  hasFullMeasures,\n  isFileType\n} from '../utils';\nimport Breadcrumbs from './Breadcrumbs';\nimport LeakPeriodLegend from './LeakPeriodLegend';\nimport MeasureContentHeader from './MeasureContentHeader';\n\ninterface Props {\n  branchLike?: BranchLike;\n  className?: string;\n  component: T.ComponentMeasure;\n  domain: string;\n  leakPeriod?: T.Period;\n  loading: boolean;\n  metrics: T.Dict<T.Metric>;\n  onIssueChange?: (issue: T.Issue) => void;\n  rootComponent: T.ComponentMeasure;\n  updateLoading: (param: T.Dict<boolean>) => void;\n  updateSelected: (component: string) => void;\n}\n\ninterface State {\n  components: T.ComponentMeasureEnhanced[];\n  paging?: T.Paging;\n}\n\nexport default class MeasureOverview extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { components: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponents();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      prevProps.metrics !== this.props.metrics ||\n      prevProps.domain !== this.props.domain\n    ) {\n      this.fetchComponents();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchComponents = () => {\n    const { branchLike, component, domain, metrics } = this.props;\n    if (isFileType(component)) {\n      this.setState({ components: [], paging: undefined });\n      return;\n    }\n    const { x, y, size, colors } = getBubbleMetrics(domain, metrics);\n    const metricsKey = [x.key, y.key, size.key];\n    if (colors) {\n      metricsKey.push(...colors.map(metric => metric.key));\n    }\n    const options = {\n      ...getBranchLikeQuery(branchLike),\n      s: 'metric',\n      metricSort: size.key,\n      asc: false,\n      ps: BUBBLES_FETCH_LIMIT\n    };\n\n    this.props.updateLoading({ bubbles: true });\n    getComponentLeaves(component.key, metricsKey, options).then(\n      r => {\n        if (domain === this.props.domain) {\n          if (this.mounted) {\n            this.setState({\n              components: r.components.map(c => enhanceComponent(c, undefined, metrics)),\n              paging: r.paging\n            });\n          }\n          this.props.updateLoading({ bubbles: false });\n        }\n      },\n      () => this.props.updateLoading({ bubbles: false })\n    );\n  };\n\n  renderContent() {\n    const { branchLike, component, domain, metrics } = this.props;\n    const { paging } = this.state;\n\n    if (isFileType(component)) {\n      return (\n        <div className=\"measure-details-viewer\">\n          <SourceViewer\n            branchLike={branchLike}\n            component={component.key}\n            onIssueChange={this.props.onIssueChange}\n          />\n        </div>\n      );\n    }\n\n    return (\n      <BubbleChart\n        component={component}\n        components={this.state.components}\n        domain={domain}\n        metrics={metrics}\n        paging={paging}\n        updateSelected={this.props.updateSelected}\n      />\n    );\n  }\n\n  render() {\n    const { branchLike, className, component, leakPeriod, loading, rootComponent } = this.props;\n    const displayLeak = hasFullMeasures(branchLike);\n    return (\n      <div className={className}>\n        <div className=\"layout-page-header-panel layout-page-main-header\">\n          <A11ySkipTarget anchor=\"measures_main\" />\n\n          <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n            <div className=\"layout-page-main-inner\">\n              <MeasureContentHeader\n                left={\n                  <Breadcrumbs\n                    backToFirst={true}\n                    branchLike={branchLike}\n                    className=\"text-ellipsis\"\n                    component={component}\n                    handleSelect={this.props.updateSelected}\n                    rootComponent={rootComponent}\n                  />\n                }\n                right={\n                  <PageActions\n                    componentQualifier={rootComponent.qualifier}\n                    current={this.state.components.length}\n                  />\n                }\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"layout-page-main-inner measure-details-content\">\n          <div className=\"clearfix big-spacer-bottom\">\n            {leakPeriod && displayLeak && (\n              <LeakPeriodLegend className=\"pull-right\" component={component} period={leakPeriod} />\n            )}\n          </div>\n          <DeferredSpinner loading={loading} />\n          {!loading && this.renderContent()}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { InjectedRouter } from 'react-router';\nimport { getComponentShow } from '../../../api/components';\nimport { getBranchLikeQuery, isSameBranchLike } from '../../../helpers/branch-like';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { isViewType, Query } from '../utils';\nimport MeasureOverview from './MeasureOverview';\n\ninterface Props {\n  branchLike?: BranchLike;\n  className?: string;\n  domain: string;\n  leakPeriod?: T.Period;\n  metrics: T.Dict<T.Metric>;\n  onIssueChange?: (issue: T.Issue) => void;\n  rootComponent: T.ComponentMeasure;\n  router: InjectedRouter;\n  selected?: string;\n  updateQuery: (query: Partial<Query>) => void;\n}\n\ninterface LoadingState {\n  bubbles: boolean;\n  component: boolean;\n}\n\ninterface State {\n  component?: T.ComponentMeasure;\n  loading: LoadingState;\n}\n\nexport default class MeasureOverviewContainer extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  state: State = {\n    loading: { bubbles: false, component: false }\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponent();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const prevComponentKey = prevProps.selected || prevProps.rootComponent.key;\n    const componentKey = this.props.selected || this.props.rootComponent.key;\n    if (\n      prevComponentKey !== componentKey ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      prevProps.domain !== this.props.domain\n    ) {\n      this.fetchComponent();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchComponent = () => {\n    const { branchLike, rootComponent, selected } = this.props;\n    if (!selected || rootComponent.key === selected) {\n      this.setState({ component: rootComponent });\n      this.updateLoading({ component: false });\n      return;\n    }\n    this.updateLoading({ component: true });\n    getComponentShow({ component: selected, ...getBranchLikeQuery(branchLike) }).then(\n      ({ component }) => {\n        if (this.mounted) {\n          this.setState({ component });\n          this.updateLoading({ component: false });\n        }\n      },\n      () => this.updateLoading({ component: false })\n    );\n  };\n\n  updateLoading = (loading: Partial<LoadingState>) => {\n    if (this.mounted) {\n      this.setState(state => ({ loading: { ...state.loading, ...loading } }));\n    }\n  };\n\n  updateSelected = (component: string) => {\n    if (this.state.component && isViewType(this.state.component)) {\n      this.props.router.push(getProjectUrl(component));\n    } else {\n      this.props.updateQuery({\n        selected: component !== this.props.rootComponent.key ? component : undefined\n      });\n    }\n  };\n\n  render() {\n    if (!this.state.component) {\n      return null;\n    }\n\n    return (\n      <MeasureOverview\n        branchLike={this.props.branchLike}\n        className={this.props.className}\n        component={this.state.component}\n        domain={this.props.domain}\n        leakPeriod={this.props.leakPeriod}\n        loading={this.state.loading.component || this.state.loading.bubbles}\n        metrics={this.props.metrics}\n        onIssueChange={this.props.onIssueChange}\n        rootComponent={this.props.rootComponent}\n        updateLoading={this.updateLoading}\n        updateSelected={this.updateSelected}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\n\nexport default function MeasuresEmpty() {\n  return (\n    <div className=\"page page-limited\">\n      <div className=\"note\">{translate('component_measures.empty')}</div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport { debounce, keyBy } from 'lodash';\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { connect } from 'react-redux';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport { getMeasuresWithPeriod } from '../../../api/measures';\nimport { getAllMetrics } from '../../../api/metrics';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport { enhanceMeasure } from '../../../components/measure/utils';\nimport '../../../components/search-navigator.css';\nimport { getBranchLikeQuery, isPullRequest, isSameBranchLike } from '../../../helpers/branch-like';\nimport {\n  getLocalizedMetricDomain,\n  translate,\n  translateWithParameters\n} from '../../../helpers/l10n';\nimport {\n  addSideBarClass,\n  addWhitePageClass,\n  removeSideBarClass,\n  removeWhitePageClass\n} from '../../../helpers/pages';\nimport { fetchBranchStatus } from '../../../store/rootActions';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\nimport Sidebar from '../sidebar/Sidebar';\nimport '../style.css';\nimport {\n  banQualityGateMeasure,\n  getMeasuresPageMetricKeys,\n  groupByDomains,\n  hasBubbleChart,\n  hasFullMeasures,\n  hasTree,\n  hasTreemap,\n  isProjectOverview,\n  parseQuery,\n  Query,\n  serializeQuery,\n  sortMeasures\n} from '../utils';\nimport MeasureContent from './MeasureContent';\nimport MeasureOverviewContainer from './MeasureOverviewContainer';\nimport MeasuresEmpty from './MeasuresEmpty';\n\ninterface Props extends WithRouterProps {\n  branchLike?: BranchLike;\n  component: T.ComponentMeasure;\n  fetchBranchStatus: (branchLike: BranchLike, projectKey: string) => Promise<void>;\n}\n\ninterface State {\n  leakPeriod?: T.Period;\n  loading: boolean;\n  measures: T.MeasureEnhanced[];\n  metrics: T.Dict<T.Metric>;\n}\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      loading: true,\n      measures: [],\n      metrics: {}\n    };\n    this.refreshBranchStatus = debounce(this.refreshBranchStatus, 1000);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    key.setScope('measures-files');\n    getAllMetrics().then(\n      metrics => {\n        const byKey = keyBy(metrics, 'key');\n        this.setState({ metrics: byKey });\n        this.fetchMeasures(byKey);\n      },\n      () => {}\n    );\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    const prevQuery = parseQuery(prevProps.location.query);\n    const query = parseQuery(this.props.location.query);\n\n    if (\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      prevProps.component.key !== this.props.component.key ||\n      prevQuery.selected !== query.selected\n    ) {\n      this.fetchMeasures(this.state.metrics);\n    }\n\n    if (prevState.measures.length === 0 && this.state.measures.length > 0) {\n      addWhitePageClass();\n      addSideBarClass();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    removeWhitePageClass();\n    removeSideBarClass();\n    key.deleteScope('measures-files');\n  }\n\n  fetchMeasures(metrics: State['metrics']) {\n    const { branchLike } = this.props;\n    const query = parseQuery(this.props.location.query);\n    const componentKey = query.selected || this.props.component.key;\n\n    const filteredKeys = getMeasuresPageMetricKeys(metrics, branchLike);\n\n    getMeasuresWithPeriod(componentKey, filteredKeys, getBranchLikeQuery(branchLike)).then(\n      ({ component, period }) => {\n        if (this.mounted) {\n          const measures = banQualityGateMeasure(component).map(measure =>\n            enhanceMeasure(measure, metrics)\n          );\n\n          const leakPeriod =\n            component.qualifier === ComponentQualifier.Project ? period : undefined;\n\n          this.setState({\n            loading: false,\n            leakPeriod,\n            measures: measures.filter(\n              measure => measure.value !== undefined || measure.leak !== undefined\n            )\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  getHelmetTitle = (query: Query, displayOverview: boolean, metric?: T.Metric) => {\n    if (displayOverview && query.metric) {\n      return isProjectOverview(query.metric)\n        ? translate('component_measures.overview.project_overview.facet')\n        : translateWithParameters(\n            'component_measures.domain_x_overview',\n            getLocalizedMetricDomain(query.metric)\n          );\n    }\n    return metric ? metric.name : translate('layout.measures');\n  };\n\n  getSelectedMetric = (query: Query, displayOverview: boolean) => {\n    if (displayOverview) {\n      return undefined;\n    }\n    const metric = this.state.metrics[query.metric];\n    if (!metric) {\n      const domainMeasures = groupByDomains(this.state.measures);\n      const firstMeasure =\n        domainMeasures[0] && sortMeasures(domainMeasures[0].name, domainMeasures[0].measures)[0];\n      if (firstMeasure && typeof firstMeasure !== 'string') {\n        return firstMeasure.metric;\n      }\n    }\n    return metric;\n  };\n\n  handleIssueChange = (_: T.Issue) => {\n    this.refreshBranchStatus();\n  };\n\n  updateQuery = (newQuery: Partial<Query>) => {\n    const query: Query = { ...parseQuery(this.props.location.query), ...newQuery };\n\n    const metric = this.getSelectedMetric(query, false);\n    if (metric) {\n      if (query.view === 'treemap' && !hasTreemap(metric.key, metric.type)) {\n        query.view = 'tree';\n      } else if (query.view === 'tree' && !hasTree(metric.key)) {\n        query.view = 'list';\n      }\n    }\n\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(query),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component.key\n      }\n    });\n  };\n\n  refreshBranchStatus = () => {\n    const { branchLike, component } = this.props;\n    if (branchLike && component && isPullRequest(branchLike)) {\n      this.props.fetchBranchStatus(branchLike, component.key);\n    }\n  };\n\n  renderContent = (displayOverview: boolean, query: Query, metric?: T.Metric) => {\n    const { branchLike, component } = this.props;\n    const { leakPeriod } = this.state;\n    if (displayOverview) {\n      return (\n        <MeasureOverviewContainer\n          branchLike={branchLike}\n          className=\"layout-page-main\"\n          domain={query.metric}\n          leakPeriod={leakPeriod}\n          metrics={this.state.metrics}\n          onIssueChange={this.handleIssueChange}\n          rootComponent={component}\n          router={this.props.router}\n          selected={query.selected}\n          updateQuery={this.updateQuery}\n        />\n      );\n    }\n\n    if (!metric) {\n      return <MeasuresEmpty />;\n    }\n\n    const hideDrilldown =\n      isPullRequest(branchLike) &&\n      (metric.key === 'coverage' || metric.key === 'duplicated_lines_density');\n\n    if (hideDrilldown) {\n      return (\n        <div className=\"layout-page-main\">\n          <div className=\"layout-page-main-inner\">\n            <div className=\"note\">{translate('component_measures.details_are_not_available')}</div>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <MeasureContent\n        branchLike={branchLike}\n        leakPeriod={leakPeriod}\n        metrics={this.state.metrics}\n        onIssueChange={this.handleIssueChange}\n        requestedMetric={metric}\n        rootComponent={component}\n        router={this.props.router}\n        selected={query.selected}\n        updateQuery={this.updateQuery}\n        view={query.view}\n      />\n    );\n  };\n\n  render() {\n    if (this.state.loading) {\n      return <i className=\"spinner spacer\" />;\n    }\n\n    const { branchLike } = this.props;\n    const { measures } = this.state;\n    const query = parseQuery(this.props.location.query);\n    const showFullMeasures = hasFullMeasures(branchLike);\n    const displayOverview = hasBubbleChart(query.metric);\n    const metric = this.getSelectedMetric(query, displayOverview);\n\n    return (\n      <div id=\"component-measures\">\n        <Suggestions suggestions=\"component_measures\" />\n        <Helmet defer={false} title={this.getHelmetTitle(query, displayOverview, metric)} />\n\n        {measures.length > 0 ? (\n          <div className=\"layout-page\">\n            <ScreenPositionHelper className=\"layout-page-side-outer\">\n              {({ top }) => (\n                <div className=\"layout-page-side\" style={{ top }}>\n                  <div className=\"layout-page-side-inner\">\n                    <div className=\"layout-page-filters\">\n                      <Sidebar\n                        measures={measures}\n                        selectedMetric={metric ? metric.key : query.metric}\n                        showFullMeasures={showFullMeasures}\n                        updateQuery={this.updateQuery}\n                      />\n                    </div>\n                  </div>\n                </div>\n              )}\n            </ScreenPositionHelper>\n            {this.renderContent(displayOverview, query, metric)}\n          </div>\n        ) : (\n          <MeasuresEmpty />\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = { fetchBranchStatus: fetchBranchStatus as any };\n\nexport default withRouter(connect(null, mapDispatchToProps)(App));\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { colors } from '../../app/theme';\nimport HelpIcon from '../icons/HelpIcon';\nimport { IconProps } from '../icons/Icon';\nimport './HelpTooltip.css';\nimport Tooltip, { Placement } from './Tooltip';\n\ninterface Props extends Pick<IconProps, 'size'> {\n  className?: string;\n  children?: React.ReactNode;\n  onShow?: () => void;\n  overlay: React.ReactNode;\n  placement?: Placement;\n}\n\nexport default function HelpTooltip({ size = 12, ...props }: Props) {\n  return (\n    <div className={classNames('help-tooltip', props.className)}>\n      <Tooltip\n        mouseLeaveDelay={0.25}\n        onShow={props.onShow}\n        overlay={props.overlay}\n        placement={props.placement}>\n        <span className=\"display-inline-flex-center\">\n          {props.children || <HelpIcon fill={colors.gray71} size={size} />}\n        </span>\n      </Tooltip>\n    </div>\n  );\n}\n\nexport function DarkHelpTooltip({ size = 12, ...props }: Omit<Props, 'children'>) {\n  return (\n    <HelpTooltip {...props}>\n      <HelpIcon fill={colors.transparentBlack} fillInner={colors.white} size={size} />\n    </HelpTooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ReactSelectClass, {\n  ReactAsyncSelectProps,\n  ReactCreatableSelectProps,\n  ReactSelectProps\n} from 'react-select';\nimport { lazyLoadComponent } from '../lazyLoadComponent';\nimport { ClearButton } from './buttons';\nimport './Select.css';\n\nconst ReactSelectLib = import('react-select');\nconst ReactSelect = lazyLoadComponent(() => ReactSelectLib);\nconst ReactCreatable = lazyLoadComponent(() =>\n  ReactSelectLib.then(lib => ({ default: lib.Creatable }))\n);\nconst ReactAsync = lazyLoadComponent(() => ReactSelectLib.then(lib => ({ default: lib.Async })));\n\nfunction renderInput() {\n  return <ClearButton className=\"button-tiny spacer-left text-middle\" iconProps={{ size: 12 }} />;\n}\n\nexport interface WithInnerRef {\n  innerRef?: React.Ref<ReactSelectClass<unknown>>;\n}\n\nexport default function Select({ innerRef, ...props }: WithInnerRef & ReactSelectProps) {\n  // hide the \"x\" icon when select is empty\n  const clearable = props.clearable ? Boolean(props.value) : false;\n  return (\n    <ReactSelect {...props} clearable={clearable} clearRenderer={renderInput} ref={innerRef} />\n  );\n}\n\nexport function Creatable(props: ReactCreatableSelectProps) {\n  return <ReactCreatable {...props} clearRenderer={renderInput} />;\n}\n\nexport function AsyncSelect(props: ReactAsyncSelectProps & WithInnerRef) {\n  return <ReactAsync {...props} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { colors } from '../../app/theme';\nimport Icon, { IconProps } from './Icon';\n\nconst qualifierIcons: T.Dict<(props: IconProps) => React.ReactElement> = {\n  app: ApplicationIcon,\n  brc: SubProjectIcon,\n  dev: DeveloperIcon,\n  dir: DirectoryIcon,\n  fil: FileIcon,\n  svw: SubPortfolioIcon,\n  trk: ProjectIcon,\n  uts: UnitTestIcon,\n  vw: PortfolioIcon,\n\n  // deprecated:\n  cla: UnitTestIcon,\n  dev_prj: ProjectIcon,\n  lib: LibraryIcon,\n  pac: DirectoryIcon\n};\n\ninterface QualifierIconProps {\n  className?: string;\n  fill?: string;\n  qualifier: string | null | undefined;\n}\n\nexport default function QualifierIcon(props: QualifierIconProps) {\n  if (!props.qualifier) {\n    return null;\n  }\n\n  const qualifier = props.qualifier.toLowerCase();\n  const FoundIcon = qualifierIcons[qualifier];\n  return FoundIcon ? <FoundIcon className={props.className} fill={props.fill} /> : null;\n}\n\nfunction ApplicationIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction DeveloperIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction DirectoryIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\"\n        style={{ fill: fill || colors.orange }}\n      />\n    </Icon>\n  );\n}\n\nfunction FileIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction LibraryIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction PortfolioIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ProjectIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubPortfolioIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubProjectIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction UnitTestIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport const formatterOption = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric'\n};\n\nexport default function DateTimeFormatter({ children, date }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...formatterOption}>\n      {children}\n    </FormattedDate>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./HelpTooltip.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\nimport DeferredSpinner from '../ui/DeferredSpinner';\nimport { Button } from './buttons';\n\nexport interface ListFooterProps {\n  count: number;\n  className?: string;\n  loading?: boolean;\n  loadMore?: () => void;\n  needReload?: boolean;\n  reload?: () => void;\n  ready?: boolean;\n  total?: number;\n}\n\nexport default function ListFooter(props: ListFooterProps) {\n  const { className, count, loading, needReload, total, ready = true } = props;\n  const hasMore = total && total > count;\n\n  let button;\n  if (needReload && props.reload) {\n    button = (\n      <Button className=\"spacer-left\" data-test=\"reload\" disabled={loading} onClick={props.reload}>\n        {translate('reload')}\n      </Button>\n    );\n  } else if (hasMore && props.loadMore) {\n    button = (\n      <Button\n        className=\"spacer-left\"\n        disabled={loading}\n        data-test=\"show-more\"\n        onClick={props.loadMore}>\n        {translate('show_more')}\n      </Button>\n    );\n  }\n\n  return (\n    <footer\n      className={classNames('spacer-top note text-center', { 'new-loading': !ready }, className)}>\n      {translateWithParameters(\n        'x_of_y_shown',\n        formatMeasure(count, 'INT', null),\n        formatMeasure(total, 'INT', null)\n      )}\n      {button}\n      {loading && <DeferredSpinner className=\"text-bottom spacer-left position-absolute\" />}\n    </footer>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Select.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Select{position:relative;display:inline-block;vertical-align:middle;font-size:12px;text-align:left}.Select,.Select div,.Select input,.Select span{box-sizing:border-box}.Select.is-disabled>.Select-control{background-color:#ebebeb!important;border-color:#ddd!important}.Select.is-disabled>.Select-control:hover{box-shadow:none!important}.Select.is-disabled .Select-arrow-zone{cursor:not-allowed!important;pointer-events:none!important}.Select.is-disabled .Select-placeholder,.Select.is-disabled .Select-value{color:#bbb!important}.Select-control{position:relative;display:table;width:100%;height:24px;line-height:22px;border:1px solid #cdcdcd;border-collapse:separate;border-radius:2px;background-color:#fff;color:#333;cursor:default;outline:none;overflow:hidden}.is-searchable.is-open>.Select-control{cursor:text}.is-open>.Select-control{border-bottom-right-radius:0;border-bottom-left-radius:0;background:#fff}.is-open>.Select-control>.Select-arrow{border-color:transparent transparent #999;border-width:0 5px 5px}.is-searchable.is-focused:not(.is-open)>.Select-control{cursor:text}.is-focused:not(.is-open)>.Select-control{border-color:#4b9fd5}.Select-placeholder{color:#666}.Select-placeholder,:not(.Select--multi)>.Select-control .Select-value{bottom:0;left:0;line-height:23px;padding-left:8px;padding-right:24px;position:absolute;right:0;top:0;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Select-value [class^=icon-]{padding-top:5px}.Select-value img,.Select-value svg{padding-top:3px}.Select-option [class^=icon-],.Select-option img,.Select-option svg{padding-top:2px}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value .Select-value-label,.has-value:not(.Select--multi)>.Select-control>.Select-value .Select-value-label{color:#333}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label{cursor:pointer;text-decoration:none}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:focus,.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:hover,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:focus,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:hover{color:#007eff;outline:none;text-decoration:underline}.Select-input{vertical-align:top;height:22px;padding-left:8px;padding-right:8px;outline:none}.Select-input>input{background:none transparent;border:0;cursor:default;display:inline-block;font-family:inherit;font-size:12px;height:22px;margin:0;outline:none;padding:0;box-shadow:none;-webkit-appearance:none}.is-focused .Select-input>input{cursor:text}.has-value.is-pseudo-focused .Select-input{opacity:0}.Select-control:not(.is-searchable)>.Select-input{outline:none}.Select-loading-zone{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:16px}.Select-loading{animation:Select-animation-spin .4s linear infinite;box-sizing:border-box;border-radius:50%;border:2px solid #ccc;border-right-color:#333;display:inline-block}.Select-clear-zone,.Select-loading{width:16px;height:16px;position:relative;vertical-align:middle}.Select-clear-zone{animation:Select-animation-fadeIn .2s;color:#999;cursor:pointer;display:table-cell;text-align:center;padding-right:4px}.Select-clear-zone:hover .Select-clear{background-image:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxLjQxNCI+PHBhdGggZD0iTTEzLjk2OSAxLjQwNkw4LjM5IDYuOTg0bDUuNTc4IDUuNTc5LTEuNDA2IDEuNDA2TDYuOTg0IDguMzlsLTUuNTc4IDUuNTc4TDAgMTIuNTYzbDUuNTc4LTUuNTc5TDAgMS40MDYgMS40MDYgMGw1LjU3OCA1LjU3OEwxMi41NjMgMGwxLjQwNiAxLjQwNnoiIGZpbGw9IiNlNzE0MzgiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==)}.Select-clear{display:block;width:9px;height:9px;background-image:url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxLjQxNCI+PHBhdGggZD0iTTEzLjk2OSAxLjQwNkw4LjM5IDYuOTg0bDUuNTc4IDUuNTc5LTEuNDA2IDEuNDA2TDYuOTg0IDguMzlsLTUuNTc4IDUuNTc4TDAgMTIuNTYzbDUuNTc4LTUuNTc5TDAgMS40MDYgMS40MDYgMGw1LjU3OCA1LjU3OEwxMi41NjMgMGwxLjQwNiAxLjQwNnoiIGZpbGw9IiM5OTkiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==);background-size:9px 9px;text-indent:-9999px}.Select--multi .Select-clear-zone{width:17px}.Select-arrow-zone{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:20px;padding-right:5px}.Select-arrow{border-color:#999 transparent transparent;border-style:solid;border-width:4px 4px 2px;display:inline-block;height:0;width:0}.is-open .Select-arrow,.Select-arrow-zone:hover>.Select-arrow{border-top-color:#666}@keyframes Select-animation-fadeIn{0%{opacity:0}to{opacity:1}}.Select-menu-outer{border-bottom-right-radius:4px;border-bottom-left-radius:4px;background-color:#fff;border:1px solid #ccc;border-top-color:#e6e6e6;box-sizing:border-box;margin-top:-1px;max-height:200px;position:absolute;top:100%;width:100%;z-index:7500;-webkit-overflow-scrolling:touch;box-shadow:0 6px 12px rgba(0,0,0,.175)}.Select-menu{max-height:198px;padding:5px 0;overflow-y:auto}.Select-option{display:block;line-height:20px;padding:0 8px;box-sizing:border-box;color:#333;font-size:12px;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.Select-option:last-child{border-bottom-right-radius:2px;border-bottom-left-radius:2px}.Select-option.is-focused{background-color:#f3f3f3}.Select-option.is-disabled{cursor:default;opacity:.4;font-style:italic}.Select-noresults{box-sizing:border-box;color:#999;cursor:default;display:block;padding:8px 10px}.Select--multi .Select-value{background-color:rgba(0,126,255,.08);border-radius:2px;border:1px solid rgba(0,126,255,.24);color:#333;display:inline-block;font-size:12px;line-height:14px;margin:1px 4px 1px 1px;vertical-align:top}.Select-value-label{font-size:12px}.is-searchable.is-open .Select-value-label{opacity:.5}.Select-big .Select-control{padding-top:4px;padding-bottom:4px}.Select-big .Select-placeholder{margin-top:4px;margin-bottom:4px}.Select-big .Select-value-label{display:inline-block;margin-top:7px;line-height:16px}.Select-big .Select-option{padding:7px 8px;line-height:16px}.Select-big img,.Select-big svg{padding-top:0}.Select--multi .Select-value-icon,.Select--multi .Select-value-label{display:inline-block;vertical-align:middle}.Select--multi .Select-value-label{display:inline-block;max-width:200px;border-bottom-right-radius:2px;border-top-right-radius:2px;cursor:default;padding:2px 5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Select--multi a.Select-value-label{color:#007eff;cursor:pointer;text-decoration:none}.Select--multi a.Select-value-label:hover{text-decoration:underline}.Select--multi .Select-value-icon{cursor:pointer;border-bottom-left-radius:2px;border-top-left-radius:2px;border-right:1px solid rgba(0,126,255,.24);padding:1px 5px}.Select--multi .Select-value-icon:focus,.Select--multi .Select-value-icon:hover{background-color:rgba(0,113,230,.08);color:#0071e6}.Select--multi .Select-value-icon:active{background-color:rgba(0,126,255,.24)}.Select--multi.is-disabled .Select-value{background-color:#fcfcfc;border:1px solid #e3e3e3;color:#333}.Select--multi.is-disabled .Select-value-icon{cursor:not-allowed;border-right:1px solid #e3e3e3}.Select--multi.is-disabled .Select-value-icon:active,.Select--multi.is-disabled .Select-value-icon:focus,.Select--multi.is-disabled .Select-value-icon:hover{background-color:#fcfcfc}.Select-aria-only{display:none}@keyframes Select-animation-spin{to{transform:rotate(1turn)}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { differenceInHours } from 'date-fns';\nimport * as React from 'react';\nimport { DateSource, FormattedRelative } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\nimport { translate } from '../../helpers/l10n';\nimport DateTimeFormatter from './DateTimeFormatter';\n\nexport interface DateFromNowProps {\n  children?: (formattedDate: string) => React.ReactNode;\n  date?: DateSource;\n  hourPrecision?: boolean;\n}\n\nexport default function DateFromNow(props: DateFromNowProps) {\n  const { children: originalChildren = (f: string) => f, date, hourPrecision } = props;\n  let children = originalChildren;\n\n  if (!date) {\n    /*\n     * We return a JSX.Element to bypass typescript issue with functional components return type\n     * (https://github.com/DefinitelyTyped/DefinitelyTyped/issues/20544)\n     */\n    // eslint-disable-next-line react/jsx-no-useless-fragment\n    return <>{originalChildren(translate('never'))}</>;\n  }\n\n  if (date && hourPrecision && differenceInHours(Date.now(), date) < 1) {\n    children = () => originalChildren(translate('less_than_1_hour_ago'));\n  }\n\n  const parsedDate = parseDate(date);\n\n  return (\n    <DateTimeFormatter date={parsedDate}>\n      {formattedDate => (\n        <span title={formattedDate}>\n          <FormattedRelative value={parsedDate}>{children}</FormattedRelative>\n        </span>\n      )}\n    </DateTimeFormatter>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\nexport interface DateFormatterProps {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n  long?: boolean;\n}\n\nexport const formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\n\nexport const longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\n\nexport default function DateFormatter({ children, date, long }: DateFormatterProps) {\n  return (\n    <FormattedDate value={parseDate(date)} {...(long ? longFormatterOption : formatterOption)}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Level.css';\n\nexport interface LevelProps {\n  'aria-label'?: string;\n  'aria-labelledby'?: string;\n  className?: string;\n  level: string;\n  small?: boolean;\n  muted?: boolean;\n}\n\nexport default function Level(props: LevelProps) {\n  const formatted = formatMeasure(props.level, 'LEVEL');\n  const className = classNames(props.className, 'level', 'level-' + props.level, {\n    'level-small': props.small,\n    'level-muted': props.muted\n  });\n\n  return (\n    <span\n      aria-label={props['aria-label']}\n      aria-labelledby={props['aria-labelledby']}\n      className={className}>\n      {formatted}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IconProps } from './Icon';\nimport IssueIcon from './IssueIcon';\n\nexport interface Props extends IconProps {\n  query: string;\n}\n\nexport default function IssueTypeIcon({ query, ...iconProps }: Props) {\n  let type: T.IssueType;\n\n  switch (query.toLowerCase()) {\n    case 'bug':\n    case 'bugs':\n    case 'new_bugs':\n      type = 'BUG';\n      break;\n    case 'vulnerability':\n    case 'vulnerabilities':\n    case 'new_vulnerabilities':\n      type = 'VULNERABILITY';\n      break;\n    case 'code_smell':\n    case 'code_smells':\n    case 'new_code_smells':\n      type = 'CODE_SMELL';\n      break;\n    case 'security_hotspot':\n    case 'security_hotspots':\n    case 'new_security_hotspots':\n      type = 'SECURITY_HOTSPOT';\n      break;\n    default:\n      return null;\n  }\n\n  return <IssueIcon type={type} {...iconProps} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Rating.css';\n\ninterface Props extends React.AriaAttributes {\n  className?: string;\n  muted?: boolean;\n  small?: boolean;\n  value: string | number | undefined;\n}\n\nexport default function Rating({\n  className,\n  muted = false,\n  small = false,\n  value,\n  ...ariaAttrs\n}: Props) {\n  if (value === undefined) {\n    return (\n      <span aria-label={translate('metric.no_rating')} {...ariaAttrs}>\n        \n      </span>\n    );\n  }\n  const formatted = formatMeasure(value, 'RATING');\n  return (\n    <span\n      aria-label={translateWithParameters('metric.has_rating_X', formatted)}\n      className={classNames(\n        'rating',\n        `rating-${formatted}`,\n        { 'rating-small': small, 'rating-muted': muted },\n        className\n      )}\n      {...ariaAttrs}>\n      {formatted}\n    </span>\n  );\n}\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { colors } from '../../app/theme';\nimport Icon, { IconProps } from './Icon';\n\nexport default function BranchIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M12.5 6.5c0-1.1-.9-2-2-2s-2 .9-2 2c0 .8.5 1.5 1.2 1.8-.3.6-.7 1.1-1.2 1.4-.9.5-1.9.5-2.5.4V4c.9-.2 1.5-1 1.5-1.9 0-1.1-.9-2-2-2s-2 .9-2 2C3.5 3 4.1 3.8 5 4v8c-.9.2-1.5 1-1.5 1.9 0 1.1.9 2 2 2s2-.9 2-2c0-.9-.6-1.7-1.5-1.9v-1c.2 0 .5.1.7.1.7 0 1.5-.1 2.2-.6.8-.5 1.4-1.2 1.7-2.1 1.1 0 1.9-.9 1.9-1.9zm-8-4.4c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.5-1-1zm2 11.9c0 .6-.4 1-1 1s-1-.4-1-1 .4-1 1-1 1 .4 1 1zm4-6.5c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Level.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".level{display:inline-block;min-width:80px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;letter-spacing:.02em;font-size:13px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.level,.level-small{width:auto;padding-left:9px;padding-right:9px}.level-small{min-width:64px;margin-top:-1px;margin-bottom:-1px;height:20px;line-height:20px;font-size:12px}.level-muted{background-color:#bdbdbd!important}a>.level{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.level:hover{opacity:.8}.level-OK{background-color:#0a0}.level-WARN{background-color:#ed7d20}.level-ERROR{background-color:#d4333f}.level-NONE{background-color:#b4b4b4}.level-NOT_COMPUTED{background-color:#404040}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getRatingTooltip as nextGetRatingTooltip, isDiffMetric } from '../../helpers/measures';\n\nconst KNOWN_RATINGS = [\n  'sqale_rating',\n  'maintainability_rating', // Needed to provide the label for \"new_maintainability_rating\"\n  'reliability_rating',\n  'security_rating',\n  'security_review_rating'\n];\n\nexport function enhanceMeasure(measure: T.Measure, metrics: T.Dict<T.Metric>): T.MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: T.MeasureIntern | undefined): string | undefined {\n  return measure?.period?.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronDownIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from '../../components/controls/Tooltip';\nimport Level from '../../components/ui/Level';\nimport Rating from '../../components/ui/Rating';\nimport { formatMeasure } from '../../helpers/measures';\nimport { getRatingTooltip } from './utils';\n\ninterface Props {\n  className?: string;\n  decimals?: number | null;\n  metricKey: string;\n  metricType: string;\n  small?: boolean;\n  value: string | undefined;\n}\n\nexport default function Measure({\n  className,\n  decimals,\n  metricKey,\n  metricType,\n  small,\n  value\n}: Props) {\n  if (value === undefined) {\n    return <span className={className}></span>;\n  }\n\n  if (metricType === 'LEVEL') {\n    return <Level className={className} level={value} small={small} />;\n  }\n\n  if (metricType !== 'RATING') {\n    const formattedValue = formatMeasure(value, metricType, {\n      decimals,\n      omitExtraDecimalZeros: metricType === 'PERCENT'\n    });\n    return <span className={className}>{formattedValue != null ? formattedValue : ''}</span>;\n  }\n\n  const tooltip = getRatingTooltip(metricKey, Number(value));\n  const rating = <Rating small={small} value={value} />;\n  if (tooltip) {\n    return (\n      <Tooltip overlay={tooltip}>\n        <span className={className}>{rating}</span>\n      </Tooltip>\n    );\n  }\n  return rating;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nconst CLASS_SIDEBAR_PAGE = 'sidebar-page';\nconst CLASS_WHITE_PAGE = 'white-page';\nconst CLASS_NO_FOOTER_PAGE = 'no-footer-page';\n\nexport function addSideBarClass() {\n  toggleBodyClass(CLASS_SIDEBAR_PAGE, true);\n}\n\nexport function addWhitePageClass() {\n  toggleBodyClass(CLASS_WHITE_PAGE, true);\n}\n\nexport function addNoFooterPageClass() {\n  /* eslint-disable-next-line no-console */\n  console.warn('DEPRECATED: addNoFooterPageClass() was deprecated.');\n  toggleBodyClass(CLASS_NO_FOOTER_PAGE, true);\n}\n\nexport function removeSideBarClass() {\n  toggleBodyClass(CLASS_SIDEBAR_PAGE, false);\n}\n\nexport function removeWhitePageClass() {\n  toggleBodyClass(CLASS_WHITE_PAGE, false);\n}\n\nexport function removeNoFooterPageClass() {\n  /* eslint-disable-next-line no-console */\n  console.warn('DEPRECATED: removeNoFooterPageClass() was deprecated.');\n  toggleBodyClass(CLASS_NO_FOOTER_PAGE, false);\n}\n\nfunction toggleBodyClass(className: string, force: boolean) {\n  document.body.classList.toggle(className, force);\n  if (document.documentElement) {\n    document.documentElement.classList.toggle(className, force);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ChevronDownIcon from './ChevronDownIcon';\nimport ChevronRightIcon from './ChevronRightIcon';\nimport { IconProps } from './Icon';\n\ninterface Props extends IconProps {\n  open: boolean;\n}\n\nexport default function OpenCloseIcon({ open, ...iconProps }: Props) {\n  return open ? <ChevronDownIcon {...iconProps} /> : <ChevronRightIcon {...iconProps} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce } from 'lodash';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Rating.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".rating{display:inline-block;width:24px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;font-size:16px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.rating-muted{background-color:#bdbdbd!important;color:#fff!important;text-shadow:0 0 1px rgba(0,0,0,.35)!important}a>.rating{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.rating:hover{opacity:.8}.rating-A{line-height:23px;background-color:#0a0}a>.rating-A{border-bottom-color:#0a0}.rating-B{background-color:#b0d513}a .rating-B{border-bottom-color:#b0d513}.rating-C{background-color:#eabe06}a .rating-C{border-bottom-color:#eabe06}.rating-D{background-color:#ed7d20}a .rating-D{border-bottom-color:#ed7d20}.rating-E{background-color:#d4333f}a .rating-E{border-bottom-color:#d4333f}.rating-small{width:18px;height:18px;line-height:18px;margin-top:-1px;margin-bottom:-1px;font-size:12px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../../components/controls/buttons';\nimport HelpTooltip from '../../components/controls/HelpTooltip';\nimport OpenCloseIcon from '../../components/icons/OpenCloseIcon';\nimport DeferredSpinner from '../../components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  fetching?: boolean;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (!values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper display-flex-center\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {this.props.fetching && (\n          <span className=\"little-spacer-right\">\n            <DeferredSpinner />\n          </span>\n        )}\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate('clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  /** Textual version of `name` */\n  tooltip?: string;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  renderValue() {\n    if (this.props.stat == null) {\n      return null;\n    }\n\n    return <span className=\"facet-stat\">{this.props.stat}</span>;\n  }\n\n  render() {\n    const { name } = this.props;\n    const className = classNames('search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    return this.props.disabled ? (\n      <span className={className} data-facet={this.props.value} title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </span>\n    ) : (\n      <a\n        className={className}\n        data-facet={this.props.value}\n        href=\"#\"\n        onClick={this.handleClick}\n        title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n  title?: string;\n}\n\nexport default function FacetItemsList({ children, title }: Props) {\n  return (\n    <div className=\"search-navigator-facet-list\">\n      {title && <div className=\"search-navigator-facet-list-title\">{title}</div>}\n      {children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BugIcon from './BugIcon';\nimport CodeSmellIcon from './CodeSmellIcon';\nimport { IconProps } from './Icon';\nimport SecurityHotspotIcon from './SecurityHotspotIcon';\nimport VulnerabilityIcon from './VulnerabilityIcon';\n\ninterface Props extends IconProps {\n  type: T.IssueType;\n}\n\nexport default function IssueIcon({ type, ...iconProps }: Props) {\n  switch (type) {\n    case 'BUG':\n      return <BugIcon {...iconProps} />;\n    case 'VULNERABILITY':\n      return <VulnerabilityIcon {...iconProps} />;\n    case 'CODE_SMELL':\n      return <CodeSmellIcon {...iconProps} />;\n    case 'SECURITY_HOTSPOT':\n      return <SecurityHotspotIcon {...iconProps} />;\n    default:\n      return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function LinkIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <g transform=\"matrix(0.823497,0,0,0.823497,1.47008,1.4122)\">\n        <path\n          d=\"M13.501,11.429C13.501,11.191 13.418,10.989 13.251,10.822L11.394,8.965C11.227,8.798 11.025,8.715 10.787,8.715C10.537,8.715 10.323,8.81 10.144,9.001C10.162,9.019 10.219,9.074 10.314,9.166C10.409,9.258 10.473,9.322 10.506,9.358C10.539,9.394 10.583,9.451 10.64,9.528C10.697,9.605 10.735,9.681 10.756,9.756C10.777,9.831 10.787,9.913 10.787,10.002C10.787,10.24 10.704,10.442 10.537,10.609C10.37,10.776 10.168,10.859 9.93,10.859C9.841,10.859 9.759,10.849 9.684,10.828C9.609,10.807 9.533,10.769 9.456,10.712C9.379,10.655 9.322,10.611 9.286,10.578C9.25,10.545 9.186,10.481 9.094,10.386C9.002,10.291 8.947,10.234 8.929,10.216C8.732,10.401 8.634,10.618 8.634,10.868C8.634,11.106 8.717,11.308 8.884,11.475L10.723,13.323C10.884,13.484 11.086,13.564 11.33,13.564C11.568,13.564 11.77,13.487 11.937,13.332L13.25,12.028C13.417,11.861 13.5,11.662 13.5,11.43L13.501,11.429ZM7.224,5.134C7.224,4.896 7.141,4.694 6.974,4.527L5.135,2.679C4.968,2.512 4.766,2.429 4.528,2.429C4.296,2.429 4.094,2.509 3.921,2.67L2.608,3.974C2.441,4.141 2.358,4.34 2.358,4.572C2.358,4.81 2.441,5.012 2.608,5.179L4.465,7.036C4.626,7.197 4.828,7.277 5.072,7.277C5.322,7.277 5.536,7.185 5.715,7C5.697,6.982 5.64,6.927 5.545,6.835C5.45,6.743 5.386,6.679 5.353,6.643C5.32,6.607 5.276,6.55 5.219,6.473C5.162,6.396 5.124,6.32 5.103,6.245C5.082,6.17 5.072,6.088 5.072,5.999C5.072,5.761 5.155,5.559 5.322,5.392C5.489,5.225 5.691,5.142 5.929,5.142C6.018,5.142 6.1,5.152 6.175,5.173C6.25,5.194 6.326,5.232 6.403,5.289C6.48,5.346 6.537,5.39 6.573,5.423C6.609,5.456 6.673,5.52 6.765,5.615C6.857,5.71 6.912,5.767 6.93,5.785C7.127,5.6 7.225,5.383 7.225,5.133L7.224,5.134ZM15.215,11.429C15.215,12.143 14.962,12.747 14.456,13.242L13.143,14.546C12.649,15.04 12.045,15.287 11.33,15.287C10.61,15.287 10.003,15.034 9.509,14.528L7.67,12.68C7.176,12.186 6.929,11.582 6.929,10.867C6.929,10.135 7.191,9.513 7.715,9.001L6.929,8.215C6.417,8.739 5.798,9.001 5.072,9.001C4.358,9.001 3.751,8.751 3.251,8.251L1.394,6.394C0.894,5.894 0.644,5.287 0.644,4.573C0.644,3.859 0.897,3.255 1.403,2.76L2.716,1.456C3.21,0.962 3.814,0.715 4.529,0.715C5.249,0.715 5.856,0.968 6.35,1.474L8.189,3.322C8.683,3.816 8.93,4.42 8.93,5.135C8.93,5.867 8.668,6.489 8.144,7.001L8.93,7.787C9.442,7.263 10.061,7.001 10.787,7.001C11.501,7.001 12.108,7.251 12.608,7.751L14.465,9.608C14.965,10.108 15.215,10.715 15.215,11.429L15.215,11.429Z\"\n          style={{ fill }}\n        />\n      </g>\n    </Icon>\n  );\n}\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".search-navigator.sticky .search-navigator-workspace-header{position:fixed;z-index:50;top:0;left:300px;right:0}.search-navigator.sticky .search-navigator-workspace-details,.search-navigator.sticky .search-navigator-workspace-list{padding-top:43px}.search-navigator-facet-box{background-color:#f3f3f3;font-size:13px}.search-navigator-facet-box.leak-facet-box{background-color:#fbf3d5;border:1px solid #f1e8cb}.search-navigator-facet-box.is-inner{margin-left:8px;padding-left:12px;border-left:1px solid #e6e6e6}.search-navigator-facet-box.is-inner .search-navigator-facet-header{padding-top:6px;padding-bottom:6px}.leak-facet-box:not(.hidden)+.leak-facet-box{border-top:none}.search-navigator-facet-box-forbidden{background-color:transparent;opacity:.5}.search-navigator-facet-box-forbidden .search-navigator-facet-container,.search-navigator-facet-box-forbidden .search-navigator-facet-empty,.search-navigator-facet-box-forbidden .search-navigator-facet-list{display:none}.search-navigator-facet-box-forbidden .search-navigator-facet-header{color:#666}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#4b9fd5}.search-navigator-facet-box-forbidden .search-navigator-facet-header{cursor:default}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#666}.search-navigator-facet{position:relative;display:inline-flex;justify-content:space-between;align-items:center;width:100%;height:24px;margin:0 0 1px;padding:0 6px;border:1px solid transparent;border-radius:2px;box-sizing:border-box;white-space:normal;opacity:.3;cursor:not-allowed;transition:none}a.search-navigator-facet{opacity:1;cursor:pointer}a.search-navigator-facet .facet-name{color:#333}.search-navigator-facet.active,a.search-navigator-facet:focus,a.search-navigator-facet:hover{border-color:#4b9fd5}.search-navigator-facet.facet-category{opacity:1;cursor:default}.search-navigator-facet.facet-category .facet-name{color:#666}.search-navigator-facet .facet-name{flex:1 1 auto;min-width:0;line-height:16px;padding:1px 0;color:#666;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-navigator-facet .facet-stat{display:flex;align-items:center;margin-left:8px;color:#666;font-size:12px}.search-navigator-facet .facet-toggle{display:none;float:left;height:16px;line-height:16px;margin-top:-1px;padding:0 5px;border-radius:2px;font-size:11px;text-transform:lowercase}.search-navigator-facet .facet-toggle:hover{color:#333}.search-navigator-facet .facet-toggle-active.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet .facet-toggle-active.facet-toggle-red{background-color:#d4333f;color:#fff}.leak-facet-box .search-navigator-facet .facet-name,.leak-facet-box .search-navigator-facet .facet-stat{background-color:#fbf3d5}.leak-facet-box .search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,rgba(251,243,213,0),#fbf3d5 75%)}.search-navigator-facet.active{background-color:#cae3f2;text-decoration:none}.search-navigator-facet.active .facet-toggle{display:inline}.search-navigator-facet.compare .facet-toggle{cursor:not-allowed;opacity:.5}.search-navigator-facet.compare .facet-toggle.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet.compare .facet-toggle.facet-toggle-red{background-color:transparent;color:#666}.search-navigator-facet-half{width:45%}.search-navigator-facet-half:nth-child(odd){margin-right:10%}.search-navigator-facet-highlight-under-container{margin-bottom:1px}.search-navigator-facet-highlight-under-container .search-navigator-facet{margin-bottom:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover{border-bottom:none;padding-bottom:1px;border-radius:2px 2px 0 0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet{border-top:none;border-bottom:none;border-left-color:#4b9fd5;border-right-color:#4b9fd5;border-radius:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:0 0 2px 2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet{background-color:#cae3f2;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet.active{border-top:1px solid #4b9fd5}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet{background-color:#a1cde8;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-toggle,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-header{display:block;flex-shrink:0;padding:8px 0;color:#333;font-weight:600;overflow:hidden;white-space:nowrap}.search-navigator-facet-header>a{border-bottom:none;color:#333}.search-navigator-facet-header>a:focus,.search-navigator-facet-header>a:hover{color:#4b9fd5}.search-navigator-facet-header>.note{font-weight:400}.search-navigator-facet-header>h3,.search-navigator-facet-header>h4{line-height:inherit;display:inline}.search-navigator-facet-header-value{display:block;overflow:hidden}.search-navigator-facet-header-value>.badge{display:block}.search-navigator-facet-header-button{flex-shrink:0;margin-left:auto}.search-navigator-facet-header-wrapper{display:flex;align-items:center}.search-navigator-facet-list{padding-bottom:8px;font-size:0}.search-navigator-facet-list-title{margin:0 8px 4px;font-size:12px;font-weight:700}.search-navigator-facet-list+.search-navigator-facet-list>.search-navigator-facet-list-title{border-top:1px solid #e6e6e6;padding-top:8px}.search-navigator-facet-empty{margin:0;padding:0 10px 10px;color:#333;font-size:12px;white-space:nowrap}.search-navigator-facet-footer{display:block;padding-bottom:8px;border-bottom:none}.search-navigator-facet-container{margin-top:6px;padding:0 10px 16px}.search-navigator-date-facet-selection{position:relative;padding-left:8px;font-size:12px}.search-navigator-date-facet-selection:after,.search-navigator-date-facet-selection:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-date-facet-selection:after{clear:both}.search-navigator-date-facet-selection .date-input-control-input{width:115px!important}.search-navigator-date-facet-selection-dropdown-left{float:left;border-bottom:none}.search-navigator-date-facet-selection-dropdown-right{float:right;border-bottom:none}.search-navigator-date-facet-selection-input-left{position:absolute;left:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection-input-right{position:absolute;right:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection .date-input-control:not(:first-of-type) .date-input-calendar{left:auto;right:0}.search-navigator-filters{position:relative;padding:5px 10px;background-color:#f3f3f3}.search-navigator-filters:after,.search-navigator-filters:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-filters:after{clear:both}.search-navigator-filters-header{margin-bottom:12px;padding-bottom:11px;border-bottom:1px solid #e6e6e6}.search-navigator-intro{width:500px;margin:0 auto;padding-top:100px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from '../lazyLoadComponent';\n\nconst SourceViewer = lazyLoadComponent(\n  () => import(/* webpackPrefetch: true */ './SourceViewerBase'),\n  'SourceViewer'\n);\nexport default SourceViewer;\n","import {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function HistoryIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14.7 3.4v3.3c0 .1 0 .2-.1.2s-.2 0-.3-.1l-.9-.9-4.8 4.8c-.1.1-.1.1-.2.1s-.1 0-.2-.1L6.4 9l-3.2 3.2-1.5-1.5 4.5-4.5c.1-.1.1-.1.2-.1s.1 0 .2.1L8.4 8l3.5-3.5-.9-1c-.1-.1-.1-.2-.1-.3s.1-.1.2-.1h3.3c.1 0 .1 0 .2.1.1 0 .1.1.1.2z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ListIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M15.045 11.526v1.007q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 8.506v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 5.487v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 2.468v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\nimport { ComponentQualifier } from '../../types/component';\n\nexport interface Props {\n  componentQualifier?: string;\n  current?: number;\n  showShortcuts?: boolean;\n  total?: number;\n}\n\nexport default function PageActions(props: Props) {\n  const { componentQualifier, current, showShortcuts, total = 0 } = props;\n\n  return (\n    <div className=\"page-actions display-flex-center\">\n      {showShortcuts && (\n        <span className=\"note nowrap\">\n          <span className=\"big-spacer-right\">\n            <span className=\"shortcut-button little-spacer-right\"></span>\n            <span className=\"shortcut-button little-spacer-right\"></span>\n            {translate('component_measures.to_select_files')}\n          </span>\n\n          <span>\n            <span className=\"shortcut-button little-spacer-right\"></span>\n            <span className=\"shortcut-button little-spacer-right\"></span>\n            {translate('component_measures.to_navigate')}\n          </span>\n        </span>\n      )}\n      {total > 0 && componentQualifier === ComponentQualifier.Project && (\n        <div className=\"nowrap\">\n          <span className=\"big-spacer-left\">\n            <strong>\n              {current !== undefined && (\n                <span>\n                  {formatMeasure(current, 'INT')}\n                  {' / '}\n                </span>\n              )}\n              {formatMeasure(total, 'INT')}\n            </strong>{' '}\n            {translate('component_measures.files')}\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ColorBoxLegend.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { parseDate } from '../helpers/dates';\nimport { translate, translateWithParameters } from '../helpers/l10n';\nimport { ApplicationPeriod } from '../types/application';\n\nexport function getPeriodLabel(\n  period: T.Period | undefined,\n  dateFormatter: (date: string) => string\n) {\n  if (!period) {\n    return undefined;\n  }\n\n  let parameter = period.modeParam || period.parameter || '';\n\n  switch (period.mode) {\n    case 'SPECIFIC_ANALYSIS':\n      parameter = dateFormatter(period.date);\n      break;\n    case 'PREVIOUS_VERSION':\n      parameter = parameter || dateFormatter(period.date);\n      break;\n    /*\n     * Handle legacy period modes, that predate MMF-1579\n     */\n    case 'previous_version':\n      if (!parameter) {\n        return translate('overview.period.previous_version_only_date');\n      }\n      break;\n    case 'date':\n      parameter = parameter && dateFormatter(parameter);\n      break;\n    case 'manual_baseline':\n      parameter = parameter || dateFormatter(period.date);\n      break;\n    default: // No change in the parameter\n  }\n\n  return translateWithParameters(`overview.period.${period.mode.toLowerCase()}`, parameter);\n}\n\nexport function getPeriodDate(period?: { date?: string }): Date | undefined {\n  return period && period.date ? parseDate(period.date) : undefined;\n}\n\nexport function isApplicationPeriod(\n  period: T.Period | ApplicationPeriod\n): period is ApplicationPeriod {\n  return (period as ApplicationPeriod).project !== undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { max, min } from 'd3-array';\nimport { scaleLinear, ScaleLinear } from 'd3-scale';\nimport { event, select } from 'd3-selection';\nimport { zoom, ZoomBehavior, zoomIdentity } from 'd3-zoom';\nimport { sortBy, uniq } from 'lodash';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { AutoSizer } from 'react-virtualized/dist/commonjs/AutoSizer';\nimport { translate } from '../../helpers/l10n';\nimport { Location } from '../../helpers/urls';\nimport Tooltip from '../controls/Tooltip';\nimport './BubbleChart.css';\n\nconst TICKS_COUNT = 5;\n\ninterface BubbleItem<T> {\n  color?: string;\n  key?: string;\n  link?: string | Location;\n  data?: T;\n  size: number;\n  tooltip?: React.ReactNode;\n  x: number;\n  y: number;\n}\n\ninterface Props<T> {\n  displayXGrid?: boolean;\n  displayXTicks?: boolean;\n  displayYGrid?: boolean;\n  displayYTicks?: boolean;\n  formatXTick: (tick: number) => string;\n  formatYTick: (tick: number) => string;\n  height: number;\n  items: BubbleItem<T>[];\n  onBubbleClick?: (ref?: T) => void;\n  padding: [number, number, number, number];\n  sizeDomain?: [number, number];\n  sizeRange?: [number, number];\n  xDomain?: [number, number];\n  yDomain?: [number, number];\n}\n\ninterface State {\n  transform: { x: number; y: number; k: number };\n}\n\ntype Scale = ScaleLinear<number, number>;\n\nexport default class BubbleChart<T> extends React.PureComponent<Props<T>, State> {\n  private node?: Element;\n  private zoom?: ZoomBehavior<Element, unknown>;\n\n  static defaultProps = {\n    displayXGrid: true,\n    displayXTicks: true,\n    displayYGrid: true,\n    displayYTicks: true,\n    formatXTick: (d: number) => String(d),\n    formatYTick: (d: number) => String(d),\n    padding: [10, 10, 10, 10],\n    sizeRange: [5, 45]\n  };\n\n  constructor(props: Props<T>) {\n    super(props);\n    this.state = { transform: { x: 0, y: 0, k: 1 } };\n  }\n\n  componentDidUpdate() {\n    if (this.zoom && this.node) {\n      const rect = this.node.getBoundingClientRect();\n      this.zoom.translateExtent([\n        [0, 0],\n        [rect.width, rect.height]\n      ]);\n    }\n  }\n\n  boundNode = (node: SVGSVGElement) => {\n    this.node = node;\n    this.zoom = zoom()\n      .scaleExtent([1, 10])\n      .on('zoom', this.zoomed);\n    select(this.node).call(this.zoom as any);\n  };\n\n  zoomed = () => {\n    const { padding } = this.props;\n    const { x, y, k } = event.transform as { x: number; y: number; k: number };\n    this.setState({\n      transform: {\n        x: x + padding[3] * (k - 1),\n        y: y + padding[0] * (k - 1),\n        k\n      }\n    });\n  };\n\n  resetZoom = (e: React.MouseEvent<Link>) => {\n    e.stopPropagation();\n    e.preventDefault();\n    if (this.zoom && this.node) {\n      select(this.node).call(this.zoom.transform as any, zoomIdentity);\n    }\n  };\n\n  getXRange(xScale: Scale, sizeScale: Scale, availableWidth: number) {\n    const minX = min(this.props.items, d => xScale(d.x) - sizeScale(d.size)) || 0;\n    const maxX = max(this.props.items, d => xScale(d.x) + sizeScale(d.size)) || 0;\n    const dMinX = minX < 0 ? xScale.range()[0] - minX : xScale.range()[0];\n    const dMaxX = maxX > xScale.range()[1] ? maxX - xScale.range()[1] : 0;\n    return [dMinX, availableWidth - dMaxX];\n  }\n\n  getYRange(yScale: Scale, sizeScale: Scale, availableHeight: number) {\n    const minY = min(this.props.items, d => yScale(d.y) - sizeScale(d.size)) || 0;\n    const maxY = max(this.props.items, d => yScale(d.y) + sizeScale(d.size)) || 0;\n    const dMinY = minY < 0 ? yScale.range()[1] - minY : yScale.range()[1];\n    const dMaxY = maxY > yScale.range()[0] ? maxY - yScale.range()[0] : 0;\n    return [availableHeight - dMaxY, dMinY];\n  }\n\n  getTicks(scale: Scale, format: (d: number) => string) {\n    const zoomAmount = Math.ceil(this.state.transform.k);\n    const ticks = scale.ticks(TICKS_COUNT * zoomAmount).map(tick => format(tick));\n    const uniqueTicksCount = uniq(ticks).length;\n    const ticksCount =\n      uniqueTicksCount < TICKS_COUNT * zoomAmount ? uniqueTicksCount - 1 : TICKS_COUNT * zoomAmount;\n    return scale.ticks(ticksCount);\n  }\n\n  getZoomLevelLabel = () => Math.floor(this.state.transform.k * 100) + '%';\n\n  renderXGrid = (ticks: number[], xScale: Scale, yScale: Scale) => {\n    if (!this.props.displayXGrid) {\n      return null;\n    }\n\n    const { transform } = this.state;\n    const lines = ticks.map((tick, index) => {\n      const x = xScale(tick);\n      const y1 = yScale.range()[0];\n      const y2 = yScale.range()[1];\n      return (\n        <line\n          className=\"bubble-chart-grid\"\n          // eslint-disable-next-line react/no-array-index-key\n          key={index}\n          x1={x * transform.k + transform.x}\n          x2={x * transform.k + transform.x}\n          y1={y1 * transform.k}\n          y2={transform.k > 1 ? 0 : y2}\n        />\n      );\n    });\n\n    return <g>{lines}</g>;\n  };\n\n  renderYGrid = (ticks: number[], xScale: Scale, yScale: Scale) => {\n    if (!this.props.displayYGrid) {\n      return null;\n    }\n\n    const { transform } = this.state;\n    const lines = ticks.map((tick, index) => {\n      const y = yScale(tick);\n      const x1 = xScale.range()[0];\n      const x2 = xScale.range()[1];\n      return (\n        <line\n          className=\"bubble-chart-grid\"\n          // eslint-disable-next-line react/no-array-index-key\n          key={index}\n          x1={transform.k > 1 ? 0 : x1}\n          x2={x2 * transform.k}\n          y1={y * transform.k + transform.y}\n          y2={y * transform.k + transform.y}\n        />\n      );\n    });\n\n    return <g>{lines}</g>;\n  };\n\n  renderXTicks = (xTicks: number[], xScale: Scale, yScale: Scale) => {\n    if (!this.props.displayXTicks) {\n      return null;\n    }\n\n    const { transform } = this.state;\n    const ticks = xTicks.map((tick, index) => {\n      const x = xScale(tick) * transform.k + transform.x;\n      const y = yScale.range()[0];\n      const innerText = this.props.formatXTick(tick);\n      // as we modified the `x` using `transform`, check that it is inside the range again\n      return x > 0 && x < xScale.range()[1] ? (\n        // eslint-disable-next-line react/no-array-index-key\n        <text className=\"bubble-chart-tick\" dy=\"1.5em\" key={index} x={x} y={y}>\n          {innerText}\n        </text>\n      ) : null;\n    });\n\n    return <g>{ticks}</g>;\n  };\n\n  renderYTicks = (yTicks: number[], xScale: Scale, yScale: Scale) => {\n    if (!this.props.displayYTicks) {\n      return null;\n    }\n\n    const { transform } = this.state;\n    const ticks = yTicks.map((tick, index) => {\n      const x = xScale.range()[0];\n      const y = yScale(tick) * transform.k + transform.y;\n      const innerText = this.props.formatYTick(tick);\n      // as we modified the `y` using `transform`, check that it is inside the range again\n      return y > 0 && y < yScale.range()[0] ? (\n        <text\n          className=\"bubble-chart-tick bubble-chart-tick-y\"\n          dx=\"-0.5em\"\n          dy=\"0.3em\"\n          // eslint-disable-next-line react/no-array-index-key\n          key={index}\n          x={x}\n          y={y}>\n          {innerText}\n        </text>\n      ) : null;\n    });\n\n    return <g>{ticks}</g>;\n  };\n\n  renderChart = (width: number) => {\n    const { transform } = this.state;\n    const availableWidth = width - this.props.padding[1] - this.props.padding[3];\n    const availableHeight = this.props.height - this.props.padding[0] - this.props.padding[2];\n\n    const xScale = scaleLinear()\n      .domain(this.props.xDomain || [0, max(this.props.items, d => d.x) || 0])\n      .range([0, availableWidth])\n      .nice();\n    const yScale = scaleLinear()\n      .domain(this.props.yDomain || [0, max(this.props.items, d => d.y) || 0])\n      .range([availableHeight, 0])\n      .nice();\n    const sizeScale = scaleLinear()\n      .domain(this.props.sizeDomain || [0, max(this.props.items, d => d.size) || 0])\n      .range(this.props.sizeRange || []);\n\n    const xScaleOriginal = xScale.copy();\n    const yScaleOriginal = yScale.copy();\n\n    xScale.range(this.getXRange(xScale, sizeScale, availableWidth));\n    yScale.range(this.getYRange(yScale, sizeScale, availableHeight));\n\n    const bubbles = sortBy(this.props.items, b => -b.size).map((item, index) => {\n      return (\n        <Bubble\n          color={item.color}\n          data={item.data}\n          key={item.key || index}\n          link={item.link}\n          onClick={this.props.onBubbleClick}\n          r={sizeScale(item.size)}\n          scale={1 / transform.k}\n          tooltip={item.tooltip}\n          x={xScale(item.x)}\n          y={yScale(item.y)}\n        />\n      );\n    });\n\n    const xTicks = this.getTicks(xScale, this.props.formatXTick);\n    const yTicks = this.getTicks(yScale, this.props.formatYTick);\n\n    return (\n      <svg\n        className={classNames('bubble-chart')}\n        height={this.props.height}\n        ref={this.boundNode}\n        width={width}>\n        <defs>\n          <clipPath id=\"graph-region\">\n            <rect\n              // Extend clip by 2 pixels: one for clipRect border, and one for Bubble borders\n              height={availableHeight + 4}\n              width={availableWidth + 4}\n              x={-2}\n              y={-2}\n            />\n          </clipPath>\n        </defs>\n        <g transform={`translate(${this.props.padding[3]}, ${this.props.padding[0]})`}>\n          <g clipPath=\"url(#graph-region)\">\n            {this.renderXGrid(xTicks, xScale, yScale)}\n            {this.renderYGrid(yTicks, xScale, yScale)}\n            <g transform={`translate(${transform.x}, ${transform.y}) scale(${transform.k})`}>\n              {bubbles}\n            </g>\n          </g>\n          {this.renderXTicks(xTicks, xScale, yScaleOriginal)}\n          {this.renderYTicks(yTicks, xScaleOriginal, yScale)}\n        </g>\n      </svg>\n    );\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"bubble-chart-zoom\">\n          <Tooltip overlay={translate('component_measures.bubble_chart.zoom_level')}>\n            <Link onClick={this.resetZoom} to=\"#\">\n              {this.getZoomLevelLabel()}\n            </Link>\n          </Tooltip>\n        </div>\n        <AutoSizer disableHeight={true}>{size => this.renderChart(size.width)}</AutoSizer>\n      </div>\n    );\n  }\n}\n\ninterface BubbleProps<T> {\n  color?: string;\n  link?: string | Location;\n  onClick?: (ref?: T) => void;\n  data?: T;\n  r: number;\n  scale: number;\n  tooltip?: string | React.ReactNode;\n  x: number;\n  y: number;\n}\n\nfunction Bubble<T>(props: BubbleProps<T>) {\n  const handleClick = (e: React.MouseEvent<SVGCircleElement>) => {\n    if (props.onClick) {\n      e.stopPropagation();\n      e.preventDefault();\n      props.onClick(props.data);\n    }\n  };\n\n  let circle = (\n    <circle\n      className=\"bubble-chart-bubble\"\n      onClick={props.onClick ? handleClick : undefined}\n      r={props.r}\n      style={{ fill: props.color, stroke: props.color }}\n      transform={`translate(${props.x}, ${props.y}) scale(${props.scale})`}\n    />\n  );\n\n  if (props.link && !props.onClick) {\n    circle = <Link to={props.link}>{circle}</Link>;\n  }\n\n  return (\n    <Tooltip overlay={props.tooltip || undefined}>\n      <g>{circle}</g>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { ButtonLink } from '../../components/controls/buttons';\nimport Tooltip from '../../components/controls/Tooltip';\nimport { RATING_COLORS } from '../../helpers/constants';\nimport { translate } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\nimport './ColorBoxLegend.css';\n\nexport interface ColorRatingsLegendProps {\n  className?: string;\n  filters: { [rating: number]: boolean };\n  onRatingClick: (selection: number) => void;\n}\n\nconst RATINGS = [1, 2, 3, 4, 5];\n\nexport default function ColorRatingsLegend(props: ColorRatingsLegendProps) {\n  const { className, filters } = props;\n  return (\n    <div className={classNames('color-box-legend', className)}>\n      {RATINGS.map(rating => (\n        <Tooltip key={rating} overlay={translate('component_measures.legend.help')}>\n          <ButtonLink\n            className={classNames('little-padded-bottom', {\n              filtered: filters[rating]\n            })}\n            onClick={() => props.onRatingClick(rating)}\n            type=\"button\">\n            <span\n              className=\"color-box-legend-rect\"\n              style={{ borderColor: RATING_COLORS[rating - 1] }}>\n              <span\n                className=\"color-box-legend-rect-inner\"\n                style={{ backgroundColor: RATING_COLORS[rating - 1] }}\n              />\n            </span>\n            {formatMeasure(rating, 'RATING')}\n          </ButtonLink>\n        </Tooltip>\n      ))}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function BubblesIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon style={{ fillRule: 'nonzero' }} {...iconProps}>\n      <path\n        d=\"M4.1 10.2c1 0 1.9.8 1.9 1.9S5.1 14 4.1 14s-1.9-.8-1.9-1.9.8-1.9 1.9-1.9m0-2C2 8.2.2 9.9.2 12.1S1.9 16 4.1 16 8 14.3 8 12.1 6.2 8.2 4.1 8.2zM10.3 2c2 0 3.7 1.7 3.7 3.7s-1.7 3.7-3.7 3.7-3.8-1.6-3.8-3.7S8.2 2 10.3 2m0-2C7.1 0 4.5 2.6 4.5 5.7s2.6 5.7 5.7 5.7S16 8.9 16 5.7 13.4 0 10.3 0z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".color-box-legend{display:flex;justify-content:center}.color-box-legend>:not(:first-child){margin-left:24px}.color-box-legend .color-box-legend-rect{display:inline-block;margin-top:1px;margin-right:4px;border:1px solid}.color-box-legend .color-box-legend-rect-inner{display:block;width:8px;height:8px;opacity:.2}.color-box-legend.color-box-full .color-box-legend-rect-inner{opacity:1}.color-box-legend button{color:#333;border-bottom:none;display:block}.color-box-legend button.filtered{opacity:.3}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./BarChart.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".bar-chart-bar{fill:#4b9fd5}.bar-chart-tick{fill:#666;font-size:12px;text-anchor:middle}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./BubbleChart.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".bubble-chart text{-webkit-user-select:none;-ms-user-select:none;user-select:none}.bubble-chart-bubble{fill:#4b9fd5;fill-opacity:.2;stroke:#4b9fd5;cursor:pointer;transition:fill-opacity .2s ease}.bubble-chart-bubble:hover{fill-opacity:.8}.bubble-chart-grid{shape-rendering:crispedges;stroke:#eee}.bubble-chart-tick{fill:#666;font-size:12px;text-anchor:middle}.bubble-chart-tick-y{text-anchor:end}.bubble-chart-zoom{position:absolute;right:20px;top:20px;z-index:3}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}