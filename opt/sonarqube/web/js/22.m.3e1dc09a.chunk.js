(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1757:function(e,t,n){"use strict";n.r(t),n.d(t,"AnalysisWarningsModal",(function(){return p}));var s=n(366),a=n(610),i=n(368),r=n(389),o=n(926),l=n(376),c=n(6),d=n(467),m=n(441);class p extends s.PureComponent{constructor(e){super(e),this.mounted=!1,this.handleDismissMessage=async e=>{const{componentKey:t}=this.props;if(void 0!==t){this.setState({dismissedWarning:e});try{await Object(a.c)(t,e),this.props.onWarningDismiss&&this.props.onWarningDismiss()}catch(e){}this.mounted&&this.setState({dismissedWarning:void 0})}},this.loadWarnings=async e=>{this.setState({loading:!0});try{const{warnings:t=[]}=await Object(a.h)(e,["warnings"]);this.mounted&&this.setState({loading:!1,warnings:t.map(e=>({key:e,message:e,dismissable:!1}))})}catch(e){this.mounted&&this.setState({loading:!1})}},this.state={loading:!e.warnings,warnings:e.warnings||[]}}componentDidMount(){this.mounted=!0,!this.props.warnings&&this.props.taskId&&this.loadWarnings(this.props.taskId)}componentDidUpdate(e){const{taskId:t,warnings:n}=this.props;!n&&t&&e.taskId!==t?this.loadWarnings(t):n&&e.warnings!==n&&this.setState({warnings:n})}componentWillUnmount(){this.mounted=!1}render(){const{currentUser:e}=this.props,{loading:t,dismissedWarning:n,warnings:a}=this.state,m=Object(c.k)("warnings");return s.createElement(r.a,{contentLabel:m,onRequestClose:this.props.onClose},s.createElement("header",{className:"modal-head"},s.createElement("h2",null,m)),s.createElement("div",{className:"modal-body modal-container js-analysis-warnings"},s.createElement(l.a,{loading:t},a.map(({dismissable:t,key:a,message:r})=>s.createElement("div",{className:"panel panel-vertical",key:a},s.createElement(o.a,{className:"pull-left spacer-right"}),s.createElement("div",{className:"overflow-hidden markdown"},s.createElement("span",{dangerouslySetInnerHTML:{__html:Object(d.b)(r.trim().replace(/\n/g,"<br />"))}}),t&&e.isLoggedIn&&s.createElement("div",{className:"spacer-top display-flex-inline"},s.createElement(i.c,{className:"link-base-color",disabled:Boolean(n),onClick:()=>{this.handleDismissMessage(a)}},Object(c.k)("dismiss_permanently")),n===a&&s.createElement("i",{className:"spinner spacer-left"}))))))),s.createElement("footer",{className:"modal-foot"},s.createElement(i.c,{className:"js-modal-close",onClick:this.props.onClose},Object(c.k)("close"))))}}t.default=Object(m.a)(p)},467:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var s=n(668);function a(e){return Object(s.sanitize)(e,{ALLOWED_TAGS:["b","br","code","i","li","p","strong","ul","a"],ALLOWED_ATTR:["target","href"]})}function i(e){return Object(s.sanitize)(e,{USE_PROFILES:{html:!0}})}},926:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n(366),a=n(375),i=n(372);function r(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(e){let{fill:t}=e,n=r(e,["fill"]);return s.createElement(i.a,Object.assign({},n),s.createElement("path",{d:"M9 12.242v-1.484c0-.14-.11-.258-.25-.258h-1.5c-.14 0-.25.117-.25.258v1.484c0 .14.11.258.25.258h1.5c.14 0 .25-.117.25-.258zM8.984 9.32l.141-3.586a.189.189 0 0 0-.078-.148C9 5.546 8.93 5.5 8.859 5.5H7.141c-.07 0-.141.047-.188.086-.055.039-.078.117-.078.164l.133 3.57c0 .102.117.18.265.18H8.72c.14 0 .258-.078.265-.18zm-.109-7.297l6 11A1 1 0 0 1 14 14.5H2a1 1 0 0 1-.875-1.477l6-11a.994.994 0 0 1 1.75 0z",style:{fill:t||a.colors.warningIconColor}}))}}}]);
//# sourceMappingURL=22.m.3e1dc09a.chunk.js.map