{"version":3,"sources":["webpack:///./src/main/js/app/components/nav/settings/PendingPluginsActionNotif.tsx","webpack:///./src/main/js/app/components/nav/settings/SystemRestartNotif.tsx","webpack:///./src/main/js/app/components/nav/settings/SettingsNav.tsx","webpack:///./src/main/js/app/components/AdminContainer.tsx","webpack:///./src/main/js/components/controls/SimpleModal.tsx","webpack:///./node_modules/lodash/toFinite.js","webpack:///./src/main/js/components/controls/ConfirmModal.tsx","webpack:///./src/main/js/components/controls/ConfirmButton.tsx","webpack:///./src/main/js/components/controls/ModalButton.tsx","webpack:///./node_modules/lodash/toInteger.js","webpack:///./node_modules/lodash/_baseFindIndex.js","webpack:///./src/main/js/types/plugins.ts","webpack:///./src/main/js/api/system.ts","webpack:///./src/main/js/api/nav.ts","webpack:///./node_modules/lodash/findLastIndex.js","webpack:///./src/main/js/app/utils/handleRequiredAuthorization.ts","webpack:///./src/main/js/api/plugins.ts","webpack:///./src/main/js/components/ui/NavBarTabs.tsx","webpack:///./src/main/js/components/ui/NavBarTabs.css?b99d","webpack:///./src/main/js/components/ui/NavBarTabs.css","webpack:///./src/main/js/app/components/AdminContext.tsx","webpack:///./src/main/js/components/ui/ContextNavBar.tsx","webpack:///./src/main/js/components/ui/ContextNavBar.css?a776","webpack:///./src/main/js/components/ui/ContextNavBar.css","webpack:///./src/main/js/types/extension.ts","webpack:///./src/main/js/components/common/RestartButton.tsx"],"names":["handleRevert","then","this","props","refreshPending","installing","updating","removing","pending","length","Alert","className","display","variant","InstanceMessage","message","msg","filter","map","idx","key","defaultMessage","id","values","nb","RestartButton","fetchSystemStatus","systemStatus","onClick","SystemRestartNotif","instance","link","to","pathname","renderExtension","name","activeClassName","urls","path","window","location","some","url","indexOf","isSomethingActive","extensionsWithoutSupport","extensions","extension","Dropdown","overlay","tagName","onToggleClick","open","role","active","isSecurityActive","isProjectsActive","isSystemActive","isMarketplace","isAudit","href","DropdownIcon","pendingPlugins","hasSupportExtension","find","hasGovernanceExtension","e","GovernanceConsole","totalPendingPlugins","contextNavHeight","contextNavHeightRaw","notifComponent","fetchPendingPlugins","ContextNavBar","height","notif","NavBarTabs","renderConfigurationTab","renderSecurityTab","renderProjectsTab","defaultProps","mounted","state","fetchNavigationSettings","r","setAdminPages","setState","status","waitRestartingDone","document","reload","appState","canAdmin","handleRequiredAuthorization","adminPages","defaultTitle","defer","titleTemplate","AdminContext","Provider","value","children","mapDispatchToProps","SimpleModal","submitting","stopSubmitting","handleCloseClick","event","preventDefault","currentTarget","blur","onClose","handleFormSubmit","submit","handleSubmitClick","result","onSubmit","header","modalProps","contentLabel","onRequestClose","onCloseClick","onFormSubmit","onSubmitClick","toNumber","module","exports","ConfirmModal","handleSubmit","onConfirm","confirmData","renderModalContent","confirmButtonText","confirmDisable","headerDescription","isDestructive","cancelButtonText","loading","autoFocus","undefined","disabled","noBackdrop","size","ConfirmButton","renderConfirmModal","modalBody","modalHeader","modalHeaderDescription","confirmModalProps","modal","ModalButton","handleButtonClick","handleCloseModal","toFinite","remainder","array","predicate","fromIndex","fromRight","index","PluginType","RiskConsent","isAvailablePlugin","plugin","release","isInstalledPlugin","version","isPendingPlugin","updatedAt","setLogLevel","level","catch","getSystemInfo","getSystemStatus","getSystemUpgrades","getMigrationStatus","migrateDatabase","restart","waitSystemUPStatus","max","slowThreshold","getComponentNavigation","data","getMarketplaceNavigation","getSettingsNavigation","baseFindIndex","baseIteratee","toInteger","nativeMax","Math","nativeMin","min","store","history","returnTo","search","hash","dispatch","replace","query","return_to","getAvailablePlugins","getPendingPlugins","getLastUpdates","updates","update","addChangelog","previousUpdates","slice","getInstalledPluginApi","type","External","f","getUpdatesPluginApi","getInstalledPlugins","plugins","getInstalledPluginsWithUpdates","Promise","all","installed","updatePlugin","p","getPluginUpdates","installPlugin","uninstallPlugin","cancelPendingPlugins","other","api","content","__esModule","default","i","options","exported","locals","___CSS_LOADER_API_IMPORT___","push","defaultPendingPlugins","defaultSystemStatus","AdminPageExtension","handleConfirm"],"mappings":"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","file":"js/298.m.747fdf7e.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { cancelPendingPlugins } from '../../../../api/plugins';\nimport InstanceMessage from '../../../../components/common/InstanceMessage';\nimport RestartButton from '../../../../components/common/RestartButton';\nimport { Button } from '../../../../components/controls/buttons';\nimport { Alert } from '../../../../components/ui/Alert';\nimport { translate } from '../../../../helpers/l10n';\nimport { PendingPluginResult } from '../../../../types/plugins';\n\ninterface Props {\n  fetchSystemStatus: () => void;\n  pending: PendingPluginResult;\n  refreshPending: () => void;\n  systemStatus: T.SysStatus;\n}\n\nexport default class PendingPluginsActionNotif extends React.PureComponent<Props> {\n  handleRevert = () => {\n    cancelPendingPlugins().then(this.props.refreshPending, () => {});\n  };\n\n  render() {\n    const { installing, updating, removing } = this.props.pending;\n    const hasPendingActions = installing.length || updating.length || removing.length;\n    if (!hasPendingActions) {\n      return null;\n    }\n\n    return (\n      <Alert className=\"js-pending\" display=\"banner\" variant=\"info\">\n        <div className=\"display-flex-center\">\n          <span className=\"little-spacer-right\">\n            <InstanceMessage message={translate('marketplace.instance_needs_to_be_restarted_to')} />\n          </span>\n          {[\n            { length: installing.length, msg: 'marketplace.install_x_plugins' },\n            { length: updating.length, msg: 'marketplace.update_x_plugins' },\n            { length: removing.length, msg: 'marketplace.uninstall_x_plugins' }\n          ]\n            .filter(({ length }) => length > 0)\n            .map(({ length, msg }, idx) => (\n              <span key={msg}>\n                {idx > 0 && '; '}\n                <FormattedMessage\n                  defaultMessage={translate(msg)}\n                  id={msg}\n                  values={{ nb: <strong>{length}</strong> }}\n                />\n              </span>\n            ))}\n\n          <RestartButton\n            className=\"spacer-left\"\n            fetchSystemStatus={this.props.fetchSystemStatus}\n            systemStatus={this.props.systemStatus}\n          />\n          <Button className=\"spacer-left js-cancel-all\" onClick={this.handleRevert}>\n            {translate('marketplace.revert')}\n          </Button>\n        </div>\n      </Alert>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { Alert } from '../../../../components/ui/Alert';\nimport { translate } from '../../../../helpers/l10n';\nimport { getInstance } from '../../../../helpers/system';\n\nexport default function SystemRestartNotif() {\n  return (\n    <Alert display=\"banner\" variant=\"info\">\n      <FormattedMessage\n        defaultMessage={translate('system.instance_restarting')}\n        id=\"system.instance_restarting\"\n        values={{\n          instance: getInstance(),\n          link: (\n            <Link to={{ pathname: '/admin/background_tasks' }}>\n              {translate('background_tasks.page')}\n            </Link>\n          )\n        }}\n      />\n    </Alert>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { IndexLink, Link } from 'react-router';\nimport Dropdown from '../../../../components/controls/Dropdown';\nimport DropdownIcon from '../../../../components/icons/DropdownIcon';\nimport ContextNavBar from '../../../../components/ui/ContextNavBar';\nimport NavBarTabs from '../../../../components/ui/NavBarTabs';\nimport { translate } from '../../../../helpers/l10n';\nimport { getBaseUrl } from '../../../../helpers/system';\nimport { AdminPageExtension } from '../../../../types/extension';\nimport { PendingPluginResult } from '../../../../types/plugins';\nimport { rawSizes } from '../../../theme';\nimport PendingPluginsActionNotif from './PendingPluginsActionNotif';\nimport SystemRestartNotif from './SystemRestartNotif';\n\ninterface Props {\n  extensions: T.Extension[];\n  fetchPendingPlugins: () => void;\n  fetchSystemStatus: () => void;\n  location: {};\n  pendingPlugins: PendingPluginResult;\n  systemStatus: T.SysStatus;\n}\n\nexport default class SettingsNav extends React.PureComponent<Props> {\n  static defaultProps = {\n    extensions: []\n  };\n\n  isSomethingActive(urls: string[]): boolean {\n    const path = window.location.pathname;\n    return urls.some((url: string) => path.indexOf(getBaseUrl() + url) === 0);\n  }\n\n  isSecurityActive() {\n    const urls = [\n      '/admin/users',\n      '/admin/groups',\n      '/admin/permissions',\n      '/admin/permission_templates'\n    ];\n    return this.isSomethingActive(urls);\n  }\n\n  isProjectsActive() {\n    const urls = ['/admin/projects_management', '/admin/background_tasks'];\n    return this.isSomethingActive(urls);\n  }\n\n  isSystemActive() {\n    const urls = ['/admin/system'];\n    return this.isSomethingActive(urls);\n  }\n\n  isMarketplace() {\n    const urls = ['/admin/marketplace'];\n    return this.isSomethingActive(urls);\n  }\n\n  isAudit() {\n    const urls = ['/admin/audit'];\n    return this.isSomethingActive(urls);\n  }\n\n  renderExtension = ({ key, name }: T.Extension) => {\n    return (\n      <li key={key}>\n        <Link activeClassName=\"active\" to={`/admin/extension/${key}`}>\n          {name}\n        </Link>\n      </li>\n    );\n  };\n\n  renderConfigurationTab() {\n    const extensionsWithoutSupport = this.props.extensions.filter(\n      extension => extension.key !== 'license/support'\n    );\n    return (\n      <Dropdown\n        overlay={\n          <ul className=\"menu\">\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/settings\">\n                {translate('settings.page')}\n              </IndexLink>\n            </li>\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/settings/encryption\">\n                {translate('property.category.security.encryption')}\n              </IndexLink>\n            </li>\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/webhooks\">\n                {translate('webhooks.page')}\n              </IndexLink>\n            </li>\n            {extensionsWithoutSupport.map(this.renderExtension)}\n          </ul>\n        }\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"menu\"\n            role=\"button\"\n            className={classNames('dropdown-toggle', {\n              active:\n                open ||\n                (!this.isSecurityActive() &&\n                  !this.isProjectsActive() &&\n                  !this.isSystemActive() &&\n                  !this.isSomethingActive(['/admin/extension/license/support']) &&\n                  !this.isMarketplace() &&\n                  !this.isAudit())\n            })}\n            href=\"#\"\n            id=\"settings-navigation-configuration\"\n            onClick={onToggleClick}>\n            {translate('sidebar.project_settings')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  renderProjectsTab() {\n    return (\n      <Dropdown\n        overlay={\n          <ul className=\"menu\">\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/projects_management\">\n                {translate('management')}\n              </IndexLink>\n            </li>\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/background_tasks\">\n                {translate('background_tasks.page')}\n              </IndexLink>\n            </li>\n          </ul>\n        }\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"menu\"\n            role=\"button\"\n            className={classNames('dropdown-toggle', { active: open || this.isProjectsActive() })}\n            href=\"#\"\n            onClick={onToggleClick}>\n            {translate('sidebar.projects')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  renderSecurityTab() {\n    return (\n      <Dropdown\n        overlay={\n          <ul className=\"menu\">\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/users\">\n                {translate('users.page')}\n              </IndexLink>\n            </li>\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/groups\">\n                {translate('user_groups.page')}\n              </IndexLink>\n            </li>\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/permissions\">\n                {translate('global_permissions.page')}\n              </IndexLink>\n            </li>\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/permission_templates\">\n                {translate('permission_templates')}\n              </IndexLink>\n            </li>\n          </ul>\n        }\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"menu\"\n            role=\"button\"\n            className={classNames('dropdown-toggle', { active: open || this.isSecurityActive() })}\n            href=\"#\"\n            onClick={onToggleClick}>\n            {translate('sidebar.security')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  render() {\n    const { extensions, pendingPlugins } = this.props;\n    const hasSupportExtension = extensions.find(extension => extension.key === 'license/support');\n    const hasGovernanceExtension = extensions.find(\n      e => e.key === AdminPageExtension.GovernanceConsole\n    );\n    const totalPendingPlugins =\n      pendingPlugins.installing.length +\n      pendingPlugins.removing.length +\n      pendingPlugins.updating.length;\n    const contextNavHeight = rawSizes.contextNavHeightRaw;\n    let notifComponent;\n    if (this.props.systemStatus === 'RESTARTING') {\n      notifComponent = <SystemRestartNotif />;\n    } else if (totalPendingPlugins > 0) {\n      notifComponent = (\n        <PendingPluginsActionNotif\n          fetchSystemStatus={this.props.fetchSystemStatus}\n          pending={pendingPlugins}\n          refreshPending={this.props.fetchPendingPlugins}\n          systemStatus={this.props.systemStatus}\n        />\n      );\n    }\n\n    return (\n      <ContextNavBar\n        height={notifComponent ? contextNavHeight + 30 : contextNavHeight}\n        id=\"context-navigation\"\n        notif={notifComponent}>\n        <header className=\"navbar-context-header\">\n          <h1>{translate('layout.settings')}</h1>\n        </header>\n\n        <NavBarTabs>\n          {this.renderConfigurationTab()}\n          {this.renderSecurityTab()}\n          {this.renderProjectsTab()}\n\n          <li>\n            <IndexLink activeClassName=\"active\" to=\"/admin/system\">\n              {translate('sidebar.system')}\n            </IndexLink>\n          </li>\n\n          <li>\n            <IndexLink activeClassName=\"active\" to=\"/admin/marketplace\">\n              {translate('marketplace.page')}\n            </IndexLink>\n          </li>\n\n          {hasGovernanceExtension && (\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/audit\">\n                {translate('audit_logs.page')}\n              </IndexLink>\n            </li>\n          )}\n\n          {hasSupportExtension && (\n            <li>\n              <IndexLink activeClassName=\"active\" to=\"/admin/extension/license/support\">\n                {translate('support')}\n              </IndexLink>\n            </li>\n          )}\n        </NavBarTabs>\n      </ContextNavBar>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { connect } from 'react-redux';\nimport { getSettingsNavigation } from '../../api/nav';\nimport { getPendingPlugins } from '../../api/plugins';\nimport { getSystemStatus, waitSystemUPStatus } from '../../api/system';\nimport handleRequiredAuthorization from '../../app/utils/handleRequiredAuthorization';\nimport { translate } from '../../helpers/l10n';\nimport { setAdminPages } from '../../store/appState';\nimport { getAppState, Store } from '../../store/rootReducer';\nimport { PendingPluginResult } from '../../types/plugins';\nimport AdminContext, { defaultPendingPlugins, defaultSystemStatus } from './AdminContext';\nimport SettingsNav from './nav/settings/SettingsNav';\n\ninterface Props {\n  appState: Pick<T.AppState, 'adminPages' | 'canAdmin'>;\n  location: {};\n  setAdminPages: (adminPages: T.Extension[]) => void;\n}\n\ninterface State {\n  pendingPlugins: PendingPluginResult;\n  systemStatus: T.SysStatus;\n}\n\nexport class AdminContainer extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    pendingPlugins: defaultPendingPlugins,\n    systemStatus: defaultSystemStatus\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    if (!this.props.appState.canAdmin) {\n      handleRequiredAuthorization();\n    } else {\n      this.fetchNavigationSettings();\n      this.fetchPendingPlugins();\n      this.fetchSystemStatus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchNavigationSettings = () => {\n    getSettingsNavigation().then(\n      r => this.props.setAdminPages(r.extensions),\n      () => {}\n    );\n  };\n\n  fetchPendingPlugins = () => {\n    getPendingPlugins().then(\n      pendingPlugins => {\n        if (this.mounted) {\n          this.setState({ pendingPlugins });\n        }\n      },\n      () => {}\n    );\n  };\n\n  fetchSystemStatus = () => {\n    getSystemStatus().then(\n      ({ status }) => {\n        if (this.mounted) {\n          this.setState({ systemStatus: status });\n          if (status === 'RESTARTING') {\n            this.waitRestartingDone();\n          }\n        }\n      },\n      () => {}\n    );\n  };\n\n  waitRestartingDone = () => {\n    waitSystemUPStatus().then(\n      ({ status }) => {\n        if (this.mounted) {\n          this.setState({ systemStatus: status });\n          document.location.reload();\n        }\n      },\n      () => {}\n    );\n  };\n\n  render() {\n    const { adminPages } = this.props.appState;\n\n    // Check that the adminPages are loaded\n    if (!adminPages) {\n      return null;\n    }\n\n    const { pendingPlugins, systemStatus } = this.state;\n    const defaultTitle = translate('layout.settings');\n\n    return (\n      <div>\n        <Helmet defaultTitle={defaultTitle} defer={false} titleTemplate={`%s - ${defaultTitle}`} />\n        <SettingsNav\n          extensions={adminPages}\n          fetchPendingPlugins={this.fetchPendingPlugins}\n          fetchSystemStatus={this.fetchSystemStatus}\n          location={this.props.location}\n          pendingPlugins={pendingPlugins}\n          systemStatus={systemStatus}\n        />\n        <AdminContext.Provider\n          value={{\n            fetchSystemStatus: this.fetchSystemStatus,\n            fetchPendingPlugins: this.fetchPendingPlugins,\n            pendingPlugins,\n            systemStatus\n          }}>\n          {this.props.children}\n        </AdminContext.Provider>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({ appState: getAppState(state) });\n\nconst mapDispatchToProps = { setAdminPages };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminContainer);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal, { ModalProps } from './Modal';\n\nexport interface ChildrenProps {\n  onCloseClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  onFormSubmit: (event: React.SyntheticEvent<HTMLFormElement>) => void;\n  onSubmitClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  submitting: boolean;\n}\n\ninterface Props extends ModalProps {\n  children: (props: ChildrenProps) => React.ReactNode;\n  header: string;\n  onClose: () => void;\n  onSubmit: () => void | Promise<void | Response>;\n}\n\ninterface State {\n  submitting: boolean;\n}\n\nexport default class SimpleModal extends React.Component<Props, State> {\n  mounted = false;\n  state: State = { submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopSubmitting = () => {\n    if (this.mounted) {\n      this.setState({ submitting: false });\n    }\n  };\n\n  handleCloseClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.props.onClose();\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.submit();\n  };\n\n  handleSubmitClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.submit();\n  };\n\n  submit = () => {\n    const result = this.props.onSubmit();\n    if (result) {\n      this.setState({ submitting: true });\n      result.then(this.stopSubmitting, this.stopSubmitting);\n    }\n  };\n\n  render() {\n    const { children, header, onClose, onSubmit, ...modalProps } = this.props;\n    return (\n      <Modal contentLabel={header} onRequestClose={onClose} {...modalProps}>\n        {children({\n          onCloseClick: this.handleCloseClick,\n          onFormSubmit: this.handleFormSubmit,\n          onSubmitClick: this.handleSubmitClick,\n          submitting: this.state.submitting\n        })}\n      </Modal>\n    );\n  }\n}\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\nimport DeferredSpinner from '../ui/DeferredSpinner';\nimport { ResetButtonLink, SubmitButton } from './buttons';\nimport ClickEventBoundary from './ClickEventBoundary';\nimport { ModalProps } from './Modal';\nimport SimpleModal, { ChildrenProps } from './SimpleModal';\n\nexport interface ConfirmModalProps<T> extends ModalProps {\n  cancelButtonText?: string;\n  confirmButtonText: string;\n  confirmData?: T;\n  confirmDisable?: boolean;\n  isDestructive?: boolean;\n  onConfirm: (data?: T) => void | Promise<void | Response>;\n}\n\ninterface Props<T> extends ConfirmModalProps<T> {\n  header: string;\n  headerDescription?: React.ReactNode;\n  onClose: () => void;\n}\n\nexport default class ConfirmModal<T = string> extends React.PureComponent<Props<T>> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleSubmit = () => {\n    const result = this.props.onConfirm(this.props.confirmData);\n    if (result) {\n      return result.then(this.props.onClose, () => {\n        /* noop */\n      });\n    }\n    this.props.onClose();\n    return undefined;\n  };\n\n  renderModalContent = ({ onCloseClick, onFormSubmit, submitting }: ChildrenProps) => {\n    const {\n      children,\n      confirmButtonText,\n      confirmDisable,\n      header,\n      headerDescription,\n      isDestructive,\n      cancelButtonText = translate('cancel')\n    } = this.props;\n    return (\n      <ClickEventBoundary>\n        <form onSubmit={onFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n            {headerDescription}\n          </header>\n          <div className=\"modal-body\">{children}</div>\n          <footer className=\"modal-foot\">\n            <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n            <SubmitButton\n              autoFocus={true}\n              className={isDestructive ? 'button-red' : undefined}\n              disabled={submitting || confirmDisable}>\n              {confirmButtonText}\n            </SubmitButton>\n            <ResetButtonLink disabled={submitting} onClick={onCloseClick}>\n              {cancelButtonText}\n            </ResetButtonLink>\n          </footer>\n        </form>\n      </ClickEventBoundary>\n    );\n  };\n\n  render() {\n    const { header, onClose, noBackdrop, size } = this.props;\n    const modalProps = { header, onClose, noBackdrop, size };\n    return (\n      <SimpleModal onSubmit={this.handleSubmit} {...modalProps}>\n        {this.renderModalContent}\n      </SimpleModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConfirmModal, { ConfirmModalProps } from './ConfirmModal';\nimport ModalButton, { ChildrenProps, ModalProps } from './ModalButton';\n\ninterface Props<T> extends ConfirmModalProps<T> {\n  children: (props: ChildrenProps) => React.ReactNode;\n  modalBody: React.ReactNode;\n  modalHeader: string;\n  modalHeaderDescription?: React.ReactNode;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ConfirmButton<T> extends React.PureComponent<Props<T>, State> {\n  renderConfirmModal = ({ onClose }: ModalProps) => {\n    const {\n      children,\n      modalBody,\n      modalHeader,\n      modalHeaderDescription,\n      ...confirmModalProps\n    } = this.props;\n    return (\n      <ConfirmModal\n        header={modalHeader}\n        headerDescription={modalHeaderDescription}\n        onClose={onClose}\n        {...confirmModalProps}>\n        {modalBody}\n      </ConfirmModal>\n    );\n  };\n\n  render() {\n    return <ModalButton modal={this.renderConfirmModal}>{this.props.children}</ModalButton>;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport interface ChildrenProps {\n  onClick: () => void;\n  onFormSubmit: (event: React.FormEvent<HTMLFormElement>) => void;\n}\n\nexport interface ModalProps {\n  onClose: () => void;\n}\n\nexport interface Props {\n  children: (props: ChildrenProps) => React.ReactNode;\n  modal: (props: ModalProps) => React.ReactNode;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ModalButton extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { modal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleButtonClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleFormSubmit = (event?: React.FormEvent<HTMLFormElement>) => {\n    if (event) {\n      event.preventDefault();\n    }\n    this.setState({ modal: true });\n  };\n\n  handleCloseModal = () => {\n    if (this.mounted) {\n      this.setState({ modal: false });\n    }\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.children({\n          onClick: this.handleButtonClick,\n          onFormSubmit: this.handleFormSubmit\n        })}\n        {this.state.modal && this.props.modal({ onClose: this.handleCloseModal })}\n      </>\n    );\n  }\n}\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport interface Plugin {\n  key: string;\n  name: string;\n  category?: string;\n  description?: string;\n  editionBundled?: boolean;\n  license?: string;\n  organizationName?: string;\n  homepageUrl?: string;\n  organizationUrl?: string;\n  issueTrackerUrl?: string;\n  termsAndConditionsUrl?: string;\n}\n\nexport interface PendingPluginResult {\n  installing: PendingPlugin[];\n  updating: PendingPlugin[];\n  removing: PendingPlugin[];\n}\n\nexport interface AvailablePlugin extends Plugin {\n  release: Release;\n  update: Update;\n}\n\nexport interface PendingPlugin extends Plugin {\n  version: string;\n  implementationBuild: string;\n}\n\nexport interface InstalledPlugin extends PendingPlugin {\n  documentationPath?: string;\n  issueTrackerUrl?: string;\n  filename: string;\n  hash: string;\n  sonarLintSupported: boolean;\n  updatedAt: number;\n  updates?: Update[];\n}\n\nexport interface Release {\n  version: string;\n  date: string;\n  description?: string;\n  changeLogUrl?: string;\n}\n\nexport interface Update {\n  status: string;\n  release?: Release;\n  requires: Plugin[];\n  previousUpdates?: Update[];\n}\n\nexport enum PluginType {\n  Bundled = 'BUNDLED',\n  External = 'EXTERNAL'\n}\n\nexport enum RiskConsent {\n  Accepted = 'ACCEPTED',\n  NotAccepted = 'NOT_ACCEPTED',\n  Required = 'REQUIRED'\n}\n\nexport function isAvailablePlugin(plugin: Plugin): plugin is AvailablePlugin {\n  return (plugin as any).release !== undefined;\n}\n\nexport function isInstalledPlugin(plugin: Plugin): plugin is InstalledPlugin {\n  return isPendingPlugin(plugin) && (plugin as any).updatedAt !== undefined;\n}\n\nexport function isPendingPlugin(plugin: Plugin): plugin is PendingPlugin {\n  return (plugin as any).version !== undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON, post, postJSON, requestTryAndRepeatUntil } from '../helpers/request';\nimport { SystemUpgrade } from '../types/system';\n\nexport function setLogLevel(level: string): Promise<void | Response> {\n  return post('/api/system/change_log_level', { level }).catch(throwGlobalError);\n}\n\nexport function getSystemInfo(): Promise<T.SysInfoCluster | T.SysInfoStandalone> {\n  return getJSON('/api/system/info').catch(throwGlobalError);\n}\n\nexport function getSystemStatus(): Promise<{ id: string; version: string; status: T.SysStatus }> {\n  return getJSON('/api/system/status');\n}\n\nexport function getSystemUpgrades(): Promise<{\n  upgrades: SystemUpgrade[];\n  updateCenterRefresh: string;\n}> {\n  return getJSON('/api/system/upgrades');\n}\n\nexport function getMigrationStatus(): Promise<{\n  message?: string;\n  startedAt?: string;\n  state: string;\n}> {\n  return getJSON('/api/system/db_migration_status');\n}\n\nexport function migrateDatabase(): Promise<{\n  message?: string;\n  startedAt?: string;\n  state: string;\n}> {\n  return postJSON('/api/system/migrate_db');\n}\n\nexport function restart(): Promise<void | Response> {\n  return post('/api/system/restart').catch(throwGlobalError);\n}\n\nexport function waitSystemUPStatus(): Promise<{\n  id: string;\n  version: string;\n  status: T.SysStatus;\n}> {\n  return requestTryAndRepeatUntil(\n    getSystemStatus,\n    { max: -1, slowThreshold: -15 },\n    ({ status }) => status === 'UP'\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON } from '../helpers/request';\nimport { BranchParameters } from '../types/branch-like';\n\ntype NavComponent = T.Omit<T.Component, 'alm' | 'qualifier' | 'leakPeriodDate' | 'path' | 'tags'>;\n\nexport function getComponentNavigation(\n  data: { component: string } & BranchParameters\n): Promise<NavComponent> {\n  return getJSON('/api/navigation/component', data).catch(throwGlobalError);\n}\n\nexport function getMarketplaceNavigation(): Promise<{ serverId: string; ncloc: number }> {\n  return getJSON('/api/navigation/marketplace').catch(throwGlobalError);\n}\n\nexport function getSettingsNavigation(): Promise<any> {\n  return getJSON('/api/navigation/settings').catch(throwGlobalError);\n}\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * This method is like `_.findIndex` except that it iterates over elements\n * of `collection` from right to left.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=array.length-1] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': true },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': false }\n * ];\n *\n * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n * // => 2\n *\n * // The `_.matches` iteratee shorthand.\n * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n * // => 0\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findLastIndex(users, ['active', false]);\n * // => 2\n *\n * // The `_.property` iteratee shorthand.\n * _.findLastIndex(users, 'active');\n * // => 0\n */\nfunction findLastIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = length - 1;\n  if (fromIndex !== undefined) {\n    index = toInteger(fromIndex);\n    index = fromIndex < 0\n      ? nativeMax(length + index, 0)\n      : nativeMin(index, length - 1);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index, true);\n}\n\nmodule.exports = findLastIndex;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport getHistory from '../../helpers/getHistory';\nimport { requireAuthorization } from '../../store/appState';\nimport getStore from './getStore';\n\nexport default function handleRequiredAuthorization() {\n  const store = getStore();\n  const history = getHistory();\n\n  const returnTo = window.location.pathname + window.location.search + window.location.hash;\n\n  store.dispatch(requireAuthorization());\n  history.replace({ pathname: '/sessions/new', query: { return_to: returnTo } });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { findLastIndex } from 'lodash';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON, post } from '../helpers/request';\nimport { isDefined } from '../helpers/types';\nimport {\n  AvailablePlugin,\n  InstalledPlugin,\n  PendingPluginResult,\n  PluginType,\n  Update\n} from '../types/plugins';\n\nexport function getAvailablePlugins(): Promise<{\n  plugins: AvailablePlugin[];\n  updateCenterRefresh: string;\n}> {\n  return getJSON('/api/plugins/available').catch(throwGlobalError);\n}\n\nexport function getPendingPlugins(): Promise<PendingPluginResult> {\n  return getJSON('/api/plugins/pending').catch(throwGlobalError);\n}\n\nfunction getLastUpdates(updates: undefined | Update[]): Update[] {\n  if (!updates) {\n    return [];\n  }\n  const lastUpdate = ['COMPATIBLE', 'REQUIRES_SYSTEM_UPGRADE', 'DEPS_REQUIRE_SYSTEM_UPGRADE'].map(\n    status => {\n      const index = findLastIndex(updates, update => update.status === status);\n      return index > -1 ? updates[index] : undefined;\n    }\n  );\n  return lastUpdate.filter(isDefined);\n}\n\nfunction addChangelog(update: Update, updates?: Update[]) {\n  if (!updates) {\n    return update;\n  }\n  const index = updates.indexOf(update);\n  const previousUpdates = index > 0 ? updates.slice(0, index) : [];\n  return { ...update, previousUpdates };\n}\n\nfunction getInstalledPluginApi(type = PluginType.External) {\n  return getJSON('/api/plugins/installed', { f: 'category', type });\n}\n\nfunction getUpdatesPluginApi() {\n  return getJSON('/api/plugins/updates');\n}\n\nexport function getInstalledPlugins(\n  type: PluginType = PluginType.External\n): Promise<InstalledPlugin[]> {\n  return getInstalledPluginApi(type).then(({ plugins }) => plugins, throwGlobalError);\n}\n\nexport function getInstalledPluginsWithUpdates(): Promise<InstalledPlugin[]> {\n  return Promise.all([getInstalledPluginApi(), getUpdatesPluginApi()])\n    .then(([installed, updates]) =>\n      installed.plugins.map((plugin: InstalledPlugin) => {\n        const updatePlugin: InstalledPlugin = updates.plugins.find(\n          (p: InstalledPlugin) => p.key === plugin.key\n        );\n        if (updatePlugin) {\n          return {\n            ...updatePlugin,\n            ...plugin,\n            updates: getLastUpdates(updatePlugin.updates).map(update =>\n              addChangelog(update, updatePlugin.updates)\n            )\n          };\n        }\n        return plugin;\n      })\n    )\n    .catch(throwGlobalError);\n}\n\nexport function getPluginUpdates(): Promise<InstalledPlugin[]> {\n  return Promise.all([getUpdatesPluginApi(), getInstalledPluginApi()])\n    .then(([updates, installed]) =>\n      updates.plugins.map((updatePlugin: InstalledPlugin) => {\n        const updates = getLastUpdates(updatePlugin.updates).map(update =>\n          addChangelog(update, updatePlugin.updates)\n        );\n        const plugin = installed.plugins.find((p: InstalledPlugin) => p.key === updatePlugin.key);\n        if (plugin) {\n          return {\n            ...plugin,\n            ...updatePlugin,\n            updates\n          };\n        }\n        return { ...updatePlugin, updates };\n      })\n    )\n    .catch(throwGlobalError);\n}\n\nexport function installPlugin(data: { key: string }): Promise<void | Response> {\n  return post('/api/plugins/install', data).catch(throwGlobalError);\n}\n\nexport function uninstallPlugin(data: { key: string }): Promise<void | Response> {\n  return post('/api/plugins/uninstall', data).catch(throwGlobalError);\n}\n\nexport function updatePlugin(data: { key: string }): Promise<void | Response> {\n  return post('/api/plugins/update', data).catch(throwGlobalError);\n}\n\nexport function cancelPendingPlugins(): Promise<void | Response> {\n  return post('/api/plugins/cancel_all').catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './NavBarTabs.css';\n\ninterface Props extends React.HTMLAttributes<HTMLUListElement> {\n  children?: React.ReactNode;\n  className?: string;\n}\n\nexport default function NavBarTabs({ children, className, ...other }: Props) {\n  return (\n    <ul {...other} className={classNames('navbar-tabs', className)}>\n      {children}\n    </ul>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./NavBarTabs.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".navbar-tabs{display:flex;align-items:center;clear:left;height:24px;margin-top:8px}.navbar-tabs>li+li{margin-left:20px}.navbar-tabs>li>a{display:block;height:24px;line-height:16px;padding-top:2px;border-bottom:3px solid transparent;box-sizing:border-box;color:#333;transition:none}.navbar-tabs>li>a.active,.navbar-tabs>li>a:focus,.navbar-tabs>li>a:hover{border-bottom-color:#4b9fd5}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { PendingPluginResult } from '../../types/plugins';\n\nexport interface AdminContextInterface {\n  fetchSystemStatus: () => void;\n  fetchPendingPlugins: () => void;\n  pendingPlugins: PendingPluginResult;\n  systemStatus: T.SysStatus;\n}\n\nexport const defaultPendingPlugins = { installing: [], removing: [], updating: [] };\nexport const defaultSystemStatus = 'UP';\n\nconst AdminContext = React.createContext<AdminContextInterface>({\n  fetchSystemStatus: () => {},\n  fetchPendingPlugins: () => {},\n  pendingPlugins: defaultPendingPlugins,\n  systemStatus: defaultSystemStatus\n});\nexport default AdminContext;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './ContextNavBar.css';\nimport NavBar, { NavBarProps } from './NavBar';\n\ninterface Props extends NavBarProps {\n  className?: string;\n  id?: string;\n  height: number;\n}\n\nexport default function ContextNavBar({ className, ...other }: Props) {\n  return <NavBar className={classNames('navbar-context', className)} {...other} />;\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ContextNavBar.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".navbar-context,.navbar-context .navbar-inner{background-color:#fff;z-index:420}.navbar-context .navbar-inner{padding-top:8px;border-bottom:1px solid #e6e6e6}.navbar-context .navbar-inner-with-notif{border-bottom:none}.navbar-context-justified{display:flex;justify-content:space-between}.navbar-context-header{display:flex;align-items:center;min-width:0;height:32px;font-size:16px}.navbar-context-header>:not(.navbar-context-header-breadcrumb-link){flex-shrink:0}.navbar-context-header-breadcrumb-link{min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.navbar-context-header .slash-separator{margin-left:8px;margin-right:8px;font-size:24px}.navbar-context-header .slash-separator:after{color:rgba(68,68,68,.2)}.navbar-context-meta{display:flex;align-items:center;height:32px;padding-left:20px;color:#666;font-size:12px;text-align:right}.navbar-context-meta-secondary{position:absolute;top:34px;right:0;padding:0 20px;white-space:nowrap}.navbar-context-description{display:inline-block;line-height:24px;margin-left:8px;padding-top:4px;color:#666;font-size:12px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { InjectedIntl } from 'react-intl';\nimport { Store as ReduxStore } from 'redux';\nimport { Location, Router } from '../components/hoc/withRouter';\nimport { Store } from '../store/rootReducer';\nimport { L10nBundle } from './l10n';\n\nexport enum AdminPageExtension {\n  GovernanceConsole = 'governance/views_console'\n}\n\nexport interface ExtensionStartMethod {\n  (params: ExtensionStartMethodParameter | string): ExtensionStartMethodReturnType;\n}\n\nexport interface ExtensionStartMethodParameter {\n  store: ReduxStore<Store, any>;\n  el: HTMLElement | undefined | null;\n  currentUser: T.CurrentUser;\n  intl: InjectedIntl;\n  location: Location;\n  router: Router;\n  theme: {\n    colors: T.Dict<string>;\n    sizes: T.Dict<string>;\n    rawSizes: T.Dict<number>;\n    fonts: T.Dict<string>;\n    zIndexes: T.Dict<string>;\n    others: T.Dict<string>;\n  };\n  baseUrl: string;\n  l10nBundle: L10nBundle;\n}\n\nexport type ExtensionStartMethodReturnType = React.ReactNode | Function | void | undefined | null;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { restart } from '../../api/system';\nimport { Button } from '../../components/controls/buttons';\nimport ConfirmButton from '../../components/controls/ConfirmButton';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  fetchSystemStatus: () => void;\n  systemStatus: T.SysStatus;\n}\n\nexport default class RestartButton extends React.PureComponent<Props> {\n  handleConfirm = () => {\n    return restart().then(this.props.fetchSystemStatus);\n  };\n\n  render() {\n    const { className, systemStatus } = this.props;\n    return (\n      <ConfirmButton\n        confirmButtonText={translate('restart')}\n        modalBody={\n          <>\n            <p className=\"spacer-top spacer-bottom\">\n              {translate('system.are_you_sure_to_restart')}\n            </p>\n            <p>{translate('system.forcing_shutdown_not_recommended')}</p>\n          </>\n        }\n        modalHeader={translate('system.restart_server')}\n        onConfirm={this.handleConfirm}>\n        {({ onClick }) => (\n          <Button\n            className={classNames('button-red', className)}\n            disabled={systemStatus !== 'UP'}\n            onClick={onClick}>\n            {systemStatus === 'RESTARTING'\n              ? translate('system.restart_in_progress')\n              : translate('system.restart_server')}\n          </Button>\n        )}\n      </ConfirmButton>\n    );\n  }\n}\n"],"sourceRoot":""}