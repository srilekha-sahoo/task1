(window.webpackJsonp=window.webpackJsonp||[]).push([[285],{1672:function(e,t,s){var n=s(369),r=s(1673);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},o=(n(r,i),r.locals?r.locals:{});e.exports=o},1673:function(e,t,s){(t=s(370)(!1)).push([e.i,".source-viewer{width:100%;min-height:200px;border:1px solid #cdcdcd;box-sizing:border-box;background-color:#fff;overflow:hidden}.source-table{width:100%;border:none;border-collapse:collapse}.source-viewer-header{position:relative;padding:2px 10px 4px;border-bottom:1px solid #e6e6e6;background-color:#f3f3f3}.source-viewer-header-measure{vertical-align:middle;font-size:13px}.source-viewer-header-measure .rating{font-size:18px}.source-viewer-header-measure-separator{margin:0 24px;height:30px;border-right:1px solid #cdcdcd}.source-viewer-header-measure+.source-viewer-header-measure{margin-left:24px}.source-viewer-header-measure-label{display:block;line-height:12px;color:#666;font-size:12px}.source-viewer-header-measure-value{display:block;margin-top:2px;line-height:18px;color:#333;font-size:16px}.source-viewer-header-actions{display:block;margin-left:24px;padding:8px 4px}.source-viewer-header-actions svg{margin-top:2px}.source-viewer-header-more-actions{position:absolute;z-index:7500;right:0;top:100%;padding:10px;border:1px solid #e6e6e6;border-right:none;background-color:#fff;line-height:1.8}.source-viewer-code{overflow-x:auto}.source-viewer-more-code{padding:40px 0;border-bottom:1px solid #e6e6e6;background-color:#f3f3f3;text-align:center}.source-viewer-more-code .spinner{top:-1px}.source-table+.source-viewer-more-code{border-bottom:none;border-top:1px solid #e6e6e6}.issue-location.highlighted{border-color:#e1e1f2;background-color:#e1e1f2}.issue-location.selected{border-color:#f4b1b0;background-color:#f4b1b0}.measures-viewer{display:flex;margin:0 -8px}.measures-viewer+.measures-viewer{margin-top:8px}.measures-viewer-header{font-size:12px}.measures-viewer-secondary .measures-viewer-card{background-color:#f3f3f3}.measures-viewer-section{flex:1}.measures-viewer-section-limited{max-width:25%}.measures-viewer-card{margin:16px 8px;padding:8px;border:1px solid #e6e6e6;background-color:#fff}.measures+.measures{margin-top:16px;padding-top:16px;border-top:1px solid #e6e6e6}.measures-chart{display:inline-block;vertical-align:middle;width:80px;margin-right:24px;text-align:center}.measure{line-height:1.34}.measure-one-line{display:flex;justify-content:space-between}.measure-one-line .measure-name{display:inline}.measure-name{display:block;font-size:13px}.measure-value{color:#236a97;font-size:16px;font-weight:400}.measure-big{display:inline-block;vertical-align:middle}.measure-big .measure-name{margin-top:4px;margin-bottom:8px;font-size:16px}.measure-big .measure-value,.measure-big .rating{font-size:24px}.measure-big+.measure-big{margin-left:24px}",""]),e.exports=t},392:function(e,t,s){"use strict";s.d(t,"a",(function(){return m})),s.d(t,"b",(function(){return d})),s.d(t,"c",(function(){return h}));var n=s(367),r=s(421),i=s(366),o=s(6),a=s(372);function c(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function l(e){let{fill:t="currentColor"}=e,s=c(e,["fill"]);return i.createElement(a.a,Object.assign({},s),i.createElement("g",{fill:t,fillRule:"nonzero"},i.createElement("path",{d:"M2.931 15.005V3H2v13h9v-.995z"}),i.createElement("path",{d:"M10 4.015h3V14H4V1h6v3.015zM9 8V6H8v2H6v1h2v2h1V9h2V8H9z"}),i.createElement("path",{d:"M11 1v2h2a2.151 2.151 0 0 0-2-2z"})))}var u=s(368),p=s(374);class m extends i.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={copySuccess:!1},this.setCopyButton=e=>{this.copyButton=e},this.handleSuccessCopy=()=>{this.mounted&&(this.setState({copySuccess:!0}),setTimeout(()=>{this.mounted&&this.setState({copySuccess:!1})},1e3))}}componentDidMount(){this.mounted=!0,this.copyButton&&(this.clipboard=new r(this.copyButton),this.clipboard.on("success",this.handleSuccessCopy))}componentDidUpdate(){this.clipboard&&this.clipboard.destroy(),this.copyButton&&(this.clipboard=new r(this.copyButton),this.clipboard.on("success",this.handleSuccessCopy))}componentWillUnmount(){this.mounted=!1,this.clipboard&&this.clipboard.destroy()}render(){return this.props.children({setCopyButton:this.setCopyButton,copySuccess:this.state.copySuccess})}}function d({className:e,children:t,copyValue:s}){return i.createElement(m,null,({setCopyButton:r,copySuccess:a})=>i.createElement(p.a,{overlay:Object(o.k)("copied_action"),visible:a},i.createElement(u.a,{className:n("no-select",e),"data-clipboard-text":s,innerRef:r},t||i.createElement(i.Fragment,null,i.createElement(l,{className:"little-spacer-right"}),Object(o.k)("copy")))))}function h(e){const{className:t,copyValue:s}=e;return i.createElement(m,null,({setCopyButton:r,copySuccess:a})=>{var c;return i.createElement(u.b,{"aria-label":null!==(c=e["aria-label"])&&void 0!==c?c:Object(o.k)("copy_to_clipboard"),className:n("no-select",t),"data-clipboard-text":s,innerRef:r,tooltip:Object(o.k)(a?"copied_action":"copy_to_clipboard"),tooltipProps:a?{visible:a}:void 0},i.createElement(l,null))})}},398:function(e,t,s){"use strict";s.d(t,"b",(function(){return o})),s.d(t,"a",(function(){return a}));var n=s(366),r=s(371),i=s(21);const o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};function a({children:e,date:t}){return n.createElement(r.FormattedDate,Object.assign({value:Object(i.b)(t)},o),e)}},409:function(e,t,s){var n=s(440);e.exports=function(e){return e?(e=n(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},416:function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var n=s(463),r=s(366),i=s(371),o=s(21),a=s(6),c=s(398);function l(e){const{children:t=(e=>e),date:s,hourPrecision:l}=e;let u=t;if(!s)return r.createElement(r.Fragment,null,t(Object(a.k)("never")));s&&l&&Object(n.differenceInHours)(Date.now(),s)<1&&(u=()=>t(Object(a.k)("less_than_1_hour_ago")));const p=Object(o.b)(s);return r.createElement(c.a,{date:p},e=>r.createElement("span",{title:e},r.createElement(i.FormattedRelative,{value:p},u)))}},418:function(e,t,s){var n=s(23),r=s(22),i=s(488),o=s(1);e.exports=function(e,t){return(o(e)?n:i)(e,r(t,3))}},429:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var n=s(366),r=s(372);function i(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function o(e){let{fill:t="currentColor"}=e,s=i(e,["fill"]);return n.createElement(r.a,Object.assign({},s),n.createElement("path",{d:"M12 9.25v2.5A2.25 2.25 0 0 1 9.75 14h-6.5A2.25 2.25 0 0 1 1 11.75v-6.5A2.25 2.25 0 0 1 3.25 3h5.5c.14 0 .25.11.25.25v.5c0 .14-.11.25-.25.25h-5.5C2.562 4 2 4.563 2 5.25v6.5c0 .688.563 1.25 1.25 1.25h6.5c.688 0 1.25-.563 1.25-1.25v-2.5c0-.14.11-.25.25-.25h.5c.14 0 .25.11.25.25zm3-6.75v4c0 .273-.227.5-.5.5a.497.497 0 0 1-.352-.148l-1.375-1.375L7.68 10.57a.27.27 0 0 1-.18.078.27.27 0 0 1-.18-.078l-.89-.89a.27.27 0 0 1-.078-.18.27.27 0 0 1 .078-.18l5.093-5.093-1.375-1.375A.497.497 0 0 1 10 2.5c0-.273.227-.5.5-.5h4c.273 0 .5.227.5.5z",style:{fill:t}}))}},431:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var n=s(367),r=s(366),i=s(377);s(457);function o(e){const t=Object(i.formatMeasure)(e.level,"LEVEL"),s=n(e.className,"level","level-"+e.level,{"level-small":e.small,"level-muted":e.muted});return r.createElement("span",{"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],className:s},t)}},437:function(e,t,s){"use strict";s.d(t,"c",(function(){return g})),s.d(t,"b",(function(){return b})),s.d(t,"a",(function(){return f}));var n=s(367),r=s(366),i=s(373),o=s(6),a=s(394),c=s(372);function l(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function u(e){let{fill:t="currentColor",size:s=14}=e,n=l(e,["fill","size"]);return r.createElement(c.a,Object.assign({size:s,viewBox:"0 0 14 14"},n),r.createElement("g",{transform:"matrix(0.0364583,0,0,0.0364583,0,-1.16667)"},r.createElement("path",{d:"M256,224C256,206.333 249.75,191.25 237.25,178.75C224.75,166.25 209.667,160 192,160C174.333,160 159.25,166.25 146.75,178.75C134.25,191.25 128,206.333 128,224C128,241.667 134.25,256.75 146.75,269.25C159.25,281.75 174.333,288 192,288C209.667,288 224.75,281.75 237.25,269.25C249.75,256.75 256,241.667 256,224ZM384,196.75L384,252.25C384,254.25 383.333,256.167 382,258C380.667,259.833 379,260.917 377,261.25L330.75,268.25C327.583,277.25 324.333,284.833 321,291C326.833,299.333 335.75,310.833 347.75,325.5C349.417,327.5 350.25,329.583 350.25,331.75C350.25,333.917 349.5,335.833 348,337.5C343.5,343.667 335.25,352.667 323.25,364.5C311.25,376.333 303.417,382.25 299.75,382.25C297.75,382.25 295.583,381.5 293.25,380L258.75,353C251.417,356.833 243.833,360 236,362.5C233.333,385.167 230.917,400.667 228.75,409C227.583,413.667 224.583,416 219.75,416L164.25,416C161.917,416 159.875,415.292 158.125,413.875C156.375,412.458 155.417,410.667 155.25,408.5L148.25,362.5C140.083,359.833 132.583,356.75 125.75,353.25L90.5,380C88.833,381.5 86.75,382.25 84.25,382.25C81.917,382.25 79.833,381.333 78,379.5C57,360.5 43.25,346.5 36.75,337.5C35.583,335.833 35,333.917 35,331.75C35,329.75 35.667,327.833 37,326C39.5,322.5 43.75,316.958 49.75,309.375C55.75,301.792 60.25,295.917 63.25,291.75C58.75,283.417 55.333,275.167 53,267L7.25,260.25C5.083,259.917 3.333,258.875 2,257.125C0.667,255.375 0,253.417 0,251.25L0,195.75C0,193.75 0.667,191.833 2,190C3.333,188.167 4.917,187.083 6.75,186.75L53.25,179.75C55.583,172.083 58.833,164.417 63,156.75C56.333,147.25 47.417,135.75 36.25,122.25C34.583,120.25 33.75,118.25 33.75,116.25C33.75,114.583 34.5,112.667 36,110.5C40.333,104.5 48.542,95.542 60.625,83.625C72.708,71.708 80.583,65.75 84.25,65.75C86.417,65.75 88.583,66.583 90.75,68.25L125.25,95C132.583,91.167 140.167,88 148,85.5C150.667,62.833 153.083,47.333 155.25,39C156.417,34.333 159.417,32 164.25,32L219.75,32C222.083,32 224.125,32.708 225.875,34.125C227.625,35.542 228.583,37.333 228.75,39.5L235.75,85.5C243.917,88.167 251.417,91.25 258.25,94.75L293.75,68C295.25,66.5 297.25,65.75 299.75,65.75C301.917,65.75 304,66.583 306,68.25C327.5,88.083 341.25,102.25 347.25,110.75C348.417,112.083 349,113.917 349,116.25C349,118.25 348.333,120.167 347,122C344.5,125.5 340.25,131.042 334.25,138.625C328.25,146.208 323.75,152.083 320.75,156.25C325.083,164.583 328.5,172.75 331,180.75L376.75,187.75C378.917,188.083 380.667,189.125 382,190.875C383.333,192.625 384,194.583 384,196.75Z",style:{fill:t}})))}var p=s(368),m=s(392),d=s(383),h=s(374);function g(e){const{children:t,className:s,overlayPlacement:i,small:o,toggleClassName:c}=e;return r.createElement(d.b,{className:s,onOpen:e.onOpen,overlay:r.createElement("ul",{className:"menu"},t),overlayPlacement:i},r.createElement(p.a,{className:n("dropdown-toggle",c,{"button-small":o})},r.createElement(u,{size:o?12:14}),r.createElement(a.a,{className:"little-spacer-left"})))}class b extends r.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.props.onClick&&this.props.onClick()}}render(){const e=n(this.props.className,{"text-danger":this.props.destructive});return this.props.download&&"string"==typeof this.props.to?r.createElement("li",null,r.createElement("a",{className:e,download:this.props.download,href:this.props.to,id:this.props.id},this.props.children)):this.props.to?r.createElement("li",null,r.createElement(i.c,{className:e,id:this.props.id,to:this.props.to},this.props.children)):this.props.copyValue?r.createElement(m.a,null,({setCopyButton:t,copySuccess:s})=>r.createElement(h.a,{overlay:Object(o.k)("copied_action"),visible:s},r.createElement("li",{"data-clipboard-text":this.props.copyValue,ref:t},r.createElement("a",{className:e,href:"#",id:this.props.id,onClick:this.handleClick},this.props.children)))):r.createElement("li",null,r.createElement("a",{className:e,href:"#",id:this.props.id,onClick:this.handleClick},this.props.children))}}function f(){return r.createElement("li",{className:"divider"})}},444:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var n=s(367),r=s(366),i=s(6),o=s(377);s(490);function a(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function c(e){let{className:t,muted:s=!1,small:c=!1,value:l}=e,u=a(e,["className","muted","small","value"]);if(void 0===l)return r.createElement("span",Object.assign({"aria-label":Object(i.k)("metric.no_rating")},u),"–");const p=Object(o.formatMeasure)(l,"RATING");return r.createElement("span",Object.assign({"aria-label":Object(i.l)("metric.has_rating_X",p),className:n("rating","rating-".concat(p),{"rating-small":c,"rating-muted":s},t)},u),p)}},457:function(e,t,s){var n=s(369),r=s(458);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},o=(n(r,i),r.locals?r.locals:{});e.exports=o},458:function(e,t,s){(t=s(370)(!1)).push([e.i,".level{display:inline-block;min-width:80px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;letter-spacing:.02em;font-size:13px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.level,.level-small{width:auto;padding-left:9px;padding-right:9px}.level-small{min-width:64px;margin-top:-1px;margin-bottom:-1px;height:20px;line-height:20px;font-size:12px}.level-muted{background-color:#bdbdbd!important}a>.level{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.level:hover{opacity:.8}.level-OK{background-color:#0a0}.level-WARN{background-color:#ed7d20}.level-ERROR{background-color:#d4333f}.level-NONE{background-color:#b4b4b4}.level-NOT_COMPUTED{background-color:#404040}",""]),e.exports=t},461:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return c})),s.d(t,"c",(function(){return l}));var n=s(377);function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const o=["sqale_rating","maintainability_rating","reliability_rating","security_rating","security_review_rating"];function a(e,t){return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{metric:t[e.metric],leak:c(e)})}function c(e){var t;return null===(t=null==e?void 0:e.period)||void 0===t?void 0:t.value}function l(e,t){const s=Object(n.isDiffMetric)(e)?e.substr(4):e;if(o.includes(s))return Object(n.getRatingTooltip)(s,t)}},471:function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var n=s(366),r=s(374),i=s(431),o=s(444),a=s(377),c=s(461);function l({className:e,decimals:t,metricKey:s,metricType:l,small:u,value:p}){if(void 0===p)return n.createElement("span",{className:e},"–");if("LEVEL"===l)return n.createElement(i.a,{className:e,level:p,small:u});if("RATING"!==l){const s=Object(a.formatMeasure)(p,l,{decimals:t,omitExtraDecimalZeros:"PERCENT"===l});return n.createElement("span",{className:e},null!=s?s:"–")}const m=Object(c.c)(s,Number(p)),d=n.createElement(o.a,{small:u,value:p});return m?n.createElement(r.a,{overlay:m},n.createElement("span",{className:e},d)):d}},483:function(e,t,s){(function(e){!function(e){"use strict";e.exports.is_uri=s,e.exports.is_http_uri=n,e.exports.is_https_uri=r,e.exports.is_web_uri=i,e.exports.isUri=s,e.exports.isHttpUri=n,e.exports.isHttpsUri=r,e.exports.isWebUri=i;var t=function(e){return e.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/)};function s(e){if(e&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(e)&&!/%[^0-9a-f]/i.test(e)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(e)){var s,n,r,i,o,a="",c="";if(a=(s=t(e))[1],n=s[2],r=s[3],i=s[4],o=s[5],a&&a.length&&r.length>=0){if(n&&n.length){if(0!==r.length&&!/^\//.test(r))return}else if(/^\/\//.test(r))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(a.toLowerCase()))return c+=a+":",n&&n.length&&(c+="//"+n),c+=r,i&&i.length&&(c+="?"+i),o&&o.length&&(c+="#"+o),c}}}function n(e,n){if(s(e)){var r,i,o,a,c="",l="",u="",p="";if(c=(r=t(e))[1],l=r[2],i=r[3],o=r[4],a=r[5],c){if(n){if("https"!=c.toLowerCase())return}else if("http"!=c.toLowerCase())return;if(l)return/:(\d+)$/.test(l)&&(u=l.match(/:(\d+)$/)[0],l=l.replace(/:\d+$/,"")),p+=c+":",p+="//"+l,u&&(p+=u),p+=i,o&&o.length&&(p+="?"+o),a&&a.length&&(p+="#"+a),p}}}function r(e){return n(e,!0)}function i(e){return n(e)||r(e)}}(e)}).call(this,s(25)(e))},490:function(e,t,s){var n=s(369),r=s(491);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},o=(n(r,i),r.locals?r.locals:{});e.exports=o},491:function(e,t,s){(t=s(370)(!1)).push([e.i,".rating{display:inline-block;width:24px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;font-size:16px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.rating-muted{background-color:#bdbdbd!important;color:#fff!important;text-shadow:0 0 1px rgba(0,0,0,.35)!important}a>.rating{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.rating:hover{opacity:.8}.rating-A{line-height:23px;background-color:#0a0}a>.rating-A{border-bottom-color:#0a0}.rating-B{background-color:#b0d513}a .rating-B{border-bottom-color:#b0d513}.rating-C{background-color:#eabe06}a .rating-C{border-bottom-color:#eabe06}.rating-D{background-color:#ed7d20}a .rating-D{border-bottom-color:#ed7d20}.rating-E{background-color:#d4333f}a .rating-E{border-bottom-color:#d4333f}.rating-small{width:18px;height:18px;line-height:18px;margin-top:-1px;margin-bottom:-1px;font-size:12px}",""]),e.exports=t},529:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var n=s(366),r=s(373),i=s(483),o=s(384),a=s(429);function c(e){const{className:t,content:s,links:c,title:l}=e;return n.createElement(o.a,{className:t,overlay:n.createElement("div",{className:"big-padded-top big-padded-bottom"},l&&n.createElement("div",{className:"spacer-bottom"},n.createElement("strong",null,l)),s&&n.createElement("p",null,s),c&&n.createElement(n.Fragment,null,n.createElement("hr",{className:"big-spacer-top big-spacer-bottom"}),c.map(({href:e,label:t,inPlace:s})=>n.createElement("div",{className:"little-spacer-bottom",key:t},s?n.createElement(r.c,{to:e},n.createElement("span",null,t)):n.createElement("a",{className:"display-inline-flex-center link-with-icon",href:e,rel:"noopener noreferrer",target:"_blank"},Object(i.isWebUri)(e)&&n.createElement(a.a,{size:14,className:"spacer-right"}),n.createElement("span",null,t))))))},e.children)}},549:function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var n=s(366),r=s(375),i=s(380);const o=Object(i.a)(()=>s.e(353).then(s.bind(null,748)),"DonutChart"),a={small:16,normal:24,big:40,huge:60},c={small:2,normal:3,big:3,huge:4};function l({muted:e=!1,size:t="normal",value:s}){let i=[{value:100,fill:"#ccc "}],l=0;if(null!=s){const t=Number(s);i=[{value:t,fill:e?r.colors.gray71:r.colors.green},{value:100-t,fill:e?r.colors.barBackgroundColor:r.colors.lineCoverageRed}],0!==t&&t<100&&(l=.1)}const u=a[t],p=c[t];return n.createElement(o,{data:i,height:u,padAngle:l,thickness:p,width:u})}},562:function(e,t,s){var n=s(582),r=s(409),i=s(440);e.exports=function(e,t,s){return t=r(t),void 0===s?(s=t,t=0):s=r(s),e=i(e),n(e,t,s)}},566:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var n=s(367),r=s(366);s(711);function i(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function o(e){const{children:t,leading:s,onClick:o,selected:a}=e,c=i(e,["children","leading","onClick","selected"]),l=o?{onClick:o,role:"button",tabIndex:0}:{};return r.createElement("div",Object.assign({className:n("location-index",{"is-leading":s,selected:a})},l,c),t)}},582:function(e,t){var s=Math.max,n=Math.min;e.exports=function(e,t,r){return e>=n(t,r)&&e<s(t,r)}},603:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var n=s(366),r=s(375),i=s(372);function o(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}const a={open:l,confirmed:u,reopened:function(e){return n.createElement(i.a,Object.assign({},e),n.createElement("path",{d:"M8 12.25v-8.5c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z",style:{fill:r.colors.blue}}))},resolved:p,closed:function(e){return n.createElement(i.a,Object.assign({},e),n.createElement("path",{d:"M14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z",style:{fill:r.colors.baseFontColor}}))},to_review:l,in_review:u,reviewed:p};function c(e){let{status:t}=e,s=o(e,["status"]);const r=a[t.toLowerCase()];return r?n.createElement(r,Object.assign({},s)):null}function l(e){return n.createElement(i.a,Object.assign({},e),n.createElement("path",{d:"M8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z",style:{fill:r.colors.blue}}))}function u(e){return n.createElement(i.a,Object.assign({},e),n.createElement("path",{d:"M10 8c0 .552-.195 1.023-.586 1.414-.39.39-.862.586-1.414.586a1.926 1.926 0 0 1-1.414-.586A1.928 1.928 0 0 1 6 8c0-.552.195-1.023.586-1.414C6.976 6.196 7.448 6 8 6c.552 0 1.023.195 1.414.586.39.39.586.862.586 1.414zM8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z",style:{fill:r.colors.blue}}))}function p(e){return n.createElement(i.a,Object.assign({},e),n.createElement("path",{d:"M12.03 6.734a.49.49 0 0 0-.14-.36l-.71-.702a.48.48 0 0 0-.352-.15.474.474 0 0 0-.35.15l-3.19 3.18-1.765-1.766a.479.479 0 0 0-.35-.15.479.479 0 0 0-.353.15l-.71.703a.482.482 0 0 0-.14.358c0 .14.046.258.14.352l2.828 2.828c.098.1.216.15.35.15.142 0 .26-.05.36-.15l4.243-4.242a.475.475 0 0 0 .14-.352l-.001.001zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z",style:{fill:r.colors.baseFontColor}}))}var m=s(6);function d(e){const t=e.resolution&&" (".concat(Object(m.k)("issue.resolution",e.resolution),")");return n.createElement("span",{className:e.className},n.createElement(c,{className:"little-spacer-right",status:e.status}),Object(m.k)("issue.status",e.status),t)}},615:function(e,t,s){"use strict";s.d(t,"c",(function(){return a})),s.d(t,"b",(function(){return c})),s.d(t,"d",(function(){return l})),s.d(t,"a",(function(){return u})),s.d(t,"e",(function(){return p}));var n=s(572),r=s.n(n),i=s(616),o=s(617);function a(e){const t={};return e.forEach(e=>{const s=e.textRange?e.textRange.endLine:0;s in t||(t[s]=[]),t[s].push(e)}),t}function c(e=[]){return e.reduce((e,t)=>{e[t.component]=e[t.component]||{};const s=t.textRange?t.textRange.endLine:0;return e[t.component][s]=e[t.component][s]||[],e[t.component][s].push(t),e},{})}function l(e){const t={};return e.forEach(e=>{Object(o.a)(e.textRange).forEach(e=>{e.line in t||(t[e.line]=[]),t[e.line].push(e)})}),t}function u(e){if(null==e)return{};const t={};return e.forEach(({blocks:e},s)=>{e.forEach(e=>{if("1"===e._ref)for(let n=e.from;n<e.from+e.size;n++)n in t||(t[n]=[]),t[n].push(s)})}),t}function p(e){const t={};return e.forEach(e=>{const s=Object(i.c)(e.code||""),n=r()(s.map(e=>{const t=e.className.match(/sym-\d+/g);return null!=t?t:[]}));t[e.line]=n.filter(e=>e)}),t}},616:function(e,t,s){"use strict";s.d(t,"c",(function(){return c})),s.d(t,"b",(function(){return l})),s.d(t,"a",(function(){return p}));var n=s(470),r=s.n(n);function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach((function(t){a(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function c(e,t=""){const s=document.createElement("div");let n=[];return s.innerHTML=e,[].forEach.call(s.childNodes,e=>{if(1===e.nodeType){const s=t?t+" "+e.className:e.className,r=c(e.innerHTML,s);n=n.concat(r)}3===e.nodeType&&e.nodeValue&&n.push({className:t,markers:[],text:e.nodeValue})}),n}function l(e,t){const s=new RegExp("\\b".concat(t,"\\b"));return e.map(e=>s.test(e.className)?o({},e,{className:"".concat(e.className," highlighted")}):e)}function u(e,t,s,n){return t>=n?e.substr(t-n,s-t):e.substr(0,s-t)}function p(e,t,s="source-line-code-issue"){return t.forEach(t=>{const n=[];let i=0,a=t.line!==t.startLine;e.forEach(e=>{const c=(l=i,p=i+e.text.length,m=t.from,d=t.to,{from:Math.max(l,m),to:Math.min(p,d)});var l,p,m,d;const h=u(e.text,i,c.from,i),g=u(e.text,c.from,c.to,i),b=u(e.text,c.to,i+e.text.length,i);if(h.length&&n.push(o({},e,{text:h})),g.length){const i=-1===e.className.indexOf(s)?"".concat(e.className," ").concat(s):e.className;n.push({className:i,markers:a||null==t.index?e.markers:r()([...e.markers,t.index]),text:g}),a=!0}b.length&&n.push(o({},e,{text:b})),i+=e.text.length}),e=n.slice()}),e}},617:function(e,t,s){"use strict";function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function i(e){if(!e)return[];const t=[];for(let s=e.startLine;s<=e.endLine;s++){const n=s===e.startLine?e.startOffset:0,r=s===e.endLine?e.endOffset:999999;t.push({line:s,from:n,to:r})}return t}function o(e,t){return t?t.reduce((t,s)=>[...t,...s?i(s.textRange).filter(t=>t.line===e.line).map(e=>function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){r(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{startLine:s.textRange.startLine,index:s.index,text:s.msg})):[]],[]):[]}s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return o}))},618:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s(366);const r=n.createContext({branchLike:{},file:{}})},628:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var n=s(562),r=s.n(n),i=s(367),o=s(366);s(657);function a({muted:e=!1,size:t="normal",value:s}){const n=i("duplications-rating",{"duplications-rating-small":"small"===t,"duplications-rating-big":"big"===t,"duplications-rating-huge":"huge"===t,"duplications-rating-muted":e||null==s||isNaN(s),"duplications-rating-A":r()(s||0,0,3),"duplications-rating-B":r()(s||0,3,5),"duplications-rating-C":r()(s||0,5,10),"duplications-rating-D":r()(s||0,10,20),"duplications-rating-E":(s||0)>=20});return o.createElement("div",{className:n})}},643:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var n=s(366),r=s(372);function i(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function o(e){let{fill:t="currentColor"}=e,s=i(e,["fill"]);return n.createElement(r.a,Object.assign({},s),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M8 1v4H4",stroke:t,strokeWidth:"2",transform:"scale(-.83333 -.84583) rotate(45 7.66 -19.75)"}),n.createElement("path",{d:"M3 5.78h10v1.7H3z",fill:t}),n.createElement("path",{d:"M7.17 2.4h1.66v5.07H7.17z",fill:t}),n.createElement("g",null,n.createElement("path",{d:"M8.16 1.81V6.1H3.9",stroke:t,strokeWidth:"2",transform:"scale(.83333 .84583) rotate(45 -4.2 13.2)"}),n.createElement("path",{d:"M13 10.01H3v-1.7h10z",fill:t}),n.createElement("path",{d:"M8.83 13.4H7.17V9.15h1.66z",fill:t}))))}},657:function(e,t,s){var n=s(369),r=s(658);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},o=(n(r,i),r.locals?r.locals:{});e.exports=o},658:function(e,t,s){(t=s(370)(!1)).push([e.i,'.duplications-rating{position:relative;display:inline-flex;vertical-align:top;justify-content:center;align-items:center;width:24px;height:24px;border:3px solid #ed7d20;border-radius:24px;box-sizing:border-box}.duplications-rating-small{width:16px;height:16px;border-width:2px}.duplications-rating-big{width:40px;height:40px;border-width:3px}.duplications-rating-huge{width:60px;height:60px;border-width:4px;border-radius:30px}.duplications-rating-muted{border-color:#bdbdbd!important}.duplications-rating-muted:after{background-color:#bdbdbd!important}.duplications-rating:after{border-radius:24px;content:""}.duplications-rating-A{border-color:#0a0}.duplications-rating-A:after{display:none}.duplications-rating-B{border-color:#b0d513}.duplications-rating-B:after{width:6px;height:6px;background-color:#b0d513}.duplications-rating-small.duplications-rating-B:after{width:2px;height:2px}.duplications-rating-big.duplications-rating-B:after{width:12px;height:12px}.duplications-rating-huge.duplications-rating-B:after{width:18px;height:18px}.duplications-rating-C{border-color:#eabe06}.duplications-rating-C:after{width:8px;height:8px;background-color:#eabe06}.duplications-rating-small.duplications-rating-C:after{width:6px;height:6px}.duplications-rating-big.duplications-rating-C:after{width:16px;height:16px}.duplications-rating-huge.duplications-rating-C:after{width:24px;height:24px}.duplications-rating-D{border-color:#ed7d20}.duplications-rating-D:after{width:12px;height:12px;background-color:#ed7d20}.duplications-rating-small.duplications-rating-D:after{width:8px;height:8px}.duplications-rating-big.duplications-rating-D:after{width:24px;height:24px}.duplications-rating-huge.duplications-rating-D:after{width:36px;height:36px}.duplications-rating-E{border-color:#d4333f}.duplications-rating-E:after{width:14px;height:14px;background-color:#d4333f}.duplications-rating-small.duplications-rating-E:after{width:10px;height:10px}.duplications-rating-big.duplications-rating-E:after{width:28px;height:28px}.duplications-rating-huge.duplications-rating-E:after{width:42px;height:42px}',""]),e.exports=t},659:function(e,t,s){"use strict";s.d(t,"a",(function(){return Re}));var n=s(510),r=s(366),i=s(415),o=s(381),a=s(556);const c=(e,t,s,n)=>{const r=void 0!==s&&void 0!==n;r&&e(n),t.then(t=>{if(!r){const s=Object(a.b)(t.issue,t.components,t.users,t.rules);e(s)}},t=>{r&&e(s),Object(o.a)(t)})};s(715);var l=s(367),u=s.n(l),p=s(403),m=s(6),d=s(368),h=s(411),g=s(394),b=s(447),f=s(418),v=s.n(f),y=s(495),E=s(383),O=s(414),k=s(402),x=s(752),j=s.n(x),w=s(374);class N extends r.PureComponent{constructor(){super(...arguments),this.handleSelect=e=>{e.preventDefault(),this.props.onSelect&&this.props.onSelect(this.props.item)},this.handleHover=()=>{this.props.onHover&&this.props.onHover(this.props.item)}}renderLink(){const e=this.props.children||this.props.item;return r.createElement("li",null,r.createElement("a",{className:u()({active:this.props.active===this.props.item},this.props.className),href:"#",onClick:this.handleSelect,onFocus:this.handleHover,onMouseOver:this.handleHover},e))}render(){return r.createElement(w.a,{overlay:this.props.title||void 0,placement:"right"},this.renderLink())}}class C extends r.PureComponent{constructor(e){super(e),this.attachShortcuts=()=>{this.previousKeyScope=n.getScope(),this.previousFilter=n.filter,this.currentKeyScope=j()("key-scope"),n.setScope(this.currentKeyScope),n.filter=e=>{const{tagName:t}=e.target||e.srcElement,s="INPUT"===t||"SELECT"===t||"TEXTAREA"===t;return[13,38,40].includes(e.keyCode)||!s},n("down",this.currentKeyScope,()=>(this.setState(this.selectNextElement),!1)),n("up",this.currentKeyScope,()=>(this.setState(this.selectPreviousElement),!1)),n("return",this.currentKeyScope,()=>(null!=this.state.active&&this.handleSelect(this.state.active),!1))},this.detachShortcuts=()=>{this.previousKeyScope&&n.setScope(this.previousKeyScope),this.currentKeyScope&&n.deleteScope(this.currentKeyScope),n.filter=this.previousFilter},this.handleSelect=e=>{this.props.onSelect(e)},this.handleHover=e=>{this.setState({active:e})},this.selectNextElement=(e,t)=>{const s=t.items.indexOf(e.active);return s<0?{active:t.items[0]}:{active:t.items[(s+1)%t.items.length]}},this.selectPreviousElement=(e,t)=>{const s=t.items.indexOf(e.active);return s<=0?{active:t.items[t.items.length-1]}:{active:t.items[s-1]}},this.renderChild=e=>null==e?null:e.type!==N?e:r.cloneElement(e,{active:this.state.active,onHover:this.handleHover,onSelect:this.handleSelect}),this.state={active:e.currentItem}}componentDidMount(){this.attachShortcuts()}componentDidUpdate(e){e.currentItem===this.props.currentItem||this.props.items.includes(this.state.active)||this.setState({active:this.props.currentItem})}componentWillUnmount(){this.detachShortcuts()}render(){const{children:e}=this.props,t=r.Children.count(e)>0;return r.createElement("ul",{className:u()("menu",this.props.className)},t&&r.Children.map(e,this.renderChild),!t&&this.props.items.map(e=>r.createElement(N,{active:this.state.active,item:e,key:e,onHover:this.handleHover,onSelect:this.handleSelect})))}}var P=s(441);class L extends r.PureComponent{constructor(e){super(e),this.searchUsers=e=>{Object(y.f)({q:e,ps:10}).then(this.handleSearchResult,()=>{})},this.handleSearchResult=({users:e})=>{const t=e.filter(k.c);this.setState({users:t,currentUser:t.length>0?t[0].login:""})},this.handleSearchChange=e=>{0===e.length?this.setState({query:e,users:this.defaultUsersArray,currentUser:this.defaultUsersArray[0].login}):(this.setState({query:e}),this.searchUsers(e))},this.defaultUsersArray=[{login:"",name:Object(m.k)("unassigned")}],Object(k.b)(e.currentUser)&&(this.defaultUsersArray=[e.currentUser,...this.defaultUsersArray]),this.state={query:"",users:this.defaultUsersArray,currentUser:this.defaultUsersArray.length>0?this.defaultUsersArray[0].login:""}}render(){return r.createElement(E.a,{noPadding:!0},r.createElement("div",{className:"multi-select"},r.createElement("div",{className:"menu-search"},r.createElement(O.a,{autoFocus:!0,className:"little-spacer-top",minLength:2,onChange:this.handleSearchChange,placeholder:Object(m.k)("search.search_for_users"),value:this.state.query})),r.createElement(C,{currentItem:this.state.currentUser,items:v()(this.state.users,"login"),onSelect:this.props.onSelect},this.state.users.map(e=>r.createElement(N,{item:e.login,key:e.login},!!e.login&&r.createElement(b.a,{className:"spacer-right",hash:e.avatar,name:e.name,size:16}),r.createElement("span",{className:"text-middle",style:{marginLeft:e.login?24:void 0}},e.name))))))}}var S=Object(P.a)(L);class _ extends r.PureComponent{constructor(){super(...arguments),this.toggleAssign=e=>{this.props.togglePopup("assign",e)},this.handleClose=()=>{this.toggleAssign(!1)}}renderAssignee(){const{issue:e}=this.props,t=e.assigneeName||e.assignee;return t?r.createElement(r.Fragment,null,r.createElement("span",{className:"text-top"},r.createElement(b.a,{className:"little-spacer-right",hash:e.assigneeAvatar,name:t,size:16})),r.createElement("span",{className:"issue-meta-label"},!1===e.assigneeActive?Object(m.l)("user.x_deleted",t):t)):r.createElement("span",{className:"issue-meta-label"},Object(m.k)("unassigned"))}render(){const{canAssign:e,isOpen:t,issue:s}=this.props,n=s.assigneeName||s.assignee;return e?r.createElement("div",{className:"dropdown"},r.createElement(h.a,{closeOnEscape:!0,onRequestClose:this.handleClose,open:t,overlay:r.createElement(S,{onSelect:this.props.onAssign})},r.createElement(d.c,{"aria-expanded":t,"aria-label":n?Object(m.l)("issue.assign.assigned_to_x_click_to_change",n):Object(m.k)("issue.assign.unassigned_click_to_assign"),className:"issue-action issue-action-with-options js-issue-assign",onClick:this.toggleAssign},this.renderAssignee(),r.createElement(g.a,{className:"little-spacer-left"})))):this.renderAssignee()}}var I=s(565);class M extends r.PureComponent{constructor(e){super(e),this.handleCommentChange=e=>{this.setState({textComment:e.target.value})},this.handleCommentClick=()=>{this.state.textComment.trim().length>0&&this.props.onComment(this.state.textComment)},this.handleCancelClick=()=>{this.props.toggleComment(!1)},this.handleKeyboard=e=>{13===e.keyCode&&(e.metaKey||e.ctrlKey)?this.handleCommentClick():[37,38,39,40].includes(e.keyCode)&&e.stopPropagation()},this.state={textComment:e.comment?e.comment.markdown:""}}render(){const{comment:e,autoTriggered:t}=this.props;return r.createElement(E.a,{placement:this.props.placement},r.createElement("div",{className:"issue-comment-bubble-popup"},r.createElement("div",{className:"issue-comment-form-text"},r.createElement("textarea",{autoFocus:!0,onChange:this.handleCommentChange,onKeyDown:this.handleKeyboard,placeholder:this.props.placeholder,rows:2,value:this.state.textComment})),r.createElement("div",{className:"issue-comment-form-footer"},r.createElement("div",{className:"issue-comment-form-actions"},r.createElement(d.a,{className:"js-issue-comment-submit little-spacer-right",disabled:this.state.textComment.trim().length<1,onClick:this.handleCommentClick},e&&Object(m.k)("save"),!e&&Object(m.k)("issue.comment.submit")),r.createElement(d.g,{className:"js-issue-comment-cancel",onClick:this.handleCancelClick},t?Object(m.k)("skip"):Object(m.k)("cancel"))),r.createElement("div",{className:"issue-comment-form-tips"},r.createElement(I.a,null)))))}}class A extends r.PureComponent{constructor(){super(...arguments),this.addComment=e=>{c(this.props.onChange,Object(i.a)({issue:this.props.issueKey,text:e})),this.props.toggleComment(!1)},this.handleCommentClick=()=>{this.props.toggleComment()},this.handleClose=()=>{this.props.toggleComment(!1)}}render(){return r.createElement("li",{className:"issue-meta dropdown"},r.createElement(h.a,{closeOnClickOutside:!1,onRequestClose:this.handleClose,open:"comment"===this.props.currentPopup,overlay:r.createElement(M,{autoTriggered:this.props.commentAutoTriggered,onComment:this.addComment,placeholder:this.props.commentPlaceholder,toggleComment:this.props.toggleComment})},r.createElement(d.c,{"aria-expanded":"comment"===this.props.currentPopup,"aria-label":Object(m.k)("issue.comment.add_comment"),className:"issue-action js-issue-comment",onClick:this.handleCommentClick},r.createElement("span",{className:"issue-meta-label"},Object(m.k)("issue.comment.formlink")))))}}var D=s(459),T=s(567);const R=["BLOCKER","CRITICAL","MAJOR","MINOR","INFO"];function B({issue:e,onSelect:t}){return r.createElement(E.a,null,r.createElement(C,{currentItem:e.severity,items:R,onSelect:t},R.map(e=>r.createElement(N,{className:"display-flex-center",item:e,key:e},r.createElement(T.a,{className:"little-spacer-right",severity:e}),Object(m.k)("severity",e)))))}class z extends r.PureComponent{constructor(){super(...arguments),this.toggleSetSeverity=e=>{this.props.togglePopup("set-severity",e)},this.setSeverity=e=>{this.props.setIssueProperty("severity","set-severity",i.m,e)},this.handleClose=()=>{this.toggleSetSeverity(!1)}}render(){const{issue:e}=this.props;return this.props.canSetSeverity?r.createElement("div",{className:"dropdown"},r.createElement(h.a,{onRequestClose:this.handleClose,open:this.props.isOpen&&this.props.canSetSeverity,overlay:r.createElement(B,{issue:e,onSelect:this.setSeverity})},r.createElement(d.c,{"aria-label":Object(m.l)("issue.severity.severity_x_click_to_change",Object(m.k)("severity",e.severity)),"aria-expanded":this.props.isOpen,className:"issue-action issue-action-with-options js-issue-set-severity",onClick:this.toggleSetSeverity},r.createElement(D.a,{className:"issue-meta-label",severity:e.severity}),r.createElement(g.a,{className:"little-spacer-left"})))):r.createElement(D.a,{className:"issue-meta-label",severity:e.severity})}}var U=s(563),F=s(405),V=s.n(F),q=s(477),H=s.n(q),W=s(423),K=s(642);class Y extends r.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={searchResult:[]},this.onSearch=e=>Object(i.j)({q:e,ps:Math.min(this.props.selectedTags.length-1+10,100)}).then(e=>{this.mounted&&this.setState({searchResult:e})},()=>{}),this.onSelect=e=>{this.props.setTags([...this.props.selectedTags,e])},this.onUnselect=e=>{this.props.setTags(V()(this.props.selectedTags,e))}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=H()(this.state.searchResult,this.props.selectedTags);return r.createElement(E.a,{placement:W.b.BottomRight},r.createElement(K.a,{listSize:10,onSearch:this.onSearch,onSelect:this.onSelect,onUnselect:this.onUnselect,selectedTags:this.props.selectedTags,tags:e}))}}function Z(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function G(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class J extends r.PureComponent{constructor(){super(...arguments),this.toggleSetTags=e=>{this.props.togglePopup("edit-tags",e)},this.setTags=e=>{const{issue:t}=this.props,s=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(s),!0).forEach((function(t){G(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Z(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{tags:e});c(this.props.onChange,Object(i.n)({issue:t.key,tags:e.join(",")}),t,s)},this.handleClose=()=>{this.toggleSetTags(!1)}}render(){const{issue:e}=this.props,{tags:t=[]}=e;return this.props.canSetTags?r.createElement("div",{className:"dropdown"},r.createElement(h.a,{onRequestClose:this.handleClose,open:this.props.isOpen,overlay:r.createElement(Y,{selectedTags:t,setTags:this.setTags})},r.createElement(d.c,{"aria-expanded":this.props.isOpen,className:"issue-action issue-action-with-options js-issue-edit-tags",onClick:this.toggleSetTags},r.createElement(U.a,{allowUpdate:this.props.canSetTags,tags:e.tags&&e.tags.length>0?e.tags:[Object(m.k)("issue.no_tag")]})))):r.createElement(U.a,{allowUpdate:this.props.canSetTags,className:"note",tags:e.tags&&e.tags.length>0?e.tags:[Object(m.k)("issue.no_tag")]})}}var X=s(603),Q=s(371);function $({fromHotspot:e,onSelect:t,transitions:s,type:n}){const i=e&&"VULNERABILITY"===n;return r.createElement(E.a,null,r.createElement(C,{currentItem:s[0],items:s,onSelect:t},s.map(e=>{const[t,s]=function(e,t){return t&&Object(m.i)("vulnerability.transition",e)?[Object(m.k)("vulnerability.transition",e),Object(m.k)("vulnerability.transition",e,"description")]:[Object(m.k)("issue.transition",e),r.createElement(Q.FormattedMessage,{key:"description",defaultMessage:Object(m.k)("issue.transition",e,"description"),id:"issue.transition.".concat(e,".description"),values:{community_plug_link:r.createElement("a",{href:"https://community.sonarsource.com/",rel:"noopener noreferrer",target:"_blank"},Object(m.k)("issue.transition.community_plug_link"))}})]}(e,i);return r.createElement(N,{item:e,key:e,title:s},t)})))}class ee extends r.PureComponent{constructor(){super(...arguments),this.setTransition=e=>{c(this.props.onChange,Object(i.o)({issue:this.props.issue.key,transition:e})),this.toggleSetTransition()},this.toggleSetTransition=e=>{this.props.togglePopup("transition",e)},this.handleClose=()=>{this.toggleSetTransition(!1)}}render(){const{issue:e}=this.props;return this.props.hasTransitions?r.createElement("div",{className:"dropdown"},r.createElement(h.a,{onRequestClose:this.handleClose,open:this.props.isOpen&&this.props.hasTransitions,overlay:r.createElement($,{fromHotspot:e.fromHotspot,onSelect:this.setTransition,transitions:e.transitions,type:e.type})},r.createElement(d.c,{"aria-label":Object(m.l)("issue.transition.status_x_click_to_change",Object(m.k)("issue.status",e.status)),"aria-expanded":this.props.isOpen,className:"issue-action issue-action-with-options js-issue-transition",onClick:this.toggleSetTransition},r.createElement(X.a,{className:"issue-meta-label",resolution:e.resolution,status:e.status}),r.createElement(g.a,{className:"little-spacer-left"})))):r.createElement(X.a,{className:"issue-meta-label",resolution:e.resolution,status:e.status})}}var te=s(375),se=s(432);const ne=["BUG","VULNERABILITY","CODE_SMELL"];function re({issue:e,onSelect:t}){return r.createElement(E.a,null,r.createElement(C,{currentItem:e.type,items:ne,onSelect:t},ne.map(e=>r.createElement(N,{className:"display-flex-center",item:e,key:e},r.createElement(se.a,{className:"little-spacer-right",query:e}),Object(m.k)("issue.type",e)))))}class ie extends r.PureComponent{constructor(){super(...arguments),this.toggleSetType=e=>{this.props.togglePopup("set-type",e)},this.setType=e=>{this.props.setIssueProperty("type","set-type",i.p,e)},this.handleClose=()=>{this.toggleSetType(!1)}}render(){const{issue:e}=this.props;return this.props.canSetType?r.createElement("div",{className:"dropdown"},r.createElement(h.a,{onRequestClose:this.handleClose,open:this.props.isOpen&&this.props.canSetType,overlay:r.createElement(re,{issue:e,onSelect:this.setType})},r.createElement(d.c,{"aria-label":Object(m.l)("issue.type.type_x_click_to_change",Object(m.k)("issue.type",e.type)),"aria-expanded":this.props.isOpen,className:"issue-action issue-action-with-options js-issue-set-type",onClick:this.toggleSetType},r.createElement(se.a,{className:"little-spacer-right",fill:te.colors.baseFontColor,query:e.type}),Object(m.k)("issue.type",e.type),r.createElement(g.a,{className:"little-spacer-left"})))):r.createElement("span",null,r.createElement(se.a,{className:"little-spacer-right",query:e.type}),Object(m.k)("issue.type",e.type))}}function oe(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function ae(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class ce extends r.PureComponent{constructor(){super(...arguments),this.state={commentAutoTriggered:!1,commentPlaceholder:""},this.setIssueProperty=(e,t,s,n)=>{const{issue:r}=this.props;if(r[e]!==n){const t=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(s),!0).forEach((function(t){ae(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):oe(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},r,{[e]:n});c(this.props.onChange,s({issue:r.key,[e]:n}),r,t)}this.props.togglePopup(t,!1)},this.toggleComment=(e,t="",s=!1)=>{this.setState({commentPlaceholder:t,commentAutoTriggered:s}),this.props.togglePopup("comment",e)},this.handleTransition=e=>{this.props.onChange(e),("FALSE-POSITIVE"===e.resolution||"WONTFIX"===e.resolution&&"SECURITY_HOTSPOT"!==e.type)&&this.toggleComment(!0,Object(m.k)("issue.comment.explain_why"),!0)}}render(){const{issue:e}=this.props,t=e.actions.includes("assign"),s=e.actions.includes("comment"),n=e.actions.includes("set_severity"),i=e.actions.includes("set_type"),o=e.actions.includes("set_tags"),a=e.transitions&&e.transitions.length>0,c="SECURITY_HOTSPOT"===e.type;return r.createElement("div",{className:"issue-actions"},r.createElement("div",{className:"issue-meta-list"},r.createElement("div",{className:"issue-meta"},r.createElement(ie,{canSetType:i,isOpen:"set-type"===this.props.currentPopup&&i,issue:e,setIssueProperty:this.setIssueProperty,togglePopup:this.props.togglePopup})),!c&&r.createElement("div",{className:"issue-meta"},r.createElement(z,{canSetSeverity:n,isOpen:"set-severity"===this.props.currentPopup&&n,issue:e,setIssueProperty:this.setIssueProperty,togglePopup:this.props.togglePopup})),r.createElement("div",{className:"issue-meta"},r.createElement(ee,{hasTransitions:a,isOpen:"transition"===this.props.currentPopup&&a,issue:e,onChange:this.handleTransition,togglePopup:this.props.togglePopup})),r.createElement("div",{className:"issue-meta"},r.createElement(_,{canAssign:t,isOpen:"assign"===this.props.currentPopup&&t,issue:e,onAssign:this.props.onAssign,togglePopup:this.props.togglePopup})),!c&&e.effort&&r.createElement("div",{className:"issue-meta"},r.createElement("span",{className:"issue-meta-label"},Object(m.l)("issue.x_effort",e.effort))),s&&r.createElement(A,{commentAutoTriggered:this.state.commentAutoTriggered,commentPlaceholder:this.state.commentPlaceholder,currentPopup:this.props.currentPopup,issueKey:e.key,onChange:this.props.onChange,toggleComment:this.toggleComment})),r.createElement("div",{className:"list-inline"},r.createElement("div",{className:"issue-meta js-issue-tags"},r.createElement(J,{canSetTags:o,isOpen:"edit-tags"===this.props.currentPopup&&o,issue:e,onChange:this.props.onChange,togglePopup:this.props.togglePopup}))))}}var le=s(467),ue=s(416);function pe({onDelete:e}){return r.createElement(E.a,{placement:W.b.BottomRight},r.createElement("div",{className:"menu is-container"},r.createElement("div",{className:"spacer-bottom"},Object(m.k)("issue.comment.delete_confirm_message")),r.createElement(d.a,{className:"button-red",onClick:e},Object(m.k)("delete"))))}class me extends r.PureComponent{constructor(){super(...arguments),this.state={openPopup:""},this.handleEdit=e=>{this.props.onEdit(this.props.comment.key,e),this.toggleEditPopup(!1)},this.handleDelete=()=>{this.props.onDelete(this.props.comment.key),this.toggleDeletePopup(!1)},this.togglePopup=(e,t)=>{this.setState(s=>s.openPopup!==e&&!1!==t?{openPopup:e}:s.openPopup===e&&!0!==t?{openPopup:""}:s)},this.toggleDeletePopup=e=>{this.togglePopup("delete",e)},this.toggleEditPopup=e=>{this.togglePopup("edit",e)},this.closePopups=()=>{this.setState({openPopup:""})}}render(){const{comment:e}=this.props,t=e.authorName||e.author,s=!1===e.authorActive&&t?Object(m.l)("user.x_deleted",t):t;return r.createElement("div",{className:"issue-comment"},r.createElement("div",{className:"issue-comment-author",title:s},r.createElement(b.a,{className:"little-spacer-right",hash:e.authorAvatar,name:t,size:16}),s),r.createElement("div",{className:"issue-comment-text markdown",dangerouslySetInnerHTML:{__html:Object(le.a)(e.htmlText)}}),r.createElement("div",{className:"issue-comment-age"},r.createElement("span",{className:"a11y-hidden"},Object(m.k)("issue.comment.posted_on")),r.createElement(ue.a,{date:e.createdAt})),r.createElement("div",{className:"issue-comment-actions"},e.updatable&&r.createElement("div",{className:"dropdown"},r.createElement(h.a,{closeOnClickOutside:!1,onRequestClose:this.closePopups,open:"edit"===this.state.openPopup,overlay:r.createElement(M,{comment:e,onComment:this.handleEdit,placeholder:"",placement:W.b.BottomRight,toggleComment:this.toggleEditPopup})},r.createElement(d.f,{"aria-label":Object(m.k)("issue.comment.edit"),className:"js-issue-comment-edit button-small",onClick:this.toggleEditPopup}))),e.updatable&&r.createElement("div",{className:"dropdown"},r.createElement(h.a,{onRequestClose:this.closePopups,open:"delete"===this.state.openPopup,overlay:r.createElement(pe,{onDelete:this.handleDelete})},r.createElement(d.e,{"aria-label":Object(m.k)("issue.comment.delete"),className:"js-issue-comment-delete button-small",onClick:this.toggleDeletePopup})))))}}var de,he=s(373),ge=s(550),be=s(386),fe=s(377),ve=s(378),ye=s(566),Ee=s(634),Oe=s(398),ke=s(667);class xe extends r.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={changelog:[]}}componentDidMount(){this.mounted=!0,this.loadChangelog()}componentWillUnmount(){this.mounted=!1}loadChangelog(){Object(i.g)(this.props.issue.key).then(({changelog:e})=>{this.mounted&&this.setState({changelog:e})},()=>{})}render(){const{issue:e}=this.props,{author:t}=e;return r.createElement(E.a,{placement:W.b.BottomRight},r.createElement("div",{className:"menu is-container issue-changelog"},r.createElement("table",{className:"spaced"},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",{className:"thin text-left text-top nowrap"},r.createElement(Oe.a,{date:e.creationDate})),r.createElement("td",{className:"text-left text-top"},t?"".concat(Object(m.k)("created_by")," ").concat(t):Object(m.k)("created"))),this.state.changelog.map((e,t)=>{const s=e.userName||e.user;return r.createElement("tr",{key:t},r.createElement("td",{className:"thin text-left text-top nowrap"},r.createElement(Oe.a,{date:e.creationDate})),r.createElement("td",{className:"text-left text-top"},s&&r.createElement("p",null,r.createElement(b.a,{className:"little-spacer-right",hash:e.avatar,name:s,size:16}),e.isUserActive?s:Object(m.l)("user.x_deleted",s)),e.diffs.map(e=>r.createElement(ke.a,{diff:e,key:e.key}))))})))))}}class je extends r.PureComponent{constructor(){super(...arguments),this.toggleChangelog=e=>{this.props.togglePopup("changelog",e)},this.handleClick=()=>{this.toggleChangelog()},this.handleClose=()=>{this.toggleChangelog(!1)}}render(){return r.createElement("div",{className:"dropdown"},r.createElement(h.a,{onRequestClose:this.handleClose,open:this.props.isOpen,overlay:r.createElement(xe,{issue:this.props.issue})},r.createElement(d.c,{"aria-expanded":this.props.isOpen,className:"issue-action issue-action-with-options js-issue-show-changelog",onClick:this.handleClick},r.createElement("span",{className:"issue-meta-label"},r.createElement(ue.a,{date:this.props.creationDate})),r.createElement(g.a,{className:"little-spacer-left"}))))}}!function(e){e.Ready="READY",e.Beta="BETA",e.Deprecated="DEPRECATED",e.Removed="REMOVED"}(de||(de={}));var we=s(529);function Ne(e){const{engine:t,engineName:s,manualVulnerability:n,message:i,ruleKey:o,ruleStatus:a}=e,c=s||t;return r.createElement("div",{className:"issue-message break-word"},r.createElement("span",{className:"spacer-right"},i),r.createElement(d.c,{"aria-label":Object(m.k)("issue.why_this_issue.long"),className:"issue-see-rule spacer-right text-baseline",onClick:()=>e.onOpenRule({key:o})},Object(m.k)("issue.why_this_issue")),a&&(a===de.Deprecated||a===de.Removed)&&r.createElement(we.a,{className:"spacer-left",content:Object(m.k)("rules.status",a,"help"),links:[{href:"/documentation/user-guide/rules/",label:Object(m.l)("see_x",Object(m.k)("rules"))}]},r.createElement("span",{className:"spacer-right badge badge-error"},Object(m.k)("rules.status",a))),c&&r.createElement(w.a,{overlay:Object(m.l)("issue.from_external_rule_engine",c)},r.createElement("div",{className:"badge spacer-right text-baseline"},c)),n&&r.createElement(w.a,{overlay:Object(m.k)("issue.manual_vulnerability.description")},r.createElement("div",{className:"badge spacer-right text-baseline"},Object(m.k)("issue.manual_vulnerability"))))}var Ce=s(721),Pe=s(395),Le=s(503),Se=s(453);class _e extends r.PureComponent{constructor(){super(...arguments),this.handleSelect=e=>{this.props.onFilter(e,this.props.issue)}}render(){const{issue:e}=this.props,t=["type","severity","status","resolution","assignee","rule",...(e.tags||[]).map(e=>"tag###".concat(e)),"project",e.subProject?"module":void 0,"file"].filter(e=>e),s=e.assigneeName||e.assignee;return r.createElement(E.a,{noPadding:!0},r.createElement("header",{className:"menu-search"},r.createElement("h6",null,Object(m.k)("issue.filter_similar_issues"))),r.createElement(C,{className:"issues-similar-issues-menu",currentItem:t[0],items:t,onSelect:this.handleSelect},r.createElement(N,{className:"display-flex-center",item:"type"},r.createElement(se.a,{className:"little-spacer-right",query:e.type}),Object(m.k)("issue.type",e.type)),r.createElement(N,{item:"severity"},r.createElement(D.a,{className:"display-flex-center",severity:e.severity})),r.createElement(N,{item:"status"},r.createElement(X.a,{className:"display-flex-center",resolution:void 0,status:e.status})),r.createElement(N,{item:"resolution"},null!=e.resolution?Object(m.k)("issue.resolution",e.resolution):Object(m.k)("unresolved")),r.createElement(N,{item:"assignee"},s?r.createElement("span",null,Object(m.k)("assigned_to"),r.createElement(b.a,{className:"little-spacer-left little-spacer-right",hash:e.assigneeAvatar,name:s,size:16}),!1===e.assigneeActive?Object(m.l)("user.x_deleted",s):s):Object(m.k)("unassigned")),r.createElement("li",{className:"divider"}),r.createElement(N,{item:"rule"},Object(Se.e)(e.ruleName)),null!=e.tags&&e.tags.map(e=>r.createElement(N,{item:"tag###".concat(e),key:"tag###".concat(e)},r.createElement(Le.a,{className:"icon-half-transparent little-spacer-right text-middle"}),r.createElement("span",{className:"text-middle"},e))),r.createElement("li",{className:"divider"}),r.createElement(N,{item:"project"},r.createElement(Pe.a,{className:"little-spacer-right",qualifier:"TRK"}),e.projectName),null!=e.subProject&&r.createElement(N,{item:"module"},r.createElement(Pe.a,{className:"little-spacer-right",qualifier:"BRC"}),e.subProjectName),r.createElement(N,{item:"file"},r.createElement(Pe.a,{className:"little-spacer-right",qualifier:e.componentQualifier}),Object(Se.d)(e.componentLongName))))}}class Ie extends r.PureComponent{constructor(){super(...arguments),this.handleFilter=(e,t)=>{this.togglePopup(!1),this.props.onFilter&&this.props.onFilter(e,t)},this.togglePopup=e=>{this.props.togglePopup("similarIssues",e)},this.handleClose=()=>{this.togglePopup(!1)}}render(){return r.createElement("div",{className:"dropdown"},r.createElement(h.a,{onRequestClose:this.handleClose,open:this.props.isOpen,overlay:r.createElement(_e,{issue:this.props.issue,onFilter:this.handleFilter})},r.createElement(d.c,{"aria-label":Object(m.k)("issue.filter_similar_issues"),"aria-expanded":this.props.isOpen,className:"issue-action issue-action-with-options js-issue-filter",onClick:this.togglePopup,title:Object(m.k)("issue.filter_similar_issues")},r.createElement(Ce.a,{className:"icon-half-transparent"}),r.createElement(g.a,{className:"icon-half-transparent"}))))}}function Me(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function Ae(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function De(e){const{issue:t}=e,s=null!=e.onFilter,n=t.secondaryLocations.length+t.flows.reduce((e,t)=>e+t.length,0),i=r.createElement(w.a,{overlay:Object(m.l)("issue.this_issue_involves_x_code_locations",Object(fe.formatMeasure)(n,"INT"))},r.createElement(ye.a,null,n)),o=e.displayLocationsCount&&n>0,a=Object(ve.k)(t.project,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(s),!0).forEach((function(t){Ae(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Me(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(be.d)(e.branchLike),{issues:t.key,open:t.key,types:"SECURITY_HOTSPOT"===t.type?t.type:void 0}));return r.createElement("div",{className:"issue-row"},r.createElement(Ee.a.Consumer,null,({externalRulesRepoNames:e,openRule:s})=>r.createElement(Ne,{engine:t.externalRuleEngine,engineName:t.externalRuleEngine&&e&&e[t.externalRuleEngine],manualVulnerability:t.fromHotspot&&"VULNERABILITY"===t.type,message:t.message,onOpenRule:s,ruleKey:t.rule,ruleStatus:t.ruleStatus})),r.createElement("div",{className:"issue-row-meta"},r.createElement("div",{className:"issue-meta-list"},r.createElement("div",{className:"issue-meta"},r.createElement(je,{creationDate:t.creationDate,isOpen:"changelog"===e.currentPopup,issue:t,togglePopup:e.togglePopup})),null!=t.textRange&&r.createElement("div",{className:"issue-meta"},r.createElement("span",{className:"issue-meta-label",title:Object(m.k)("line_number")},"L",t.textRange.endLine)),o&&r.createElement("div",{className:"issue-meta"},e.displayLocationsLink?r.createElement(he.c,{target:"_blank",to:a},i):i),r.createElement("div",{className:"issue-meta"},r.createElement(he.c,{className:"js-issue-permalink link-no-underline",target:"_blank",title:Object(m.k)("permalink"),to:a},r.createElement(ge.a,null))),s&&r.createElement("div",{className:"issue-meta"},r.createElement(Ie,{isOpen:"similarIssues"===e.currentPopup,issue:t,onFilter:e.onFilter,togglePopup:e.togglePopup})))))}class Te extends r.PureComponent{constructor(){super(...arguments),this.handleCheck=()=>{this.props.onCheck&&this.props.onCheck(this.props.issue.key)},this.handleClick=e=>{!function e(t){if(!t)return!1;const s=(t.tagName||"").toUpperCase();return["A","BUTTON","INPUT","TEXTAREA"].includes(s)||e(t.parentElement)}(e.target)&&this.props.onClick&&(e.preventDefault(),this.props.onClick(this.props.issue.key))},this.editComment=(e,t)=>{c(this.props.onChange,Object(i.d)({comment:e,text:t}))},this.deleteComment=e=>{c(this.props.onChange,Object(i.c)({comment:e}))}}render(){const{issue:e}=this.props,t=null!=this.props.onCheck,s=u()("issue",{hotspot:"SECURITY_HOTSPOT"===e.type,"issue-with-checkbox":t,selected:this.props.selected});return r.createElement("div",{className:s,"data-issue":e.key,onClick:this.handleClick,role:"group"},r.createElement(De,{branchLike:this.props.branchLike,currentPopup:this.props.currentPopup,displayLocationsCount:this.props.displayLocationsCount,displayLocationsLink:this.props.displayLocationsLink,issue:e,onFilter:this.props.onFilter,togglePopup:this.props.togglePopup}),r.createElement(ce,{currentPopup:this.props.currentPopup,issue:e,onAssign:this.props.onAssign,onChange:this.props.onChange,togglePopup:this.props.togglePopup}),e.comments&&e.comments.length>0&&r.createElement("div",{className:"issue-comments"},e.comments.map(e=>r.createElement(me,{comment:e,key:e.key,onDelete:this.deleteComment,onEdit:this.editComment}))),t&&r.createElement(r.Fragment,null,r.createElement(p.a,{checked:this.props.checked||!1,className:"issue-checkbox-container",onCheck:this.handleCheck})))}}class Re extends r.PureComponent{constructor(){super(...arguments),this.togglePopup=(e,t)=>{this.props.onPopupToggle(this.props.issue.key,e,t)},this.handleAssignement=e=>{const{issue:t}=this.props;t.assignee!==e&&c(this.props.onChange,Object(i.l)({issue:t.key,assignee:e})),this.togglePopup("assign",!1)}}componentDidMount(){this.props.selected&&this.bindShortcuts()}componentWillUpdate(e){!e.selected&&this.props.selected&&this.unbindShortcuts()}componentDidUpdate(e){!e.selected&&this.props.selected&&this.bindShortcuts()}componentWillUnmount(){this.props.selected&&this.unbindShortcuts()}bindShortcuts(){n("f","issues",()=>(this.togglePopup("transition"),!1)),n("a","issues",()=>(this.togglePopup("assign"),!1)),n("m","issues",()=>(this.props.issue.actions.includes("assign")&&this.handleAssignement("_me"),!1)),n("i","issues",()=>(this.togglePopup("set-severity"),!1)),n("c","issues",()=>(this.togglePopup("comment"),!1)),n("t","issues",()=>(this.togglePopup("edit-tags"),!1)),n("space","issues",()=>{if(this.props.onCheck)return this.props.onCheck(this.props.issue.key),!1})}unbindShortcuts(){n.unbind("f","issues"),n.unbind("a","issues"),n.unbind("m","issues"),n.unbind("i","issues"),n.unbind("c","issues"),n.unbind("space","issues"),n.unbind("t","issues")}render(){return r.createElement(Te,{branchLike:this.props.branchLike,checked:this.props.checked,currentPopup:this.props.openPopup,displayLocationsCount:this.props.displayLocationsCount,displayLocationsLink:this.props.displayLocationsLink,issue:this.props.issue,onAssign:this.handleAssignement,onChange:this.props.onChange,onCheck:this.props.onCheck,onClick:this.props.onClick,onFilter:this.props.onFilter,selected:this.props.selected,togglePopup:this.togglePopup})}}Re.defaultProps={selected:!1}},667:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var n=s(366),r=s(6),i=s(377);function o({diff:e}){if("file"===e.key)return n.createElement("p",null,Object(r.l)("issue.change.file_move",e.oldValue||"",e.newValue||""));if(["from_long_branch","from_branch"].includes(e.key))return n.createElement("p",null,Object(r.l)("issue.change.from_branch",e.oldValue||"",e.newValue||""));if("from_short_branch"===e.key)return n.createElement("p",null,Object(r.l)("issue.change.from_non_branch",e.oldValue||"",e.newValue||""));if("line"===e.key)return n.createElement("p",null,Object(r.l)("issue.changelog.line_removed_X",e.oldValue||""));let t;if(null!=e.newValue){let{newValue:s}=e;"effort"===e.key&&(s=Object(i.formatMeasure)(e.newValue,"WORK_DUR")),t=Object(r.l)("issue.changelog.changed_to",Object(r.k)("issue.changelog.field",e.key),s)}else t=Object(r.l)("issue.changelog.removed",Object(r.k)("issue.changelog.field",e.key));if(null!=e.oldValue){let{oldValue:s}=e;"effort"===e.key&&(s=Object(i.formatMeasure)(e.oldValue,"WORK_DUR")),t+=" (".concat(Object(r.l)("issue.changelog.was",s),")")}return n.createElement("p",null,t)}},669:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n=s(367),r=s(366);s(713);function i(e){return r.createElement("div",{className:n("location-message",{selected:e.selected})},e.children)}},706:function(e,t,s){"use strict";s.d(t,"a",(function(){return y}));var n=s(367),r=s(366),i=s(373),o=s(368),a=s(392),c=s(643),l=s(395),u=s(376),p=s(386),m=s(6),d=s(453),h=s(378),g=s(390);s(707);function b(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function f(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?b(Object(s),!0).forEach((function(t){v(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function v(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function y(e){const{branchLike:t,expandable:s,displayProjectName:b=!0,linkToProject:v=!0,loading:y,onExpand:E,sourceViewerFile:O}=e,{measures:k,path:x,project:j,projectName:w,q:N,subProject:C,subProjectName:P}=O,L=r.createElement(r.Fragment,null,r.createElement(l.a,{qualifier:g.a.Project})," ",r.createElement("span",null,w));return r.createElement("div",{className:"source-viewer-header-slim display-flex-row display-flex-space-between"},r.createElement("div",{className:"display-flex-center flex-1"},b&&r.createElement("div",{className:"spacer-right"},v?r.createElement("a",{className:"link-with-icon",href:Object(h.w)(Object(h.d)(j,t))},L):L),void 0!==C&&r.createElement(r.Fragment,null,r.createElement(l.a,{qualifier:g.a.SubProject})," ",r.createElement("span",{className:"spacer-right"},P)),r.createElement("div",{className:"spacer-right"},r.createElement(l.a,{qualifier:N})," ",r.createElement("span",null,Object(d.b)(x)),r.createElement("span",{className:"component-name-file"},Object(d.d)(x))),r.createElement("div",{className:"spacer-right"},r.createElement(a.c,{className:"button-link link-no-underline",copyValue:x}))),void 0!==k.issues&&r.createElement("div",{className:n("flex-0 big-spacer-left",{"little-spacer-right":!s||y})},r.createElement(i.c,{to:Object(h.k)(j,f({},Object(p.d)(t),{files:x,resolved:"false"}))},Object(m.k)("source_viewer.view_all_issues"))),s&&r.createElement(u.a,{className:"little-spacer-right",loading:y},r.createElement("div",{className:"flex-0 big-spacer-left"},r.createElement(o.b,{className:"js-actions",onClick:E},r.createElement(c.a,null)))))}},707:function(e,t,s){var n=s(369),r=s(708);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},o=(n(r,i),r.locals?r.locals:{});e.exports=o},708:function(e,t,s){(t=s(370)(!1)).push([e.i,".source-viewer-header-slim{padding:4px 10px;border-bottom:1px solid #cdcdcd;background-color:#f3f3f3;align-items:center;min-height:25px}",""]),e.exports=t},709:function(e,t,s){var n=s(369),r=s(710);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},o=(n(r,i),r.locals?r.locals:{});e.exports=o},710:function(e,t,s){(t=s(370)(!1)).push([e.i,'.source-line:hover .source-line-coverage,.source-line:hover .source-line-duplications,.source-line:hover .source-line-duplications-extra,.source-line:hover .source-line-issues,.source-line:hover .source-line-number,.source-line:hover .source-line-scm{border-color:#e9e9e9;background-color:#e9e9e9}.source-line:hover .source-line-code{background-color:#f5f5f5}.source-line [role=button]{cursor:pointer}.source-line-highlighted .source-line-coverage,.source-line-highlighted .source-line-duplications,.source-line-highlighted .source-line-duplications-extra,.source-line-highlighted .source-line-issues,.source-line-highlighted .source-line-number,.source-line-highlighted .source-line-scm,.source-line-highlighted:hover .source-line-coverage,.source-line-highlighted:hover .source-line-duplications,.source-line-highlighted:hover .source-line-duplications-extra,.source-line-highlighted:hover .source-line-issues,.source-line-highlighted:hover .source-line-number,.source-line-highlighted:hover .source-line-scm{border-color:#c4dfec!important;background-color:#c4dfec}.source-line-highlighted .source-line-code,.source-line-highlighted:hover .source-line-code{background-color:#d9edf7}.source-line-filtered .source-line-code{background-color:#fbf3d5!important}.source-line-filtered.source-line-highlighted .source-line-code,.source-line-filtered.source-line-highlighted:hover .source-line-code{background-color:#cdd9c4!important}.source-line-filtered.source-line-filtered-dark .source-line-code{background-color:#f9ebb7!important}.source-line-filtered.source-line-filtered-dark:hover .source-line-code,.source-line-filtered:hover .source-line-code{background-color:#f1e8cb!important}.source-line-last .source-line-code{padding-bottom:160px}.source-line-number,.source-line-scm,.source-viewer pre{line-height:18px;font-family:Consolas,Ubuntu Mono,Liberation Mono,Menlo,Courier,monospace;font-size:12px}.source-line-code{position:relative;padding:0 10px}.source-line-code pre{float:left;word-wrap:break-word;white-space:pre-wrap}.source-line-code .issue-list{margin-left:-10px;margin-right:-10px}.source-line-code-inner{min-height:18px}.source-line-code-inner:after,.source-line-code-inner:before{display:table;content:"";line-height:0}.source-line-code-inner:after{clear:both}.source-line-code-inner pre{-moz-tab-size:4;tab-size:4}.source-line-code-issue{display:inline-block;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAGCAYAAAAPDoR2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1M0M2Rjk4M0M3QUYxMUUzODkzRUREMUM5OTNDMjY4QSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1M0M2Rjk4NEM3QUYxMUUzODkzRUREMUM5OTNDMjY4QSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjUzQzZGOTgxQzdBRjExRTM4OTNFREQxQzk5M0MyNjhBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjUzQzZGOTgyQzdBRjExRTM4OTNFREQxQzk5M0MyNjhBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+bcqJtQAAAEhJREFUeNpi+G+swwDGDAwgbAWlwZiJAQFCgfgwEIfDRaC67ID4NRDnQ2kQnwFZwgFqnANMAQOUYY9sF0wBiCGH5CBkrAgQYACuWi4sSGW8yAAAAABJRU5ErkJggg==);background-repeat:repeat-x;background-size:4px;background-position:bottom}.source-meta{position:relative;vertical-align:top;width:1px;background-clip:padding-box;-webkit-user-select:none;-ms-user-select:none;user-select:none}.source-meta:focus{outline:none}.source-line-number{min-width:18px;padding:0 10px;background-color:#f3f3f3;color:#666;text-align:right}.source-line-issues{position:relative;padding:0 2px;background-color:#f3f3f3;white-space:nowrap}.source-line-with-issues svg{padding-right:2px;vertical-align:middle}.source-line-issues-counter{position:absolute;left:17px;line-height:8px;font-size:8px;z-index:900}.source-line-coverage,.source-line-duplications,.source-line-duplications-extra{background-color:#f3f3f3}.source-line-duplications-extra{display:none}.source-line-scm{padding:0 5px;background-color:#f3f3f3}.source-line-scm .dropdown{display:block}.source-line-scm [role=button]{height:18px}.source-line-scm-inner{max-width:40px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.source-line-bar{width:5px;height:18px}.source-line-bar:focus{outline:none}.source-line-covered{background-color:#b4dd78!important}.source-line-partially-covered,.source-line-uncovered{background-color:#a4030f!important}.source-line-partially-covered{background-image:repeating-linear-gradient(45deg,hsla(0,0%,100%,.5) 4px,transparent 0,transparent 8px,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,.5) 12px,transparent 0,transparent 16px,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,.5) 20px)!important}.source-line-duplicated{background-color:#797979!important}.source-viewer-bubble-popup a{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:13px;text-align:left;-webkit-user-select:text;-ms-user-select:text;user-select:text;border-bottom:none;transition:none;color:unset}',""]),e.exports=t},711:function(e,t,s){var n=s(369),r=s(712);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},o=(n(r,i),r.locals?r.locals:{});e.exports=o},712:function(e,t,s){(t=s(370)(!1)).push([e.i,".location-index{position:relative;display:inline-block;vertical-align:top;line-height:16px;padding-left:6px;padding-right:6px;border-radius:2px;background-color:#d18582;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;transition:background-color .3s ease;-webkit-user-select:none;-ms-user-select:none;user-select:none}.location-index.selected{background-color:#a4030f}.location-index.muted{background-color:#cdcdcd}.location-index.is-leading:first-child{margin-left:0}.location-index.is-leading:not(:first-child){margin-left:-22px}.location-index[tabindex]{cursor:pointer}.location-index[tabindex]:hover,a:hover>.location-index{background-color:#a4030f}.location-index[tabindex]:focus{outline:none}.source-line-code-inner .location-index{line-height:16px;margin:1px 4px}.source-line-code-inner .location-index+.location-index{margin-left:0}",""]),e.exports=t},713:function(e,t,s){var n=s(369),r=s(714);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},o=(n(r,i),r.locals?r.locals:{});e.exports=o},714:function(e,t,s){(t=s(370)(!1)).push([e.i,'.location-message{display:inline-block;vertical-align:top;line-height:16px;padding:0 6px;border-radius:2px;background-color:#9e9e9e;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;text-overflow:ellipsis;overflow:hidden;transition:background-color .3s ease}.location-message.selected{background-color:#475760}.location-index+.location-message{margin-left:4px}.location-index>.location-message{display:none;position:absolute;bottom:calc(100% + 4px);left:0}.location-index:hover>.location-message{display:block}.location-index>.location-message:after{position:absolute;bottom:-5px;left:4px;width:0;height:0;border-top:5px solid #475760;border-left:5px solid transparent;border-right:5px solid transparent;content:""}.source-line-code .location-message{padding-top:2px;padding-bottom:2px}',""]),e.exports=t},715:function(e,t,s){var n=s(369),r=s(716);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},o=(n(r,i),r.locals?r.locals:{});e.exports=o},716:function(e,t,s){(t=s(370)(!1)).push([e.i,'.issue{position:relative;padding-top:8px;padding-bottom:8px;background-color:#f2dede;transition:all .3s ease,border 0s ease}.issue.hotspot{background-color:#eeeff4}.issue.selected{box-shadow:none;outline:none;border:2px solid #4b9fd5!important}.issue+.issue,.issue-container+.issue-container{margin-top:5px}.issue.selected+.issue{border-top-color:transparent}.issue-row{display:flex;margin-bottom:5px}.issue-row-meta{flex-grow:0;padding-right:5px;white-space:nowrap}.issue-message{flex-grow:1;padding-left:8px;padding-right:8px;line-height:18px;font-size:13px;font-weight:600;text-overflow:ellipsis}.issue-actions{justify-content:space-between;flex-wrap:wrap;padding-left:8px}.issue-actions,.issue-meta-list{display:flex;align-items:center}.issue-meta{line-height:16px;font-size:12px}.issue-meta+.issue-meta{margin-left:8px}.issue-meta-label{display:inline-block;vertical-align:top;max-width:180px;line-height:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.issue-see-rule{border-bottom:none;font-size:12px}.issue-changelog{width:450px;max-height:320px;overflow:auto;white-space:normal}.issue-comments{margin-top:5px;padding-left:8px;font-size:12px}.issue-comment{display:flex}.issue-comment+.issue-comment{margin-top:4px}.issue-comment-author{max-width:130px;font-weight:600;overflow:hidden;text-overflow:ellipsis}.issue-comment-age,.issue-comment-author{flex-shrink:0;line-height:18px;color:#666;white-space:nowrap}.issue-comment-text{flex:1;min-width:0;margin-left:5px;margin-right:5px;line-height:18px;line-height:1.5;overflow:hidden;outline:none}.issue-comment-text.markdown pre{float:none;height:auto;margin:0;padding:8px;background-color:#e6e6e6;border:none;border-radius:3px}.issue-comment-text.markdown br~pre{margin-top:8px}.issue-comment-actions{flex-shrink:0;padding-left:5px;line-height:18px;white-space:nowrap}.issue-comment-bubble-popup{width:440px;font-size:12px}.issue-comment-form-text textarea{width:100%;max-width:100%}.issue-comment-form-footer{margin-top:5px;line-height:22px}.issue-comment-form-footer:after,.issue-comment-form-footer:before{display:table;content:"";line-height:0}.issue-comment-form-footer:after{clear:both}.issue-comment-form-actions{float:right}.issue-comment-form-tips{float:left}.issue-with-checkbox{padding-left:24px}.issue-with-checkbox .issue-checkbox-container{display:flex;justify-content:center;align-items:center}.issue-checkbox-container{display:none;position:absolute;width:28px;top:0;bottom:0;left:0;border:none}.issue-checkbox-container:hover{background-color:rgba(0,0,0,.05)}.issue:not(.selected) .location-index{background-color:#999}.issue .menu:not(.issues-similar-issues-menu):not(.issue-changelog){max-height:120px;overflow:auto}.issue .badge-error{background-color:#eec8c8}',""]),e.exports=t},722:function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return o})),s.d(t,"c",(function(){return a}));var n=s(670),r=s.n(n);function i(e=[],t=[]){const s=r()(e,t);return s.length?s:void 0}function o(e,t){return null!=e&&t.some(t=>t.index===e.index)?e:void 0}function a(e,t){return void 0!==e&&t.find(t=>t.key===e)?e:void 0}},734:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var n=s(366),r=s(372);function i(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function o(e){let{fill:t="currentColor"}=e,s=i(e,["fill"]);return n.createElement(r.a,Object.assign({},s),n.createElement("path",{d:"M15.045 11.526v1.007q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 8.506v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 5.487v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 2.468v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354z",style:{fill:t}}))}},747:function(e,t,s){"use strict";s.d(t,"a",(function(){return M}));var n=s(837),r=s.n(n),i=s(367),o=s(366),a=(s(709),s(566)),c=s(669),l=s(616),u=s(659);function p(e){const{issuePopup:t}=e;return o.createElement("div",{className:"issue-list"},e.issues.map(s=>o.createElement(u.a,{branchLike:e.branchLike,displayLocationsCount:e.displayIssueLocationsCount,displayLocationsLink:e.displayIssueLocationsLink,issue:s,key:s.key,onChange:e.onIssueChange,onClick:e.onIssueClick,onPopupToggle:e.onIssuePopupToggle,openPopup:t&&t.issue===s.key?t.name:void 0,selected:e.selectedIssue===s.key})))}class m extends o.PureComponent{constructor(e){super(e),this.handleSymbolClick=e=>{e.preventDefault();const t=e.currentTarget.className.match(/sym-\d+/g);t&&t.length>0&&this.props.onSymbolClick(t)},this.state={tokens:Object(l.c)(e.line.code||"")}}componentDidMount(){this.attachEvents(),this.props.highlightedLocationMessage&&this.activeMarkerNode&&this.props.scroll&&this.props.scroll(this.activeMarkerNode)}componentWillReceiveProps(e){e.line.code!==this.props.line.code&&this.setState({tokens:Object(l.c)(e.line.code||"")})}componentWillUpdate(){this.detachEvents()}componentDidUpdate(e){this.attachEvents(),this.props.highlightedLocationMessage&&(!e.highlightedLocationMessage||e.highlightedLocationMessage.index!==this.props.highlightedLocationMessage.index)&&this.activeMarkerNode&&this.props.scroll&&this.props.scroll(this.activeMarkerNode)}componentWillUnmount(){this.detachEvents()}attachEvents(){if(this.codeNode&&(this.symbols=this.codeNode.querySelectorAll(".sym"),this.symbols))for(let e=0;e<this.symbols.length;e++){this.symbols[e].addEventListener("click",this.handleSymbolClick)}}detachEvents(){if(this.symbols)for(let e=0;e<this.symbols.length;e++){this.symbols[e].addEventListener("click",this.handleSymbolClick)}}renderMarker(e,t,s,n){const{onLocationSelect:r}=this.props,i=r?()=>r(e):void 0,l=s?e=>this.activeMarkerNode=e:void 0;return o.createElement(a.a,{key:"marker-".concat(e),leading:n,onClick:i,selected:s},o.createElement("span",{ref:l},e+1),t&&o.createElement(c.a,{selected:!0},t))}render(){const{highlightedLocationMessage:e,highlightedSymbols:t,issues:s,issueLocations:n,line:r,onIssueSelect:a,padding:c,secondaryIssueLocations:u,selectedIssue:m,showIssues:d}=this.props;let h=[...this.state.tokens];if(t&&t.forEach(e=>{h=Object(l.b)(h,e)}),n.length>0&&(h=Object(l.a)(h,n)),u&&(h=Object(l.a)(h,u,"issue-location"),e)){const t=u.find(t=>t.index===e.index);t&&(h=Object(l.a)(h,[t],"selected"))}const g=i("source-line-code","code",{"has-issues":s.length>0}),b=[];let f=!1;h.forEach((t,s)=>{this.props.displayLocationMarkers&&t.markers.length>0&&t.markers.forEach(t=>{const s=void 0!==e&&e.index===t,n=u.find(e=>e.index===t),r=n&&n.text;b.push(this.renderMarker(t,r,s,f))}),b.push(o.createElement("span",{className:t.className,key:s},t.text)),f=(0===s||f)&&!t.text.trim().length});const v=c?{paddingBottom:"".concat(c,"px")}:void 0,y=s.filter(e=>e.key===m);return o.createElement("td",{className:g,"data-line-number":r.line,style:v},o.createElement("div",{className:"source-line-code-inner"},o.createElement("pre",{ref:e=>this.codeNode=e},b)),d&&s.length>0&&o.createElement(p,{branchLike:this.props.branchLike,displayIssueLocationsCount:this.props.displayIssueLocationsCount,displayIssueLocationsLink:this.props.displayIssueLocationsLink,issuePopup:this.props.issuePopup,issues:s,onIssueChange:this.props.onIssueChange,onIssueClick:a,onIssuePopupToggle:this.props.onIssuePopupToggle,selectedIssue:m}),m&&!d&&o.createElement(p,{branchLike:this.props.branchLike,issuePopup:this.props.issuePopup,issues:y,onIssueChange:this.props.onIssueChange,onIssueClick:a,onIssuePopupToggle:this.props.onIssuePopupToggle,selectedIssue:m}))}}var d=s(374),h=s(6);var g=o.memo((function({line:e,scroll:t,scrollToUncoveredLine:s}){const n=o.useRef(null);o.useEffect(()=>{s&&t&&n.current&&t(n.current)},[s,t,n]);const r="source-meta source-line-coverage"+(null!=e.coverageStatus?" source-line-".concat(e.coverageStatus):""),i=function(e){if("uncovered"===e.coverageStatus)return e.conditions?Object(h.l)("source_viewer.tooltip.uncovered.conditions",e.conditions):Object(h.k)("source_viewer.tooltip.uncovered");if("covered"===e.coverageStatus)return e.conditions?Object(h.l)("source_viewer.tooltip.covered.conditions",e.conditions):Object(h.k)("source_viewer.tooltip.covered");if("partially-covered"===e.coverageStatus)return e.conditions?Object(h.l)("source_viewer.tooltip.partially-covered.conditions",e.coveredConditions||0,e.conditions):Object(h.k)("source_viewer.tooltip.partially-covered");return}(e);return o.createElement("td",{className:r,"data-line-number":e.line,ref:n},o.createElement(d.a,{overlay:i,placement:"bottom"},o.createElement("div",{"aria-label":i,className:"source-line-bar"})))})),b=s(383),f=s(411),v=s(423);var y=o.memo((function(e){const{blocksLoaded:t,duplicated:s,index:n,line:r}=e,[a,c]=o.useState(!1),l=i("source-meta","source-line-duplications",{"source-line-duplicated":s});return s?o.createElement("td",{className:l,"data-index":n,"data-line-number":r.line},o.createElement(d.a,{overlay:a?void 0:Object(h.k)("source_viewer.tooltip.duplicated_block"),placement:"right"},o.createElement("div",null,o.createElement(f.a,{onRequestClose:()=>c(!1),open:a,overlay:o.createElement(b.a,{placement:v.b.RightTop},e.renderDuplicationPopup(n,r.line))},o.createElement("div",{"aria-label":Object(h.k)("source_viewer.tooltip.duplicated_block"),className:"source-line-bar",onClick:()=>{c(!0),!t&&r.duplicated&&e.onClick&&e.onClick(r)},role:"button",tabIndex:0}))))):o.createElement("td",{className:l,"data-index":n,"data-line-number":r.line},o.createElement("div",{className:"source-line-bar"}))})),E=s(470),O=s.n(E),k=s(530),x=s(556);var j=o.memo((function(e){const{issues:t,issuesOpen:s,line:n}=e,r=t.length>0,a=i("source-meta","source-line-issues",{"source-line-with-issues":r});if(!r)return o.createElement("td",{className:a,"data-line-number":n.line});const c=Object(x.c)(t)[0];let l;return l=O()(t.map(e=>e.type)).length>1?Object(h.k)("source_viewer.issues_on_line.multiple_issues"):1===t.length?Object(h.l)("source_viewer.issues_on_line.issue_of_type_X",Object(h.k)("issue.type",c.type)):Object(h.l)("source_viewer.issues_on_line.X_issues_of_type_Y",t.length,Object(h.k)("issue.type",c.type,"plural")),o.createElement("td",{className:a,"data-line-number":n.line},o.createElement("span",{"aria-label":Object(h.k)("source_viewer.issues_on_line",s?"hide":"show"),onClick:t=>{t.preventDefault(),t.currentTarget.blur(),e.onClick()},role:"button",tabIndex:0},o.createElement(d.a,{overlay:l},o.createElement(k.a,{type:c.type})),t.length>1&&o.createElement("span",{className:"source-line-issues-counter"},t.length)))})),w=s(378),N=s(437),C=s(618);var P=o.memo((function({firstLineNumber:e,line:t}){return o.createElement(C.a.Consumer,null,({branchLike:s,file:n})=>{const r=Object(w.f)(n.project,s,n.key,t.line),i=Object(w.w)(r,!1),a=t.line-4<e;return o.createElement(b.a,{className:"big-spacer-left",noPadding:!0,placement:a?v.b.BottomLeft:v.b.TopLeft},o.createElement("ul",{className:"padded source-viewer-bubble-popup nowrap"},o.createElement(N.b,{copyValue:i},Object(h.k)("component_viewer.copy_permalink"))))})}));var L=o.memo((function({displayOptions:e,firstLineNumber:t,line:s}){const[n,r]=o.useState(!1),{line:i}=s;return!!i?o.createElement("td",{className:"source-meta source-line-number","data-line-number":i},e?o.createElement(f.a,{closeOnClickOutside:!0,onRequestClose:()=>r(!1),open:n,overlay:o.createElement(P,{firstLineNumber:t,line:s})},o.createElement("span",{"aria-expanded":n,"aria-haspopup":!0,"aria-label":Object(h.l)("source_viewer.line_X",i),onClick:()=>r(!0),role:"button",tabIndex:0},i)):i):o.createElement("td",{className:"source-meta source-line-number"})})),S=s(424);var _=o.memo((function({line:e}){const t=void 0!==e.scmAuthor&&""!==e.scmAuthor,s=void 0!==e.scmDate;return o.createElement("div",{className:"source-viewer-bubble-popup abs-width-400"},t&&o.createElement("div",null,o.createElement("h4",null,Object(h.k)("author")),e.scmAuthor),s&&o.createElement("div",{className:i({"spacer-top":t})},o.createElement("h4",null,Object(h.k)("source_viewer.tooltip.scm.commited_on")),o.createElement(S.a,{date:e.scmDate})),e.scmRevision&&o.createElement("div",{className:i({"spacer-top":t||s})},o.createElement("h4",null,Object(h.k)("source_viewer.tooltip.scm.revision")),e.scmRevision))}));var I=o.memo((function({line:e,previousLine:t}){const s=!!e.line,n=o.createElement("div",{className:"source-line-scm-inner"},function(e,t){let s=!0;null!=t&&null!=e.scmRevision&&null!=t.scmRevision&&(s=e.scmRevision!==t.scmRevision||e.scmDate!==t.scmDate);return s}(e,t)?e.scmAuthor||"…":" ");if(s){let t=Object(h.k)("source_viewer.click_for_scm_info");return e.scmAuthor&&(t="".concat(Object(h.l)("source_viewer.author_X",e.scmAuthor),", ").concat(t)),o.createElement("td",{className:"source-meta source-line-scm","data-line-number":e.line},o.createElement(b.b,{overlay:o.createElement(_,{line:e}),overlayPlacement:v.b.RightTop},o.createElement("div",{"aria-label":t,role:"button"},n)))}return o.createElement("td",{className:"source-meta source-line-scm","data-line-number":e.line},n)}));class M extends o.PureComponent{constructor(){super(...arguments),this.handleIssuesIndicatorClick=()=>{if(this.props.openIssues)this.props.onIssuesClose(this.props.line),this.props.onIssueUnselect();else{this.props.onIssuesOpen(this.props.line);const{issues:e}=this.props;e.length>0&&this.props.onIssueSelect(e[0].key)}}}render(){const{branchLike:e,displayAllIssues:t,displayCoverage:s,displayDuplications:n,displayIssueLocationsCount:a,displayIssueLocationsLink:c,displayLineNumberOptions:l,displayLocationMarkers:u,highlightedLocationMessage:p,displayIssues:d,displaySCM:h=!0,duplications:b,duplicationsCount:f,firstLineNumber:v,highlighted:E,highlightedSymbols:O,issueLocations:k,issuePopup:x,issues:w,last:N,line:C,openIssues:P,previousLine:S,scrollToUncoveredLine:_,secondaryIssueLocations:M,selectedIssue:A,verticalBuffer:D}=this.props,T=i("source-line",{"source-line-highlighted":E,"source-line-filtered":C.isNew,"source-line-filtered-dark":s&&("uncovered"===C.coverageStatus||"partially-covered"===C.coverageStatus),"source-line-last":!0===N}),R=D?18*D:void 0,B=!1!==l;return o.createElement("tr",{className:T,"data-line-number":C.line},o.createElement(L,{displayOptions:B,firstLineNumber:v,line:C}),h&&o.createElement(I,{line:C,previousLine:S}),d&&!t?o.createElement(j,{issues:w,issuesOpen:P,line:C,onClick:this.handleIssuesIndicatorClick}):o.createElement("td",{className:"source-meta source-line-issues"}),n&&o.createElement(y,{blocksLoaded:f>0,duplicated:Boolean(C.duplicated),index:0,key:0,line:this.props.line,onClick:this.props.loadDuplications,renderDuplicationPopup:this.props.renderDuplicationPopup}),f>1&&r()(f-1,e=>o.createElement(y,{blocksLoaded:!0,duplicated:b.includes(e+1),index:e+1,key:e+1,line:this.props.line,renderDuplicationPopup:this.props.renderDuplicationPopup})),s&&o.createElement(g,{line:C,scroll:this.props.scroll,scrollToUncoveredLine:_}),o.createElement(m,{branchLike:e,displayIssueLocationsCount:a,displayIssueLocationsLink:c,displayLocationMarkers:u,highlightedLocationMessage:p,highlightedSymbols:O,issueLocations:k,issuePopup:x,issues:w,line:C,onIssueChange:this.props.onIssueChange,onIssuePopupToggle:this.props.onIssuePopupToggle,onIssueSelect:this.props.onIssueSelect,onLocationSelect:this.props.onLocationSelect,onSymbolClick:this.props.onSymbolClick,padding:R,scroll:this.props.scroll,secondaryIssueLocations:M,selectedIssue:A,showIssues:P||t}))}}},803:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return Oe}));var n=s(555),r=s.n(n),i=s(670),o=s.n(i),a=s(366),c=s(425),l=s(379),u=s(386),p=s(6),m=s(634),d=s(934),h=s(935),g=s(819),b=s(615),f=s(415),v=s(556);function y(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?y(Object(s),!0).forEach((function(t){O(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):y(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function O(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function k(e,t,s,n=500){return function(e,t,s=500){return Object(f.k)(E({},e,{p:t,ps:s})).then(e=>e.issues.map(t=>Object(v.b)(t,e.components,e.users,e.rules)))}(e,s).then(r=>{if(0===r.length)return[];const i=r[r.length-1];return null!=i.textRange&&i.textRange.endLine>t||r.length<n?r:k(e,t,s+1,n).then(e=>[...r,...e])})}function x(e,t,s,n){const r=function(e,t){return E({additionalFields:"_all",resolved:"false",componentKeys:e,s:"FILE_LINE"},Object(u.d)(t))}(e,n);return new Promise(e=>{k(r,s,1).then(t=>{e(t)})})}var j=s(368),w=s(430),N=s(747),C=s(617),P=s(722);const L=[],S={code:"",duplicated:!1,isNew:!1,line:0};class _ extends a.PureComponent{constructor(){super(...arguments),this.firstUncoveredLineFound=!1,this.getDuplicationsForLine=e=>this.props.duplicationsByLine[e.line]||L,this.getIssuesForLine=e=>this.props.issuesByLine[e.line]||L,this.getIssueLocationsForLine=e=>this.props.issueLocationsByLine[e.line]||L,this.renderLine=({line:e,index:t,displayCoverage:s,displayDuplications:n,displayIssues:r})=>{const{highlightedLocationMessage:i,highlightedLocations:o,metricKey:c,selectedIssue:l,sources:u}=this.props,p=Object(C.b)(e,o),m=this.props.duplications?this.props.duplications.length:0,d=this.getIssuesForLine(e),h=u&&u.length?u[0].line:0;let g=!1;return!this.firstUncoveredLineFound&&s&&e.coverageStatus&&["uncovered","partially-covered"].includes(e.coverageStatus)&&(g=c===w.a.new_uncovered_lines&&e.isNew||c===w.a.uncovered_lines,this.firstUncoveredLineFound=g),a.createElement(N.a,{branchLike:this.props.branchLike,displayAllIssues:this.props.displayAllIssues,displayCoverage:s,displayDuplications:n,displayIssueLocationsCount:this.props.displayIssueLocationsCount,displayIssueLocationsLink:this.props.displayIssueLocationsLink,displayIssues:r,displayLocationMarkers:this.props.displayLocationMarkers,duplications:this.getDuplicationsForLine(e),duplicationsCount:m,firstLineNumber:h,highlighted:e.line===this.props.highlightedLine,highlightedLocationMessage:Object(P.b)(i,p),highlightedSymbols:Object(P.a)(this.props.symbolsByLine[e.line],this.props.highlightedSymbols),issueLocations:this.getIssueLocationsForLine(e),issuePopup:this.props.issuePopup,issues:d,key:e.line,last:t===this.props.sources.length-1&&!this.props.hasSourcesAfter,line:e,loadDuplications:this.props.loadDuplications,onIssueChange:this.props.onIssueChange,onIssuePopupToggle:this.props.onIssuePopupToggle,onIssueSelect:this.props.onIssueSelect,onIssueUnselect:this.props.onIssueUnselect,onIssuesClose:this.props.onIssuesClose,onIssuesOpen:this.props.onIssuesOpen,onLocationSelect:this.props.onLocationSelect,onSymbolClick:this.props.onSymbolClick,openIssues:this.props.openIssuesByLine[e.line]||!1,previousLine:t>0?u[t-1]:void 0,renderDuplicationPopup:this.props.renderDuplicationPopup,scroll:this.props.scroll,scrollToUncoveredLine:g,secondaryIssueLocations:p,selectedIssue:Object(P.c)(l,d)})}}componentDidUpdate(e){this.props.metricKey!==e.metricKey&&(this.firstUncoveredLineFound=!1)}render(){const{issues:e=[],sources:t}=this.props,s=t.some(e=>null!=e.coverageStatus),n=t.some(e=>!!e.duplicated),r=e.length>0,i=r&&e.some(e=>!e.textRange);return a.createElement("div",{className:"source-viewer-code"},this.props.hasSourcesBefore&&a.createElement("div",{className:"source-viewer-more-code"},this.props.loadingSourcesBefore?a.createElement("div",{className:"js-component-viewer-loading-before"},a.createElement("i",{className:"spinner"}),a.createElement("span",{className:"note spacer-left"},Object(p.k)("source_viewer.loading_more_code"))):a.createElement(j.a,{className:"js-component-viewer-source-before",onClick:this.props.loadSourcesBefore},Object(p.k)("source_viewer.load_more_code"))),a.createElement("table",{className:"source-table"},a.createElement("tbody",null,i&&this.renderLine({line:S,index:-1,displayCoverage:s,displayDuplications:n,displayIssues:r}),t.map((e,t)=>this.renderLine({line:e,index:t,displayCoverage:s,displayDuplications:n,displayIssues:r})))),this.props.hasSourcesAfter&&a.createElement("div",{className:"source-viewer-more-code"},this.props.loadingSourcesAfter?a.createElement("div",{className:"js-component-viewer-loading-after"},a.createElement("i",{className:"spinner"}),a.createElement("span",{className:"note spacer-left"},Object(p.k)("source_viewer.loading_more_code"))):a.createElement(j.a,{className:"js-component-viewer-source-after",onClick:this.props.loadSourcesAfter},Object(p.k)("source_viewer.load_more_code"))))}}var I=s(618),M=s(28),A=s(373),D=s(392),T=s(383),R=s(734),B=s(395),z=s(423),U=s(428),F=s(377),V=s(453),q=s(4),H=s(0),W=s(378),K=s(390),Y=s(387),Z=s.n(Y),G=s(517),J=s.n(G),X=s(445),Q=s.n(X),$=s(578),ee=s(757),te=s(389),se=s(432),ne=s(503),re=s(628),ie=s(471),oe=s(459),ae=s(549);function ce({measure:e}){return a.createElement("div",{className:"measure measure-one-line","data-metric":e.metric.key,key:e.metric.key},a.createElement("span",{className:"measure-name"},Object(w.b)(e.metric.key)&&[w.a.bugs,w.a.vulnerabilities,w.a.code_smells].includes(e.metric.key)&&a.createElement(se.a,{className:"little-spacer-right",query:e.metric.key}),Object(p.e)(e.metric)),a.createElement("span",{className:"measure-value"},a.createElement(ie.a,{metricKey:e.metric.key,metricType:e.metric.type,small:!0,value:e.value})))}function le(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function ue(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?le(Object(s),!0).forEach((function(t){pe(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):le(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function pe(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class me extends a.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!0,measures:{},showAllMeasures:!1},this.fetchData=()=>{Promise.all([this.fetchMeasures(),this.fetchIssues()]).then(([e,t])=>{this.mounted&&this.setState(ue({loading:!1,measures:e},t))},()=>{this.mounted&&this.setState({loading:!1})})},this.fetchMeasures=()=>Object(ee.a)().then(e=>{const t=Object(F.getDisplayMetrics)(e).map(e=>e.key);return Object($.a)(ue({component:this.props.sourceViewerFile.key,metricKeys:t.join()},Object(u.d)(this.props.branchLike))).then(t=>{const s=Object(F.enhanceMeasuresWithMetrics)(t,e).filter(e=>e.metric);return J()(s,e=>e.metric.key)})}),this.fetchIssues=()=>Object(f.f)(ue({componentKeys:this.props.sourceViewerFile.key,resolved:"false"},Object(u.d)(this.props.branchLike)),["types","severities","tags"]).then(({facets:e})=>{const t=e.find(e=>"severities"===e.property),s=e.find(e=>"tags"===e.property),n=e.find(e=>"types"===e.property);return{severitiesFacet:t&&t.values,tagsFacet:s&&s.values,typesFacet:n&&n.values}}),this.handleAllMeasuresClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.setState({showAllMeasures:!0})},this.renderMeasure=e=>e?a.createElement(ce,{key:e.metric.key,measure:e}):null,this.renderLines=()=>{const{measures:e}=this.state;return a.createElement("div",{className:"measures-viewer-section"},a.createElement("div",{className:"measures-viewer-card"},a.createElement("div",{className:"measures"},this.renderMeasure(e.lines),this.renderMeasure(e.ncloc),this.renderMeasure(e.comment_lines),this.renderMeasure(e.comment_lines_density)),a.createElement("div",{className:"measures"},this.renderMeasure(e.cognitive_complexity),this.renderMeasure(e.complexity),this.renderMeasure(e.function_complexity))))},this.renderBigMeasure=e=>e?a.createElement("div",{className:"measure measure-big","data-metric":e.metric.key},a.createElement("span",{className:"measure-value"},a.createElement(ie.a,{metricKey:e.metric.key,metricType:e.metric.type,value:e.value})),a.createElement("span",{className:"measure-name"},Object(p.e)(e.metric,!0))):null,this.renderIssues=()=>{const{measures:e,severitiesFacet:t,tagsFacet:s,typesFacet:n}=this.state;return a.createElement("div",{className:"measures-viewer-section"},a.createElement("div",{className:"measures-viewer-card"},a.createElement("div",{className:"measures"},this.renderBigMeasure(e.violations),this.renderBigMeasure(e.sqale_index)),e.violations&&!!e.violations.value&&a.createElement(a.Fragment,null,n&&a.createElement("div",{className:"measures"},Z()(n,e=>U.d.indexOf(e.val)).map(e=>a.createElement("div",{className:"measure measure-one-line",key:e.val},a.createElement("span",{className:"measure-name"},a.createElement(se.a,{className:"little-spacer-right",query:e.val}),Object(p.k)("issue.type",e.val)),a.createElement("span",{className:"measure-value"},Object(F.formatMeasure)(e.count,"SHORT_INT"))))),t&&a.createElement("div",{className:"measures"},Z()(t,e=>U.i.indexOf(e.val)).map(e=>a.createElement("div",{className:"measure measure-one-line",key:e.val},a.createElement("span",{className:"measure-name"},a.createElement(oe.a,{severity:e.val})),a.createElement("span",{className:"measure-value"},Object(F.formatMeasure)(e.count,"SHORT_INT"))))),s&&a.createElement("div",{className:"measures"},s.map(e=>a.createElement("div",{className:"measure measure-one-line",key:e.val},a.createElement("span",{className:"measure-name"},a.createElement(ne.a,{className:"little-spacer-right"}),e.val),a.createElement("span",{className:"measure-value"},Object(F.formatMeasure)(e.count,"SHORT_INT"))))))))},this.renderCoverage=()=>{const{coverage:e}=this.state.measures;return e?a.createElement("div",{className:"measures-viewer-section"},a.createElement("div",{className:"measures-viewer-card"},a.createElement("div",{className:"measures"},a.createElement("div",{className:"measures-chart"},a.createElement(ae.a,{size:"big",value:e.value})),a.createElement("div",{className:"measure measure-big","data-metric":e.metric.key},a.createElement("span",{className:"measure-value"},a.createElement(ie.a,{metricKey:e.metric.key,metricType:e.metric.type,value:e.value})),a.createElement("span",{className:"measure-name"},Object(p.e)(e.metric)))),a.createElement("div",{className:"measures"},this.renderMeasure(this.state.measures.uncovered_lines),this.renderMeasure(this.state.measures.lines_to_cover),this.renderMeasure(this.state.measures.uncovered_conditions),this.renderMeasure(this.state.measures.conditions_to_cover)))):null},this.renderDuplications=()=>{const{duplicated_lines_density:e}=this.state.measures;return e?a.createElement("div",{className:"measures-viewer-section"},a.createElement("div",{className:"measures-viewer-card"},a.createElement("div",{className:"measures"},a.createElement("div",{className:"measures-chart"},a.createElement(re.a,{muted:void 0===e.value,size:"big",value:Number(e.value||0)})),a.createElement("div",{className:"measure measure-big","data-metric":e.metric.key},a.createElement("span",{className:"measure-value"},a.createElement(ie.a,{metricKey:e.metric.key,metricType:e.metric.type,value:e.value})),a.createElement("span",{className:"measure-name"},Object(p.e)(e.metric,!0)))),a.createElement("div",{className:"measures"},this.renderMeasure(this.state.measures.duplicated_blocks),this.renderMeasure(this.state.measures.duplicated_lines)))):null},this.renderTests=()=>{const{measures:e}=this.state;return a.createElement("div",{className:"measures-viewer"},a.createElement("div",{className:"measures-viewer-section measures-viewer-section-limited"},a.createElement("div",{className:"measures-viewer-card"},a.createElement("div",{className:"measures"},this.renderMeasure(e.tests),this.renderMeasure(e.test_success_density),this.renderMeasure(e.test_failures),this.renderMeasure(e.test_errors),this.renderMeasure(e.skipped_tests),this.renderMeasure(e.test_execution_time)))))},this.renderDomain=(e,t)=>a.createElement("div",{className:"measures-viewer-card",key:e},a.createElement("div",{className:"measures"},a.createElement("div",{className:"measure measure-big"},a.createElement("span",{className:"measure-name"},Object(p.k)("metric_domain",e))),Z()(t.filter(e=>void 0!==e.value),e=>Object(p.e)(e.metric)).map(e=>this.renderMeasure(e)))),this.renderAllMeasures=()=>{const e=Q()(Object.values(this.state.measures),e=>e.metric.domain),t=Object.keys(e),s=t.filter((e,t)=>t%2==1),n=t.filter((e,t)=>t%2==0);return a.createElement("div",{className:"measures-viewer measures-viewer-secondary"},a.createElement("div",{className:"measures-viewer-section"},s.map(t=>this.renderDomain(t,e[t]))),a.createElement("div",{className:"measures-viewer-section"},n.map(t=>this.renderDomain(t,e[t]))))}}componentDidMount(){this.mounted=!0,this.fetchData()}componentWillUnmount(){this.mounted=!1}render(){const{branchLike:e,sourceViewerFile:t}=this.props,{loading:s}=this.state,n=Object(p.k)("component_viewer.file_measures");return a.createElement(te.a,{contentLabel:n,onRequestClose:this.props.onClose,size:"large"},a.createElement("div",{className:"modal-head"},a.createElement("h2",null,n)),a.createElement("div",{className:"modal-body modal-container"},a.createElement("div",{className:"measures-viewer-header big-spacer-bottom"},a.createElement("div",null,a.createElement(B.a,{className:"little-spacer-right",qualifier:"TRK"}),a.createElement(A.c,{to:Object(W.d)(t.project,e)},t.projectName),t.subProject&&a.createElement(a.Fragment,null,a.createElement(B.a,{className:"big-spacer-left little-spacer-right",qualifier:"BRC"}),t.subProjectName)),a.createElement("div",{className:"display-flex-center little-spacer-top"},a.createElement(B.a,{className:"little-spacer-right",qualifier:t.q}),t.path)),s?a.createElement("i",{className:"spinner"}):a.createElement(a.Fragment,null,"UTS"===t.q?this.renderTests():a.createElement("div",{className:"measures-viewer"},this.renderLines(),this.renderIssues(),this.renderCoverage(),this.renderDuplications())),a.createElement("div",{className:"spacer-top"},this.state.showAllMeasures?this.renderAllMeasures():a.createElement("a",{className:"js-show-all-measures",href:"#",onClick:this.handleAllMeasuresClick},Object(p.k)("component_viewer.show_all_measures")))),a.createElement("footer",{className:"modal-foot"},a.createElement(j.g,{onClick:this.props.onClose},Object(p.k)("close"))))}}function de(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function he(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?de(Object(s),!0).forEach((function(t){ge(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):de(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function ge(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class be extends a.PureComponent{constructor(){super(...arguments),this.state={measuresOverlay:!1},this.handleShowMeasuresClick=e=>{e.preventDefault(),this.setState({measuresOverlay:!0})},this.handleMeasuresOverlayClose=()=>{this.setState({measuresOverlay:!1})},this.openInWorkspace=e=>{e.preventDefault();const{key:t}=this.props.sourceViewerFile;this.props.openComponent({branchLike:this.props.branchLike,key:t})},this.renderIssueMeasures=()=>{const{branchLike:e,componentMeasures:t,sourceViewerFile:s}=this.props;return t&&t.length>0&&a.createElement(a.Fragment,null,a.createElement("div",{className:"source-viewer-header-measure-separator"}),U.d.map(n=>{const r=he({},Object(u.d)(e),{files:s.path,resolved:"false",types:n}),i=t.find(e=>e.metric===v.a[n].metric);return a.createElement("div",{className:"source-viewer-header-measure",key:n},a.createElement("span",{className:"source-viewer-header-measure-label"},Object(p.k)("issue.type",n)),a.createElement("span",{className:"source-viewer-header-measure-value"},a.createElement(A.c,{to:Object(W.k)(s.project,r)},Object(F.formatMeasure)(i&&i.value||0,"INT"))))}))}}render(){const{showMeasures:e}=this.props,{key:t,measures:s,path:n,project:r,projectName:i,q:o,subProject:c,subProjectName:l}=this.props.sourceViewerFile,m=o===K.a.TestFile?"tests":"lines",d=Object(H.getBaseUrl)()+"/api/sources/raw?"+Object(M.stringify)(Object(q.f)(he({key:t},Object(u.d)(this.props.branchLike))));return a.createElement("div",{className:"source-viewer-header display-flex-center"},a.createElement("div",{className:"flex-1 little-spacer-top"},a.createElement("div",{className:"component-name"},a.createElement("div",{className:"component-name-parent"},a.createElement("a",{className:"link-with-icon",href:Object(W.w)(Object(W.d)(r,this.props.branchLike))},a.createElement(B.a,{qualifier:"TRK"})," ",a.createElement("span",null,i))),void 0!==c&&a.createElement("div",{className:"component-name-parent"},a.createElement(B.a,{qualifier:"BRC"})," ",a.createElement("span",null,l)),a.createElement("div",{className:"component-name-path"},a.createElement(B.a,{qualifier:o})," ",a.createElement("span",null,Object(V.b)(n)),a.createElement("span",{className:"component-name-file"},Object(V.d)(n)),a.createElement("span",{className:"nudged-up spacer-left"},a.createElement(D.c,{"aria-label":Object(p.k)("component_viewer.copy_path_to_clipboard"),className:"button-link link-no-underline",copyValue:n}))))),this.state.measuresOverlay&&a.createElement(me,{branchLike:this.props.branchLike,onClose:this.handleMeasuresOverlayClose,sourceViewerFile:this.props.sourceViewerFile}),e&&a.createElement("div",{className:"display-flex-center"},s[m]&&a.createElement("div",{className:"source-viewer-header-measure"},a.createElement("span",{className:"source-viewer-header-measure-label"},Object(p.k)("metric.".concat(m,".name"))),a.createElement("span",{className:"source-viewer-header-measure-value"},Object(F.formatMeasure)(s[m],"SHORT_INT"))),void 0!==s.coverage&&a.createElement("div",{className:"source-viewer-header-measure"},a.createElement("span",{className:"source-viewer-header-measure-label"},Object(p.k)("metric.coverage.name")),a.createElement("span",{className:"source-viewer-header-measure-value"},Object(F.formatMeasure)(s.coverage,"PERCENT"))),void 0!==s.duplicationDensity&&a.createElement("div",{className:"source-viewer-header-measure"},a.createElement("span",{className:"source-viewer-header-measure-label"},Object(p.k)("duplications")),a.createElement("span",{className:"source-viewer-header-measure-value"},Object(F.formatMeasure)(s.duplicationDensity,"PERCENT"))),this.renderIssueMeasures()),a.createElement(T.b,{className:"source-viewer-header-actions flex-0",overlay:a.createElement("ul",{className:"menu"},a.createElement("li",null,a.createElement("a",{className:"js-measures",href:"#",onClick:this.handleShowMeasuresClick},Object(p.k)("component_viewer.show_details"))),a.createElement("li",null,a.createElement(A.c,{className:"js-new-window",rel:"noopener noreferrer",target:"_blank",to:Object(W.f)(this.props.sourceViewerFile.project,this.props.branchLike,t)},Object(p.k)("component_viewer.new_window"))),a.createElement("li",null,a.createElement("a",{className:"js-workspace",href:"#",onClick:this.openInWorkspace},Object(p.k)("component_viewer.open_in_workspace"))),a.createElement("li",null,a.createElement("a",{className:"js-raw-source",href:d,rel:"noopener noreferrer",target:"_blank"},Object(p.k)("component_viewer.show_raw_source")))),overlayPlacement:z.b.BottomRight},a.createElement(j.b,{className:"js-actions"},a.createElement(R.a,null))))}}var fe=s(706);s(1672);function ve(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function ye(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(s),!0).forEach((function(t){Ee(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ve(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function Ee(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Oe extends a.PureComponent{constructor(e){super(e),this.mounted=!1,this.loadSources=()=>new Promise((e,t)=>{const s=this.props.aroundLine?Math.max(1,this.props.aroundLine-250+1):1;let n=this.props.aroundLine?this.props.aroundLine+250+1:501;1===s&&n<500&&(n=500),n++,this.propsLoadSources(this.props.component,s,n,this.props.branchLike).then(t=>{e(t)},s=>{this.mounted&&([403,404].includes(s.status)?t(s):e([]))})}),this.loadSourcesBefore=()=>{if(!this.state.sources)return;const e=this.state.sources[0];this.setState({loadingSourcesBefore:!0});const t=Math.max(1,e.line-500);Promise.all([this.propsLoadSources(this.props.component,t,e.line-1,this.props.branchLike),this.loadIssues(this.props.component,t,e.line-1,this.props.branchLike)]).then(([e,t])=>{this.mounted&&this.setState(s=>{const n=r()([...t,...s.issues||[]],e=>e.key);return{issues:n,issuesByLine:Object(b.c)(n),issueLocationsByLine:Object(b.d)(n),loadingSourcesBefore:!1,sources:[...this.computeCoverageStatus(e),...s.sources||[]],symbolsByLine:ye({},s.symbolsByLine,{},Object(b.e)(e))}})},()=>{})},this.loadSourcesAfter=()=>{if(!this.state.sources)return;const e=this.state.sources[this.state.sources.length-1];this.setState({loadingSourcesAfter:!0});const t=e.line+1,s=e.line+500+1;Promise.all([this.propsLoadSources(this.props.component,t,s,this.props.branchLike),this.loadIssues(this.props.component,t,s,this.props.branchLike)]).then(([e,t])=>{this.mounted&&this.setState(s=>{const n=r()([...s.issues||[],...t],e=>e.key);return{issues:n,issuesByLine:Object(b.c)(n),issueLocationsByLine:Object(b.d)(n),hasSourcesAfter:e.length>500,loadingSourcesAfter:!1,sources:[...s.sources||[],...this.computeCoverageStatus(e.slice(0,500))],symbolsByLine:ye({},s.symbolsByLine,{},Object(b.e)(e.slice(0,500)))}})},()=>{})},this.loadDuplications=()=>{Object(c.q)(ye({key:this.props.component},Object(u.d)(this.props.branchLike))).then(e=>{this.mounted&&this.setState({duplications:e.duplications,duplicationsByLine:Object(b.a)(e.duplications),duplicatedFiles:e.files})},()=>{})},this.handleIssuePopupToggle=(e,t,s)=>{this.setState(n=>{const r=n.issuePopup&&n.issuePopup.name===t&&n.issuePopup.issue===e;return!1===s||r?!0!==s&&r?{issuePopup:void 0}:null:{issuePopup:{issue:e,name:t}}})},this.handleSymbolClick=e=>{this.setState(t=>({highlightedSymbols:o()(t.highlightedSymbols,e).length>0?[]:e}))},this.handleIssueSelect=e=>{this.props.onIssueSelect?this.props.onIssueSelect(e):this.setState({selectedIssue:e})},this.handleIssueUnselect=()=>{this.props.onIssueUnselect?this.props.onIssueUnselect():this.setState({selectedIssue:void 0})},this.handleOpenIssues=e=>{this.setState(t=>({openIssuesByLine:ye({},t.openIssuesByLine,{[e.line]:!0})}))},this.handleCloseIssues=e=>{this.setState(t=>({openIssuesByLine:ye({},t.openIssuesByLine,{[e.line]:!1})}))},this.handleIssueChange=e=>{this.setState(({issues:t=[]})=>{const s=t.map(t=>t.key===e.key?e:t);return{issues:s,issuesByLine:Object(b.c)(s)}}),this.props.onIssueChange&&this.props.onIssueChange(e)},this.renderDuplicationPopup=(e,t)=>{const{component:s,duplicatedFiles:n,duplications:r}=this.state;if(!s||!n)return null;const i=Object(h.b)(r,e);return a.createElement(m.a.Consumer,null,({openComponent:e})=>a.createElement(d.a,{blocks:Object(h.a)(i,t),branchLike:this.props.branchLike,duplicatedFiles:n,inRemovedComponent:Object(h.c)(i),openComponent:e,sourceViewerFile:s}))},this.state={duplicationsByLine:{},hasSourcesAfter:!1,highlightedSymbols:[],issuesByLine:{},issueLocationsByLine:{},loading:!0,loadingSourcesAfter:!1,loadingSourcesBefore:!1,notAccessible:!1,notExist:!1,openIssuesByLine:{},selectedIssue:e.selectedIssue,sourceRemoved:!1,symbolsByLine:{}}}componentDidMount(){this.mounted=!0,this.fetchComponent()}componentWillReceiveProps(e){e.component===this.props.component&&Object(u.i)(e.branchLike,this.props.branchLike)||this.setState({loading:!0}),void 0!==e.onIssueSelect&&e.selectedIssue!==this.props.selectedIssue&&this.setState({selectedIssue:e.selectedIssue})}componentDidUpdate(e){if(e.component===this.props.component&&Object(u.i)(e.branchLike,this.props.branchLike))if(void 0!==this.props.aroundLine&&e.aroundLine!==this.props.aroundLine&&this.isLineOutsideOfRange(this.props.aroundLine))this.fetchSources();else{const{selectedIssue:e}=this.props,{issues:t}=this.state;void 0!==e&&void 0!==t&&void 0===t.find(t=>t.key===e)&&this.reloadIssues()}else this.fetchComponent()}componentWillUnmount(){this.mounted=!1}get loadComponent(){return this.props.loadComponent||ke}get loadIssues(){return this.props.loadIssues||x}get propsLoadSources(){return this.props.loadSources||xe}computeCoverageStatus(e){return e.map(e=>ye({},e,{coverageStatus:Object(g.a)(e)}))}isLineOutsideOfRange(e){const{sources:t}=this.state;if(t&&t.length>0){const s=t[0],n=t[t.length-1];return e<s.line||e>n.line}return!0}fetchComponent(){this.setState({loading:!0});const e=(this.props.aroundLine||0)+500,t=(t,s)=>{this.loadIssues(this.props.component,1,e,this.props.branchLike).then(e=>{if(this.mounted){const n=s.slice(0,500);this.setState({component:t,duplicatedFiles:void 0,duplications:void 0,duplicationsByLine:{},hasSourcesAfter:s.length>500,highlightedSymbols:[],issueLocationsByLine:Object(b.d)(e),issues:e,issuesByLine:Object(b.c)(e),loading:!1,notAccessible:!1,notExist:!1,openIssuesByLine:{},issuePopup:void 0,sourceRemoved:!1,sources:this.computeCoverageStatus(n),symbolsByLine:Object(b.e)(s.slice(0,500))},()=>{this.props.onLoaded&&this.props.onLoaded(t,n,e)})}},()=>{})},s=(e,t)=>{this.mounted&&(403===e.status?this.setState({component:t,loading:!1,notAccessible:!0}):404===e.status&&this.setState({component:t,loading:!1,sourceRemoved:!0}))};this.loadComponent(this.props.component,this.props.branchLike).then(e=>{("FIL"===e.q||"UTS"===e.q?this.loadSources():Promise.resolve([])).then(s=>t(e,s),t=>s(t,e))},e=>{this.mounted&&(403===e.status?this.setState({loading:!1,notAccessible:!0}):404===e.status&&this.setState({loading:!1,notExist:!0}))})}fetchSources(){this.loadSources().then(e=>{if(this.mounted){const t=e.slice(0,500);this.setState({sources:e.slice(0,500),hasSourcesAfter:e.length>500},()=>{this.props.onLoaded&&this.state.component&&this.state.issues&&this.props.onLoaded(this.state.component,t,this.state.issues)})}},()=>{})}reloadIssues(){if(!this.state.sources)return;const e=this.state.sources[0],t=this.state.sources[this.state.sources.length-1];this.loadIssues(this.props.component,e&&e.line,t&&t.line,this.props.branchLike).then(e=>{this.mounted&&this.setState({issues:e,issuesByLine:Object(b.c)(e),issueLocationsByLine:Object(b.d)(e)})},()=>{})}renderCode(e){const t=e.length>0&&e[0].line>1;return a.createElement(_,{branchLike:this.props.branchLike,componentKey:this.props.component,displayAllIssues:this.props.displayAllIssues,displayIssueLocationsCount:this.props.displayIssueLocationsCount,displayIssueLocationsLink:this.props.displayIssueLocationsLink,displayLocationMarkers:this.props.displayLocationMarkers,duplications:this.state.duplications,duplicationsByLine:this.state.duplicationsByLine,hasSourcesAfter:this.state.hasSourcesAfter,hasSourcesBefore:t,highlightedLine:this.props.highlightedLine,highlightedLocationMessage:this.props.highlightedLocationMessage,highlightedLocations:this.props.highlightedLocations,highlightedSymbols:this.state.highlightedSymbols,issueLocationsByLine:this.state.issueLocationsByLine,issuePopup:this.state.issuePopup,issues:this.state.issues,issuesByLine:this.state.issuesByLine,loadDuplications:this.loadDuplications,loadSourcesAfter:this.loadSourcesAfter,loadSourcesBefore:this.loadSourcesBefore,loadingSourcesAfter:this.state.loadingSourcesAfter,loadingSourcesBefore:this.state.loadingSourcesBefore,onIssueChange:this.handleIssueChange,onIssuePopupToggle:this.handleIssuePopupToggle,onIssueSelect:this.handleIssueSelect,onIssueUnselect:this.handleIssueUnselect,onIssuesClose:this.handleCloseIssues,onIssuesOpen:this.handleOpenIssues,onLocationSelect:this.props.onLocationSelect,onSymbolClick:this.handleSymbolClick,openIssuesByLine:this.state.openIssuesByLine,renderDuplicationPopup:this.renderDuplicationPopup,scroll:this.props.scroll,metricKey:this.props.metricKey,selectedIssue:this.state.selectedIssue,sources:e,symbolsByLine:this.state.symbolsByLine})}renderHeader(e,t){return this.props.slimHeader?a.createElement(fe.a,{branchLike:e,sourceViewerFile:t}):a.createElement(m.a.Consumer,null,({openComponent:e})=>a.createElement(be,{branchLike:this.props.branchLike,componentMeasures:this.props.componentMeasures,openComponent:e,showMeasures:this.props.showMeasures,sourceViewerFile:t}))}render(){const{component:e,loading:t,sources:s,notAccessible:n,sourceRemoved:r}=this.state;return t?null:this.state.notExist?a.createElement(l.a,{className:"spacer-top",variant:"warning"},Object(p.k)("component_viewer.no_component")):n?a.createElement(l.a,{className:"spacer-top",variant:"warning"},Object(p.k)("code_viewer.no_source_code_displayed_due_to_security")):e?a.createElement(I.a.Provider,{value:{branchLike:this.props.branchLike,file:e}},a.createElement("div",{className:"source-viewer",ref:e=>this.node=e},this.renderHeader(this.props.branchLike,e),r&&a.createElement(l.a,{className:"spacer-top",variant:"warning"},Object(p.k)("code_viewer.no_source_code_displayed_due_to_source_removed")),!r&&void 0!==s&&this.renderCode(s))):null}}function ke(e,t){return Promise.all([Object(c.k)(ye({component:e},Object(u.d)(t))),Object(c.j)(ye({component:e},Object(u.d)(t)))]).then(([e,{component:t}])=>ye({},e,{leakPeriodDate:t.leakPeriodDate}))}function xe(e,t,s,n){return Object(c.u)(ye({key:e,from:t,to:s},Object(u.d)(n)))}Oe.defaultProps={displayAllIssues:!1,displayIssueLocationsCount:!0,displayIssueLocationsLink:!0,displayLocationMarkers:!0}},934:function(e,t,s){"use strict";s.d(t,"a",(function(){return g}));var n=s(387),r=s.n(n),i=s(445),o=s.n(i),a=s(366),c=s(373),l=s(395),u=s(379),p=s(386),m=s(6),d=s(453),h=s(378);class g extends a.PureComponent{constructor(){super(...arguments),this.isDifferentComponent=(e,t)=>Boolean(e&&t&&(e.project!==t.project||e.subProject!==t.subProject)),this.handleFileClick=e=>{e.preventDefault(),e.currentTarget.blur();const{key:t,line:s}=e.currentTarget.dataset;this.shouldLink()&&t&&this.props.openComponent({branchLike:this.props.branchLike,key:t,line:s?Number(s):void 0})}}shouldLink(){const{branchLike:e}=this.props;return!Object(p.h)(e)}renderDuplication(e,t,s){return this.shouldLink()?a.createElement("a",{"data-key":e.key,"data-line":s,href:"#",onClick:this.handleFileClick,title:e.name},t):t}render(){const{duplicatedFiles:e={},sourceViewerFile:t}=this.props,s=o()(this.props.blocks,"_ref");let n=Object.keys(s).map(t=>({blocks:s[t],file:e[t]}));return n=r()(n,e=>e.file.projectName!==t.projectName,e=>e.file.subProjectName!==t.subProjectName,e=>e.file.key!==t.key),a.createElement("div",{className:"source-viewer-bubble-popup abs-width-400"},this.props.inRemovedComponent&&a.createElement(u.a,{variant:"warning"},Object(m.k)("duplications.dups_found_on_deleted_resource")),n.length>0&&a.createElement(a.Fragment,null,a.createElement("h6",{className:"spacer-bottom"},Object(m.k)("component_viewer.transition.duplication")),n.map(e=>a.createElement("div",{className:"spacer-top text-ellipsis",key:e.file.key},a.createElement("div",{className:"component-name"},this.isDifferentComponent(e.file,this.props.sourceViewerFile)&&a.createElement(a.Fragment,null,a.createElement("div",{className:"component-name-parent"},a.createElement(l.a,{className:"little-spacer-right",qualifier:"TRK"}),a.createElement(c.c,{to:Object(h.A)(e.file.project)},e.file.projectName)),e.file.subProject&&e.file.subProjectName&&a.createElement("div",{className:"component-name-parent"},a.createElement(l.a,{className:"little-spacer-right",qualifier:"BRC"}),e.file.subProjectName)),e.file.key!==this.props.sourceViewerFile.key&&a.createElement("div",{className:"component-name-path"},this.renderDuplication(e.file,a.createElement(a.Fragment,null,a.createElement("span",null,Object(d.b)(e.file.name)),a.createElement("span",{className:"component-name-file"},Object(d.d)(e.file.name))))),a.createElement("div",{className:"component-name-path"},"Lines: ",e.blocks.map((t,s)=>a.createElement(a.Fragment,{key:s},this.renderDuplication(e.file,a.createElement(a.Fragment,null,t.from," – ",t.from+t.size-1),t.from),s<e.blocks.length-1&&", "))))))))}}},935:function(e,t,s){"use strict";function n(e,t){let s=!1;return e.filter(e=>{const n=e.from>t||e.from+e.size<t,r=!("1"===e._ref)||(n||s),i=void 0!==e._ref&&r;return"1"!==e._ref||n||(s=!0),i})}function r(e,t){return e&&e[t]&&e[t].blocks||[]}function i(e){return e.some(e=>void 0===e._ref)}s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return r})),s.d(t,"c",(function(){return i}))}}]);
//# sourceMappingURL=285.m.6e4ab033.chunk.js.map