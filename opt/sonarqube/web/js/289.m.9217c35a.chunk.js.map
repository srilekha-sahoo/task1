{"version":3,"sources":["webpack:///./src/main/js/components/common/MeasuresLink.css?71dd","webpack:///./src/main/js/components/common/MeasuresLink.css","webpack:///./src/main/js/apps/portfolio/styles.css?d02f","webpack:///./src/main/js/apps/portfolio/styles.css","webpack:///./src/main/js/components/icons/MeasuresIcon.tsx","webpack:///./src/main/js/components/common/MeasuresLink.tsx","webpack:///./src/main/js/apps/portfolio/utils.ts","webpack:///./src/main/js/apps/portfolio/components/Effort.tsx","webpack:///./src/main/js/apps/portfolio/components/MainRating.tsx","webpack:///./src/main/js/apps/portfolio/components/RatingFreshness.tsx","webpack:///./src/main/js/apps/portfolio/components/MetricBox.tsx","webpack:///./src/main/js/apps/portfolio/components/UnsubscribeEmailModal.tsx","webpack:///./src/main/js/apps/portfolio/components/WorstProjects.tsx","webpack:///./src/main/js/apps/portfolio/components/App.tsx","webpack:///./src/main/js/helpers/handleRequiredAuthentication.ts","webpack:///./src/main/js/components/controls/HelpTooltip.tsx","webpack:///./src/main/js/components/controls/SimpleModal.tsx","webpack:///./src/main/js/components/icons/QualifierIcon.tsx","webpack:///./src/main/js/components/intl/DateTimeFormatter.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.css?96bd","webpack:///./src/main/js/components/controls/HelpTooltip.css","webpack:///./node_modules/lodash/toFinite.js","webpack:///./src/main/js/components/intl/DateFromNow.tsx","webpack:///./node_modules/lodash/map.js","webpack:///./src/main/js/components/ui/Level.tsx","webpack:///./src/main/js/components/ui/Rating.tsx","webpack:///./node_modules/lodash/groupBy.js","webpack:///./node_modules/lodash/toInteger.js","webpack:///./src/main/js/components/ui/Level.css?03ac","webpack:///./src/main/js/components/ui/Level.css","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./src/main/js/components/measure/Measure.tsx","webpack:///./src/main/js/app/utils/addGlobalSuccessMessage.ts","webpack:///./src/main/js/components/activity-graph/utils.ts","webpack:///./src/main/js/components/ui/Rating.css?4296","webpack:///./src/main/js/components/ui/Rating.css","webpack:///./src/main/js/types/project-activity.ts","webpack:///./node_modules/lodash/flatMap.js","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./node_modules/lodash/chunk.js","webpack:///./src/main/js/api/component-report.ts","webpack:///./src/main/js/components/icons/HistoryIcon.tsx","webpack:///./node_modules/lodash/max.js","webpack:///./src/main/js/components/common/ActivityLink.tsx","webpack:///./src/main/js/components/common/ActivityLink.css?a97d","webpack:///./src/main/js/components/common/ActivityLink.css","webpack:///./src/main/js/components/controls/ComponentReportActionsRenderer.tsx","webpack:///./src/main/js/components/controls/ComponentReportActions.tsx"],"names":["api","content","__esModule","default","module","i","options","exported","locals","exports","___CSS_LOADER_API_IMPORT___","push","MeasuresIcon","fill","iconProps","Icon","style","fillRule","d","props","branchLike","className","component","label","metric","to","componentKey","size","PORTFOLIO_METRICS","METRICS_PER_TYPE","releasability","measuresMetric","rating","effort","last_change","reliability","activity","vulnerabilities","security_hotspots","maintainability","SUB_COMPONENTS_METRICS","convertMeasures","measures","result","forEach","measure","value","Effort","metricKey","defaultMessage","id","values","projects","listView","Measure","metricType","String","Rating","small","MainRating","RatingFreshness","lastChange","data","JSON","parse","date","DateFromNow","MetricBox","keys","lastReliabilityChange","rawEffort","undefined","HelpTooltip","overlay","Number","Level","level","ActivityLink","graph","custom","mounted","state","handleFormSubmit","async","this","key","setState","success","header","SimpleModal","onClose","onSubmit","onCloseClick","onFormSubmit","submitting","Alert","variant","DeferredSpinner","loading","onClick","disabled","WorstProjects","subComponents","total","count","length","maxLoc","map","projectsPageUrl","pathname","query","refKey","qualifier","QualifierIcon","name","Project","renderCell","ncloc","barWidth","Math","max","round","height","width","blue","x","y","renderNcloc","type","super","isEmpty","isNotComputed","handleCloseUnsubscribeEmailModal","location","router","showUnsubscribeModal","replace","unsubscribe","Boolean","currentUser","handleRequiredAuthentication","fetchMetrics","fetchData","prevProps","Promise","all","metricKeys","join","ps","s","then","components","totalSubComponents","paging","renderSpinner","renderEmpty","renderWhenNotComputed","ComponentReportActions","description","mapDispatchToProps","metrics","withCurrentUser","history","returnTo","window","search","hash","return_to","mouseLeaveDelay","onShow","placement","children","gray71","stopSubmitting","handleCloseClick","event","preventDefault","currentTarget","blur","submit","handleSubmitClick","modalProps","contentLabel","onRequestClose","onSubmitClick","qualifierIcons","app","brc","dev","dir","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","lib","pac","toLowerCase","FoundIcon","orange","formatterOption","year","month","day","hour","minute","DateTimeFormatter","toNumber","originalChildren","f","hourPrecision","Date","now","parsedDate","formattedDate","title","arrayMap","baseIteratee","baseMap","isArray","collection","iteratee","formatted","muted","ariaAttrs","baseAssignValue","createAggregator","hasOwnProperty","Object","prototype","groupBy","call","toFinite","remainder","KNOWN_RATINGS","enhanceMeasure","leak","getLeakValue","period","getRatingTooltip","finalMetricKey","substr","includes","decimals","formattedValue","omitExtraDecimalZeros","tooltip","addGlobalSuccessMessage","message","dispatch","DEFAULT_GRAPH","issues","GRAPHS_METRICS_DISPLAYED","bugs","code_smells","coverage","lines_to_cover","uncovered_lines","duplications","duplicated_lines","GRAPHS_METRICS","concat","reliability_rating","security_rating","sqale_rating","duplicated_lines_density","isCustomGraph","getGraphTypes","ignoreCustom","graphs","hasDataValues","serie","some","point","hasHistoryData","series","getSeriesMetricType","getDisplayedHistoryMetrics","customMetrics","getHistoryMetrics","splitSeriesInGraphs","maxGraph","maxSeries","slice","generateSeries","measuresHistory","displayedMetrics","filter","indexOf","uncoveredLines","linesToCover","find","analysis","idx","translatedName","generateCoveredLinesMetric","Array","findMetric","saveActivityGraph","namespace","project","getActivityGraph","customGraphs","split","GraphType","baseFlatten","isSymbol","array","comparator","index","current","computed","other","baseSlice","isIterateeCall","toInteger","nativeCeil","ceil","nativeMax","guard","resIndex","getReportStatus","branchKey","catch","getReportUrl","url","encodeURIComponent","subscribeToEmailReport","unsubscribeFromEmailReport","HistoryIcon","baseExtremum","baseGt","identity","ComponentReportActionsRenderer","branch","frequency","subscribed","canSubscribe","currentUserHasEmail","renderDownloadButton","simple","download","href","target","rel","Dropdown","translationKey","onClickHandler","handleUnsubscription","handleSubscription","frequencyTranslation","renderSubscriptionButton","DropdownIcon","loadReportStatus","status","loadingStatus","componentFrequency","globalFrequency","qualifierTranslation","handleSubscribe","handleUnsubscribe","appState","qualifiers","Portfolio","excludedFromPurge","email"],"mappings":"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","file":"js/289.m.9217c35a.chunk.js","sourcesContent":["var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MeasuresLink.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".measures-link{border:none}.measures-link>span{border-bottom:1px solid #cae3f2}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".portfolio-overview>h1{font-weight:400}.portfolio-overview>.page-actions{margin-bottom:0}.portfolio-measure-secondary-value{line-height:24px;font-size:18px;font-weight:300}.portfolio-grid{position:relative;z-index:10;display:flex;justify-content:space-around;align-items:center}.portfolio-grid>li{vertical-align:top;width:50%;text-align:center}.portfolio-grid>li.text-middle{vertical-align:middle}.portfolio-freshness{line-height:24px;white-space:nowrap}.portfolio-description{max-width:60%}.portfolio-boxes{display:flex;justify-content:space-between;align-items:stretch;margin-bottom:20px;padding:15px 0;width:100%}.portfolio-box{flex:1 0 10%;position:relative;padding:0 16px 66px;margin:0 8px;border:1px solid #e6e6e6;background-color:#fff;box-sizing:border-box}.portfolio-box:first-child{margin-left:0}.portfolio-box:last-child{margin-right:0}.portfolio-box-title{padding:8px 0 16px;margin:8px 0 16px;font-size:16px;line-height:16px;border-bottom:1px solid #e6e6e6;white-space:nowrap}.portfolio-box-title>.button-small>svg{margin-top:0}.portfolio-box>h3{color:#666;font-size:12px;font-weight:400;margin-top:8px}.portfolio-box-rating,.portfolio-box-rating .rating{display:block;width:80px;height:80px;line-height:80px}.portfolio-box-rating{margin:16px auto;border:none}.portfolio-box-rating .rating{border-radius:80px;font-size:48px;text-align:center}.portfolio-box-rating .rating.no-rating{color:#666;font-size:16px}.portfolio-box-links{border-top:1px solid #e6e6e6;text-align:center;position:absolute;bottom:0;left:0;right:0}.portfolio-box-links>div{display:inline-block;padding:12px 0;width:50%;box-sizing:border-box}.portfolio-box-links>div:first-child{border-right:1px solid #e6e6e6}.portfolio-box-links svg,.portfolio-breakdown-box-link svg{vertical-align:middle}.portfolio-breakdown{display:flex}.portfolio-breakdown-box{flex:0 0 auto;display:flex;flex-direction:column;background-color:#fff;border:1px solid #e6e6e6;margin:8px 0 16px}.portfolio-breakdown-box+.portfolio-breakdown-box{margin-left:16px}.portfolio-breakdown-box .portfolio-breakdown-metric,.portfolio-breakdown-box h2{margin:8px 16px 0}.portfolio-breakdown-box-link{margin-top:16px;border-top:1px solid #e6e6e6;padding:16px}.portfolio-sub-components table.data th{font-size:13px;text-transform:none;vertical-align:middle}.portfolio-sub-components-cell{width:110px}.portfolio-meta-header{margin-bottom:4px;color:#333}.portfolio-meta-card{min-width:200px;box-sizing:border-box}.portfolio-meta-card+.portfolio-meta-card{margin-top:16px;padding-top:15px;border-top:1px solid #e6e6e6}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function MeasuresIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps} style={{ fillRule: 'nonzero' }}>\n      <path d=\"M3.33 6.13h2v6.54h-2zm3.74-2.8h1.86v9.34H7.07zm3.73 5.34h1.87v4H10.8z\" fill={fill} />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport MeasuresIcon from '../../components/icons/MeasuresIcon';\nimport { translate } from '../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../helpers/urls';\nimport { BranchLike } from '../../types/branch-like';\nimport './MeasuresLink.css';\n\nexport interface MeasuresLinkProps {\n  branchLike?: BranchLike;\n  className?: string;\n  component: string;\n  label?: string;\n  metric: string;\n}\n\nexport default function MeasuresLink(props: MeasuresLinkProps) {\n  const { branchLike, className, component, label, metric } = props;\n  return (\n    <Link\n      className={classNames('measures-link', className)}\n      to={getComponentDrilldownUrl({ branchLike, componentKey: component, metric })}>\n      <MeasuresIcon className=\"little-spacer-right\" size={14} />\n      <span>{label || translate('portfolio.measures_link')}</span>\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport const PORTFOLIO_METRICS = [\n  'projects',\n  'ncloc',\n  'ncloc_language_distribution',\n\n  'releasability_rating',\n  'releasability_effort',\n\n  'sqale_rating',\n  'maintainability_rating_effort',\n\n  'reliability_rating',\n  'reliability_rating_effort',\n\n  'security_rating',\n  'security_rating_effort',\n\n  'security_review_rating',\n  'security_review_rating_effort',\n\n  'last_change_on_releasability_rating',\n  'last_change_on_maintainability_rating',\n  'last_change_on_security_rating',\n  'last_change_on_security_review_rating',\n  'last_change_on_reliability_rating'\n];\n\nexport interface MetricKeys {\n  activity?: string;\n  effort: string;\n  measuresMetric: string;\n  label: string;\n  last_change: string;\n  rating: string;\n}\n\nexport const METRICS_PER_TYPE: T.Dict<MetricKeys> = {\n  releasability: {\n    measuresMetric: 'Releasability',\n    label: 'metric_domain.Releasability',\n    rating: 'releasability_rating',\n    effort: 'releasability_effort',\n    last_change: 'last_change_on_releasability_rating'\n  },\n  reliability: {\n    measuresMetric: 'Reliability',\n    label: 'metric_domain.Reliability',\n    rating: 'reliability_rating',\n    effort: 'reliability_rating_effort',\n    last_change: 'last_change_on_reliability_rating',\n    activity: 'reliability_rating,bugs'\n  },\n  vulnerabilities: {\n    measuresMetric: 'Security',\n    label: 'portfolio.metric_domain.vulnerabilities',\n    rating: 'security_rating',\n    effort: 'security_rating_effort',\n    last_change: 'last_change_on_security_rating',\n    activity: 'security_rating,vulnerabilities'\n  },\n  security_hotspots: {\n    measuresMetric: 'security_review_rating',\n    label: 'portfolio.metric_domain.security_hotspots',\n    rating: 'security_review_rating',\n    effort: 'security_review_rating_effort',\n    last_change: 'last_change_on_security_review_rating',\n    activity: 'security_review_rating,security_hotspots'\n  },\n  maintainability: {\n    measuresMetric: 'Maintainability',\n    label: 'metric_domain.Maintainability',\n    rating: 'sqale_rating',\n    effort: 'maintainability_rating_effort',\n    last_change: 'last_change_on_maintainability_rating',\n    activity: 'sqale_rating,code_smells'\n  }\n};\n\nexport const SUB_COMPONENTS_METRICS = [\n  'ncloc',\n  'releasability_rating',\n  'security_rating',\n  'security_review_rating',\n  'reliability_rating',\n  'sqale_rating',\n  'alert_status'\n];\n\nexport function convertMeasures(measures: Array<{ metric: string; value?: string }>) {\n  const result: T.Dict<string | undefined> = {};\n  measures.forEach(measure => {\n    result[measure.metric] = measure.value;\n  });\n  return result;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport Measure from '../../../components/measure/Measure';\nimport Rating from '../../../components/ui/Rating';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  effort: { projects: number; rating: number };\n  metricKey: string;\n}\n\nexport default function Effort({ component, effort, metricKey }: Props) {\n  return (\n    <div className=\"portfolio-effort\">\n      <FormattedMessage\n        defaultMessage={translate('portfolio.x_in_y')}\n        id=\"portfolio.x_in_y\"\n        values={{\n          projects: (\n            <Link\n              to={getComponentDrilldownUrl({\n                componentKey: component,\n                metric: metricKey,\n                listView: true\n              })}>\n              <span>\n                <Measure\n                  className=\"little-spacer-right\"\n                  metricKey=\"projects\"\n                  metricType=\"SHORT_INT\"\n                  value={String(effort.projects)}\n                />\n                {effort.projects === 1\n                  ? translate('project_singular')\n                  : translate('project_plural')}\n              </span>\n            </Link>\n          ),\n          rating: <Rating small={true} value={effort.rating} />\n        }}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Rating from '../../../components/ui/Rating';\nimport { getMeasureTreemapUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n  value: string;\n}\n\nexport default function MainRating({ component, metric, value }: Props) {\n  return (\n    <Link className=\"portfolio-box-rating\" to={getMeasureTreemapUrl(component, metric)}>\n      <Rating value={value} />\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport DateFromNow from '../../../components/intl/DateFromNow';\nimport Rating from '../../../components/ui/Rating';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  lastChange?: string;\n  rating?: string;\n}\n\nexport default function RatingFreshness({ lastChange, rating }: Props) {\n  if (!lastChange) {\n    return (\n      <div className=\"portfolio-freshness\">\n        {rating && (\n          <FormattedMessage\n            defaultMessage={translate('portfolio.has_always_been_x')}\n            id=\"portfolio.has_always_been_x\"\n            values={{ rating: <Rating small={true} value={rating} /> }}\n          />\n        )}\n      </div>\n    );\n  }\n\n  const data = JSON.parse(lastChange);\n\n  return (\n    <div className=\"portfolio-freshness\">\n      <FormattedMessage\n        defaultMessage={translate('portfolio.was_x_y')}\n        id=\"portfolio.was_x_y\"\n        values={{\n          rating: <Rating small={true} value={data.value} />,\n          date: <DateFromNow date={data.date} />\n        }}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport ActivityLink from '../../../components/common/ActivityLink';\nimport MeasuresLink from '../../../components/common/MeasuresLink';\nimport HelpTooltip from '../../../components/controls/HelpTooltip';\nimport Measure from '../../../components/measure/Measure';\nimport Level from '../../../components/ui/Level';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\nimport { GraphType } from '../../../types/project-activity';\nimport { METRICS_PER_TYPE } from '../utils';\nimport Effort from './Effort';\nimport MainRating from './MainRating';\nimport RatingFreshness from './RatingFreshness';\n\nexport interface MetricBoxProps {\n  component: string;\n  measures: T.Dict<string | undefined>;\n  metricKey: string;\n}\n\nexport default function MetricBox({ component, measures, metricKey }: MetricBoxProps) {\n  const keys = METRICS_PER_TYPE[metricKey];\n  const rating = measures[keys.rating];\n  const lastReliabilityChange = measures[keys.last_change];\n  const rawEffort = measures[keys.effort];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box\">\n      <h2 className=\"portfolio-box-title\">\n        {translate(keys.label)}\n        <HelpTooltip\n          className=\"little-spacer-left\"\n          overlay={translate('portfolio.metric_domain', metricKey, 'help')}\n        />\n      </h2>\n\n      {rating ? (\n        <MainRating component={component} metric={keys.rating} value={rating} />\n      ) : (\n        <div className=\"portfolio-box-rating\">\n          <span className=\"rating no-rating\">—</span>\n        </div>\n      )}\n\n      {rating && (\n        <>\n          <h3>{translate('portfolio.metric_trend')}</h3>\n          <RatingFreshness lastChange={lastReliabilityChange} rating={rating} />\n        </>\n      )}\n\n      {metricKey === 'releasability'\n        ? Number(effort) > 0 && (\n            <>\n              <h3>{translate('portfolio.lowest_rated_projects')}</h3>\n              <div className=\"portfolio-effort\">\n                <Link\n                  to={getComponentDrilldownUrl({\n                    componentKey: component,\n                    metric: 'alert_status'\n                  })}>\n                  <span>\n                    <Measure\n                      className=\"little-spacer-right\"\n                      metricKey=\"projects\"\n                      metricType=\"SHORT_INT\"\n                      value={effort}\n                    />\n                    {Number(effort) === 1\n                      ? translate('project_singular')\n                      : translate('project_plural')}\n                  </span>\n                </Link>\n                <Level\n                  aria-label={\n                    Number(effort) === 1\n                      ? translate('portfolio.has_qg_status')\n                      : translate('portfolio.have_qg_status')\n                  }\n                  className=\"little-spacer-left\"\n                  level=\"ERROR\"\n                  small={true}\n                />\n              </div>\n            </>\n          )\n        : effort && (\n            <>\n              <h3>{translate('portfolio.lowest_rated_projects')}</h3>\n              <Effort component={component} effort={effort} metricKey={keys.rating} />\n            </>\n          )}\n\n      <div className=\"portfolio-box-links\">\n        <div>\n          <MeasuresLink component={component} metric={keys.measuresMetric} />\n        </div>\n        <div>\n          <ActivityLink\n            component={component}\n            metric={keys.activity || keys.rating}\n            graph={GraphType.custom}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { unsubscribeFromEmailReport } from '../../../api/component-report';\nimport { Button, ResetButtonLink, SubmitButton } from '../../../components/controls/buttons';\nimport SimpleModal from '../../../components/controls/SimpleModal';\nimport { Alert } from '../../../components/ui/Alert';\nimport DeferredSpinner from '../../../components/ui/DeferredSpinner';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: T.Component;\n  onClose: () => void;\n}\n\ninterface State {\n  success?: boolean;\n}\n\nexport default class UnsubscribeEmailModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {};\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleFormSubmit = async () => {\n    const { component } = this.props;\n\n    await unsubscribeFromEmailReport(component.key);\n\n    if (this.mounted) {\n      this.setState({ success: true });\n    }\n  };\n\n  render() {\n    const { success } = this.state;\n    const header = translate('component_report.unsubscribe');\n\n    return (\n      <SimpleModal\n        header={header}\n        onClose={this.props.onClose}\n        onSubmit={this.handleFormSubmit}\n        size=\"small\">\n        {({ onCloseClick, onFormSubmit, submitting }) => (\n          <form onSubmit={onFormSubmit}>\n            <div className=\"modal-head\">\n              <h2>{header}</h2>\n            </div>\n\n            <div className=\"modal-body\">\n              {success ? (\n                <Alert variant=\"success\">{translate('component_report.unsubscribe_success')}</Alert>\n              ) : (\n                <p>{translate('component_report.unsubscribe.description')}</p>\n              )}\n            </div>\n\n            <div className=\"modal-foot\">\n              <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n              {success ? (\n                <Button onClick={onCloseClick}>{translate('close')}</Button>\n              ) : (\n                <>\n                  <SubmitButton disabled={submitting}>\n                    {translate('component_report.unsubscribe')}\n                  </SubmitButton>\n                  <ResetButtonLink onClick={onCloseClick}>{translate('cancel')}</ResetButtonLink>\n                </>\n              )}\n            </div>\n          </form>\n        )}\n      </SimpleModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { max } from 'lodash';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { colors } from '../../../app/theme';\nimport QualifierIcon from '../../../components/icons/QualifierIcon';\nimport Measure from '../../../components/measure/Measure';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { getComponentOverviewUrl } from '../../../helpers/urls';\nimport { ComponentQualifier } from '../../../types/component';\nimport { SubComponent } from '../types';\n\ninterface Props {\n  component: string;\n  subComponents: SubComponent[];\n  total: number;\n}\n\nexport default function WorstProjects({ component, subComponents, total }: Props) {\n  const count = subComponents.length;\n\n  if (!count) {\n    return null;\n  }\n\n  const maxLoc = max(\n    subComponents.map(component => Number(component.measures['ncloc'] || 0))\n  ) as number;\n\n  const projectsPageUrl = { pathname: '/code', query: { id: component } };\n\n  return (\n    <div className=\"panel panel-white portfolio-sub-components\" id=\"portfolio-sub-components\">\n      <table className=\"data zebra\">\n        <thead>\n          <tr>\n            <th>&nbsp;</th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Releasability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Reliability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('portfolio.metric_domain.vulnerabilities')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('portfolio.metric_domain.security_hotspots')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Maintainability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric.ncloc.name')}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {subComponents.map(component => (\n            <tr key={component.key}>\n              <td>\n                <Link\n                  className=\"link-with-icon\"\n                  to={getComponentOverviewUrl(\n                    component.refKey || component.key,\n                    component.qualifier\n                  )}>\n                  <QualifierIcon qualifier={component.qualifier} /> {component.name}\n                </Link>\n              </td>\n              {component.qualifier === ComponentQualifier.Project\n                ? renderCell(component.measures, 'alert_status', 'LEVEL')\n                : renderCell(component.measures, 'releasability_rating', 'RATING')}\n              {renderCell(component.measures, 'reliability_rating', 'RATING')}\n              {renderCell(component.measures, 'security_rating', 'RATING')}\n              {renderCell(component.measures, 'security_review_rating', 'RATING')}\n              {renderCell(component.measures, 'sqale_rating', 'RATING')}\n              {renderNcloc(component.measures, maxLoc)}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      {total > count && (\n        <footer className=\"spacer-top note text-center\">\n          {translateWithParameters(\n            'x_of_y_shown',\n            formatMeasure(count, 'INT'),\n            formatMeasure(total, 'INT')\n          )}\n          <Link className=\"spacer-left\" to={projectsPageUrl}>\n            {translate('show_more')}\n          </Link>\n        </footer>\n      )}\n    </div>\n  );\n}\n\nfunction renderCell(measures: T.Dict<string | undefined>, metric: string, type: string) {\n  return (\n    <td className=\"text-center\">\n      <Measure metricKey={metric} metricType={type} value={measures[metric]} />\n    </td>\n  );\n}\n\nfunction renderNcloc(measures: T.Dict<string | undefined>, maxLoc: number) {\n  const ncloc = Number(measures['ncloc'] || 0);\n  const barWidth = maxLoc > 0 ? Math.max(1, Math.round((ncloc / maxLoc) * 50)) : 0;\n  return (\n    <td className=\"text-right\">\n      <span className=\"note\">\n        <Measure metricKey=\"ncloc\" metricType=\"SHORT_INT\" value={measures['ncloc']} />\n      </span>\n      {maxLoc > 0 && (\n        <svg className=\"spacer-left\" height=\"16\" width=\"50\">\n          <rect\n            className=\"bar-chart-bar\"\n            fill={colors.blue}\n            height=\"10\"\n            width={barWidth}\n            x=\"0\"\n            y=\"3\"\n          />\n        </svg>\n      )}\n    </td>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Location } from 'history';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { InjectedRouter } from 'react-router';\nimport { getChildren } from '../../../api/components';\nimport { getMeasures } from '../../../api/measures';\nimport MeasuresLink from '../../../components/common/MeasuresLink';\nimport ComponentReportActions from '../../../components/controls/ComponentReportActions';\nimport { withCurrentUser } from '../../../components/hoc/withCurrentUser';\nimport Measure from '../../../components/measure/Measure';\nimport handleRequiredAuthentication from '../../../helpers/handleRequiredAuthentication';\nimport { translate } from '../../../helpers/l10n';\nimport { isLoggedIn } from '../../../helpers/users';\nimport { fetchMetrics } from '../../../store/rootActions';\nimport { getMetrics, Store } from '../../../store/rootReducer';\nimport '../styles.css';\nimport { SubComponent } from '../types';\nimport { convertMeasures, PORTFOLIO_METRICS, SUB_COMPONENTS_METRICS } from '../utils';\nimport MetricBox from './MetricBox';\nimport UnsubscribeEmailModal from './UnsubscribeEmailModal';\nimport WorstProjects from './WorstProjects';\n\ninterface OwnProps {\n  component: T.Component;\n  currentUser: T.CurrentUser;\n  location: Location;\n  router: InjectedRouter;\n}\n\ninterface StateToProps {\n  metrics: T.Dict<T.Metric>;\n}\n\ninterface DispatchToProps {\n  fetchMetrics: () => void;\n}\n\ntype Props = StateToProps & DispatchToProps & OwnProps;\n\ninterface State {\n  loading: boolean;\n  measures?: T.Dict<string | undefined>;\n  subComponents?: SubComponent[];\n  totalSubComponents?: number;\n  showUnsubscribeModal: boolean;\n}\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      showUnsubscribeModal:\n        Boolean(props.location.query.unsubscribe) && isLoggedIn(props.currentUser)\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    if (Boolean(this.props.location.query.unsubscribe) && !isLoggedIn(this.props.currentUser)) {\n      handleRequiredAuthentication();\n    }\n\n    this.props.fetchMetrics();\n    this.fetchData();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.component !== this.props.component) {\n      this.fetchData();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchData() {\n    this.setState({ loading: true });\n    Promise.all([\n      getMeasures({ component: this.props.component.key, metricKeys: PORTFOLIO_METRICS.join() }),\n      getChildren(this.props.component.key, SUB_COMPONENTS_METRICS, { ps: 20, s: 'qualifier' })\n    ]).then(\n      ([measures, subComponents]) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            measures: convertMeasures(measures),\n            subComponents: subComponents.components.map((component: any) => ({\n              ...component,\n              measures: convertMeasures(component.measures)\n            })),\n            totalSubComponents: subComponents.paging.total\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  isEmpty = () => this.state.measures === undefined || this.state.measures['ncloc'] === undefined;\n\n  isNotComputed = () =>\n    this.state.measures && this.state.measures['reliability_rating'] === undefined;\n\n  handleCloseUnsubscribeEmailModal = () => {\n    const { location, router } = this.props;\n    this.setState({ showUnsubscribeModal: false });\n    router.replace({ ...location, query: { ...location.query, unsubscribe: undefined } });\n  };\n\n  renderSpinner() {\n    return (\n      <div className=\"page page-limited\">\n        <div className=\"text-center\">\n          <i className=\"spinner spacer\" />\n        </div>\n      </div>\n    );\n  }\n\n  renderEmpty() {\n    return (\n      <div className=\"page page-limited\">\n        <div className=\"empty-search\">\n          <h3>\n            {!this.state.measures || !this.state.measures['projects']\n              ? translate('portfolio.empty')\n              : translate('portfolio.no_lines_of_code')}\n          </h3>\n        </div>\n      </div>\n    );\n  }\n\n  renderWhenNotComputed() {\n    return (\n      <div className=\"page page-limited\">\n        <div className=\"empty-search\">\n          <h3>{translate('portfolio.not_computed')}</h3>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const { component } = this.props;\n    const {\n      loading,\n      measures,\n      subComponents,\n      totalSubComponents,\n      showUnsubscribeModal\n    } = this.state;\n\n    if (loading) {\n      return this.renderSpinner();\n    }\n\n    if (this.isEmpty()) {\n      return this.renderEmpty();\n    }\n\n    if (this.isNotComputed()) {\n      return this.renderWhenNotComputed();\n    }\n\n    return (\n      <div className=\"page page-limited portfolio-overview\">\n        <div className=\"page-actions\">\n          <ComponentReportActions component={component} />\n        </div>\n\n        {component.description && (\n          <div className=\"portfolio-description display-inline-block big-spacer-bottom\">\n            {component.description}\n          </div>\n        )}\n        <h1>{translate('portfolio.health_factors')}</h1>\n        <div className=\"portfolio-boxes\">\n          <MetricBox component={component.key} measures={measures!} metricKey=\"releasability\" />\n          <MetricBox component={component.key} measures={measures!} metricKey=\"reliability\" />\n          <MetricBox component={component.key} measures={measures!} metricKey=\"vulnerabilities\" />\n          <MetricBox component={component.key} measures={measures!} metricKey=\"security_hotspots\" />\n          <MetricBox component={component.key} measures={measures!} metricKey=\"maintainability\" />\n        </div>\n\n        <h1>{translate('portfolio.breakdown')}</h1>\n        <div className=\"portfolio-breakdown\">\n          <div className=\"portfolio-breakdown-box\">\n            <h2 className=\"text-muted small\">{translate('portfolio.number_of_projects')}</h2>\n            <div className=\"portfolio-breakdown-metric huge\">\n              <Measure\n                metricKey=\"projects\"\n                metricType=\"SHORT_INT\"\n                value={(measures && measures.projects) || '0'}\n              />\n            </div>\n            <div className=\"portfolio-breakdown-box-link\">\n              <div>\n                <MeasuresLink component={component.key} metric=\"projects\" />\n              </div>\n            </div>\n          </div>\n          <div className=\"portfolio-breakdown-box\">\n            <h2 className=\"text-muted small\">{translate('portfolio.number_of_lines')}</h2>\n            <div className=\"portfolio-breakdown-metric huge\">\n              <Measure\n                metricKey=\"ncloc\"\n                metricType=\"SHORT_INT\"\n                value={(measures && measures.ncloc) || '0'}\n              />\n            </div>\n            <div className=\"portfolio-breakdown-box-link\">\n              <div>\n                <MeasuresLink\n                  component={component.key}\n                  label={translate('portfolio.language_breakdown_link')}\n                  metric=\"ncloc\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {subComponents !== undefined && totalSubComponents !== undefined && (\n          <WorstProjects\n            component={component.key}\n            subComponents={subComponents}\n            total={totalSubComponents}\n          />\n        )}\n\n        {showUnsubscribeModal && (\n          <UnsubscribeEmailModal\n            component={component}\n            onClose={this.handleCloseUnsubscribeEmailModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps: DispatchToProps = { fetchMetrics };\n\nconst mapStateToProps = (state: Store): StateToProps => ({\n  metrics: getMetrics(state)\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withCurrentUser(App));\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport getHistory from './getHistory';\n\nexport default function handleRequiredAuthentication() {\n  const history = getHistory();\n  const returnTo = window.location.pathname + window.location.search + window.location.hash;\n  // eslint-disable-next-line camelcase\n  history.replace({ pathname: '/sessions/new', query: { return_to: returnTo } });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { colors } from '../../app/theme';\nimport HelpIcon from '../icons/HelpIcon';\nimport { IconProps } from '../icons/Icon';\nimport './HelpTooltip.css';\nimport Tooltip, { Placement } from './Tooltip';\n\ninterface Props extends Pick<IconProps, 'size'> {\n  className?: string;\n  children?: React.ReactNode;\n  onShow?: () => void;\n  overlay: React.ReactNode;\n  placement?: Placement;\n}\n\nexport default function HelpTooltip({ size = 12, ...props }: Props) {\n  return (\n    <div className={classNames('help-tooltip', props.className)}>\n      <Tooltip\n        mouseLeaveDelay={0.25}\n        onShow={props.onShow}\n        overlay={props.overlay}\n        placement={props.placement}>\n        <span className=\"display-inline-flex-center\">\n          {props.children || <HelpIcon fill={colors.gray71} size={size} />}\n        </span>\n      </Tooltip>\n    </div>\n  );\n}\n\nexport function DarkHelpTooltip({ size = 12, ...props }: Omit<Props, 'children'>) {\n  return (\n    <HelpTooltip {...props}>\n      <HelpIcon fill={colors.transparentBlack} fillInner={colors.white} size={size} />\n    </HelpTooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal, { ModalProps } from './Modal';\n\nexport interface ChildrenProps {\n  onCloseClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  onFormSubmit: (event: React.SyntheticEvent<HTMLFormElement>) => void;\n  onSubmitClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  submitting: boolean;\n}\n\ninterface Props extends ModalProps {\n  children: (props: ChildrenProps) => React.ReactNode;\n  header: string;\n  onClose: () => void;\n  onSubmit: () => void | Promise<void | Response>;\n}\n\ninterface State {\n  submitting: boolean;\n}\n\nexport default class SimpleModal extends React.Component<Props, State> {\n  mounted = false;\n  state: State = { submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopSubmitting = () => {\n    if (this.mounted) {\n      this.setState({ submitting: false });\n    }\n  };\n\n  handleCloseClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.props.onClose();\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.submit();\n  };\n\n  handleSubmitClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.submit();\n  };\n\n  submit = () => {\n    const result = this.props.onSubmit();\n    if (result) {\n      this.setState({ submitting: true });\n      result.then(this.stopSubmitting, this.stopSubmitting);\n    }\n  };\n\n  render() {\n    const { children, header, onClose, onSubmit, ...modalProps } = this.props;\n    return (\n      <Modal contentLabel={header} onRequestClose={onClose} {...modalProps}>\n        {children({\n          onCloseClick: this.handleCloseClick,\n          onFormSubmit: this.handleFormSubmit,\n          onSubmitClick: this.handleSubmitClick,\n          submitting: this.state.submitting\n        })}\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { colors } from '../../app/theme';\nimport Icon, { IconProps } from './Icon';\n\nconst qualifierIcons: T.Dict<(props: IconProps) => React.ReactElement> = {\n  app: ApplicationIcon,\n  brc: SubProjectIcon,\n  dev: DeveloperIcon,\n  dir: DirectoryIcon,\n  fil: FileIcon,\n  svw: SubPortfolioIcon,\n  trk: ProjectIcon,\n  uts: UnitTestIcon,\n  vw: PortfolioIcon,\n\n  // deprecated:\n  cla: UnitTestIcon,\n  dev_prj: ProjectIcon,\n  lib: LibraryIcon,\n  pac: DirectoryIcon\n};\n\ninterface QualifierIconProps {\n  className?: string;\n  fill?: string;\n  qualifier: string | null | undefined;\n}\n\nexport default function QualifierIcon(props: QualifierIconProps) {\n  if (!props.qualifier) {\n    return null;\n  }\n\n  const qualifier = props.qualifier.toLowerCase();\n  const FoundIcon = qualifierIcons[qualifier];\n  return FoundIcon ? <FoundIcon className={props.className} fill={props.fill} /> : null;\n}\n\nfunction ApplicationIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction DeveloperIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction DirectoryIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\"\n        style={{ fill: fill || colors.orange }}\n      />\n    </Icon>\n  );\n}\n\nfunction FileIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction LibraryIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction PortfolioIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ProjectIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubPortfolioIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubProjectIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction UnitTestIcon({ fill, ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\"\n        style={{ fill: fill || colors.blue }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport const formatterOption = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric'\n};\n\nexport default function DateTimeFormatter({ children, date }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...formatterOption}>\n      {children}\n    </FormattedDate>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./HelpTooltip.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { differenceInHours } from 'date-fns';\nimport * as React from 'react';\nimport { DateSource, FormattedRelative } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\nimport { translate } from '../../helpers/l10n';\nimport DateTimeFormatter from './DateTimeFormatter';\n\nexport interface DateFromNowProps {\n  children?: (formattedDate: string) => React.ReactNode;\n  date?: DateSource;\n  hourPrecision?: boolean;\n}\n\nexport default function DateFromNow(props: DateFromNowProps) {\n  const { children: originalChildren = (f: string) => f, date, hourPrecision } = props;\n  let children = originalChildren;\n\n  if (!date) {\n    /*\n     * We return a JSX.Element to bypass typescript issue with functional components return type\n     * (https://github.com/DefinitelyTyped/DefinitelyTyped/issues/20544)\n     */\n    // eslint-disable-next-line react/jsx-no-useless-fragment\n    return <>{originalChildren(translate('never'))}</>;\n  }\n\n  if (date && hourPrecision && differenceInHours(Date.now(), date) < 1) {\n    children = () => originalChildren(translate('less_than_1_hour_ago'));\n  }\n\n  const parsedDate = parseDate(date);\n\n  return (\n    <DateTimeFormatter date={parsedDate}>\n      {formattedDate => (\n        <span title={formattedDate}>\n          <FormattedRelative value={parsedDate}>{children}</FormattedRelative>\n        </span>\n      )}\n    </DateTimeFormatter>\n  );\n}\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Level.css';\n\nexport interface LevelProps {\n  'aria-label'?: string;\n  'aria-labelledby'?: string;\n  className?: string;\n  level: string;\n  small?: boolean;\n  muted?: boolean;\n}\n\nexport default function Level(props: LevelProps) {\n  const formatted = formatMeasure(props.level, 'LEVEL');\n  const className = classNames(props.className, 'level', 'level-' + props.level, {\n    'level-small': props.small,\n    'level-muted': props.muted\n  });\n\n  return (\n    <span\n      aria-label={props['aria-label']}\n      aria-labelledby={props['aria-labelledby']}\n      className={className}>\n      {formatted}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Rating.css';\n\ninterface Props extends React.AriaAttributes {\n  className?: string;\n  muted?: boolean;\n  small?: boolean;\n  value: string | number | undefined;\n}\n\nexport default function Rating({\n  className,\n  muted = false,\n  small = false,\n  value,\n  ...ariaAttrs\n}: Props) {\n  if (value === undefined) {\n    return (\n      <span aria-label={translate('metric.no_rating')} {...ariaAttrs}>\n        –\n      </span>\n    );\n  }\n  const formatted = formatMeasure(value, 'RATING');\n  return (\n    <span\n      aria-label={translateWithParameters('metric.has_rating_X', formatted)}\n      className={classNames(\n        'rating',\n        `rating-${formatted}`,\n        { 'rating-small': small, 'rating-muted': muted },\n        className\n      )}\n      {...ariaAttrs}>\n      {formatted}\n    </span>\n  );\n}\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Level.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".level{display:inline-block;min-width:80px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;letter-spacing:.02em;font-size:13px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.level,.level-small{width:auto;padding-left:9px;padding-right:9px}.level-small{min-width:64px;margin-top:-1px;margin-bottom:-1px;height:20px;line-height:20px;font-size:12px}.level-muted{background-color:#bdbdbd!important}a>.level{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.level:hover{opacity:.8}.level-OK{background-color:#0a0}.level-WARN{background-color:#ed7d20}.level-ERROR{background-color:#d4333f}.level-NONE{background-color:#b4b4b4}.level-NOT_COMPUTED{background-color:#404040}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getRatingTooltip as nextGetRatingTooltip, isDiffMetric } from '../../helpers/measures';\n\nconst KNOWN_RATINGS = [\n  'sqale_rating',\n  'maintainability_rating', // Needed to provide the label for \"new_maintainability_rating\"\n  'reliability_rating',\n  'security_rating',\n  'security_review_rating'\n];\n\nexport function enhanceMeasure(measure: T.Measure, metrics: T.Dict<T.Metric>): T.MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: T.MeasureIntern | undefined): string | undefined {\n  return measure?.period?.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from '../../components/controls/Tooltip';\nimport Level from '../../components/ui/Level';\nimport Rating from '../../components/ui/Rating';\nimport { formatMeasure } from '../../helpers/measures';\nimport { getRatingTooltip } from './utils';\n\ninterface Props {\n  className?: string;\n  decimals?: number | null;\n  metricKey: string;\n  metricType: string;\n  small?: boolean;\n  value: string | undefined;\n}\n\nexport default function Measure({\n  className,\n  decimals,\n  metricKey,\n  metricType,\n  small,\n  value\n}: Props) {\n  if (value === undefined) {\n    return <span className={className}>–</span>;\n  }\n\n  if (metricType === 'LEVEL') {\n    return <Level className={className} level={value} small={small} />;\n  }\n\n  if (metricType !== 'RATING') {\n    const formattedValue = formatMeasure(value, metricType, {\n      decimals,\n      omitExtraDecimalZeros: metricType === 'PERCENT'\n    });\n    return <span className={className}>{formattedValue != null ? formattedValue : '–'}</span>;\n  }\n\n  const tooltip = getRatingTooltip(metricKey, Number(value));\n  const rating = <Rating small={small} value={value} />;\n  if (tooltip) {\n    return (\n      <Tooltip overlay={tooltip}>\n        <span className={className}>{rating}</span>\n      </Tooltip>\n    );\n  }\n  return rating;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as globalMessages from '../../store/globalMessages';\nimport getStore from './getStore';\n\nexport default function addGlobalSuccessMessage(message: string): void {\n  const store = getStore();\n  store.dispatch(globalMessages.addGlobalSuccessMessage(message));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { chunk, flatMap, groupBy, sortBy } from 'lodash';\nimport { getLocalizedMetricName, translate } from '../../helpers/l10n';\nimport { localizeMetric } from '../../helpers/measures';\nimport { get, save } from '../../helpers/storage';\nimport { MetricKey } from '../../types/metrics';\nimport { GraphType, MeasureHistory, Serie } from '../../types/project-activity';\n\nexport const DEFAULT_GRAPH = GraphType.issues;\n\nconst GRAPHS_METRICS_DISPLAYED: T.Dict<string[]> = {\n  [GraphType.issues]: [MetricKey.bugs, MetricKey.code_smells, MetricKey.vulnerabilities],\n  [GraphType.coverage]: [MetricKey.lines_to_cover, MetricKey.uncovered_lines],\n  [GraphType.duplications]: [MetricKey.ncloc, MetricKey.duplicated_lines]\n};\n\nconst GRAPHS_METRICS: T.Dict<string[]> = {\n  [GraphType.issues]: GRAPHS_METRICS_DISPLAYED[GraphType.issues].concat([\n    MetricKey.reliability_rating,\n    MetricKey.security_rating,\n    MetricKey.sqale_rating\n  ]),\n  [GraphType.coverage]: [...GRAPHS_METRICS_DISPLAYED[GraphType.coverage], MetricKey.coverage],\n  [GraphType.duplications]: [\n    ...GRAPHS_METRICS_DISPLAYED[GraphType.duplications],\n    MetricKey.duplicated_lines_density\n  ]\n};\n\nexport function isCustomGraph(graph: GraphType) {\n  return graph === GraphType.custom;\n}\n\nexport function getGraphTypes(ignoreCustom = false) {\n  const graphs = [GraphType.issues, GraphType.coverage, GraphType.duplications];\n  return ignoreCustom ? graphs : [...graphs, GraphType.custom];\n}\n\nexport function hasDataValues(serie: Serie) {\n  return serie.data.some(point => Boolean(point.y || point.y === 0));\n}\n\nexport function hasHistoryData(series: Serie[]) {\n  return series.some(serie => serie.data && serie.data.length > 1);\n}\n\nexport function getSeriesMetricType(series: Serie[]) {\n  return series.length > 0 ? series[0].type : 'INT';\n}\n\nexport function getDisplayedHistoryMetrics(graph: GraphType, customMetrics: string[]) {\n  return isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS_DISPLAYED[graph];\n}\n\nexport function getHistoryMetrics(graph: GraphType, customMetrics: string[]) {\n  return isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS[graph];\n}\n\nexport function hasHistoryDataValue(series: Serie[]) {\n  return series.some(serie => serie.data && serie.data.length > 1 && hasDataValues(serie));\n}\n\nexport function splitSeriesInGraphs(series: Serie[], maxGraph: number, maxSeries: number) {\n  return flatMap(\n    groupBy(series, serie => serie.type),\n    type => chunk(type, maxSeries)\n  ).slice(0, maxGraph);\n}\n\nexport function generateCoveredLinesMetric(\n  uncoveredLines: MeasureHistory,\n  measuresHistory: MeasureHistory[]\n) {\n  const linesToCover = measuresHistory.find(measure => measure.metric === MetricKey.lines_to_cover);\n  return {\n    data: linesToCover\n      ? uncoveredLines.history.map((analysis, idx) => ({\n          x: analysis.date,\n          y: Number(linesToCover.history[idx].value) - Number(analysis.value)\n        }))\n      : [],\n    name: 'covered_lines',\n    translatedName: translate('project_activity.custom_metric.covered_lines'),\n    type: 'INT'\n  };\n}\n\nexport function generateSeries(\n  measuresHistory: MeasureHistory[],\n  graph: GraphType,\n  metrics: T.Metric[] | T.Dict<T.Metric>,\n  displayedMetrics: string[]\n): Serie[] {\n  if (displayedMetrics.length <= 0 || measuresHistory === undefined) {\n    return [];\n  }\n  return sortBy(\n    measuresHistory\n      .filter(measure => displayedMetrics.indexOf(measure.metric) >= 0)\n      .map(measure => {\n        if (measure.metric === MetricKey.uncovered_lines && !isCustomGraph(graph)) {\n          return generateCoveredLinesMetric(measure, measuresHistory);\n        }\n        const metric = findMetric(measure.metric, metrics);\n        return {\n          data: measure.history.map(analysis => ({\n            x: analysis.date,\n            y: metric && metric.type === 'LEVEL' ? analysis.value : Number(analysis.value)\n          })),\n          name: measure.metric,\n          translatedName: metric ? getLocalizedMetricName(metric) : localizeMetric(measure.metric),\n          type: metric ? metric.type : 'INT'\n        };\n      }),\n    serie =>\n      displayedMetrics.indexOf(serie.name === 'covered_lines' ? 'uncovered_lines' : serie.name)\n  );\n}\n\nexport function saveActivityGraph(\n  namespace: string,\n  project: string,\n  graph: GraphType,\n  metrics: string[] = []\n) {\n  save(namespace, graph, project);\n  if (isCustomGraph(graph)) {\n    save(`${namespace}.custom`, metrics.join(','), project);\n  }\n}\n\nexport function getActivityGraph(\n  namespace: string,\n  project: string\n): { graph: GraphType; customGraphs: string[] } {\n  const customGraphs = get(`${namespace}.custom`, project);\n  return {\n    graph: (get(namespace, project) as GraphType) || DEFAULT_GRAPH,\n    customGraphs: customGraphs ? customGraphs.split(',') : []\n  };\n}\n\nfunction findMetric(key: string, metrics: T.Metric[] | T.Dict<T.Metric>) {\n  if (Array.isArray(metrics)) {\n    return metrics.find(metric => metric.key === key);\n  }\n  return metrics[key];\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Rating.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".rating{display:inline-block;width:24px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;font-size:16px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.rating-muted{background-color:#bdbdbd!important;color:#fff!important;text-shadow:0 0 1px rgba(0,0,0,.35)!important}a>.rating{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.rating:hover{opacity:.8}.rating-A{line-height:23px;background-color:#0a0}a>.rating-A{border-bottom-color:#0a0}.rating-B{background-color:#b0d513}a .rating-B{border-bottom-color:#b0d513}.rating-C{background-color:#eabe06}a .rating-C{border-bottom-color:#eabe06}.rating-D{background-color:#ed7d20}a .rating-D{border-bottom-color:#ed7d20}.rating-E{background-color:#d4333f}a .rating-E{border-bottom-color:#d4333f}.rating-small{width:18px;height:18px;line-height:18px;margin-top:-1px;margin-bottom:-1px;font-size:12px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum GraphType {\n  issues = 'issues',\n  coverage = 'coverage',\n  duplications = 'duplications',\n  custom = 'custom'\n}\n\nexport interface HistoryItem {\n  date: Date;\n  value?: string;\n}\n\nexport interface MeasureHistory {\n  metric: string;\n  history: HistoryItem[];\n}\n\nexport interface Serie {\n  data: Point[];\n  name: string;\n  translatedName: string;\n  type: string;\n}\n\nexport interface Point {\n  x: Date;\n  y: number | string | undefined;\n}\n","var baseFlatten = require('./_baseFlatten'),\n    map = require('./map');\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nmodule.exports = flatMap;\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","var baseSlice = require('./_baseSlice'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * Creates an array of elements split into groups the length of `size`.\n * If `array` can't be split evenly, the final chunk will be the remaining\n * elements.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to process.\n * @param {number} [size=1] The length of each chunk\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the new array of chunks.\n * @example\n *\n * _.chunk(['a', 'b', 'c', 'd'], 2);\n * // => [['a', 'b'], ['c', 'd']]\n *\n * _.chunk(['a', 'b', 'c', 'd'], 3);\n * // => [['a', 'b', 'c'], ['d']]\n */\nfunction chunk(array, size, guard) {\n  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n    size = 1;\n  } else {\n    size = nativeMax(toInteger(size), 0);\n  }\n  var length = array == null ? 0 : array.length;\n  if (!length || size < 1) {\n    return [];\n  }\n  var index = 0,\n      resIndex = 0,\n      result = Array(nativeCeil(length / size));\n\n  while (index < length) {\n    result[resIndex++] = baseSlice(array, index, (index += size));\n  }\n  return result;\n}\n\nmodule.exports = chunk;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON, post } from '../helpers/request';\nimport { getBaseUrl } from '../helpers/system';\nimport { ComponentReportStatus } from '../types/component-report';\n\nexport function getReportStatus(\n  componentKey: string,\n  branchKey?: string\n): Promise<ComponentReportStatus> {\n  return getJSON('/api/governance_reports/status', { componentKey, branchKey }).catch(\n    throwGlobalError\n  );\n}\n\nexport function getReportUrl(componentKey: string, branchKey?: string): string {\n  let url = `${getBaseUrl()}/api/governance_reports/download?componentKey=${encodeURIComponent(\n    componentKey\n  )}`;\n\n  if (branchKey) {\n    url += `&branchKey=${branchKey}`;\n  }\n\n  return url;\n}\n\nexport function subscribeToEmailReport(\n  componentKey: string,\n  branchKey?: string\n): Promise<void | Response> {\n  return post('/api/governance_reports/subscribe', { componentKey, branchKey }).catch(\n    throwGlobalError\n  );\n}\n\nexport function unsubscribeFromEmailReport(\n  componentKey: string,\n  branchKey?: string\n): Promise<void | Response> {\n  return post('/api/governance_reports/unsubscribe', { componentKey, branchKey }).catch(\n    throwGlobalError\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function HistoryIcon({ fill = 'currentColor', ...iconProps }: IconProps) {\n  return (\n    <Icon {...iconProps}>\n      <path\n        d=\"M14.7 3.4v3.3c0 .1 0 .2-.1.2s-.2 0-.3-.1l-.9-.9-4.8 4.8c-.1.1-.1.1-.2.1s-.1 0-.2-.1L6.4 9l-3.2 3.2-1.5-1.5 4.5-4.5c.1-.1.1-.1.2-.1s.1 0 .2.1L8.4 8l3.5-3.5-.9-1c-.1-.1-.1-.2-.1-.3s.1-.1.2-.1h3.3c.1 0 .1 0 .2.1.1 0 .1.1.1.2z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport HistoryIcon from '../../components/icons/HistoryIcon';\nimport { translate } from '../../helpers/l10n';\nimport { getActivityUrl, getMeasureHistoryUrl } from '../../helpers/urls';\nimport { BranchLike } from '../../types/branch-like';\nimport { GraphType } from '../../types/project-activity';\nimport { isCustomGraph } from '../activity-graph/utils';\nimport './ActivityLink.css';\n\nexport interface ActivityLinkProps {\n  branchLike?: BranchLike;\n  component: string;\n  graph?: GraphType;\n  label?: string;\n  metric?: string;\n}\n\nexport default function ActivityLink(props: ActivityLinkProps) {\n  const { branchLike, component, graph, label, metric } = props;\n  return (\n    <Link\n      className=\"activity-link\"\n      to={\n        metric !== undefined && graph !== undefined && isCustomGraph(graph)\n          ? getMeasureHistoryUrl(component, metric, branchLike)\n          : getActivityUrl(component, branchLike, graph)\n      }>\n      <HistoryIcon className=\"little-spacer-right\" size={14} />\n      <span>{label || translate('portfolio.activity_link')}</span>\n    </Link>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ActivityLink.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"a.activity-link{border:none}.activity-link>span{border-bottom:1px solid #cae3f2}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nimport * as React from 'react';\nimport { getReportUrl } from '../../api/component-report';\nimport { Button } from '../../components/controls/buttons';\nimport Dropdown from '../../components/controls/Dropdown';\nimport DropdownIcon from '../../components/icons/DropdownIcon';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { Branch } from '../../types/branch-like';\n\nexport interface ComponentReportActionsRendererProps {\n  component: T.Component;\n  branch?: Branch;\n  frequency: string;\n  subscribed: boolean;\n  canSubscribe: boolean;\n  currentUserHasEmail: boolean;\n  handleSubscription: () => void;\n  handleUnsubscription: () => void;\n}\n\nexport default function ComponentReportActionsRenderer(props: ComponentReportActionsRendererProps) {\n  const { branch, component, frequency, subscribed, canSubscribe, currentUserHasEmail } = props;\n\n  const renderDownloadButton = (simple = false) => {\n    return (\n      <a\n        download={[component.name, branch?.name, 'PDF Report.pdf'].filter(s => !!s).join(' - ')}\n        href={getReportUrl(component.key, branch?.name)}\n        target=\"_blank\"\n        data-test=\"overview__download-pdf-report-button\"\n        rel=\"noopener noreferrer\">\n        {simple\n          ? translate('download_verb')\n          : translateWithParameters(\n              'component_report.download',\n              translate('qualifier', component.qualifier).toLowerCase()\n            )}\n      </a>\n    );\n  };\n\n  const renderSubscriptionButton = () => {\n    if (!currentUserHasEmail) {\n      return (\n        <span className=\"text-muted-2\">{translate('component_report.no_email_to_subscribe')}</span>\n      );\n    }\n\n    const translationKey = subscribed\n      ? 'component_report.unsubscribe_x'\n      : 'component_report.subscribe_x';\n    const onClickHandler = subscribed ? props.handleUnsubscription : props.handleSubscription;\n    const frequencyTranslation = translate('report.frequency', frequency).toLowerCase();\n\n    return (\n      <a href=\"#\" onClick={onClickHandler} data-test=\"overview__subscribe-to-report-button\">\n        {translateWithParameters(translationKey, frequencyTranslation)}\n      </a>\n    );\n  };\n\n  return canSubscribe ? (\n    <Dropdown\n      overlay={\n        <ul className=\"menu\">\n          <li>{renderDownloadButton(true)}</li>\n          <li>{renderSubscriptionButton()}</li>\n        </ul>\n      }>\n      <Button className=\"dropdown-toggle\">\n        {translateWithParameters(\n          'component_report.report',\n          translate('qualifier', component.qualifier)\n        )}\n        <DropdownIcon className=\"spacer-left icon-half-transparent\" />\n      </Button>\n    </Dropdown>\n  ) : (\n    renderDownloadButton()\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport {\n  getReportStatus,\n  subscribeToEmailReport,\n  unsubscribeFromEmailReport\n} from '../../api/component-report';\nimport addGlobalSuccessMessage from '../../app/utils/addGlobalSuccessMessage';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { isLoggedIn } from '../../helpers/users';\nimport { Store } from '../../store/rootReducer';\nimport { Branch } from '../../types/branch-like';\nimport { ComponentQualifier } from '../../types/component';\nimport { ComponentReportStatus } from '../../types/component-report';\nimport { withCurrentUser } from '../hoc/withCurrentUser';\nimport ComponentReportActionsRenderer from './ComponentReportActionsRenderer';\n\ninterface Props {\n  appState: Pick<T.AppState, 'qualifiers'>;\n  component: T.Component;\n  branch?: Branch;\n  currentUser: T.CurrentUser;\n}\n\ninterface State {\n  loadingStatus?: boolean;\n  status?: ComponentReportStatus;\n}\n\nexport class ComponentReportActions extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {};\n\n  componentDidMount() {\n    this.mounted = true;\n    const governanceEnabled = this.props.appState.qualifiers.includes(ComponentQualifier.Portfolio);\n    if (governanceEnabled) {\n      this.loadReportStatus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadReportStatus = async () => {\n    const { component, branch } = this.props;\n\n    const status = await getReportStatus(component.key, branch?.name).catch(() => undefined);\n\n    if (this.mounted) {\n      this.setState({ status, loadingStatus: false });\n    }\n  };\n\n  handleSubscription = (subscribed: boolean) => {\n    const { component } = this.props;\n    const { status } = this.state;\n\n    const translationKey = subscribed\n      ? 'component_report.subscribe_x_success'\n      : 'component_report.unsubscribe_x_success';\n    const frequencyTranslation = translate(\n      'report.frequency',\n      status?.componentFrequency || status?.globalFrequency || ''\n    ).toLowerCase();\n    const qualifierTranslation = translate('qualifier', component.qualifier).toLowerCase();\n\n    addGlobalSuccessMessage(\n      translateWithParameters(translationKey, frequencyTranslation, qualifierTranslation)\n    );\n\n    this.loadReportStatus();\n  };\n\n  handleSubscribe = async () => {\n    const { component, branch } = this.props;\n\n    await subscribeToEmailReport(component.key, branch?.name);\n\n    this.handleSubscription(true);\n  };\n\n  handleUnsubscribe = async () => {\n    const { component, branch } = this.props;\n\n    await unsubscribeFromEmailReport(component.key, branch?.name);\n\n    this.handleSubscription(false);\n  };\n\n  render() {\n    const { currentUser, component, branch } = this.props;\n    const { status, loadingStatus } = this.state;\n\n    if (loadingStatus || !status || (branch && !branch.excludedFromPurge)) {\n      return null;\n    }\n\n    const currentUserHasEmail = isLoggedIn(currentUser) && !!currentUser.email;\n\n    return (\n      <ComponentReportActionsRenderer\n        branch={branch}\n        component={component}\n        frequency={status.componentFrequency || status.globalFrequency}\n        subscribed={status.subscribed}\n        canSubscribe={status.canSubscribe}\n        currentUserHasEmail={currentUserHasEmail}\n        handleSubscription={this.handleSubscribe}\n        handleUnsubscription={this.handleUnsubscribe}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  appState: state.appState\n});\n\nexport default withCurrentUser(connect(mapStateToProps)(ComponentReportActions));\n"],"sourceRoot":""}